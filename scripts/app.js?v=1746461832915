(()=>{var w4=Object.create;var Wp=Object.defineProperty,A4=Object.defineProperties,M4=Object.getOwnPropertyDescriptor,C4=Object.getOwnPropertyDescriptors,P4=Object.getOwnPropertyNames,IM=Object.getOwnPropertySymbols,I4=Object.getPrototypeOf,RM=Object.prototype.hasOwnProperty,D4=Object.prototype.propertyIsEnumerable;var LM=n=>{throw TypeError(n)},Na=Math.pow,DM=(n,e,t)=>e in n?Wp(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Vi=(n,e)=>{for(var t in e||(e={}))RM.call(e,t)&&DM(n,t,e[t]);if(IM)for(var t of IM(e))D4.call(e,t)&&DM(n,t,e[t]);return n},au=(n,e)=>A4(n,C4(e));var li=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),vf=(n,e)=>{for(var t in e)Wp(n,t,{get:e[t],enumerable:!0})},f_=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of P4(e))!RM.call(n,r)&&r!==t&&Wp(n,r,{get:()=>e[r],enumerable:!(i=M4(e,r))||i.enumerable});return n},_n=(n,e,t)=>(f_(n,e,"default"),t&&f_(t,e,"default")),er=(n,e,t)=>(t=n!=null?w4(I4(n)):{},f_(e||!n||!n.__esModule?Wp(t,"default",{value:n,enumerable:!0}):t,n));var d_=(n,e,t)=>e.has(n)||LM("Cannot "+t);var xe=(n,e,t)=>(d_(n,e,"read from private field"),t?t.call(n):e.get(n)),Oi=(n,e,t)=>e.has(n)?LM("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),bi=(n,e,t,i)=>(d_(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),_f=(n,e,t)=>(d_(n,e,"access private method"),t);var Sn=(n,e,t)=>new Promise((i,r)=>{var s=l=>{try{o(t.next(l))}catch(c){r(c)}},a=l=>{try{o(t.throw(l))}catch(c){r(c)}},o=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,a);o((t=t.apply(n,e)).next())});var jf=li((Fb,Bb)=>{(function(n,e){typeof Fb=="object"&&typeof Bb!="undefined"?Bb.exports=e():typeof define=="function"&&define.amd?define(e):(n=n||self).barba=e()})(Fb,function(){function n(q,$){for(var U=0;U<$.length;U++){var O=$[U];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(q,O.key,O)}}function e(q,$,U){return $&&n(q.prototype,$),U&&n(q,U),q}function t(){return(t=Object.assign||function(q){for(var $=1;$<arguments.length;$++){var U=arguments[$];for(var O in U)Object.prototype.hasOwnProperty.call(U,O)&&(q[O]=U[O])}return q}).apply(this,arguments)}function i(q,$){q.prototype=Object.create($.prototype),q.prototype.constructor=q,q.__proto__=$}function r(q){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function($){return $.__proto__||Object.getPrototypeOf($)})(q)}function s(q,$){return(s=Object.setPrototypeOf||function(U,O){return U.__proto__=O,U})(q,$)}function a(q,$,U){return(a=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(O){return!1}}()?Reflect.construct:function(O,Y,se){var ue=[null];ue.push.apply(ue,Y);var Se=new(Function.bind.apply(O,ue));return se&&s(Se,se.prototype),Se}).apply(null,arguments)}function o(q){var $=typeof Map=="function"?new Map:void 0;return(o=function(U){if(U===null||Function.toString.call(U).indexOf("[native code]")===-1)return U;if(typeof U!="function")throw new TypeError("Super expression must either be null or a function");if($!==void 0){if($.has(U))return $.get(U);$.set(U,O)}function O(){return a(U,arguments,r(this).constructor)}return O.prototype=Object.create(U.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),s(O,U)})(q)}function l(q,$){try{var U=q()}catch(O){return $(O)}return U&&U.then?U.then(void 0,$):U}typeof Symbol!="undefined"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),typeof Symbol!="undefined"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var c,u="2.9.7",h=function(){};(function(q){q[q.off=0]="off",q[q.error=1]="error",q[q.warning=2]="warning",q[q.info=3]="info",q[q.debug=4]="debug"})(c||(c={}));var d=c.off,m=function(){function q(U){this.t=U}q.getLevel=function(){return d},q.setLevel=function(U){return d=c[U]};var $=q.prototype;return $.error=function(){for(var U=arguments.length,O=new Array(U),Y=0;Y<U;Y++)O[Y]=arguments[Y];this.i(console.error,c.error,O)},$.warn=function(){for(var U=arguments.length,O=new Array(U),Y=0;Y<U;Y++)O[Y]=arguments[Y];this.i(console.warn,c.warning,O)},$.info=function(){for(var U=arguments.length,O=new Array(U),Y=0;Y<U;Y++)O[Y]=arguments[Y];this.i(console.info,c.info,O)},$.debug=function(){for(var U=arguments.length,O=new Array(U),Y=0;Y<U;Y++)O[Y]=arguments[Y];this.i(console.log,c.debug,O)},$.i=function(U,O,Y){O<=q.getLevel()&&U.apply(console,["["+this.t+"] "].concat(Y))},q}(),v=G,_=P,g=D,y=M,b=N,E="/",w=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function D(q,$){for(var U,O=[],Y=0,se=0,ue="",Se=$&&$.delimiter||E,Ge=$&&$.whitelist||void 0,Ie=!1;(U=w.exec(q))!==null;){var Be=U[0],L=U[1],ce=U.index;if(ue+=q.slice(se,ce),se=ce+Be.length,L)ue+=L[1],Ie=!0;else{var le="",_e=U[2],Fe=U[3],pt=U[4],Tt=U[5];if(!Ie&&ue.length){var qt=ue.length-1,yi=ue[qt];(!Ge||Ge.indexOf(yi)>-1)&&(le=yi,ue=ue.slice(0,qt))}ue&&(O.push(ue),ue="",Ie=!1);var $t=Fe||pt,Xt=le||Se;O.push({name:_e||Y++,prefix:le,delimiter:Xt,optional:Tt==="?"||Tt==="*",repeat:Tt==="+"||Tt==="*",pattern:$t?I($t):"[^"+R(Xt===Se?Xt:Xt+Se)+"]+?"})}}return(ue||se<q.length)&&O.push(ue+q.substr(se)),O}function P(q,$){return function(U,O){var Y=q.exec(U);if(!Y)return!1;for(var se=Y[0],ue=Y.index,Se={},Ge=O&&O.decode||decodeURIComponent,Ie=1;Ie<Y.length;Ie++)if(Y[Ie]!==void 0){var Be=$[Ie-1];Se[Be.name]=Be.repeat?Y[Ie].split(Be.delimiter).map(function(L){return Ge(L,Be)}):Ge(Y[Ie],Be)}return{path:se,index:ue,params:Se}}}function M(q,$){for(var U=new Array(q.length),O=0;O<q.length;O++)typeof q[O]=="object"&&(U[O]=new RegExp("^(?:"+q[O].pattern+")$",A($)));return function(Y,se){for(var ue="",Se=se&&se.encode||encodeURIComponent,Ge=!se||se.validate!==!1,Ie=0;Ie<q.length;Ie++){var Be=q[Ie];if(typeof Be!="string"){var L,ce=Y?Y[Be.name]:void 0;if(Array.isArray(ce)){if(!Be.repeat)throw new TypeError('Expected "'+Be.name+'" to not repeat, but got array');if(ce.length===0){if(Be.optional)continue;throw new TypeError('Expected "'+Be.name+'" to not be empty')}for(var le=0;le<ce.length;le++){if(L=Se(ce[le],Be),Ge&&!U[Ie].test(L))throw new TypeError('Expected all "'+Be.name+'" to match "'+Be.pattern+'"');ue+=(le===0?Be.prefix:Be.delimiter)+L}}else if(typeof ce!="string"&&typeof ce!="number"&&typeof ce!="boolean"){if(!Be.optional)throw new TypeError('Expected "'+Be.name+'" to be '+(Be.repeat?"an array":"a string"))}else{if(L=Se(String(ce),Be),Ge&&!U[Ie].test(L))throw new TypeError('Expected "'+Be.name+'" to match "'+Be.pattern+'", but got "'+L+'"');ue+=Be.prefix+L}}else ue+=Be}return ue}}function R(q){return q.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function I(q){return q.replace(/([=!:$/()])/g,"\\$1")}function A(q){return q&&q.sensitive?"":"i"}function N(q,$,U){for(var O=(U=U||{}).strict,Y=U.start!==!1,se=U.end!==!1,ue=U.delimiter||E,Se=[].concat(U.endsWith||[]).map(R).concat("$").join("|"),Ge=Y?"^":"",Ie=0;Ie<q.length;Ie++){var Be=q[Ie];if(typeof Be=="string")Ge+=R(Be);else{var L=Be.repeat?"(?:"+Be.pattern+")(?:"+R(Be.delimiter)+"(?:"+Be.pattern+"))*":Be.pattern;$&&$.push(Be),Ge+=Be.optional?Be.prefix?"(?:"+R(Be.prefix)+"("+L+"))?":"("+L+")?":R(Be.prefix)+"("+L+")"}}if(se)O||(Ge+="(?:"+R(ue)+")?"),Ge+=Se==="$"?"$":"(?="+Se+")";else{var ce=q[q.length-1],le=typeof ce=="string"?ce[ce.length-1]===ue:ce===void 0;O||(Ge+="(?:"+R(ue)+"(?="+Se+"))?"),le||(Ge+="(?="+R(ue)+"|"+Se+")")}return new RegExp(Ge,A(U))}function G(q,$,U){return q instanceof RegExp?function(O,Y){if(!Y)return O;var se=O.source.match(/\((?!\?)/g);if(se)for(var ue=0;ue<se.length;ue++)Y.push({name:ue,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return O}(q,$):Array.isArray(q)?function(O,Y,se){for(var ue=[],Se=0;Se<O.length;Se++)ue.push(G(O[Se],Y,se).source);return new RegExp("(?:"+ue.join("|")+")",A(se))}(q,$,U):function(O,Y,se){return N(D(O,se),Y,se)}(q,$,U)}v.match=function(q,$){var U=[];return P(G(q,U,$),U)},v.regexpToFunction=_,v.parse=g,v.compile=function(q,$){return M(D(q,$),$)},v.tokensToFunction=y,v.tokensToRegExp=b;var X={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},J=new(function(){function q(){this.o=X,this.u=new DOMParser}var $=q.prototype;return $.toString=function(U){return U.outerHTML},$.toDocument=function(U){return this.u.parseFromString(U,"text/html")},$.toElement=function(U){var O=document.createElement("div");return O.innerHTML=U,O},$.getHtml=function(U){return U===void 0&&(U=document),this.toString(U.documentElement)},$.getWrapper=function(U){return U===void 0&&(U=document),U.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},$.getContainer=function(U){return U===void 0&&(U=document),U.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},$.removeContainer=function(U){document.body.contains(U)&&U.parentNode.removeChild(U)},$.addContainer=function(U,O){var Y=this.getContainer();Y?this.s(U,Y):O.appendChild(U)},$.getNamespace=function(U){U===void 0&&(U=document);var O=U.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return O?O.getAttribute(this.o.prefix+"-"+this.o.namespace):null},$.getHref=function(U){if(U.tagName&&U.tagName.toLowerCase()==="a"){if(typeof U.href=="string")return U.href;var O=U.getAttribute("href")||U.getAttribute("xlink:href");if(O)return this.resolveUrl(O.baseVal||O)}return null},$.resolveUrl=function(){for(var U=arguments.length,O=new Array(U),Y=0;Y<U;Y++)O[Y]=arguments[Y];var se=O.length;if(se===0)throw new Error("resolveUrl requires at least one argument; got none.");var ue=document.createElement("base");if(ue.href=arguments[0],se===1)return ue.href;var Se=document.getElementsByTagName("head")[0];Se.insertBefore(ue,Se.firstChild);for(var Ge,Ie=document.createElement("a"),Be=1;Be<se;Be++)Ie.href=arguments[Be],ue.href=Ge=Ie.href;return Se.removeChild(ue),Ge},$.s=function(U,O){O.parentNode.insertBefore(U,O.nextSibling)},q}()),ge=new(function(){function q(){this.h=[],this.v=-1}var $=q.prototype;return $.init=function(U,O){this.l="barba";var Y={ns:O,scroll:{x:window.scrollX,y:window.scrollY},url:U};this.h.push(Y),this.v=0;var se={from:this.l,index:0,states:[].concat(this.h)};window.history&&window.history.replaceState(se,"",U)},$.change=function(U,O,Y){if(Y&&Y.state){var se=Y.state,ue=se.index;O=this.m(this.v-ue),this.replace(se.states),this.v=ue}else this.add(U,O);return O},$.add=function(U,O){var Y=this.size,se=this.p(O),ue={ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:U};this.h.push(ue),this.v=Y;var Se={from:this.l,index:Y,states:[].concat(this.h)};switch(se){case"push":window.history&&window.history.pushState(Se,"",U);break;case"replace":window.history&&window.history.replaceState(Se,"",U)}},$.update=function(U,O){var Y=O||this.v,se=t({},this.get(Y),{},U);this.set(Y,se)},$.remove=function(U){U?this.h.splice(U,1):this.h.pop(),this.v--},$.clear=function(){this.h=[],this.v=-1},$.replace=function(U){this.h=U},$.get=function(U){return this.h[U]},$.set=function(U,O){return this.h[U]=O},$.p=function(U){var O="push",Y=U,se=X.prefix+"-"+X.history;return Y.hasAttribute&&Y.hasAttribute(se)&&(O=Y.getAttribute(se)),O},$.m=function(U){return Math.abs(U)>1?U>0?"forward":"back":U===0?"popstate":U>0?"back":"forward"},e(q,[{key:"current",get:function(){return this.h[this.v]}},{key:"state",get:function(){return this.h[this.h.length-1]}},{key:"previous",get:function(){return this.v<1?null:this.h[this.v-1]}},{key:"size",get:function(){return this.h.length}}]),q}()),te=function(q,$){try{var U=function(){if(!$.next.html)return Promise.resolve(q).then(function(O){var Y=$.next;if(O){var se=J.toElement(O);Y.namespace=J.getNamespace(se),Y.container=J.getContainer(se),Y.html=O,ge.update({ns:Y.namespace});var ue=J.toDocument(O);document.title=ue.title}})}();return Promise.resolve(U&&U.then?U.then(function(){}):void 0)}catch(O){return Promise.reject(O)}},pe=v,re={__proto__:null,update:te,nextTick:function(){return new Promise(function(q){window.requestAnimationFrame(q)})},pathToRegexp:pe},ne=function(){return window.location.origin},qe=function(q){return q===void 0&&(q=window.location.href),je(q).port},je=function(q){var $,U=q.match(/:\d+/);if(U===null)/^http/.test(q)&&($=80),/^https/.test(q)&&($=443);else{var O=U[0].substring(1);$=parseInt(O,10)}var Y,se=q.replace(ne(),""),ue={},Se=se.indexOf("#");Se>=0&&(Y=se.slice(Se+1),se=se.slice(0,Se));var Ge=se.indexOf("?");return Ge>=0&&(ue=et(se.slice(Ge+1)),se=se.slice(0,Ge)),{hash:Y,path:se,port:$,query:ue}},et=function(q){return q.split("&").reduce(function($,U){var O=U.split("=");return $[O[0]]=O[1],$},{})},Ot=function(q){return q===void 0&&(q=window.location.href),q.replace(/(\/#.*|\/|#.*)$/,"")},Me={__proto__:null,getHref:function(){return window.location.href},getOrigin:ne,getPort:qe,getPath:function(q){return q===void 0&&(q=window.location.href),je(q).path},parse:je,parseQuery:et,clean:Ot};function Ne(q,$,U){return $===void 0&&($=2e3),new Promise(function(O,Y){var se=new XMLHttpRequest;se.onreadystatechange=function(){if(se.readyState===XMLHttpRequest.DONE){if(se.status===200)O(se.responseText);else if(se.status){var ue={status:se.status,statusText:se.statusText};U(q,ue),Y(ue)}}},se.ontimeout=function(){var ue=new Error("Timeout error ["+$+"]");U(q,ue),Y(ue)},se.onerror=function(){var ue=new Error("Fetch error");U(q,ue),Y(ue)},se.open("GET",q),se.timeout=$,se.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),se.setRequestHeader("x-barba","yes"),se.send()})}var Ve=function(q){return!!q&&(typeof q=="object"||typeof q=="function")&&typeof q.then=="function"};function ze(q,$){return $===void 0&&($={}),function(){for(var U=arguments.length,O=new Array(U),Y=0;Y<U;Y++)O[Y]=arguments[Y];var se=!1,ue=new Promise(function(Se,Ge){$.async=function(){return se=!0,function(Be,L){Be?Ge(Be):Se(L)}};var Ie=q.apply($,O);se||(Ve(Ie)?Ie.then(Se,Ge):Se(Ie))});return ue}}var Ke=new(function(q){function $(){var O;return(O=q.call(this)||this).logger=new m("@barba/core"),O.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],O.registered=new Map,O.init(),O}i($,q);var U=$.prototype;return U.init=function(){var O=this;this.registered.clear(),this.all.forEach(function(Y){O[Y]||(O[Y]=function(se,ue){O.registered.has(Y)||O.registered.set(Y,new Set),O.registered.get(Y).add({ctx:ue||{},fn:se})})})},U.do=function(O){for(var Y=this,se=arguments.length,ue=new Array(se>1?se-1:0),Se=1;Se<se;Se++)ue[Se-1]=arguments[Se];if(this.registered.has(O)){var Ge=Promise.resolve();return this.registered.get(O).forEach(function(Ie){Ge=Ge.then(function(){return ze(Ie.fn,Ie.ctx).apply(void 0,ue)})}),Ge.catch(function(Ie){Y.logger.debug("Hook error ["+O+"]"),Y.logger.error(Ie)})}return Promise.resolve()},U.clear=function(){var O=this;this.all.forEach(function(Y){delete O[Y]}),this.init()},U.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var O=[];this.registered.forEach(function(Y,se){return O.push(se)}),this.logger.info("Registered hooks: "+O.join(","))},$}(h)),gt=function(){function q($){if(this.P=[],typeof $=="boolean")this.g=$;else{var U=Array.isArray($)?$:[$];this.P=U.map(function(O){return pe(O)})}}return q.prototype.checkHref=function($){if(typeof this.g=="boolean")return this.g;var U=je($).path;return this.P.some(function(O){return O.exec(U)!==null})},q}(),Rt=function(q){function $(O){var Y;return(Y=q.call(this,O)||this).k=new Map,Y}i($,q);var U=$.prototype;return U.set=function(O,Y,se){return this.k.set(O,{action:se,request:Y}),{action:se,request:Y}},U.get=function(O){return this.k.get(O)},U.getRequest=function(O){return this.k.get(O).request},U.getAction=function(O){return this.k.get(O).action},U.has=function(O){return!this.checkHref(O)&&this.k.has(O)},U.delete=function(O){return this.k.delete(O)},U.update=function(O,Y){var se=t({},this.k.get(O),{},Y);return this.k.set(O,se),se},$}(gt),ie=function(){return!window.history.pushState},Pt=function(q){return!q.el||!q.href},K=function(q){var $=q.event;return $.which>1||$.metaKey||$.ctrlKey||$.shiftKey||$.altKey},ee=function(q){var $=q.el;return $.hasAttribute("target")&&$.target==="_blank"},fe=function(q){var $=q.el;return $.protocol!==void 0&&window.location.protocol!==$.protocol||$.hostname!==void 0&&window.location.hostname!==$.hostname},Te=function(q){var $=q.el;return $.port!==void 0&&qe()!==qe($.href)},Ae=function(q){var $=q.el;return $.getAttribute&&typeof $.getAttribute("download")=="string"},Pe=function(q){return q.el.hasAttribute(X.prefix+"-"+X.prevent)},$e=function(q){return!!q.el.closest("["+X.prefix+"-"+X.prevent+'="all"]')},V=function(q){var $=q.href;return Ot($)===Ot()&&qe($)===qe()},F=function(q){function $(O){var Y;return(Y=q.call(this,O)||this).suite=[],Y.tests=new Map,Y.init(),Y}i($,q);var U=$.prototype;return U.init=function(){this.add("pushState",ie),this.add("exists",Pt),this.add("newTab",K),this.add("blank",ee),this.add("corsDomain",fe),this.add("corsPort",Te),this.add("download",Ae),this.add("preventSelf",Pe),this.add("preventAll",$e),this.add("sameUrl",V,!1)},U.add=function(O,Y,se){se===void 0&&(se=!0),this.tests.set(O,Y),se&&this.suite.push(O)},U.run=function(O,Y,se,ue){return this.tests.get(O)({el:Y,event:se,href:ue})},U.checkLink=function(O,Y,se){var ue=this;return this.suite.some(function(Se){return ue.run(Se,O,Y,se)})},$}(gt),Q=function(q){function $(U,O){var Y;O===void 0&&(O="Barba error");for(var se=arguments.length,ue=new Array(se>2?se-2:0),Se=2;Se<se;Se++)ue[Se-2]=arguments[Se];return(Y=q.call.apply(q,[this].concat(ue))||this).error=U,Y.label=O,Error.captureStackTrace&&Error.captureStackTrace(function(Ge){if(Ge===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ge}(Y),$),Y.name="BarbaError",Y}return i($,q),$}(o(Error)),be=function(){function q(U){U===void 0&&(U=[]),this.logger=new m("@barba/core"),this.all=[],this.page=[],this.once=[],this.A=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],U&&(this.all=this.all.concat(U)),this.update()}var $=q.prototype;return $.add=function(U,O){switch(U){case"rule":this.A.splice(O.position||0,0,O.value);break;case"transition":default:this.all.push(O)}this.update()},$.resolve=function(U,O){var Y=this;O===void 0&&(O={});var se=O.once?this.once:this.page;se=se.filter(O.self?function(ce){return ce.name&&ce.name==="self"}:function(ce){return!ce.name||ce.name!=="self"});var ue=new Map,Se=se.find(function(ce){var le=!0,_e={};return!(!O.self||ce.name!=="self")||(Y.A.reverse().forEach(function(Fe){le&&(le=Y.R(ce,Fe,U,_e),ce.from&&ce.to&&(le=Y.R(ce,Fe,U,_e,"from")&&Y.R(ce,Fe,U,_e,"to")),ce.from&&!ce.to&&(le=Y.R(ce,Fe,U,_e,"from")),!ce.from&&ce.to&&(le=Y.R(ce,Fe,U,_e,"to")))}),ue.set(ce,_e),le)}),Ge=ue.get(Se),Ie=[];if(Ie.push(O.once?"once":"page"),O.self&&Ie.push("self"),Ge){var Be,L=[Se];Object.keys(Ge).length>0&&L.push(Ge),(Be=this.logger).info.apply(Be,["Transition found ["+Ie.join(",")+"]"].concat(L))}else this.logger.info("No transition found ["+Ie.join(",")+"]");return Se},$.update=function(){var U=this;this.all=this.all.map(function(O){return U.T(O)}).sort(function(O,Y){return O.priority-Y.priority}).reverse().map(function(O){return delete O.priority,O}),this.page=this.all.filter(function(O){return O.leave!==void 0||O.enter!==void 0}),this.once=this.all.filter(function(O){return O.once!==void 0})},$.R=function(U,O,Y,se,ue){var Se=!0,Ge=!1,Ie=U,Be=O.name,L=Be,ce=Be,le=Be,_e=ue?Ie[ue]:Ie,Fe=ue==="to"?Y.next:Y.current;if(ue?_e&&_e[Be]:_e[Be]){switch(O.type){case"strings":default:var pt=Array.isArray(_e[L])?_e[L]:[_e[L]];Fe[L]&&pt.indexOf(Fe[L])!==-1&&(Ge=!0),pt.indexOf(Fe[L])===-1&&(Se=!1);break;case"object":var Tt=Array.isArray(_e[ce])?_e[ce]:[_e[ce]];Fe[ce]?(Fe[ce].name&&Tt.indexOf(Fe[ce].name)!==-1&&(Ge=!0),Tt.indexOf(Fe[ce].name)===-1&&(Se=!1)):Se=!1;break;case"function":_e[le](Y)?Ge=!0:Se=!1}Ge&&(ue?(se[ue]=se[ue]||{},se[ue][Be]=Ie[ue][Be]):se[Be]=Ie[Be])}return Se},$.O=function(U,O,Y){var se=0;return(U[O]||U.from&&U.from[O]||U.to&&U.to[O])&&(se+=Math.pow(10,Y),U.from&&U.from[O]&&(se+=1),U.to&&U.to[O]&&(se+=2)),se},$.T=function(U){var O=this;U.priority=0;var Y=0;return this.A.forEach(function(se,ue){Y+=O.O(U,se.name,ue+1)}),U.priority=Y,U},q}(),ye=function(){function q(U){U===void 0&&(U=[]),this.logger=new m("@barba/core"),this.S=!1,this.store=new be(U)}var $=q.prototype;return $.get=function(U,O){return this.store.resolve(U,O)},$.doOnce=function(U){var O=U.data,Y=U.transition;try{var se=function(){ue.S=!1},ue=this,Se=Y||{};ue.S=!0;var Ge=l(function(){return Promise.resolve(ue.j("beforeOnce",O,Se)).then(function(){return Promise.resolve(ue.once(O,Se)).then(function(){return Promise.resolve(ue.j("afterOnce",O,Se)).then(function(){})})})},function(Ie){ue.S=!1,ue.logger.debug("Transition error [before/after/once]"),ue.logger.error(Ie)});return Promise.resolve(Ge&&Ge.then?Ge.then(se):se())}catch(Ie){return Promise.reject(Ie)}},$.doPage=function(U){var O=U.data,Y=U.transition,se=U.page,ue=U.wrapper;try{var Se=function(le){if(Ge)return le;Ie.S=!1},Ge=!1,Ie=this,Be=Y||{},L=Be.sync===!0||!1;Ie.S=!0;var ce=l(function(){function le(){return Promise.resolve(Ie.j("before",O,Be)).then(function(){var Fe=!1;function pt(qt){return Fe?qt:Promise.resolve(Ie.remove(O)).then(function(){return Promise.resolve(Ie.j("after",O,Be)).then(function(){})})}var Tt=function(){if(L)return l(function(){return Promise.resolve(Ie.add(O,ue)).then(function(){return Promise.resolve(Ie.j("beforeLeave",O,Be)).then(function(){return Promise.resolve(Ie.j("beforeEnter",O,Be)).then(function(){return Promise.resolve(Promise.all([Ie.leave(O,Be),Ie.enter(O,Be)])).then(function(){return Promise.resolve(Ie.j("afterLeave",O,Be)).then(function(){return Promise.resolve(Ie.j("afterEnter",O,Be)).then(function(){})})})})})})},function(Xt){if(Ie.M(Xt))throw new Q(Xt,"Transition error [sync]")});var qt=function(Xt){return Fe?Xt:l(function(){var Mi=function(){if(yi!==!1)return Promise.resolve(Ie.add(O,ue)).then(function(){return Promise.resolve(Ie.j("beforeEnter",O,Be)).then(function(){return Promise.resolve(Ie.enter(O,Be,yi)).then(function(){return Promise.resolve(Ie.j("afterEnter",O,Be)).then(function(){})})})})}();if(Mi&&Mi.then)return Mi.then(function(){})},function(Mi){if(Ie.M(Mi))throw new Q(Mi,"Transition error [before/after/enter]")})},yi=!1,$t=l(function(){return Promise.resolve(Ie.j("beforeLeave",O,Be)).then(function(){return Promise.resolve(Promise.all([Ie.leave(O,Be),te(se,O)]).then(function(Xt){return Xt[0]})).then(function(Xt){return yi=Xt,Promise.resolve(Ie.j("afterLeave",O,Be)).then(function(){})})})},function(Xt){if(Ie.M(Xt))throw new Q(Xt,"Transition error [before/after/leave]")});return $t&&$t.then?$t.then(qt):qt($t)}();return Tt&&Tt.then?Tt.then(pt):pt(Tt)})}var _e=function(){if(L)return Promise.resolve(te(se,O)).then(function(){})}();return _e&&_e.then?_e.then(le):le()},function(le){throw Ie.S=!1,le.name&&le.name==="BarbaError"?(Ie.logger.debug(le.label),Ie.logger.error(le.error),le):(Ie.logger.debug("Transition error [page]"),Ie.logger.error(le),le)});return Promise.resolve(ce&&ce.then?ce.then(Se):Se(ce))}catch(le){return Promise.reject(le)}},$.once=function(U,O){try{return Promise.resolve(Ke.do("once",U,O)).then(function(){return O.once?ze(O.once,O)(U):Promise.resolve()})}catch(Y){return Promise.reject(Y)}},$.leave=function(U,O){try{return Promise.resolve(Ke.do("leave",U,O)).then(function(){return O.leave?ze(O.leave,O)(U):Promise.resolve()})}catch(Y){return Promise.reject(Y)}},$.enter=function(U,O,Y){try{return Promise.resolve(Ke.do("enter",U,O)).then(function(){return O.enter?ze(O.enter,O)(U,Y):Promise.resolve()})}catch(se){return Promise.reject(se)}},$.add=function(U,O){try{return J.addContainer(U.next.container,O),Ke.do("nextAdded",U),Promise.resolve()}catch(Y){return Promise.reject(Y)}},$.remove=function(U){try{return J.removeContainer(U.current.container),Ke.do("currentRemoved",U),Promise.resolve()}catch(O){return Promise.reject(O)}},$.M=function(U){return U.message?!/Timeout error|Fetch error/.test(U.message):!U.status},$.j=function(U,O,Y){try{return Promise.resolve(Ke.do(U,O,Y)).then(function(){return Y[U]?ze(Y[U],Y)(O):Promise.resolve()})}catch(se){return Promise.reject(se)}},e(q,[{key:"isRunning",get:function(){return this.S},set:function(U){this.S=U}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some(function(U){return U.name==="self"})}},{key:"shouldWait",get:function(){return this.store.all.some(function(U){return U.to&&!U.to.route||U.sync})}}]),q}(),Ee=function(){function q($){var U=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,$.length!==0&&($.forEach(function(O){U.byNamespace.set(O.namespace,O)}),this.names.forEach(function(O){Ke[O](U.L(O))}))}return q.prototype.L=function($){var U=this;return function(O){var Y=$.match(/enter/i)?O.next:O.current,se=U.byNamespace.get(Y.namespace);return se&&se[$]?ze(se[$],se)(O):Promise.resolve()}},q}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(q){var $=this;do{if($.matches(q))return $;$=$.parentElement||$.parentNode}while($!==null&&$.nodeType===1);return null});var We={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}};return new(function(){function q(){this.version=u,this.schemaPage=We,this.Logger=m,this.logger=new m("@barba/core"),this.plugins=[],this.hooks=Ke,this.dom=J,this.helpers=re,this.history=ge,this.request=Ne,this.url=Me}var $=q.prototype;return $.use=function(U,O){var Y=this.plugins;Y.indexOf(U)>-1?this.logger.warn("Plugin ["+U.name+"] already installed."):typeof U.install=="function"?(U.install(this,O),Y.push(U)):this.logger.warn("Plugin ["+U.name+'] has no "install" method.')},$.init=function(U){var O=U===void 0?{}:U,Y=O.transitions,se=Y===void 0?[]:Y,ue=O.views,Se=ue===void 0?[]:ue,Ge=O.schema,Ie=Ge===void 0?X:Ge,Be=O.requestError,L=O.timeout,ce=L===void 0?2e3:L,le=O.cacheIgnore,_e=le!==void 0&&le,Fe=O.prefetchIgnore,pt=Fe!==void 0&&Fe,Tt=O.preventRunning,qt=Tt!==void 0&&Tt,yi=O.prevent,$t=yi===void 0?null:yi,Xt=O.debug,Mi=O.logLevel;if(m.setLevel((Xt!==void 0&&Xt)===!0?"debug":Mi===void 0?"off":Mi),this.logger.info(this.version),Object.keys(Ie).forEach(function(En){X[En]&&(X[En]=Ie[En])}),this.$=Be,this.timeout=ce,this.cacheIgnore=_e,this.prefetchIgnore=pt,this.preventRunning=qt,this._=this.dom.getWrapper(),!this._)throw new Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite"),this.q();var Vn=this.data.current;if(!Vn.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new Rt(_e),this.prevent=new F(pt),this.transitions=new ye(se),this.views=new Ee(Se),$t!==null){if(typeof $t!="function")throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",$t)}this.history.init(Vn.url.href,Vn.namespace),this.B=this.B.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.F(),this.plugins.forEach(function(En){return En.init()});var nn=this.data;nn.trigger="barba",nn.next=nn.current,nn.current=t({},this.schemaPage),this.hooks.do("ready",nn),this.once(nn),this.q()},$.destroy=function(){this.q(),this.H(),this.history.clear(),this.hooks.clear(),this.plugins=[]},$.force=function(U){window.location.assign(U)},$.go=function(U,O,Y){var se;if(O===void 0&&(O="barba"),this.transitions.isRunning)this.force(U);else if(!(se=O==="popstate"?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(U):this.prevent.run("sameUrl",null,null,U))||this.transitions.hasSelf)return O=this.history.change(U,O,Y),Y&&(Y.stopPropagation(),Y.preventDefault()),this.page(U,O,se)},$.once=function(U){try{var O=this;return Promise.resolve(O.hooks.do("beforeEnter",U)).then(function(){function Y(){return Promise.resolve(O.hooks.do("afterEnter",U)).then(function(){})}var se=function(){if(O.transitions.hasOnce){var ue=O.transitions.get(U,{once:!0});return Promise.resolve(O.transitions.doOnce({transition:ue,data:U})).then(function(){})}}();return se&&se.then?se.then(Y):Y()})}catch(Y){return Promise.reject(Y)}},$.page=function(U,O,Y){try{var se=function(){var Ie=ue.data;return Promise.resolve(ue.hooks.do("page",Ie)).then(function(){var Be=l(function(){var L=ue.transitions.get(Ie,{once:!1,self:Y});return Promise.resolve(ue.transitions.doPage({data:Ie,page:Se,transition:L,wrapper:ue._})).then(function(){ue.q()})},function(){m.getLevel()===0&&ue.force(Ie.current.url.href)});if(Be&&Be.then)return Be.then(function(){})})},ue=this;ue.data.next.url=t({href:U},ue.url.parse(U)),ue.data.trigger=O;var Se=ue.cache.has(U)?ue.cache.update(U,{action:"click"}).request:ue.cache.set(U,ue.request(U,ue.timeout,ue.onRequestError.bind(ue,O)),"click").request,Ge=function(){if(ue.transitions.shouldWait)return Promise.resolve(te(Se,ue.data)).then(function(){})}();return Promise.resolve(Ge&&Ge.then?Ge.then(se):se())}catch(Ie){return Promise.reject(Ie)}},$.onRequestError=function(U){this.transitions.isRunning=!1;for(var O=arguments.length,Y=new Array(O>1?O-1:0),se=1;se<O;se++)Y[se-1]=arguments[se];var ue=Y[0],Se=Y[1],Ge=this.cache.getAction(ue);return this.cache.delete(ue),!(this.$&&this.$(U,Ge,ue,Se)===!1||(Ge==="click"&&this.force(ue),1))},$.prefetch=function(U){var O=this;this.cache.has(U)||this.cache.set(U,this.request(U,this.timeout,this.onRequestError.bind(this,"barba")).catch(function(Y){O.logger.error(Y)}),"prefetch")},$.F=function(){this.prefetchIgnore!==!0&&(document.addEventListener("mouseover",this.B),document.addEventListener("touchstart",this.B)),document.addEventListener("click",this.U),window.addEventListener("popstate",this.D)},$.H=function(){this.prefetchIgnore!==!0&&(document.removeEventListener("mouseover",this.B),document.removeEventListener("touchstart",this.B)),document.removeEventListener("click",this.U),window.removeEventListener("popstate",this.D)},$.B=function(U){var O=this,Y=this.I(U);if(Y){var se=this.dom.getHref(Y);this.prevent.checkHref(se)||this.cache.has(se)||this.cache.set(se,this.request(se,this.timeout,this.onRequestError.bind(this,Y)).catch(function(ue){O.logger.error(ue)}),"enter")}},$.U=function(U){var O=this.I(U);if(O)return this.transitions.isRunning&&this.preventRunning?(U.preventDefault(),void U.stopPropagation()):void this.go(this.dom.getHref(O),O,U)},$.D=function(U){this.go(this.url.getHref(),"popstate",U)},$.I=function(U){for(var O=U.target;O&&!this.dom.getHref(O);)O=O.parentNode;if(O&&!this.prevent.checkLink(O,U,this.dom.getHref(O)))return O},$.q=function(){var U=this.url.getHref(),O={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:t({href:U},this.url.parse(U))};this.C={current:O,next:t({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},e(q,[{key:"data",get:function(){return this.C}},{key:"wrapper",get:function(){return this._}}]),q}())})});var DL=li(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});function bs(n,e){let t=Object.create(null),i=n.split(",");for(let r=0;r<i.length;r++)t[i[r]]=!0;return e?r=>!!t[r.toLowerCase()]:r=>!!t[r]}var _q={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},xq={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},bq="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",Eq=bs(bq),xL=2;function Sq(n,e=0,t=n.length){let i=n.split(/(\r?\n)/),r=i.filter((o,l)=>l%2===1);i=i.filter((o,l)=>l%2===0);let s=0,a=[];for(let o=0;o<i.length;o++)if(s+=i[o].length+(r[o]&&r[o].length||0),s>=e){for(let l=o-xL;l<=o+xL||t>s;l++){if(l<0||l>=i.length)continue;let c=l+1;a.push(`${c}${" ".repeat(Math.max(3-String(c).length,0))}|  ${i[l]}`);let u=i[l].length,h=r[l]&&r[l].length||0;if(l===o){let d=e-(s-(u+h)),m=Math.max(1,t>s?u-d:t-e);a.push("   |  "+" ".repeat(d)+"^".repeat(m))}else if(l>o){if(t>s){let d=Math.max(Math.min(t-s,u),1);a.push("   |  "+"^".repeat(d))}s+=u+h}}break}return a.join(`
`)}var EL="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Tq=bs(EL),wq=bs(EL+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function Aq(n){return!!n||n===""}var Mq=/[>/="'\u0009\u000a\u000c\u0020]/,GS={};function Cq(n){if(GS.hasOwnProperty(n))return GS[n];let e=Mq.test(n);return e&&console.error(`unsafe attribute name: ${n}`),GS[n]=!e}var Pq={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},SL=bs("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),Iq=bs("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),Dq=bs("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan");function qS(n){if(Sc(n)){let e={};for(let t=0;t<n.length;t++){let i=n[t],r=lo(i)?TL(i):qS(i);if(r)for(let s in r)e[s]=r[s]}return e}else{if(lo(n))return n;if(fl(n))return n}}var Rq=/;(?![^(]*\))/g,Lq=/:(.+)/;function TL(n){let e={};return n.split(Rq).forEach(t=>{if(t){let i=t.split(Lq);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Oq(n){let e="";if(!n||lo(n))return e;for(let t in n){let i=n[t],r=t.startsWith("--")?t:PL(t);(lo(i)||typeof i=="number"&&SL(r))&&(e+=`${r}:${i};`)}return e}function jS(n){let e="";if(lo(n))e=n;else if(Sc(n))for(let t=0;t<n.length;t++){let i=jS(n[t]);i&&(e+=i+" ")}else if(fl(n))for(let t in n)n[t]&&(e+=t+" ");return e.trim()}function Nq(n){if(!n)return null;let{class:e,style:t}=n;return e&&!lo(e)&&(n.class=jS(e)),t&&(n.style=qS(t)),n}var kq="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Fq="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Bq="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",Uq=bs(kq),zq=bs(Fq),Vq=bs(Bq),Hq=/["'&<>]/;function Gq(n){let e=""+n,t=Hq.exec(e);if(!t)return e;let i="",r,s,a=0;for(s=t.index;s<e.length;s++){switch(e.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}a!==s&&(i+=e.slice(a,s)),a=s+1,i+=r}return a!==s?i+e.slice(a,s):i}var $q=/^-?>|<!--|-->|--!>|<!-$/g;function Wq(n){return n.replace($q,"")}function qq(n,e){if(n.length!==e.length)return!1;let t=!0;for(let i=0;t&&i<n.length;i++)t=hy(n[i],e[i]);return t}function hy(n,e){if(n===e)return!0;let t=$S(n),i=$S(e);if(t||i)return t&&i?n.getTime()===e.getTime():!1;if(t=WS(n),i=WS(e),t||i)return n===e;if(t=Sc(n),i=Sc(e),t||i)return t&&i?qq(n,e):!1;if(t=fl(n),i=fl(e),t||i){if(!t||!i)return!1;let r=Object.keys(n).length,s=Object.keys(e).length;if(r!==s)return!1;for(let a in n){let o=n.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!hy(n[a],e[a]))return!1}}return String(n)===String(e)}function jq(n,e){return n.findIndex(t=>hy(t,e))}var Xq=n=>lo(n)?n:n==null?"":Sc(n)||fl(n)&&(n.toString===XS||!uy(n.toString))?JSON.stringify(n,wL,2):String(n),wL=(n,e)=>e&&e.__v_isRef?wL(n,e.value):AL(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,r])=>(t[`${i} =>`]=r,t),{})}:ML(e)?{[`Set(${e.size})`]:[...e.values()]}:fl(e)&&!Sc(e)&&!CL(e)?String(e):e,Yq={},Kq=[],Jq=()=>{},Zq=()=>!1,Qq=/^on[^a-z]/,e7=n=>Qq.test(n),t7=n=>n.startsWith("onUpdate:"),i7=Object.assign,n7=(n,e)=>{let t=n.indexOf(e);t>-1&&n.splice(t,1)},r7=Object.prototype.hasOwnProperty,s7=(n,e)=>r7.call(n,e),Sc=Array.isArray,AL=n=>bh(n)==="[object Map]",ML=n=>bh(n)==="[object Set]",$S=n=>bh(n)==="[object Date]",uy=n=>typeof n=="function",lo=n=>typeof n=="string",WS=n=>typeof n=="symbol",fl=n=>n!==null&&typeof n=="object",a7=n=>fl(n)&&uy(n.then)&&uy(n.catch),XS=Object.prototype.toString,bh=n=>XS.call(n),o7=n=>bh(n).slice(8,-1),CL=n=>bh(n)==="[object Object]",l7=n=>lo(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,c7=bs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),u7=bs("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),fy=n=>{let e=Object.create(null);return t=>e[t]||(e[t]=n(t))},h7=/-(\w)/g,f7=fy(n=>n.replace(h7,(e,t)=>t?t.toUpperCase():"")),d7=/\B([A-Z])/g,PL=fy(n=>n.replace(d7,"-$1").toLowerCase()),IL=fy(n=>n.charAt(0).toUpperCase()+n.slice(1)),p7=fy(n=>n?`on${IL(n)}`:""),m7=(n,e)=>!Object.is(n,e),g7=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},y7=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},v7=n=>{let e=parseFloat(n);return isNaN(e)?n:e},bL,_7=()=>bL||(bL=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),x7=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function b7(n){return x7.test(n)?`__props.${n}`:`__props[${JSON.stringify(n)}]`}Et.EMPTY_ARR=Kq;Et.EMPTY_OBJ=Yq;Et.NO=Zq;Et.NOOP=Jq;Et.PatchFlagNames=_q;Et.camelize=f7;Et.capitalize=IL;Et.def=y7;Et.escapeHtml=Gq;Et.escapeHtmlComment=Wq;Et.extend=i7;Et.genPropsAccessExp=b7;Et.generateCodeFrame=Sq;Et.getGlobalThis=_7;Et.hasChanged=m7;Et.hasOwn=s7;Et.hyphenate=PL;Et.includeBooleanAttr=Aq;Et.invokeArrayFns=g7;Et.isArray=Sc;Et.isBooleanAttr=wq;Et.isBuiltInDirective=u7;Et.isDate=$S;Et.isFunction=uy;Et.isGloballyWhitelisted=Eq;Et.isHTMLTag=Uq;Et.isIntegerKey=l7;Et.isKnownHtmlAttr=Iq;Et.isKnownSvgAttr=Dq;Et.isMap=AL;Et.isModelListener=t7;Et.isNoUnitNumericStyleProp=SL;Et.isObject=fl;Et.isOn=e7;Et.isPlainObject=CL;Et.isPromise=a7;Et.isReservedProp=c7;Et.isSSRSafeAttrName=Cq;Et.isSVGTag=zq;Et.isSet=ML;Et.isSpecialBooleanAttr=Tq;Et.isString=lo;Et.isSymbol=WS;Et.isVoidTag=Vq;Et.looseEqual=hy;Et.looseIndexOf=jq;Et.makeMap=bs;Et.normalizeClass=jS;Et.normalizeProps=Nq;Et.normalizeStyle=qS;Et.objectToString=XS;Et.parseStringStyle=TL;Et.propsToAttrMap=Pq;Et.remove=n7;Et.slotFlagsText=xq;Et.stringifyStyle=Oq;Et.toDisplayString=Xq;Et.toHandlerKey=p7;Et.toNumber=v7;Et.toRawType=o7;Et.toTypeString=bh});var dl=li((Wce,RL)=>{"use strict";RL.exports=DL()});var sO=li(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});var ri=dl(),Jr,_y=class{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Jr&&(this.parent=Jr,this.index=(Jr.scopes||(Jr.scopes=[])).push(this)-1)}run(e){if(this.active){let t=Jr;try{return Jr=this,e()}finally{Jr=t}}}on(){Jr=this}off(){Jr=this.parent}stop(e){if(this.active){let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(this.parent&&!e){let r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}};function E7(n){return new _y(n)}function zL(n,e=Jr){e&&e.active&&e.effects.push(n)}function S7(){return Jr}function T7(n){Jr&&Jr.cleanups.push(n)}var sT=n=>{let e=new Set(n);return e.w=0,e.n=0,e},VL=n=>(n.w&gl)>0,HL=n=>(n.n&gl)>0,w7=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=gl},A7=n=>{let{deps:e}=n;if(e.length){let t=0;for(let i=0;i<e.length;i++){let r=e[i];VL(r)&&!HL(r)?r.delete(n):e[t++]=r,r.w&=~gl,r.n&=~gl}e.length=t}},YS=new WeakMap,bd=0,gl=1,KS=30,Ks,ml=Symbol(""),JS=Symbol(""),Eh=class{constructor(e,t=null,i){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,zL(this,i)}run(){if(!this.active)return this.fn();let e=Ks,t=xa;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ks,Ks=this,xa=!0,gl=1<<++bd,bd<=KS?w7(this):LL(this),this.fn()}finally{bd<=KS&&A7(this),gl=1<<--bd,Ks=this.parent,xa=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ks===this?this.deferStop=!0:this.active&&(LL(this),this.onStop&&this.onStop(),this.active=!1)}};function LL(n){let{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}function M7(n,e){n.effect&&(n=n.effect.fn);let t=new Eh(n);e&&(ri.extend(t,e),e.scope&&zL(t,e.scope)),(!e||!e.lazy)&&t.run();let i=t.run.bind(t);return i.effect=t,i}function C7(n){n.effect.stop()}var xa=!0,aT=[];function GL(){aT.push(xa),xa=!1}function P7(){aT.push(xa),xa=!0}function $L(){let n=aT.pop();xa=n===void 0?!0:n}function Es(n,e,t){if(xa&&Ks){let i=YS.get(n);i||YS.set(n,i=new Map);let r=i.get(t);r||i.set(t,r=sT()),WL(r)}}function WL(n,e){let t=!1;bd<=KS?HL(n)||(n.n|=gl,t=!VL(n)):t=!n.has(Ks),t&&(n.add(Ks),Ks.deps.push(n))}function co(n,e,t,i,r,s){let a=YS.get(n);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(t==="length"&&ri.isArray(n))a.forEach((l,c)=>{(c==="length"||c>=i)&&o.push(l)});else switch(t!==void 0&&o.push(a.get(t)),e){case"add":ri.isArray(n)?ri.isIntegerKey(t)&&o.push(a.get("length")):(o.push(a.get(ml)),ri.isMap(n)&&o.push(a.get(JS)));break;case"delete":ri.isArray(n)||(o.push(a.get(ml)),ri.isMap(n)&&o.push(a.get(JS)));break;case"set":ri.isMap(n)&&o.push(a.get(ml));break}if(o.length===1)o[0]&&ZS(o[0]);else{let l=[];for(let c of o)c&&l.push(...c);ZS(sT(l))}}function ZS(n,e){let t=ri.isArray(n)?n:[...n];for(let i of t)i.computed&&OL(i);for(let i of t)i.computed||OL(i)}function OL(n,e){(n!==Ks||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}var I7=ri.makeMap("__proto__,__v_isRef,__isVue"),qL=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(ri.isSymbol)),D7=xy(),R7=xy(!1,!0),L7=xy(!0),O7=xy(!0,!0),NL=N7();function N7(){let n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){let i=Fi(this);for(let s=0,a=this.length;s<a;s++)Es(i,"get",s+"");let r=i[e](...t);return r===-1||r===!1?i[e](...t.map(Fi)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){GL();let i=Fi(this)[e].apply(this,t);return $L(),i}}),n}function xy(n=!1,e=!1){return function(i,r,s){if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&s===(n?e?QL:ZL:e?JL:KL).get(i))return i;let a=ri.isArray(i);if(!n&&a&&ri.hasOwn(NL,r))return Reflect.get(NL,r,s);let o=Reflect.get(i,r,s);return(ri.isSymbol(r)?qL.has(r):I7(r))||(n||Es(i,"get",r),e)?o:Js(o)?a&&ri.isIntegerKey(r)?o:o.value:ri.isObject(o)?n?cT(o):lT(o):o}}var k7=jL(),F7=jL(!0);function jL(n=!1){return function(t,i,r,s){let a=t[i];if(Sh(a)&&Js(a)&&!Js(r))return!1;if(!n&&!Sh(r)&&(eO(r)||(r=Fi(r),a=Fi(a)),!ri.isArray(t)&&Js(a)&&!Js(r)))return a.value=r,!0;let o=ri.isArray(t)&&ri.isIntegerKey(i)?Number(i)<t.length:ri.hasOwn(t,i),l=Reflect.set(t,i,r,s);return t===Fi(s)&&(o?ri.hasChanged(r,a)&&co(t,"set",i,r):co(t,"add",i,r)),l}}function B7(n,e){let t=ri.hasOwn(n,e);n[e];let i=Reflect.deleteProperty(n,e);return i&&t&&co(n,"delete",e,void 0),i}function U7(n,e){let t=Reflect.has(n,e);return(!ri.isSymbol(e)||!qL.has(e))&&Es(n,"has",e),t}function z7(n){return Es(n,"iterate",ri.isArray(n)?"length":ml),Reflect.ownKeys(n)}var XL={get:D7,set:k7,deleteProperty:B7,has:U7,ownKeys:z7},YL={get:L7,set(n,e){return!0},deleteProperty(n,e){return!0}},V7=ri.extend({},XL,{get:R7,set:F7}),H7=ri.extend({},YL,{get:O7}),oT=n=>n,by=n=>Reflect.getPrototypeOf(n);function dy(n,e,t=!1,i=!1){n=n.__v_raw;let r=Fi(n),s=Fi(e);t||(e!==s&&Es(r,"get",e),Es(r,"get",s));let{has:a}=by(r),o=i?oT:t?uT:Ed;if(a.call(r,e))return o(n.get(e));if(a.call(r,s))return o(n.get(s));n!==r&&n.get(e)}function py(n,e=!1){let t=this.__v_raw,i=Fi(t),r=Fi(n);return e||(n!==r&&Es(i,"has",n),Es(i,"has",r)),n===r?t.has(n):t.has(n)||t.has(r)}function my(n,e=!1){return n=n.__v_raw,!e&&Es(Fi(n),"iterate",ml),Reflect.get(n,"size",n)}function kL(n){n=Fi(n);let e=Fi(this);return by(e).has.call(e,n)||(e.add(n),co(e,"add",n,n)),this}function FL(n,e){e=Fi(e);let t=Fi(this),{has:i,get:r}=by(t),s=i.call(t,n);s||(n=Fi(n),s=i.call(t,n));let a=r.call(t,n);return t.set(n,e),s?ri.hasChanged(e,a)&&co(t,"set",n,e):co(t,"add",n,e),this}function BL(n){let e=Fi(this),{has:t,get:i}=by(e),r=t.call(e,n);r||(n=Fi(n),r=t.call(e,n)),i&&i.call(e,n);let s=e.delete(n);return r&&co(e,"delete",n,void 0),s}function UL(){let n=Fi(this),e=n.size!==0,t=n.clear();return e&&co(n,"clear",void 0,void 0),t}function gy(n,e){return function(i,r){let s=this,a=s.__v_raw,o=Fi(a),l=e?oT:n?uT:Ed;return!n&&Es(o,"iterate",ml),a.forEach((c,u)=>i.call(r,l(c),l(u),s))}}function yy(n,e,t){return function(...i){let r=this.__v_raw,s=Fi(r),a=ri.isMap(s),o=n==="entries"||n===Symbol.iterator&&a,l=n==="keys"&&a,c=r[n](...i),u=t?oT:e?uT:Ed;return!e&&Es(s,"iterate",l?JS:ml),{next(){let{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:o?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function pl(n){return function(...e){return n==="delete"?!1:this}}function G7(){let n={get(s){return dy(this,s)},get size(){return my(this)},has:py,add:kL,set:FL,delete:BL,clear:UL,forEach:gy(!1,!1)},e={get(s){return dy(this,s,!1,!0)},get size(){return my(this)},has:py,add:kL,set:FL,delete:BL,clear:UL,forEach:gy(!1,!0)},t={get(s){return dy(this,s,!0)},get size(){return my(this,!0)},has(s){return py.call(this,s,!0)},add:pl("add"),set:pl("set"),delete:pl("delete"),clear:pl("clear"),forEach:gy(!0,!1)},i={get(s){return dy(this,s,!0,!0)},get size(){return my(this,!0)},has(s){return py.call(this,s,!0)},add:pl("add"),set:pl("set"),delete:pl("delete"),clear:pl("clear"),forEach:gy(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=yy(s,!1,!1),t[s]=yy(s,!0,!1),e[s]=yy(s,!1,!0),i[s]=yy(s,!0,!0)}),[n,t,e,i]}var[$7,W7,q7,j7]=G7();function Ey(n,e){let t=e?n?j7:q7:n?W7:$7;return(i,r,s)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?i:Reflect.get(ri.hasOwn(t,r)&&r in i?t:i,r,s)}var X7={get:Ey(!1,!1)},Y7={get:Ey(!1,!0)},K7={get:Ey(!0,!1)},J7={get:Ey(!0,!0)},KL=new WeakMap,JL=new WeakMap,ZL=new WeakMap,QL=new WeakMap;function Z7(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Q7(n){return n.__v_skip||!Object.isExtensible(n)?0:Z7(ri.toRawType(n))}function lT(n){return Sh(n)?n:Sy(n,!1,XL,X7,KL)}function ej(n){return Sy(n,!1,V7,Y7,JL)}function cT(n){return Sy(n,!0,YL,K7,ZL)}function tj(n){return Sy(n,!0,H7,J7,QL)}function Sy(n,e,t,i,r){if(!ri.isObject(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;let s=r.get(n);if(s)return s;let a=Q7(n);if(a===0)return n;let o=new Proxy(n,a===2?i:t);return r.set(n,o),o}function Ty(n){return Sh(n)?Ty(n.__v_raw):!!(n&&n.__v_isReactive)}function Sh(n){return!!(n&&n.__v_isReadonly)}function eO(n){return!!(n&&n.__v_isShallow)}function ij(n){return Ty(n)||Sh(n)}function Fi(n){let e=n&&n.__v_raw;return e?Fi(e):n}function nj(n){return ri.def(n,"__v_skip",!0),n}var Ed=n=>ri.isObject(n)?lT(n):n,uT=n=>ri.isObject(n)?cT(n):n;function wy(n){xa&&Ks&&(n=Fi(n),WL(n.dep||(n.dep=sT())))}function Sd(n,e){n=Fi(n),n.dep&&ZS(n.dep)}function Js(n){return!!(n&&n.__v_isRef===!0)}function rj(n){return tO(n,!1)}function sj(n){return tO(n,!0)}function tO(n,e){return Js(n)?n:new QS(n,e)}var QS=class{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Fi(e),this._value=t?e:Ed(e)}get value(){return wy(this),this._value}set value(e){e=this.__v_isShallow?e:Fi(e),ri.hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Ed(e),Sd(this))}};function aj(n){Sd(n)}function iO(n){return Js(n)?n.value:n}var oj={get:(n,e,t)=>iO(Reflect.get(n,e,t)),set:(n,e,t,i)=>{let r=n[e];return Js(r)&&!Js(t)?(r.value=t,!0):Reflect.set(n,e,t,i)}};function lj(n){return Ty(n)?n:new Proxy(n,oj)}var eT=class{constructor(e){this.dep=void 0,this.__v_isRef=!0;let{get:t,set:i}=e(()=>wy(this),()=>Sd(this));this._get=t,this._set=i}get value(){return this._get()}set value(e){this._set(e)}};function cj(n){return new eT(n)}function uj(n){let e=ri.isArray(n)?new Array(n.length):{};for(let t in n)e[t]=nO(n,t);return e}var tT=class{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0}get value(){let e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}};function nO(n,e,t){let i=n[e];return Js(i)?i:new tT(n,e,t)}var iT=class{constructor(e,t,i,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Eh(e,()=>{this._dirty||(this._dirty=!0,Sd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){let e=Fi(this);return wy(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}};function hj(n,e,t=!1){let i,r,s=ri.isFunction(n);return s?(i=n,r=ri.NOOP):(i=n.get,r=n.set),new iT(i,r,s||!r,t)}var rO,fj=Promise.resolve(),vy=[],nT=!1,dj=n=>{vy.push(n),nT||(nT=!0,fj.then(pj))},pj=()=>{for(let n=0;n<vy.length;n++)vy[n]();vy.length=0,nT=!1},rT=class n{constructor(e){this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this[rO]=!0;let t,i=!1,r=!1;this.effect=new Eh(e,s=>{if(this.dep){if(s)t=this._value,i=!0;else if(!r){let a=i?t:this._value;r=!0,i=!1,dj(()=>{this.effect.active&&this._get()!==a&&Sd(this),r=!1})}for(let a of this.dep)a.computed instanceof n&&a.scheduler(!0)}this._dirty=!0}),this.effect.computed=this}_get(){return this._dirty?(this._dirty=!1,this._value=this.effect.run()):this._value}get value(){return wy(this),Fi(this)._get()}};rO="__v_isReadonly";function mj(n){return new rT(n)}ui.EffectScope=_y;ui.ITERATE_KEY=ml;ui.ReactiveEffect=Eh;ui.computed=hj;ui.customRef=cj;ui.deferredComputed=mj;ui.effect=M7;ui.effectScope=E7;ui.enableTracking=P7;ui.getCurrentScope=S7;ui.isProxy=ij;ui.isReactive=Ty;ui.isReadonly=Sh;ui.isRef=Js;ui.isShallow=eO;ui.markRaw=nj;ui.onScopeDispose=T7;ui.pauseTracking=GL;ui.proxyRefs=lj;ui.reactive=lT;ui.readonly=cT;ui.ref=rj;ui.resetTracking=$L;ui.shallowReactive=ej;ui.shallowReadonly=tj;ui.shallowRef=sj;ui.stop=C7;ui.toRaw=Fi;ui.toRef=nO;ui.toRefs=uj;ui.track=Es;ui.trigger=co;ui.triggerRef=aj;ui.unref=iO});var oO=li((jce,aO)=>{"use strict";aO.exports=sO()});var v2=li(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});var nt=oO(),Z=dl(),Ad=[];function xO(n,...e){nt.pauseTracking();let t=Ad.length?Ad[Ad.length-1].component:null,i=t&&t.appContext.config.warnHandler,r=gj();if(i)Sa(i,t,11,[n+e.join(""),t&&t.proxy,r.map(({vnode:s})=>`at <${f2(t,s.type)}>`).join(`
`),r]);else{let s=[`[Vue warn]: ${n}`,...e];r.length&&s.push(`
`,...yj(r)),console.warn(...s)}nt.resetTracking()}function gj(){let n=Ad[Ad.length-1];if(!n)return[];let e=[];for(;n;){let t=e[0];t&&t.vnode===n?t.recurseCount++:e.push({vnode:n,recurseCount:0});let i=n.component&&n.component.parent;n=i&&i.vnode}return e}function yj(n){let e=[];return n.forEach((t,i)=>{e.push(...i===0?[]:[`
`],...vj(t))}),e}function vj({vnode:n,recurseCount:e}){let t=e>0?`... (${e} recursive calls)`:"",i=n.component?n.component.parent==null:!1,r=` at <${f2(n.component,n.type,i)}`,s=">"+t;return n.props?[r,..._j(n.props),s]:[r+s]}function _j(n){let e=[],t=Object.keys(n);return t.slice(0,3).forEach(i=>{e.push(...bO(i,n[i]))}),t.length>3&&e.push(" ..."),e}function bO(n,e,t){return Z.isString(e)?(e=JSON.stringify(e),t?e:[`${n}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?t?e:[`${n}=${e}`]:nt.isRef(e)?(e=bO(n,nt.toRaw(e.value),!0),t?e:[`${n}=Ref<`,e,">"]):Z.isFunction(e)?[`${n}=fn${e.name?`<${e.name}>`:""}`]:(e=nt.toRaw(e),t?e:[`${n}=`,e])}function Sa(n,e,t,i){let r;try{r=i?n(...i):n()}catch(s){Pc(s,e,t)}return r}function Ts(n,e,t,i){if(Z.isFunction(n)){let s=Sa(n,e,t,i);return s&&Z.isPromise(s)&&s.catch(a=>{Pc(a,e,t)}),s}let r=[];for(let s=0;s<n.length;s++)r.push(Ts(n[s],e,t,i));return r}function Pc(n,e,t,i=!0){let r=e?e.vnode:null;if(e){let s=e.parent,a=e.proxy,o=t;for(;s;){let c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](n,a,o)===!1)return}s=s.parent}let l=e.appContext.config.errorHandler;if(l){Sa(l,null,10,[n,a,o]);return}}xj(n,t,r,i)}function xj(n,e,t,i=!0){console.error(n)}var Ry=!1,mT=!1,Qr=[],uo=0,Md=[],Td=null,Th=0,Cd=[],vl=null,wh=0,EO=Promise.resolve(),AT=null,gT=null;function SO(n){let e=AT||EO;return n?e.then(this?n.bind(this):n):e}function bj(n){let e=uo+1,t=Qr.length;for(;e<t;){let i=e+t>>>1;Ld(Qr[i])<n?e=i+1:t=i}return e}function MT(n){(!Qr.length||!Qr.includes(n,Ry&&n.allowRecurse?uo+1:uo))&&n!==gT&&(n.id==null?Qr.push(n):Qr.splice(bj(n.id),0,n),TO())}function TO(){!Ry&&!mT&&(mT=!0,AT=EO.then(AO))}function Ej(n){let e=Qr.indexOf(n);e>uo&&Qr.splice(e,1)}function wO(n,e,t,i){Z.isArray(n)?t.push(...n):(!e||!e.includes(n,n.allowRecurse?i+1:i))&&t.push(n),TO()}function Sj(n){wO(n,Td,Md,Th)}function CT(n){wO(n,vl,Cd,wh)}function zy(n,e=null){if(Md.length){for(gT=e,Td=[...new Set(Md)],Md.length=0,Th=0;Th<Td.length;Th++)Td[Th]();Td=null,Th=0,gT=null,zy(n,e)}}function Ly(n){if(zy(),Cd.length){let e=[...new Set(Cd)];if(Cd.length=0,vl){vl.push(...e);return}for(vl=e,vl.sort((t,i)=>Ld(t)-Ld(i)),wh=0;wh<vl.length;wh++)vl[wh]();vl=null,wh=0}}var Ld=n=>n.id==null?1/0:n.id;function AO(n){mT=!1,Ry=!0,zy(n),Qr.sort((t,i)=>Ld(t)-Ld(i));let e=Z.NOOP;try{for(uo=0;uo<Qr.length;uo++){let t=Qr[uo];t&&t.active!==!1&&Sa(t,null,14)}}finally{uo=0,Qr.length=0,Ly(),Ry=!1,AT=null,(Qr.length||Md.length||Cd.length)&&AO(n)}}var Ay=[];function MO(n,e){var t,i;Re.devtools=n,Re.devtools?(Re.devtools.enabled=!0,Ay.forEach(({event:r,args:s})=>Re.devtools.emit(r,...s)),Ay=[]):typeof window!="undefined"&&window.HTMLElement&&!(!((i=(t=window.navigator)===null||t===void 0?void 0:t.userAgent)===null||i===void 0)&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{MO(s,e)}),setTimeout(()=>{Re.devtools||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Ay=[])},3e3)):Ay=[]}function Tj(n,e,...t){if(n.isUnmounted)return;let i=n.vnode.props||Z.EMPTY_OBJ,r=t,s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in i){let u=`${a==="modelValue"?"model":a}Modifiers`,{number:h,trim:d}=i[u]||Z.EMPTY_OBJ;d&&(r=t.map(m=>m.trim())),h&&(r=t.map(Z.toNumber))}let o,l=i[o=Z.toHandlerKey(e)]||i[o=Z.toHandlerKey(Z.camelize(e))];!l&&s&&(l=i[o=Z.toHandlerKey(Z.hyphenate(e))]),l&&Ts(l,n,6,r);let c=i[o+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[o])return;n.emitted[o]=!0,Ts(c,n,6,r)}}function CO(n,e,t=!1){let i=e.emitsCache,r=i.get(n);if(r!==void 0)return r;let s=n.emits,a={},o=!1;if(!Z.isFunction(n)){let l=c=>{let u=CO(c,e,!0);u&&(o=!0,Z.extend(a,u))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!s&&!o?(i.set(n,null),null):(Z.isArray(s)?s.forEach(l=>a[l]=null):Z.extend(a,s),i.set(n,a),a)}function Vy(n,e){return!n||!Z.isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),Z.hasOwn(n,e[0].toLowerCase()+e.slice(1))||Z.hasOwn(n,Z.hyphenate(e))||Z.hasOwn(n,e))}var or=null,Hy=null;function Od(n){let e=or;return or=n,Hy=n&&n.type.__scopeId||null,e}function wj(n){Hy=n}function Aj(){Hy=null}var Mj=n=>PT;function PT(n,e=or,t){if(!e||n._n)return n;let i=(...r)=>{i._d&&ST(-1);let s=Od(e),a=n(...r);return Od(s),i._d&&ST(1),a};return i._n=!0,i._c=!0,i._d=!0,i}function Iy(n){let{type:e,vnode:t,proxy:i,withProxy:r,props:s,propsOptions:[a],slots:o,attrs:l,emit:c,render:u,renderCache:h,data:d,setupState:m,ctx:v,inheritAttrs:_}=n,g,y,b=Od(n);try{if(t.shapeFlag&4){let w=r||i;g=Zr(u.call(w,w,h,s,m,d,v)),y=l}else{let w=e;g=Zr(w.length>1?w(s,{attrs:l,slots:o,emit:c}):w(s,null)),y=e.props?l:Pj(l)}}catch(w){Rd.length=0,Pc(w,n,1),g=cn(lr)}let E=g;if(y&&_!==!1){let w=Object.keys(y),{shapeFlag:D}=E;w.length&&D&7&&(a&&w.some(Z.isModelListener)&&(y=Ij(y,a)),E=Ta(E,y))}return t.dirs&&(E=Ta(E),E.dirs=E.dirs?E.dirs.concat(t.dirs):t.dirs),t.transition&&(E.transition=t.transition),g=E,Od(b),g}function Cj(n){let e;for(let t=0;t<n.length;t++){let i=n[t];if(bl(i)){if(i.type!==lr||i.children==="v-if"){if(e)return;e=i}}else return}return e}var Pj=n=>{let e;for(let t in n)(t==="class"||t==="style"||Z.isOn(t))&&((e||(e={}))[t]=n[t]);return e},Ij=(n,e)=>{let t={};for(let i in n)(!Z.isModelListener(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function Dj(n,e,t){let{props:i,children:r,component:s}=n,{props:a,children:o,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return i?lO(i,a,c):!!a;if(l&8){let u=e.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(a[d]!==i[d]&&!Vy(c,d))return!0}}}else return(r||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?lO(i,a,c):!0:!!a;return!1}function lO(n,e,t){let i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let r=0;r<i.length;r++){let s=i[r];if(e[s]!==n[s]&&!Vy(t,s))return!0}return!1}function IT({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}var PO=n=>n.__isSuspense,Rj={name:"Suspense",__isSuspense:!0,process(n,e,t,i,r,s,a,o,l,c){n==null?Oj(e,t,i,r,s,a,o,l,c):Nj(n,e,t,i,r,a,o,l,c)},hydrate:kj,create:DT,normalize:Fj},Lj=Rj;function Nd(n,e){let t=n.props&&n.props[e];Z.isFunction(t)&&t()}function Oj(n,e,t,i,r,s,a,o,l){let{p:c,o:{createElement:u}}=l,h=u("div"),d=n.suspense=DT(n,r,i,e,h,t,s,a,o,l);c(null,d.pendingBranch=n.ssContent,h,null,i,d,s,a),d.deps>0?(Nd(n,"onPending"),Nd(n,"onFallback"),c(null,n.ssFallback,e,t,i,null,s,a),Ah(d,n.ssFallback)):d.resolve()}function Nj(n,e,t,i,r,s,a,o,{p:l,um:c,o:{createElement:u}}){let h=e.suspense=n.suspense;h.vnode=e,e.el=n.el;let d=e.ssContent,m=e.ssFallback,{activeBranch:v,pendingBranch:_,isInFallback:g,isHydrating:y}=h;if(_)h.pendingBranch=d,Ea(d,_)?(l(_,d,h.hiddenContainer,null,r,h,s,a,o),h.deps<=0?h.resolve():g&&(l(v,m,t,i,r,null,s,a,o),Ah(h,m))):(h.pendingId++,y?(h.isHydrating=!1,h.activeBranch=_):c(_,r,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),g?(l(null,d,h.hiddenContainer,null,r,h,s,a,o),h.deps<=0?h.resolve():(l(v,m,t,i,r,null,s,a,o),Ah(h,m))):v&&Ea(d,v)?(l(v,d,t,i,r,h,s,a,o),h.resolve(!0)):(l(null,d,h.hiddenContainer,null,r,h,s,a,o),h.deps<=0&&h.resolve()));else if(v&&Ea(d,v))l(v,d,t,i,r,h,s,a,o),Ah(h,d);else if(Nd(e,"onPending"),h.pendingBranch=d,h.pendingId++,l(null,d,h.hiddenContainer,null,r,h,s,a,o),h.deps<=0)h.resolve();else{let{timeout:b,pendingId:E}=h;b>0?setTimeout(()=>{h.pendingId===E&&h.fallback(m)},b):b===0&&h.fallback(m)}}function DT(n,e,t,i,r,s,a,o,l,c,u=!1){let{p:h,m:d,um:m,n:v,o:{parentNode:_,remove:g}}=c,y=Z.toNumber(n.props&&n.props.timeout),b={vnode:n,parent:e,parentComponent:t,isSVG:a,container:i,hiddenContainer:r,anchor:s,deps:0,pendingId:0,timeout:typeof y=="number"?y:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(E=!1){let{vnode:w,activeBranch:D,pendingBranch:P,pendingId:M,effects:R,parentComponent:I,container:A}=b;if(b.isHydrating)b.isHydrating=!1;else if(!E){let X=D&&P.transition&&P.transition.mode==="out-in";X&&(D.transition.afterLeave=()=>{M===b.pendingId&&d(P,A,J,0)});let{anchor:J}=b;D&&(J=v(D),m(D,I,b,!0)),X||d(P,A,J,0)}Ah(b,P),b.pendingBranch=null,b.isInFallback=!1;let N=b.parent,G=!1;for(;N;){if(N.pendingBranch){N.effects.push(...R),G=!0;break}N=N.parent}G||CT(R),b.effects=[],Nd(w,"onResolve")},fallback(E){if(!b.pendingBranch)return;let{vnode:w,activeBranch:D,parentComponent:P,container:M,isSVG:R}=b;Nd(w,"onFallback");let I=v(D),A=()=>{b.isInFallback&&(h(null,E,M,I,P,null,R,o,l),Ah(b,E))},N=E.transition&&E.transition.mode==="out-in";N&&(D.transition.afterLeave=A),b.isInFallback=!0,m(D,P,null,!0),N||A()},move(E,w,D){b.activeBranch&&d(b.activeBranch,E,w,D),b.container=E},next(){return b.activeBranch&&v(b.activeBranch)},registerDep(E,w){let D=!!b.pendingBranch;D&&b.deps++;let P=E.vnode.el;E.asyncDep.catch(M=>{Pc(M,E,0)}).then(M=>{if(E.isUnmounted||b.isUnmounted||b.pendingId!==E.suspenseId)return;E.asyncResolved=!0;let{vnode:R}=E;TT(E,M,!1),P&&(R.el=P);let I=!P&&E.subTree.el;w(E,R,_(P||E.subTree.el),P?null:v(E.subTree),b,a,l),I&&g(I),IT(E,R.el),D&&--b.deps===0&&b.resolve()})},unmount(E,w){b.isUnmounted=!0,b.activeBranch&&m(b.activeBranch,t,E,w),b.pendingBranch&&m(b.pendingBranch,t,E,w)}};return b}function kj(n,e,t,i,r,s,a,o,l){let c=e.suspense=DT(e,i,t,n.parentNode,document.createElement("div"),null,r,s,a,o,!0),u=l(n,c.pendingBranch=e.ssContent,t,c,s,a);return c.deps===0&&c.resolve(),u}function Fj(n){let{shapeFlag:e,children:t}=n,i=e&32;n.ssContent=cO(i?t.default:t),n.ssFallback=i?cO(t.fallback):cn(lr)}function cO(n){let e;if(Z.isFunction(n)){let t=Cc&&n._c;t&&(n._d=!1,qy()),n=n(),t&&(n._d=!0,e=kr,i2())}return Z.isArray(n)&&(n=Cj(n)),n=Zr(n),e&&!n.dynamicChildren&&(n.dynamicChildren=e.filter(t=>t!==n)),n}function IO(n,e){e&&e.pendingBranch?Z.isArray(n)?e.effects.push(...n):e.effects.push(n):CT(n)}function Ah(n,e){n.activeBranch=e;let{vnode:t,parentComponent:i}=n,r=t.el=e.el;i&&i.subTree===t&&(i.vnode.el=r,IT(i,r))}function DO(n,e){if(Un){let t=Un.provides,i=Un.parent&&Un.parent.provides;i===t&&(t=Un.provides=Object.create(i)),t[n]=e}}function Pd(n,e,t=!1){let i=Un||or;if(i){let r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&n in r)return r[n];if(arguments.length>1)return t&&Z.isFunction(e)?e.call(i.proxy):e}}function Bj(n,e){return Fd(n,null,e)}function Uj(n,e){return Fd(n,null,{flush:"post"})}function zj(n,e){return Fd(n,null,{flush:"sync"})}var uO={};function Id(n,e,t){return Fd(n,e,t)}function Fd(n,e,{immediate:t,deep:i,flush:r,onTrack:s,onTrigger:a}=Z.EMPTY_OBJ){let o=Un,l,c=!1,u=!1;if(nt.isRef(n)?(l=()=>n.value,c=nt.isShallow(n)):nt.isReactive(n)?(l=()=>n,i=!0):Z.isArray(n)?(u=!0,c=n.some(y=>nt.isReactive(y)||nt.isShallow(y)),l=()=>n.map(y=>{if(nt.isRef(y))return y.value;if(nt.isReactive(y))return Ac(y);if(Z.isFunction(y))return Sa(y,o,2)})):Z.isFunction(n)?e?l=()=>Sa(n,o,2):l=()=>{if(!(o&&o.isUnmounted))return h&&h(),Ts(n,o,3,[d])}:l=Z.NOOP,e&&i){let y=l;l=()=>Ac(y())}let h,d=y=>{h=g.onStop=()=>{Sa(y,o,4)}};if(Ph)return d=Z.NOOP,e?t&&Ts(e,o,3,[l(),u?[]:void 0,d]):l(),Z.NOOP;let m=u?[]:uO,v=()=>{if(g.active)if(e){let y=g.run();(i||c||(u?y.some((b,E)=>Z.hasChanged(b,m[E])):Z.hasChanged(y,m)))&&(h&&h(),Ts(e,o,3,[y,m===uO?void 0:m,d]),m=y)}else g.run()};v.allowRecurse=!!e;let _;r==="sync"?_=v:r==="post"?_=()=>Jn(v,o&&o.suspense):_=()=>Sj(v);let g=new nt.ReactiveEffect(l,_);return e?t?v():m=g.run():r==="post"?Jn(g.run.bind(g),o&&o.suspense):g.run(),()=>{g.stop(),o&&o.scope&&Z.remove(o.scope.effects,g)}}function Vj(n,e,t){let i=this.proxy,r=Z.isString(n)?n.includes(".")?RO(i,n):()=>i[n]:n.bind(i,i),s;Z.isFunction(e)?s=e:(s=e.handler,t=e);let a=Un;El(this);let o=Fd(r,s.bind(i),t);return a?El(a):xl(),o}function RO(n,e){let t=e.split(".");return()=>{let i=n;for(let r=0;r<t.length&&i;r++)i=i[t[r]];return i}}function Ac(n,e){if(!Z.isObject(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),nt.isRef(n))Ac(n.value,e);else if(Z.isArray(n))for(let t=0;t<n.length;t++)Ac(n[t],e);else if(Z.isSet(n)||Z.isMap(n))n.forEach(t=>{Ac(t,e)});else if(Z.isPlainObject(n))for(let t in n)Ac(n[t],e);return n}function LO(){let n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return $y(()=>{n.isMounted=!0}),Wy(()=>{n.isUnmounting=!0}),n}var Ss=[Function,Array],Hj={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ss,onEnter:Ss,onAfterEnter:Ss,onEnterCancelled:Ss,onBeforeLeave:Ss,onLeave:Ss,onAfterLeave:Ss,onLeaveCancelled:Ss,onBeforeAppear:Ss,onAppear:Ss,onAfterAppear:Ss,onAppearCancelled:Ss},setup(n,{slots:e}){let t=Ud(),i=LO(),r;return()=>{let s=e.default&&RT(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(let _ of s)if(_.type!==lr){a=_;break}}let o=nt.toRaw(n),{mode:l}=o;if(i.isLeaving)return hT(a);let c=hO(a);if(!c)return hT(a);let u=Oy(c,o,i,t);kd(c,u);let h=t.subTree,d=h&&hO(h),m=!1,{getTransitionKey:v}=c.type;if(v){let _=v();r===void 0?r=_:_!==r&&(r=_,m=!0)}if(d&&d.type!==lr&&(!Ea(c,d)||m)){let _=Oy(d,o,i,t);if(kd(d,_),l==="out-in")return i.isLeaving=!0,_.afterLeave=()=>{i.isLeaving=!1,t.update()},hT(a);l==="in-out"&&c.type!==lr&&(_.delayLeave=(g,y,b)=>{let E=OO(i,d);E[String(d.key)]=d,g._leaveCb=()=>{y(),g._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=b})}return a}}},Gj=Hj;function OO(n,e){let{leavingVNodes:t}=n,i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function Oy(n,e,t,i){let{appear:r,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:d,onAfterLeave:m,onLeaveCancelled:v,onBeforeAppear:_,onAppear:g,onAfterAppear:y,onAppearCancelled:b}=e,E=String(n.key),w=OO(t,n),D=(R,I)=>{R&&Ts(R,i,9,I)},P=(R,I)=>{let A=I[1];D(R,I),Z.isArray(R)?R.every(N=>N.length<=1)&&A():R.length<=1&&A()},M={mode:s,persisted:a,beforeEnter(R){let I=o;if(!t.isMounted)if(r)I=_||o;else return;R._leaveCb&&R._leaveCb(!0);let A=w[E];A&&Ea(n,A)&&A.el._leaveCb&&A.el._leaveCb(),D(I,[R])},enter(R){let I=l,A=c,N=u;if(!t.isMounted)if(r)I=g||l,A=y||c,N=b||u;else return;let G=!1,X=R._enterCb=J=>{G||(G=!0,J?D(N,[R]):D(A,[R]),M.delayedLeave&&M.delayedLeave(),R._enterCb=void 0)};I?P(I,[R,X]):X()},leave(R,I){let A=String(n.key);if(R._enterCb&&R._enterCb(!0),t.isUnmounting)return I();D(h,[R]);let N=!1,G=R._leaveCb=X=>{N||(N=!0,I(),X?D(v,[R]):D(m,[R]),R._leaveCb=void 0,w[A]===n&&delete w[A])};w[A]=n,d?P(d,[R,G]):G()},clone(R){return Oy(R,e,t,i)}};return M}function hT(n){if(Bd(n))return n=Ta(n),n.children=null,n}function hO(n){return Bd(n)?n.children?n.children[0]:void 0:n}function kd(n,e){n.shapeFlag&6&&n.component?kd(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function RT(n,e=!1,t){let i=[],r=0;for(let s=0;s<n.length;s++){let a=n[s],o=t==null?a.key:String(t)+String(a.key!=null?a.key:s);a.type===_r?(a.patchFlag&128&&r++,i=i.concat(RT(a.children,e,o))):(e||a.type!==lr)&&i.push(o!=null?Ta(a,{key:o}):a)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function NO(n){return Z.isFunction(n)?{setup:n,name:n.name}:n}var Mc=n=>!!n.type.__asyncLoader;function $j(n){Z.isFunction(n)&&(n={loader:n});let{loader:e,loadingComponent:t,errorComponent:i,delay:r=200,timeout:s,suspensible:a=!0,onError:o}=n,l=null,c,u=0,h=()=>(u++,l=null,d()),d=()=>{let m;return l||(m=l=e().catch(v=>{if(v=v instanceof Error?v:new Error(String(v)),o)return new Promise((_,g)=>{o(v,()=>_(h()),()=>g(v),u+1)});throw v}).then(v=>m!==l&&l?l:(v&&(v.__esModule||v[Symbol.toStringTag]==="Module")&&(v=v.default),c=v,v)))};return NO({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return c},setup(){let m=Un;if(c)return()=>fT(c,m);let v=b=>{l=null,Pc(b,m,13,!i)};if(a&&m.suspense||Ph)return d().then(b=>()=>fT(b,m)).catch(b=>(v(b),()=>i?cn(i,{error:b}):null));let _=nt.ref(!1),g=nt.ref(),y=nt.ref(!!r);return r&&setTimeout(()=>{y.value=!1},r),s!=null&&setTimeout(()=>{if(!_.value&&!g.value){let b=new Error(`Async component timed out after ${s}ms.`);v(b),g.value=b}},s),d().then(()=>{_.value=!0,m.parent&&Bd(m.parent.vnode)&&MT(m.parent.update)}).catch(b=>{v(b),g.value=b}),()=>{if(_.value&&c)return fT(c,m);if(g.value&&i)return cn(i,{error:g.value});if(t&&!y.value)return cn(t)}}})}function fT(n,{vnode:{ref:e,props:t,children:i,shapeFlag:r},parent:s}){let a=cn(n,t,i);return a.ref=e,a}var Bd=n=>n.type.__isKeepAlive,Wj={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:e}){let t=Ud(),i=t.ctx;if(!i.renderer)return()=>{let b=e.default&&e.default();return b&&b.length===1?b[0]:b};let r=new Map,s=new Set,a=null,o=t.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:h}}}=i,d=h("div");i.activate=(b,E,w,D,P)=>{let M=b.component;c(b,E,w,0,o),l(M.vnode,b,E,w,M,o,D,b.slotScopeIds,P),Jn(()=>{M.isDeactivated=!1,M.a&&Z.invokeArrayFns(M.a);let R=b.props&&b.props.onVnodeMounted;R&&Nr(R,M.parent,b)},o)},i.deactivate=b=>{let E=b.component;c(b,d,null,1,o),Jn(()=>{E.da&&Z.invokeArrayFns(E.da);let w=b.props&&b.props.onVnodeUnmounted;w&&Nr(w,E.parent,b),E.isDeactivated=!0},o)};function m(b){dT(b),u(b,t,o,!0)}function v(b){r.forEach((E,w)=>{let D=Uy(E.type);D&&(!b||!b(D))&&_(w)})}function _(b){let E=r.get(b);!a||E.type!==a.type?m(E):a&&dT(a),r.delete(b),s.delete(b)}Id(()=>[n.include,n.exclude],([b,E])=>{b&&v(w=>wd(b,w)),E&&v(w=>!wd(E,w))},{flush:"post",deep:!0});let g=null,y=()=>{g!=null&&r.set(g,pT(t.subTree))};return $y(y),LT(y),Wy(()=>{r.forEach(b=>{let{subTree:E,suspense:w}=t,D=pT(E);if(b.type===D.type){dT(D);let P=D.component.da;P&&Jn(P,w);return}m(b)})}),()=>{if(g=null,!e.default)return null;let b=e.default(),E=b[0];if(b.length>1)return a=null,b;if(!bl(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return a=null,E;let w=pT(E),D=w.type,P=Uy(Mc(w)?w.type.__asyncResolved||{}:D),{include:M,exclude:R,max:I}=n;if(M&&(!P||!wd(M,P))||R&&P&&wd(R,P))return a=w,E;let A=w.key==null?D:w.key,N=r.get(A);return w.el&&(w=Ta(w),E.shapeFlag&128&&(E.ssContent=w)),g=A,N?(w.el=N.el,w.component=N.component,w.transition&&kd(w,w.transition),w.shapeFlag|=512,s.delete(A),s.add(A)):(s.add(A),I&&s.size>parseInt(I,10)&&_(s.values().next().value)),w.shapeFlag|=256,a=w,PO(E.type)?E:w}}},qj=Wj;function wd(n,e){return Z.isArray(n)?n.some(t=>wd(t,e)):Z.isString(n)?n.split(",").includes(e):n.test?n.test(e):!1}function kO(n,e){BO(n,"a",e)}function FO(n,e){BO(n,"da",e)}function BO(n,e,t=Un){let i=n.__wdc||(n.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(Gy(e,i,t),t){let r=t.parent;for(;r&&r.parent;)Bd(r.parent.vnode)&&jj(i,e,t,r),r=r.parent}}function jj(n,e,t,i){let r=Gy(e,n,i,!0);OT(()=>{Z.remove(i[e],r)},t)}function dT(n){let e=n.shapeFlag;e&256&&(e-=256),e&512&&(e-=512),n.shapeFlag=e}function pT(n){return n.shapeFlag&128?n.ssContent:n}function Gy(n,e,t=Un,i=!1){if(t){let r=t[n]||(t[n]=[]),s=e.__weh||(e.__weh=(...a)=>{if(t.isUnmounted)return;nt.pauseTracking(),El(t);let o=Ts(e,t,n,a);return xl(),nt.resetTracking(),o});return i?r.unshift(s):r.push(s),s}}var ho=n=>(e,t=Un)=>(!Ph||n==="sp")&&Gy(n,e,t),UO=ho("bm"),$y=ho("m"),zO=ho("bu"),LT=ho("u"),Wy=ho("bum"),OT=ho("um"),VO=ho("sp"),HO=ho("rtg"),GO=ho("rtc");function $O(n,e=Un){Gy("ec",n,e)}function Xj(n,e){let t=or;if(t===null)return n;let i=Xy(t)||t.proxy,r=n.dirs||(n.dirs=[]);for(let s=0;s<e.length;s++){let[a,o,l,c=Z.EMPTY_OBJ]=e[s];Z.isFunction(a)&&(a={mounted:a,updated:a}),a.deep&&Ac(o),r.push({dir:a,instance:i,value:o,oldValue:void 0,arg:l,modifiers:c})}return n}function ba(n,e,t,i){let r=n.dirs,s=e&&e.dirs;for(let a=0;a<r.length;a++){let o=r[a];s&&(o.oldValue=s[a].value);let l=o.dir[i];l&&(nt.pauseTracking(),Ts(l,t,8,[n.el,o,n,e]),nt.resetTracking())}}var NT="components",Yj="directives";function Kj(n,e){return kT(NT,n,!0,e)||n}var WO=Symbol();function Jj(n){return Z.isString(n)?kT(NT,n,!1)||n:n||WO}function Zj(n){return kT(Yj,n)}function kT(n,e,t=!0,i=!1){let r=or||Un;if(r){let s=r.type;if(n===NT){let o=Uy(s,!1);if(o&&(o===e||o===Z.camelize(e)||o===Z.capitalize(Z.camelize(e))))return s}let a=fO(r[n]||s[n],e)||fO(r.appContext[n],e);return!a&&i?s:a}}function fO(n,e){return n&&(n[e]||n[Z.camelize(e)]||n[Z.capitalize(Z.camelize(e))])}function Qj(n,e,t,i){let r,s=t&&t[i];if(Z.isArray(n)||Z.isString(n)){r=new Array(n.length);for(let a=0,o=n.length;a<o;a++)r[a]=e(n[a],a,void 0,s&&s[a])}else if(typeof n=="number"){r=new Array(n);for(let a=0;a<n;a++)r[a]=e(a+1,a,void 0,s&&s[a])}else if(Z.isObject(n))if(n[Symbol.iterator])r=Array.from(n,(a,o)=>e(a,o,void 0,s&&s[o]));else{let a=Object.keys(n);r=new Array(a.length);for(let o=0,l=a.length;o<l;o++){let c=a[o];r[o]=e(n[c],c,o,s&&s[o])}}else r=[];return t&&(t[i]=r),r}function eX(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(Z.isArray(i))for(let r=0;r<i.length;r++)n[i[r].name]=i[r].fn;else i&&(n[i.name]=i.fn)}return n}function tX(n,e,t={},i,r){if(or.isCE||or.parent&&Mc(or.parent)&&or.parent.isCE)return cn("slot",e==="default"?null:{name:e},i&&i());let s=n[e];s&&s._c&&(s._d=!1),qy();let a=s&&qO(s(t)),o=UT(_r,{key:t.key||`_${e}`},a||(i?i():[]),a&&n._===1?64:-2);return!r&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function qO(n){return n.some(e=>bl(e)?!(e.type===lr||e.type===_r&&!qO(e.children)):!0)?n:null}function iX(n){let e={};for(let t in n)e[Z.toHandlerKey(t)]=n[t];return e}var yT=n=>n?l2(n)?Xy(n)||n.proxy:yT(n.parent):null,Ny=Z.extend(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>yT(n.parent),$root:n=>yT(n.root),$emit:n=>n.emit,$options:n=>XO(n),$forceUpdate:n=>n.f||(n.f=()=>MT(n.update)),$nextTick:n=>n.n||(n.n=SO.bind(n.proxy)),$watch:n=>Vj.bind(n)}),vT={get({_:n},e){let{ctx:t,setupState:i,data:r,props:s,accessCache:a,type:o,appContext:l}=n,c;if(e[0]!=="$"){let m=a[e];if(m!==void 0)switch(m){case 1:return i[e];case 2:return r[e];case 4:return t[e];case 3:return s[e]}else{if(i!==Z.EMPTY_OBJ&&Z.hasOwn(i,e))return a[e]=1,i[e];if(r!==Z.EMPTY_OBJ&&Z.hasOwn(r,e))return a[e]=2,r[e];if((c=n.propsOptions[0])&&Z.hasOwn(c,e))return a[e]=3,s[e];if(t!==Z.EMPTY_OBJ&&Z.hasOwn(t,e))return a[e]=4,t[e];_T&&(a[e]=0)}}let u=Ny[e],h,d;if(u)return e==="$attrs"&&nt.track(n,"get",e),u(n);if((h=o.__cssModules)&&(h=h[e]))return h;if(t!==Z.EMPTY_OBJ&&Z.hasOwn(t,e))return a[e]=4,t[e];if(d=l.config.globalProperties,Z.hasOwn(d,e))return d[e]},set({_:n},e,t){let{data:i,setupState:r,ctx:s}=n;return r!==Z.EMPTY_OBJ&&Z.hasOwn(r,e)?(r[e]=t,!0):i!==Z.EMPTY_OBJ&&Z.hasOwn(i,e)?(i[e]=t,!0):Z.hasOwn(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(s[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:r,propsOptions:s}},a){let o;return!!t[a]||n!==Z.EMPTY_OBJ&&Z.hasOwn(n,a)||e!==Z.EMPTY_OBJ&&Z.hasOwn(e,a)||(o=s[0])&&Z.hasOwn(o,a)||Z.hasOwn(i,a)||Z.hasOwn(Ny,a)||Z.hasOwn(r.config.globalProperties,a)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:Z.hasOwn(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}},nX=Z.extend({},vT,{get(n,e){if(e!==Symbol.unscopables)return vT.get(n,e,n)},has(n,e){return e[0]!=="_"&&!Z.isGloballyWhitelisted(e)}}),_T=!0;function rX(n){let e=XO(n),t=n.proxy,i=n.ctx;_T=!1,e.beforeCreate&&dO(e.beforeCreate,n,"bc");let{data:r,computed:s,methods:a,watch:o,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:m,updated:v,activated:_,deactivated:g,beforeDestroy:y,beforeUnmount:b,destroyed:E,unmounted:w,render:D,renderTracked:P,renderTriggered:M,errorCaptured:R,serverPrefetch:I,expose:A,inheritAttrs:N,components:G,directives:X,filters:J}=e;if(c&&sX(c,i,null,n.appContext.config.unwrapInjectedRef),a)for(let pe in a){let re=a[pe];Z.isFunction(re)&&(i[pe]=re.bind(t))}if(r){let pe=r.call(t,t);Z.isObject(pe)&&(n.data=nt.reactive(pe))}if(_T=!0,s)for(let pe in s){let re=s[pe],ne=Z.isFunction(re)?re.bind(t,t):Z.isFunction(re.get)?re.get.bind(t,t):Z.NOOP,qe=!Z.isFunction(re)&&Z.isFunction(re.set)?re.set.bind(t):Z.NOOP,je=d2({get:ne,set:qe});Object.defineProperty(i,pe,{enumerable:!0,configurable:!0,get:()=>je.value,set:et=>je.value=et})}if(o)for(let pe in o)jO(o[pe],i,t,pe);if(l){let pe=Z.isFunction(l)?l.call(t):l;Reflect.ownKeys(pe).forEach(re=>{DO(re,pe[re])})}u&&dO(u,n,"c");function te(pe,re){Z.isArray(re)?re.forEach(ne=>pe(ne.bind(t))):re&&pe(re.bind(t))}if(te(UO,h),te($y,d),te(zO,m),te(LT,v),te(kO,_),te(FO,g),te($O,R),te(GO,P),te(HO,M),te(Wy,b),te(OT,w),te(VO,I),Z.isArray(A))if(A.length){let pe=n.exposed||(n.exposed={});A.forEach(re=>{Object.defineProperty(pe,re,{get:()=>t[re],set:ne=>t[re]=ne})})}else n.exposed||(n.exposed={});D&&n.render===Z.NOOP&&(n.render=D),N!=null&&(n.inheritAttrs=N),G&&(n.components=G),X&&(n.directives=X)}function sX(n,e,t=Z.NOOP,i=!1){Z.isArray(n)&&(n=xT(n));for(let r in n){let s=n[r],a;Z.isObject(s)?"default"in s?a=Pd(s.from||r,s.default,!0):a=Pd(s.from||r):a=Pd(s),nt.isRef(a)&&i?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):e[r]=a}}function dO(n,e,t){Ts(Z.isArray(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function jO(n,e,t,i){let r=i.includes(".")?RO(t,i):()=>t[i];if(Z.isString(n)){let s=e[n];Z.isFunction(s)&&Id(r,s)}else if(Z.isFunction(n))Id(r,n.bind(t));else if(Z.isObject(n))if(Z.isArray(n))n.forEach(s=>jO(s,e,t,i));else{let s=Z.isFunction(n.handler)?n.handler.bind(t):e[n.handler];Z.isFunction(s)&&Id(r,s,n)}}function XO(n){let e=n.type,{mixins:t,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:a}}=n.appContext,o=s.get(e),l;return o?l=o:!r.length&&!t&&!i?l=e:(l={},r.length&&r.forEach(c=>ky(l,c,a,!0)),ky(l,e,a)),s.set(e,l),l}function ky(n,e,t,i=!1){let{mixins:r,extends:s}=e;s&&ky(n,s,t,!0),r&&r.forEach(a=>ky(n,a,t,!0));for(let a in e)if(!(i&&a==="expose")){let o=aX[a]||t&&t[a];n[a]=o?o(n[a],e[a]):e[a]}return n}var aX={data:pO,props:wc,emits:wc,methods:wc,computed:wc,beforeCreate:vr,created:vr,beforeMount:vr,mounted:vr,beforeUpdate:vr,updated:vr,beforeDestroy:vr,beforeUnmount:vr,destroyed:vr,unmounted:vr,activated:vr,deactivated:vr,errorCaptured:vr,serverPrefetch:vr,components:wc,directives:wc,watch:lX,provide:pO,inject:oX};function pO(n,e){return e?n?function(){return Z.extend(Z.isFunction(n)?n.call(this,this):n,Z.isFunction(e)?e.call(this,this):e)}:e:n}function oX(n,e){return wc(xT(n),xT(e))}function xT(n){if(Z.isArray(n)){let e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function vr(n,e){return n?[...new Set([].concat(n,e))]:e}function wc(n,e){return n?Z.extend(Z.extend(Object.create(null),n),e):e}function lX(n,e){if(!n)return e;if(!e)return n;let t=Z.extend(Object.create(null),n);for(let i in e)t[i]=vr(n[i],e[i]);return t}function cX(n,e,t,i=!1){let r={},s={};Z.def(s,jy,1),n.propsDefaults=Object.create(null),YO(n,e,r,s);for(let a in n.propsOptions[0])a in r||(r[a]=void 0);t?n.props=i?r:nt.shallowReactive(r):n.type.props?n.props=r:n.props=s,n.attrs=s}function uX(n,e,t,i){let{props:r,attrs:s,vnode:{patchFlag:a}}=n,o=nt.toRaw(r),[l]=n.propsOptions,c=!1;if((i||a>0)&&!(a&16)){if(a&8){let u=n.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Vy(n.emitsOptions,d))continue;let m=e[d];if(l)if(Z.hasOwn(s,d))m!==s[d]&&(s[d]=m,c=!0);else{let v=Z.camelize(d);r[v]=bT(l,o,v,m,n,!1)}else m!==s[d]&&(s[d]=m,c=!0)}}}else{YO(n,e,r,s)&&(c=!0);let u;for(let h in o)(!e||!Z.hasOwn(e,h)&&((u=Z.hyphenate(h))===h||!Z.hasOwn(e,u)))&&(l?t&&(t[h]!==void 0||t[u]!==void 0)&&(r[h]=bT(l,o,h,void 0,n,!0)):delete r[h]);if(s!==o)for(let h in s)(!e||!Z.hasOwn(e,h))&&(delete s[h],c=!0)}c&&nt.trigger(n,"set","$attrs")}function YO(n,e,t,i){let[r,s]=n.propsOptions,a=!1,o;if(e)for(let l in e){if(Z.isReservedProp(l))continue;let c=e[l],u;r&&Z.hasOwn(r,u=Z.camelize(l))?!s||!s.includes(u)?t[u]=c:(o||(o={}))[u]=c:Vy(n.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,a=!0)}if(s){let l=nt.toRaw(t),c=o||Z.EMPTY_OBJ;for(let u=0;u<s.length;u++){let h=s[u];t[h]=bT(r,l,h,c[h],n,!Z.hasOwn(c,h))}}return a}function bT(n,e,t,i,r,s){let a=n[t];if(a!=null){let o=Z.hasOwn(a,"default");if(o&&i===void 0){let l=a.default;if(a.type!==Function&&Z.isFunction(l)){let{propsDefaults:c}=r;t in c?i=c[t]:(El(r),i=c[t]=l.call(null,e),xl())}else i=l}a[0]&&(s&&!o?i=!1:a[1]&&(i===""||i===Z.hyphenate(t))&&(i=!0))}return i}function KO(n,e,t=!1){let i=e.propsCache,r=i.get(n);if(r)return r;let s=n.props,a={},o=[],l=!1;if(!Z.isFunction(n)){let u=h=>{l=!0;let[d,m]=KO(h,e,!0);Z.extend(a,d),m&&o.push(...m)};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!s&&!l)return i.set(n,Z.EMPTY_ARR),Z.EMPTY_ARR;if(Z.isArray(s))for(let u=0;u<s.length;u++){let h=Z.camelize(s[u]);mO(h)&&(a[h]=Z.EMPTY_OBJ)}else if(s)for(let u in s){let h=Z.camelize(u);if(mO(h)){let d=s[u],m=a[h]=Z.isArray(d)||Z.isFunction(d)?{type:d}:d;if(m){let v=vO(Boolean,m.type),_=vO(String,m.type);m[0]=v>-1,m[1]=_<0||v<_,(v>-1||Z.hasOwn(m,"default"))&&o.push(h)}}}let c=[a,o];return i.set(n,c),c}function mO(n){return n[0]!=="$"}function gO(n){let e=n&&n.toString().match(/^\s*function (\w+)/);return e?e[1]:n===null?"null":""}function yO(n,e){return gO(n)===gO(e)}function vO(n,e){return Z.isArray(e)?e.findIndex(t=>yO(t,n)):Z.isFunction(e)&&yO(e,n)?0:-1}var JO=n=>n[0]==="_"||n==="$stable",FT=n=>Z.isArray(n)?n.map(Zr):[Zr(n)],hX=(n,e,t)=>{if(e._n)return e;let i=PT((...r)=>FT(e(...r)),t);return i._c=!1,i},ZO=(n,e,t)=>{let i=n._ctx;for(let r in n){if(JO(r))continue;let s=n[r];if(Z.isFunction(s))e[r]=hX(r,s,i);else if(s!=null){let a=FT(s);e[r]=()=>a}}},QO=(n,e)=>{let t=FT(e);n.slots.default=()=>t},fX=(n,e)=>{if(n.vnode.shapeFlag&32){let t=e._;t?(n.slots=nt.toRaw(e),Z.def(e,"_",t)):ZO(e,n.slots={})}else n.slots={},e&&QO(n,e);Z.def(n.slots,jy,1)},dX=(n,e,t)=>{let{vnode:i,slots:r}=n,s=!0,a=Z.EMPTY_OBJ;if(i.shapeFlag&32){let o=e._;o?t&&o===1?s=!1:(Z.extend(r,e),!t&&o===1&&delete r._):(s=!e.$stable,ZO(e,r)),a=e}else e&&(QO(n,e),a={default:1});if(s)for(let o in r)!JO(o)&&!(o in a)&&delete r[o]};function e2(){return{app:null,config:{isNativeTag:Z.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var pX=0;function mX(n,e){return function(i,r=null){Z.isFunction(i)||(i=Vi({},i)),r!=null&&!Z.isObject(r)&&(r=null);let s=e2(),a=new Set,o=!1,l=s.app={_uid:pX++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:y2,get config(){return s.config},set config(c){},use(c,...u){return a.has(c)||(c&&Z.isFunction(c.install)?(a.add(c),c.install(l,...u)):Z.isFunction(c)&&(a.add(c),c(l,...u))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,u){return u?(s.components[c]=u,l):s.components[c]},directive(c,u){return u?(s.directives[c]=u,l):s.directives[c]},mount(c,u,h){if(!o){let d=cn(i,r);return d.appContext=s,u&&e?e(d,c):n(d,c,h),o=!0,l._container=c,c.__vue_app__=l,Xy(d.component)||d.component.proxy}},unmount(){o&&(n(null,l._container),delete l._container.__vue_app__)},provide(c,u){return s.provides[c]=u,l}};return l}}function Fy(n,e,t,i,r=!1){if(Z.isArray(n)){n.forEach((d,m)=>Fy(d,e&&(Z.isArray(e)?e[m]:e),t,i,r));return}if(Mc(i)&&!r)return;let s=i.shapeFlag&4?Xy(i.component)||i.component.proxy:i.el,a=r?null:s,{i:o,r:l}=n,c=e&&e.r,u=o.refs===Z.EMPTY_OBJ?o.refs={}:o.refs,h=o.setupState;if(c!=null&&c!==l&&(Z.isString(c)?(u[c]=null,Z.hasOwn(h,c)&&(h[c]=null)):nt.isRef(c)&&(c.value=null)),Z.isFunction(l))Sa(l,o,12,[a,u]);else{let d=Z.isString(l),m=nt.isRef(l);if(d||m){let v=()=>{if(n.f){let _=d?u[l]:l.value;r?Z.isArray(_)&&Z.remove(_,s):Z.isArray(_)?_.includes(s)||_.push(s):d?(u[l]=[s],Z.hasOwn(h,l)&&(h[l]=u[l])):(l.value=[s],n.k&&(u[n.k]=l.value))}else d?(u[l]=a,Z.hasOwn(h,l)&&(h[l]=a)):m&&(l.value=a,n.k&&(u[n.k]=a))};a?(v.id=-1,Jn(v,t)):v()}}}var yl=!1,My=n=>/svg/.test(n.namespaceURI)&&n.tagName!=="foreignObject",Cy=n=>n.nodeType===8;function gX(n){let{mt:e,p:t,o:{patchProp:i,createText:r,nextSibling:s,parentNode:a,remove:o,insert:l,createComment:c}}=n,u=(y,b)=>{if(!b.hasChildNodes()){t(null,y,b),Ly(),b._vnode=y;return}yl=!1,h(b.firstChild,y,null,null,null),Ly(),b._vnode=y,yl&&console.error("Hydration completed but contains mismatches.")},h=(y,b,E,w,D,P=!1)=>{let M=Cy(y)&&y.data==="[",R=()=>_(y,b,E,w,D,M),{type:I,ref:A,shapeFlag:N,patchFlag:G}=b,X=y.nodeType;b.el=y,G===-2&&(P=!1,b.dynamicChildren=null);let J=null;switch(I){case Ch:X!==3?b.children===""?(l(b.el=r(""),a(y),y),J=y):J=R():(y.data!==b.children&&(yl=!0,y.data=b.children),J=s(y));break;case lr:X!==8||M?J=R():J=s(y);break;case Mh:if(X!==1&&X!==3)J=R();else{J=y;let ge=!b.children.length;for(let te=0;te<b.staticCount;te++)ge&&(b.children+=J.nodeType===1?J.outerHTML:J.data),te===b.staticCount-1&&(b.anchor=J),J=s(J);return J}break;case _r:M?J=v(y,b,E,w,D,P):J=R();break;default:if(N&1)X!==1||b.type.toLowerCase()!==y.tagName.toLowerCase()?J=R():J=d(y,b,E,w,D,P);else if(N&6){b.slotScopeIds=D;let ge=a(y);if(e(b,ge,null,E,w,My(ge),P),J=M?g(y):s(y),J&&Cy(J)&&J.data==="teleport end"&&(J=s(J)),Mc(b)){let te;M?(te=cn(_r),te.anchor=J?J.previousSibling:ge.lastChild):te=y.nodeType===3?VT(""):cn("div"),te.el=y,b.component.subTree=te}}else N&64?X!==8?J=R():J=b.type.hydrate(y,b,E,w,D,P,n,m):N&128&&(J=b.type.hydrate(y,b,E,w,My(a(y)),D,P,n,h))}return A!=null&&Fy(A,null,w,b),J},d=(y,b,E,w,D,P)=>{P=P||!!b.dynamicChildren;let{type:M,props:R,patchFlag:I,shapeFlag:A,dirs:N}=b,G=M==="input"&&N||M==="option";if(G||I!==-1){if(N&&ba(b,null,E,"created"),R)if(G||!P||I&48)for(let J in R)(G&&J.endsWith("value")||Z.isOn(J)&&!Z.isReservedProp(J))&&i(y,J,null,R[J],!1,void 0,E);else R.onClick&&i(y,"onClick",null,R.onClick,!1,void 0,E);let X;if((X=R&&R.onVnodeBeforeMount)&&Nr(X,E,b),N&&ba(b,null,E,"beforeMount"),((X=R&&R.onVnodeMounted)||N)&&IO(()=>{X&&Nr(X,E,b),N&&ba(b,null,E,"mounted")},w),A&16&&!(R&&(R.innerHTML||R.textContent))){let J=m(y.firstChild,b,y,E,w,D,P);for(;J;){yl=!0;let ge=J;J=J.nextSibling,o(ge)}}else A&8&&y.textContent!==b.children&&(yl=!0,y.textContent=b.children)}return y.nextSibling},m=(y,b,E,w,D,P,M)=>{M=M||!!b.dynamicChildren;let R=b.children,I=R.length;for(let A=0;A<I;A++){let N=M?R[A]:R[A]=Zr(R[A]);if(y)y=h(y,N,w,D,P,M);else{if(N.type===Ch&&!N.children)continue;yl=!0,t(null,N,E,null,w,D,My(E),P)}}return y},v=(y,b,E,w,D,P)=>{let{slotScopeIds:M}=b;M&&(D=D?D.concat(M):M);let R=a(y),I=m(s(y),b,R,E,w,D,P);return I&&Cy(I)&&I.data==="]"?s(b.anchor=I):(yl=!0,l(b.anchor=c("]"),R,I),I)},_=(y,b,E,w,D,P)=>{if(yl=!0,b.el=null,P){let I=g(y);for(;;){let A=s(y);if(A&&A!==I)o(A);else break}}let M=s(y),R=a(y);return o(y),t(null,b,R,M,E,w,My(R),D),M},g=y=>{let b=0;for(;y;)if(y=s(y),y&&Cy(y)&&(y.data==="["&&b++,y.data==="]")){if(b===0)return s(y);b--}return y};return[u,h]}var Jn=IO;function yX(n){return t2(n)}function vX(n){return t2(n,gX)}function t2(n,e){let t=Z.getGlobalThis();t.__VUE__=!0;let{insert:i,remove:r,patchProp:s,createElement:a,createText:o,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:m=Z.NOOP,cloneNode:v,insertStaticContent:_}=n,g=(K,ee,fe,Te=null,Ae=null,Pe=null,$e=!1,V=null,F=!!ee.dynamicChildren)=>{if(K===ee)return;K&&!Ea(K,ee)&&(Te=Ke(K),Ot(K,Ae,Pe,!0),K=null),ee.patchFlag===-2&&(F=!1,ee.dynamicChildren=null);let{type:Q,ref:be,shapeFlag:ye}=ee;switch(Q){case Ch:y(K,ee,fe,Te);break;case lr:b(K,ee,fe,Te);break;case Mh:K==null&&E(ee,fe,Te,$e);break;case _r:X(K,ee,fe,Te,Ae,Pe,$e,V,F);break;default:ye&1?P(K,ee,fe,Te,Ae,Pe,$e,V,F):ye&6?J(K,ee,fe,Te,Ae,Pe,$e,V,F):(ye&64||ye&128)&&Q.process(K,ee,fe,Te,Ae,Pe,$e,V,F,Rt)}be!=null&&Ae&&Fy(be,K&&K.ref,Pe,ee||K,!ee)},y=(K,ee,fe,Te)=>{if(K==null)i(ee.el=o(ee.children),fe,Te);else{let Ae=ee.el=K.el;ee.children!==K.children&&c(Ae,ee.children)}},b=(K,ee,fe,Te)=>{K==null?i(ee.el=l(ee.children||""),fe,Te):ee.el=K.el},E=(K,ee,fe,Te)=>{[K.el,K.anchor]=_(K.children,ee,fe,Te,K.el,K.anchor)},w=({el:K,anchor:ee},fe,Te)=>{let Ae;for(;K&&K!==ee;)Ae=d(K),i(K,fe,Te),K=Ae;i(ee,fe,Te)},D=({el:K,anchor:ee})=>{let fe;for(;K&&K!==ee;)fe=d(K),r(K),K=fe;r(ee)},P=(K,ee,fe,Te,Ae,Pe,$e,V,F)=>{$e=$e||ee.type==="svg",K==null?M(ee,fe,Te,Ae,Pe,$e,V,F):A(K,ee,Ae,Pe,$e,V,F)},M=(K,ee,fe,Te,Ae,Pe,$e,V)=>{let F,Q,{type:be,props:ye,shapeFlag:Ee,transition:We,patchFlag:q,dirs:$}=K;if(K.el&&v!==void 0&&q===-1)F=K.el=v(K.el);else{if(F=K.el=a(K.type,Pe,ye&&ye.is,ye),Ee&8?u(F,K.children):Ee&16&&I(K.children,F,null,Te,Ae,Pe&&be!=="foreignObject",$e,V),$&&ba(K,null,Te,"created"),ye){for(let O in ye)O!=="value"&&!Z.isReservedProp(O)&&s(F,O,null,ye[O],Pe,K.children,Te,Ae,ze);"value"in ye&&s(F,"value",null,ye.value),(Q=ye.onVnodeBeforeMount)&&Nr(Q,Te,K)}R(F,K,K.scopeId,$e,Te)}$&&ba(K,null,Te,"beforeMount");let U=(!Ae||Ae&&!Ae.pendingBranch)&&We&&!We.persisted;U&&We.beforeEnter(F),i(F,ee,fe),((Q=ye&&ye.onVnodeMounted)||U||$)&&Jn(()=>{Q&&Nr(Q,Te,K),U&&We.enter(F),$&&ba(K,null,Te,"mounted")},Ae)},R=(K,ee,fe,Te,Ae)=>{if(fe&&m(K,fe),Te)for(let Pe=0;Pe<Te.length;Pe++)m(K,Te[Pe]);if(Ae){let Pe=Ae.subTree;if(ee===Pe){let $e=Ae.vnode;R(K,$e,$e.scopeId,$e.slotScopeIds,Ae.parent)}}},I=(K,ee,fe,Te,Ae,Pe,$e,V,F=0)=>{for(let Q=F;Q<K.length;Q++){let be=K[Q]=V?_l(K[Q]):Zr(K[Q]);g(null,be,ee,fe,Te,Ae,Pe,$e,V)}},A=(K,ee,fe,Te,Ae,Pe,$e)=>{let V=ee.el=K.el,{patchFlag:F,dynamicChildren:Q,dirs:be}=ee;F|=K.patchFlag&16;let ye=K.props||Z.EMPTY_OBJ,Ee=ee.props||Z.EMPTY_OBJ,We;fe&&Tc(fe,!1),(We=Ee.onVnodeBeforeUpdate)&&Nr(We,fe,ee,K),be&&ba(ee,K,fe,"beforeUpdate"),fe&&Tc(fe,!0);let q=Ae&&ee.type!=="foreignObject";if(Q?N(K.dynamicChildren,Q,V,fe,Te,q,Pe):$e||ne(K,ee,V,null,fe,Te,q,Pe,!1),F>0){if(F&16)G(V,ee,ye,Ee,fe,Te,Ae);else if(F&2&&ye.class!==Ee.class&&s(V,"class",null,Ee.class,Ae),F&4&&s(V,"style",ye.style,Ee.style,Ae),F&8){let $=ee.dynamicProps;for(let U=0;U<$.length;U++){let O=$[U],Y=ye[O],se=Ee[O];(se!==Y||O==="value")&&s(V,O,Y,se,Ae,K.children,fe,Te,ze)}}F&1&&K.children!==ee.children&&u(V,ee.children)}else!$e&&Q==null&&G(V,ee,ye,Ee,fe,Te,Ae);((We=Ee.onVnodeUpdated)||be)&&Jn(()=>{We&&Nr(We,fe,ee,K),be&&ba(ee,K,fe,"updated")},Te)},N=(K,ee,fe,Te,Ae,Pe,$e)=>{for(let V=0;V<ee.length;V++){let F=K[V],Q=ee[V],be=F.el&&(F.type===_r||!Ea(F,Q)||F.shapeFlag&70)?h(F.el):fe;g(F,Q,be,null,Te,Ae,Pe,$e,!0)}},G=(K,ee,fe,Te,Ae,Pe,$e)=>{if(fe!==Te){for(let V in Te){if(Z.isReservedProp(V))continue;let F=Te[V],Q=fe[V];F!==Q&&V!=="value"&&s(K,V,Q,F,$e,ee.children,Ae,Pe,ze)}if(fe!==Z.EMPTY_OBJ)for(let V in fe)!Z.isReservedProp(V)&&!(V in Te)&&s(K,V,fe[V],null,$e,ee.children,Ae,Pe,ze);"value"in Te&&s(K,"value",fe.value,Te.value)}},X=(K,ee,fe,Te,Ae,Pe,$e,V,F)=>{let Q=ee.el=K?K.el:o(""),be=ee.anchor=K?K.anchor:o(""),{patchFlag:ye,dynamicChildren:Ee,slotScopeIds:We}=ee;We&&(V=V?V.concat(We):We),K==null?(i(Q,fe,Te),i(be,fe,Te),I(ee.children,fe,be,Ae,Pe,$e,V,F)):ye>0&&ye&64&&Ee&&K.dynamicChildren?(N(K.dynamicChildren,Ee,fe,Ae,Pe,$e,V),(ee.key!=null||Ae&&ee===Ae.subTree)&&BT(K,ee,!0)):ne(K,ee,fe,be,Ae,Pe,$e,V,F)},J=(K,ee,fe,Te,Ae,Pe,$e,V,F)=>{ee.slotScopeIds=V,K==null?ee.shapeFlag&512?Ae.ctx.activate(ee,fe,Te,$e,F):ge(ee,fe,Te,Ae,Pe,$e,F):te(K,ee,F)},ge=(K,ee,fe,Te,Ae,Pe,$e)=>{let V=K.component=o2(K,Te,Ae);if(Bd(K)&&(V.ctx.renderer=Rt),c2(V),V.asyncDep){if(Ae&&Ae.registerDep(V,pe),!K.el){let F=V.subTree=cn(lr);b(null,F,ee,fe)}return}pe(V,K,ee,fe,Ae,Pe,$e)},te=(K,ee,fe)=>{let Te=ee.component=K.component;if(Dj(K,ee,fe))if(Te.asyncDep&&!Te.asyncResolved){re(Te,ee,fe);return}else Te.next=ee,Ej(Te.update),Te.update();else ee.el=K.el,Te.vnode=ee},pe=(K,ee,fe,Te,Ae,Pe,$e)=>{let V=()=>{if(K.isMounted){let{next:be,bu:ye,u:Ee,parent:We,vnode:q}=K,$=be,U;Tc(K,!1),be?(be.el=q.el,re(K,be,$e)):be=q,ye&&Z.invokeArrayFns(ye),(U=be.props&&be.props.onVnodeBeforeUpdate)&&Nr(U,We,be,q),Tc(K,!0);let O=Iy(K),Y=K.subTree;K.subTree=O,g(Y,O,h(Y.el),Ke(Y),K,Ae,Pe),be.el=O.el,$===null&&IT(K,O.el),Ee&&Jn(Ee,Ae),(U=be.props&&be.props.onVnodeUpdated)&&Jn(()=>Nr(U,We,be,q),Ae)}else{let be,{el:ye,props:Ee}=ee,{bm:We,m:q,parent:$}=K,U=Mc(ee);if(Tc(K,!1),We&&Z.invokeArrayFns(We),!U&&(be=Ee&&Ee.onVnodeBeforeMount)&&Nr(be,$,ee),Tc(K,!0),ye&&Pt){let O=()=>{K.subTree=Iy(K),Pt(ye,K.subTree,K,Ae,null)};U?ee.type.__asyncLoader().then(()=>!K.isUnmounted&&O()):O()}else{let O=K.subTree=Iy(K);g(null,O,fe,Te,K,Ae,Pe),ee.el=O.el}if(q&&Jn(q,Ae),!U&&(be=Ee&&Ee.onVnodeMounted)){let O=ee;Jn(()=>Nr(be,$,O),Ae)}(ee.shapeFlag&256||$&&Mc($.vnode)&&$.vnode.shapeFlag&256)&&K.a&&Jn(K.a,Ae),K.isMounted=!0,ee=fe=Te=null}},F=K.effect=new nt.ReactiveEffect(V,()=>MT(Q),K.scope),Q=K.update=()=>F.run();Q.id=K.uid,Tc(K,!0),Q()},re=(K,ee,fe)=>{ee.component=K;let Te=K.vnode.props;K.vnode=ee,K.next=null,uX(K,ee.props,Te,fe),dX(K,ee.children,fe),nt.pauseTracking(),zy(void 0,K.update),nt.resetTracking()},ne=(K,ee,fe,Te,Ae,Pe,$e,V,F=!1)=>{let Q=K&&K.children,be=K?K.shapeFlag:0,ye=ee.children,{patchFlag:Ee,shapeFlag:We}=ee;if(Ee>0){if(Ee&128){je(Q,ye,fe,Te,Ae,Pe,$e,V,F);return}else if(Ee&256){qe(Q,ye,fe,Te,Ae,Pe,$e,V,F);return}}We&8?(be&16&&ze(Q,Ae,Pe),ye!==Q&&u(fe,ye)):be&16?We&16?je(Q,ye,fe,Te,Ae,Pe,$e,V,F):ze(Q,Ae,Pe,!0):(be&8&&u(fe,""),We&16&&I(ye,fe,Te,Ae,Pe,$e,V,F))},qe=(K,ee,fe,Te,Ae,Pe,$e,V,F)=>{K=K||Z.EMPTY_ARR,ee=ee||Z.EMPTY_ARR;let Q=K.length,be=ee.length,ye=Math.min(Q,be),Ee;for(Ee=0;Ee<ye;Ee++){let We=ee[Ee]=F?_l(ee[Ee]):Zr(ee[Ee]);g(K[Ee],We,fe,null,Ae,Pe,$e,V,F)}Q>be?ze(K,Ae,Pe,!0,!1,ye):I(ee,fe,Te,Ae,Pe,$e,V,F,ye)},je=(K,ee,fe,Te,Ae,Pe,$e,V,F)=>{let Q=0,be=ee.length,ye=K.length-1,Ee=be-1;for(;Q<=ye&&Q<=Ee;){let We=K[Q],q=ee[Q]=F?_l(ee[Q]):Zr(ee[Q]);if(Ea(We,q))g(We,q,fe,null,Ae,Pe,$e,V,F);else break;Q++}for(;Q<=ye&&Q<=Ee;){let We=K[ye],q=ee[Ee]=F?_l(ee[Ee]):Zr(ee[Ee]);if(Ea(We,q))g(We,q,fe,null,Ae,Pe,$e,V,F);else break;ye--,Ee--}if(Q>ye){if(Q<=Ee){let We=Ee+1,q=We<be?ee[We].el:Te;for(;Q<=Ee;)g(null,ee[Q]=F?_l(ee[Q]):Zr(ee[Q]),fe,q,Ae,Pe,$e,V,F),Q++}}else if(Q>Ee)for(;Q<=ye;)Ot(K[Q],Ae,Pe,!0),Q++;else{let We=Q,q=Q,$=new Map;for(Q=q;Q<=Ee;Q++){let Ie=ee[Q]=F?_l(ee[Q]):Zr(ee[Q]);Ie.key!=null&&$.set(Ie.key,Q)}let U,O=0,Y=Ee-q+1,se=!1,ue=0,Se=new Array(Y);for(Q=0;Q<Y;Q++)Se[Q]=0;for(Q=We;Q<=ye;Q++){let Ie=K[Q];if(O>=Y){Ot(Ie,Ae,Pe,!0);continue}let Be;if(Ie.key!=null)Be=$.get(Ie.key);else for(U=q;U<=Ee;U++)if(Se[U-q]===0&&Ea(Ie,ee[U])){Be=U;break}Be===void 0?Ot(Ie,Ae,Pe,!0):(Se[Be-q]=Q+1,Be>=ue?ue=Be:se=!0,g(Ie,ee[Be],fe,null,Ae,Pe,$e,V,F),O++)}let Ge=se?_X(Se):Z.EMPTY_ARR;for(U=Ge.length-1,Q=Y-1;Q>=0;Q--){let Ie=q+Q,Be=ee[Ie],L=Ie+1<be?ee[Ie+1].el:Te;Se[Q]===0?g(null,Be,fe,L,Ae,Pe,$e,V,F):se&&(U<0||Q!==Ge[U]?et(Be,fe,L,2):U--)}}},et=(K,ee,fe,Te,Ae=null)=>{let{el:Pe,type:$e,transition:V,children:F,shapeFlag:Q}=K;if(Q&6){et(K.component.subTree,ee,fe,Te);return}if(Q&128){K.suspense.move(ee,fe,Te);return}if(Q&64){$e.move(K,ee,fe,Rt);return}if($e===_r){i(Pe,ee,fe);for(let ye=0;ye<F.length;ye++)et(F[ye],ee,fe,Te);i(K.anchor,ee,fe);return}if($e===Mh){w(K,ee,fe);return}if(Te!==2&&Q&1&&V)if(Te===0)V.beforeEnter(Pe),i(Pe,ee,fe),Jn(()=>V.enter(Pe),Ae);else{let{leave:ye,delayLeave:Ee,afterLeave:We}=V,q=()=>i(Pe,ee,fe),$=()=>{ye(Pe,()=>{q(),We&&We()})};Ee?Ee(Pe,q,$):$()}else i(Pe,ee,fe)},Ot=(K,ee,fe,Te=!1,Ae=!1)=>{let{type:Pe,props:$e,ref:V,children:F,dynamicChildren:Q,shapeFlag:be,patchFlag:ye,dirs:Ee}=K;if(V!=null&&Fy(V,null,fe,K,!0),be&256){ee.ctx.deactivate(K);return}let We=be&1&&Ee,q=!Mc(K),$;if(q&&($=$e&&$e.onVnodeBeforeUnmount)&&Nr($,ee,K),be&6)Ve(K.component,fe,Te);else{if(be&128){K.suspense.unmount(fe,Te);return}We&&ba(K,null,ee,"beforeUnmount"),be&64?K.type.remove(K,ee,fe,Ae,Rt,Te):Q&&(Pe!==_r||ye>0&&ye&64)?ze(Q,ee,fe,!1,!0):(Pe===_r&&ye&384||!Ae&&be&16)&&ze(F,ee,fe),Te&&Me(K)}(q&&($=$e&&$e.onVnodeUnmounted)||We)&&Jn(()=>{$&&Nr($,ee,K),We&&ba(K,null,ee,"unmounted")},fe)},Me=K=>{let{type:ee,el:fe,anchor:Te,transition:Ae}=K;if(ee===_r){Ne(fe,Te);return}if(ee===Mh){D(K);return}let Pe=()=>{r(fe),Ae&&!Ae.persisted&&Ae.afterLeave&&Ae.afterLeave()};if(K.shapeFlag&1&&Ae&&!Ae.persisted){let{leave:$e,delayLeave:V}=Ae,F=()=>$e(fe,Pe);V?V(K.el,Pe,F):F()}else Pe()},Ne=(K,ee)=>{let fe;for(;K!==ee;)fe=d(K),r(K),K=fe;r(ee)},Ve=(K,ee,fe)=>{let{bum:Te,scope:Ae,update:Pe,subTree:$e,um:V}=K;Te&&Z.invokeArrayFns(Te),Ae.stop(),Pe&&(Pe.active=!1,Ot($e,K,ee,fe)),V&&Jn(V,ee),Jn(()=>{K.isUnmounted=!0},ee),ee&&ee.pendingBranch&&!ee.isUnmounted&&K.asyncDep&&!K.asyncResolved&&K.suspenseId===ee.pendingId&&(ee.deps--,ee.deps===0&&ee.resolve())},ze=(K,ee,fe,Te=!1,Ae=!1,Pe=0)=>{for(let $e=Pe;$e<K.length;$e++)Ot(K[$e],ee,fe,Te,Ae)},Ke=K=>K.shapeFlag&6?Ke(K.component.subTree):K.shapeFlag&128?K.suspense.next():d(K.anchor||K.el),gt=(K,ee,fe)=>{K==null?ee._vnode&&Ot(ee._vnode,null,null,!0):g(ee._vnode||null,K,ee,null,null,null,fe),Ly(),ee._vnode=K},Rt={p:g,um:Ot,m:et,r:Me,mt:ge,mc:I,pc:ne,pbc:N,n:Ke,o:n},ie,Pt;return e&&([ie,Pt]=e(Rt)),{render:gt,hydrate:ie,createApp:mX(gt,ie)}}function Tc({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function BT(n,e,t=!1){let i=n.children,r=e.children;if(Z.isArray(i)&&Z.isArray(r))for(let s=0;s<i.length;s++){let a=i[s],o=r[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=r[s]=_l(r[s]),o.el=a.el),t||BT(a,o))}}function _X(n){let e=n.slice(),t=[0],i,r,s,a,o,l=n.length;for(i=0;i<l;i++){let c=n[i];if(c!==0){if(r=t[t.length-1],n[r]<c){e[i]=r,t.push(i);continue}for(s=0,a=t.length-1;s<a;)o=s+a>>1,n[t[o]]<c?s=o+1:a=o;c<n[t[s]]&&(s>0&&(e[i]=t[s-1]),t[s]=i)}}for(s=t.length,a=t[s-1];s-- >0;)t[s]=a,a=e[a];return t}var xX=n=>n.__isTeleport,Dd=n=>n&&(n.disabled||n.disabled===""),_O=n=>typeof SVGElement!="undefined"&&n instanceof SVGElement,ET=(n,e)=>{let t=n&&n.to;return Z.isString(t)?e?e(t):null:t},bX={__isTeleport:!0,process(n,e,t,i,r,s,a,o,l,c){let{mc:u,pc:h,pbc:d,o:{insert:m,querySelector:v,createText:_,createComment:g}}=c,y=Dd(e.props),{shapeFlag:b,children:E,dynamicChildren:w}=e;if(n==null){let D=e.el=_(""),P=e.anchor=_("");m(D,t,i),m(P,t,i);let M=e.target=ET(e.props,v),R=e.targetAnchor=_("");M&&(m(R,M),a=a||_O(M));let I=(A,N)=>{b&16&&u(E,A,N,r,s,a,o,l)};y?I(t,P):M&&I(M,R)}else{e.el=n.el;let D=e.anchor=n.anchor,P=e.target=n.target,M=e.targetAnchor=n.targetAnchor,R=Dd(n.props),I=R?t:P,A=R?D:M;if(a=a||_O(P),w?(d(n.dynamicChildren,w,I,r,s,a,o),BT(n,e,!0)):l||h(n,e,I,A,r,s,a,o,!1),y)R||Py(e,t,D,c,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){let N=e.target=ET(e.props,v);N&&Py(e,N,null,c,0)}else R&&Py(e,P,M,c,1)}},remove(n,e,t,i,{um:r,o:{remove:s}},a){let{shapeFlag:o,children:l,anchor:c,targetAnchor:u,target:h,props:d}=n;if(h&&s(u),(a||!Dd(d))&&(s(c),o&16))for(let m=0;m<l.length;m++){let v=l[m];r(v,e,t,!0,!!v.dynamicChildren)}},move:Py,hydrate:EX};function Py(n,e,t,{o:{insert:i},m:r},s=2){s===0&&i(n.targetAnchor,e,t);let{el:a,anchor:o,shapeFlag:l,children:c,props:u}=n,h=s===2;if(h&&i(a,e,t),(!h||Dd(u))&&l&16)for(let d=0;d<c.length;d++)r(c[d],e,t,2);h&&i(o,e,t)}function EX(n,e,t,i,r,s,{o:{nextSibling:a,parentNode:o,querySelector:l}},c){let u=e.target=ET(e.props,l);if(u){let h=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Dd(e.props))e.anchor=c(a(n),e,o(n),t,i,r,s),e.targetAnchor=h;else{e.anchor=a(n);let d=h;for(;d;)if(d=a(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,u._lpa=e.targetAnchor&&a(e.targetAnchor);break}c(h,e,u,t,i,r,s)}}return e.anchor&&a(e.anchor)}var SX=bX,_r=Symbol(void 0),Ch=Symbol(void 0),lr=Symbol(void 0),Mh=Symbol(void 0),Rd=[],kr=null;function qy(n=!1){Rd.push(kr=n?null:[])}function i2(){Rd.pop(),kr=Rd[Rd.length-1]||null}var Cc=1;function ST(n){Cc+=n}function n2(n){return n.dynamicChildren=Cc>0?kr||Z.EMPTY_ARR:null,i2(),Cc>0&&kr&&kr.push(n),n}function TX(n,e,t,i,r,s){return n2(zT(n,e,t,i,r,s,!0))}function UT(n,e,t,i,r){return n2(cn(n,e,t,i,r,!0))}function bl(n){return n?n.__v_isVNode===!0:!1}function Ea(n,e){return n.type===e.type&&n.key===e.key}function wX(n){}var jy="__vInternal",r2=({key:n})=>n!=null?n:null,Dy=({ref:n,ref_key:e,ref_for:t})=>n!=null?Z.isString(n)||nt.isRef(n)||Z.isFunction(n)?{i:or,r:n,k:e,f:!!t}:n:null;function zT(n,e=null,t=null,i=0,r=null,s=n===_r?0:1,a=!1,o=!1){let l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&r2(e),ref:e&&Dy(e),scopeId:Hy,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return o?(HT(l,t),s&128&&n.normalize(l)):t&&(l.shapeFlag|=Z.isString(t)?8:16),Cc>0&&!a&&kr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&kr.push(l),l}var cn=AX;function AX(n,e=null,t=null,i=0,r=null,s=!1){if((!n||n===WO)&&(n=lr),bl(n)){let o=Ta(n,e,!0);return t&&HT(o,t),Cc>0&&!s&&kr&&(o.shapeFlag&6?kr[kr.indexOf(n)]=o:kr.push(o)),o.patchFlag|=-2,o}if(FX(n)&&(n=n.__vccOpts),e){e=s2(e);let{class:o,style:l}=e;o&&!Z.isString(o)&&(e.class=Z.normalizeClass(o)),Z.isObject(l)&&(nt.isProxy(l)&&!Z.isArray(l)&&(l=Z.extend({},l)),e.style=Z.normalizeStyle(l))}let a=Z.isString(n)?1:PO(n)?128:xX(n)?64:Z.isObject(n)?4:Z.isFunction(n)?2:0;return zT(n,e,t,i,r,a,s,!0)}function s2(n){return n?nt.isProxy(n)||jy in n?Z.extend({},n):n:null}function Ta(n,e,t=!1){let{props:i,ref:r,patchFlag:s,children:a}=n,o=e?a2(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:o,key:o&&r2(o),ref:e&&e.ref?t&&r?Z.isArray(r)?r.concat(Dy(e)):[r,Dy(e)]:Dy(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==_r?s===-1?16:s|16:s,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Ta(n.ssContent),ssFallback:n.ssFallback&&Ta(n.ssFallback),el:n.el,anchor:n.anchor}}function VT(n=" ",e=0){return cn(Ch,null,n,e)}function MX(n,e){let t=cn(Mh,null,n);return t.staticCount=e,t}function CX(n="",e=!1){return e?(qy(),UT(lr,null,n)):cn(lr,null,n)}function Zr(n){return n==null||typeof n=="boolean"?cn(lr):Z.isArray(n)?cn(_r,null,n.slice()):typeof n=="object"?_l(n):cn(Ch,null,String(n))}function _l(n){return n.el===null||n.memo?n:Ta(n)}function HT(n,e){let t=0,{shapeFlag:i}=n;if(e==null)e=null;else if(Z.isArray(e))t=16;else if(typeof e=="object")if(i&65){let r=e.default;r&&(r._c&&(r._d=!1),HT(n,r()),r._c&&(r._d=!0));return}else{t=32;let r=e._;!r&&!(jy in e)?e._ctx=or:r===3&&or&&(or.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Z.isFunction(e)?(e={default:e,_ctx:or},t=32):(e=String(e),i&64?(t=16,e=[VT(e)]):t=8);n.children=e,n.shapeFlag|=t}function a2(...n){let e={};for(let t=0;t<n.length;t++){let i=n[t];for(let r in i)if(r==="class")e.class!==i.class&&(e.class=Z.normalizeClass([e.class,i.class]));else if(r==="style")e.style=Z.normalizeStyle([e.style,i.style]);else if(Z.isOn(r)){let s=e[r],a=i[r];a&&s!==a&&!(Z.isArray(s)&&s.includes(a))&&(e[r]=s?[].concat(s,a):a)}else r!==""&&(e[r]=i[r])}return e}function Nr(n,e,t,i=null){Ts(n,e,7,[t,i])}var PX=e2(),IX=0;function o2(n,e,t){let i=n.type,r=(e?e.appContext:n.appContext)||PX,s={uid:IX++,vnode:n,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new nt.EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:KO(i,r),emitsOptions:CO(i,r),emit:null,emitted:null,propsDefaults:Z.EMPTY_OBJ,inheritAttrs:i.inheritAttrs,ctx:Z.EMPTY_OBJ,data:Z.EMPTY_OBJ,props:Z.EMPTY_OBJ,attrs:Z.EMPTY_OBJ,slots:Z.EMPTY_OBJ,refs:Z.EMPTY_OBJ,setupState:Z.EMPTY_OBJ,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Tj.bind(null,s),n.ce&&n.ce(s),s}var Un=null,Ud=()=>Un||or,El=n=>{Un=n,n.scope.on()},xl=()=>{Un&&Un.scope.off(),Un=null};function l2(n){return n.vnode.shapeFlag&4}var Ph=!1;function c2(n,e=!1){Ph=e;let{props:t,children:i}=n.vnode,r=l2(n);cX(n,t,r,e),fX(n,i);let s=r?DX(n,e):void 0;return Ph=!1,s}function DX(n,e){let t=n.type;n.accessCache=Object.create(null),n.proxy=nt.markRaw(new Proxy(n.ctx,vT));let{setup:i}=t;if(i){let r=n.setupContext=i.length>1?h2(n):null;El(n),nt.pauseTracking();let s=Sa(i,n,0,[n.props,r]);if(nt.resetTracking(),xl(),Z.isPromise(s)){if(s.then(xl,xl),e)return s.then(a=>{TT(n,a,e)}).catch(a=>{Pc(a,n,0)});n.asyncDep=s}else TT(n,s,e)}else u2(n,e)}function TT(n,e,t){Z.isFunction(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Z.isObject(e)&&(n.setupState=nt.proxyRefs(e)),u2(n,t)}var By,wT;function RX(n){By=n,wT=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,nX))}}var LX=()=>!By;function u2(n,e,t){let i=n.type;if(!n.render){if(!e&&By&&!i.render){let r=i.template;if(r){let{isCustomElement:s,compilerOptions:a}=n.appContext.config,{delimiters:o,compilerOptions:l}=i,c=Z.extend(Z.extend({isCustomElement:s,delimiters:o},a),l);i.render=By(r,c)}}n.render=i.render||Z.NOOP,wT&&wT(n)}El(n),nt.pauseTracking(),rX(n),nt.resetTracking(),xl()}function OX(n){return new Proxy(n.attrs,{get(e,t){return nt.track(n,"get","$attrs"),e[t]}})}function h2(n){let e=i=>{n.exposed=i||{}},t;return{get attrs(){return t||(t=OX(n))},slots:n.slots,emit:n.emit,expose:e}}function Xy(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(nt.proxyRefs(nt.markRaw(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Ny)return Ny[t](n)}}))}var NX=/(?:^|[-_])(\w)/g,kX=n=>n.replace(NX,e=>e.toUpperCase()).replace(/[-_]/g,"");function Uy(n,e=!0){return Z.isFunction(n)?n.displayName||n.name:n.name||e&&n.__name}function f2(n,e,t=!1){let i=Uy(e);if(!i&&e.__file){let r=e.__file.match(/([^/\\]+)\.\w+$/);r&&(i=r[1])}if(!i&&n&&n.parent){let r=s=>{for(let a in s)if(s[a]===e)return a};i=r(n.components||n.parent.type.components)||r(n.appContext.components)}return i?kX(i):t?"App":"Anonymous"}function FX(n){return Z.isFunction(n)&&"__vccOpts"in n}var d2=(n,e)=>nt.computed(n,e,Ph);function BX(){return null}function UX(){return null}function zX(n){}function VX(n,e){return null}function HX(){return p2().slots}function GX(){return p2().attrs}function p2(){let n=Ud();return n.setupContext||(n.setupContext=h2(n))}function $X(n,e){let t=Z.isArray(n)?n.reduce((i,r)=>(i[r]={},i),{}):n;for(let i in e){let r=t[i];r?Z.isArray(r)||Z.isFunction(r)?t[i]={type:r,default:e[i]}:r.default=e[i]:r===null&&(t[i]={default:e[i]})}return t}function WX(n,e){let t={};for(let i in n)e.includes(i)||Object.defineProperty(t,i,{enumerable:!0,get:()=>n[i]});return t}function qX(n){let e=Ud(),t=n();return xl(),Z.isPromise(t)&&(t=t.catch(i=>{throw El(e),i})),[t,()=>El(e)]}function jX(n,e,t){let i=arguments.length;return i===2?Z.isObject(e)&&!Z.isArray(e)?bl(e)?cn(n,null,[e]):cn(n,e):cn(n,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&bl(t)&&(t=[t]),cn(n,e,t))}var m2=Symbol(""),XX=()=>{{let n=Pd(m2);return n||xO("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),n}};function YX(){}function KX(n,e,t,i){let r=t[i];if(r&&g2(r,n))return r;let s=e();return s.memo=n.slice(),t[i]=s}function g2(n,e){let t=n.memo;if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(Z.hasChanged(t[i],e[i]))return!1;return Cc>0&&kr&&kr.push(n),!0}var y2="3.2.37",JX={createComponentInstance:o2,setupComponent:c2,renderComponentRoot:Iy,setCurrentRenderingInstance:Od,isVNode:bl,normalizeVNode:Zr},ZX=JX,QX=null,eY=null;Re.EffectScope=nt.EffectScope;Re.ReactiveEffect=nt.ReactiveEffect;Re.customRef=nt.customRef;Re.effect=nt.effect;Re.effectScope=nt.effectScope;Re.getCurrentScope=nt.getCurrentScope;Re.isProxy=nt.isProxy;Re.isReactive=nt.isReactive;Re.isReadonly=nt.isReadonly;Re.isRef=nt.isRef;Re.isShallow=nt.isShallow;Re.markRaw=nt.markRaw;Re.onScopeDispose=nt.onScopeDispose;Re.proxyRefs=nt.proxyRefs;Re.reactive=nt.reactive;Re.readonly=nt.readonly;Re.ref=nt.ref;Re.shallowReactive=nt.shallowReactive;Re.shallowReadonly=nt.shallowReadonly;Re.shallowRef=nt.shallowRef;Re.stop=nt.stop;Re.toRaw=nt.toRaw;Re.toRef=nt.toRef;Re.toRefs=nt.toRefs;Re.triggerRef=nt.triggerRef;Re.unref=nt.unref;Re.camelize=Z.camelize;Re.capitalize=Z.capitalize;Re.normalizeClass=Z.normalizeClass;Re.normalizeProps=Z.normalizeProps;Re.normalizeStyle=Z.normalizeStyle;Re.toDisplayString=Z.toDisplayString;Re.toHandlerKey=Z.toHandlerKey;Re.BaseTransition=Gj;Re.Comment=lr;Re.Fragment=_r;Re.KeepAlive=qj;Re.Static=Mh;Re.Suspense=Lj;Re.Teleport=SX;Re.Text=Ch;Re.callWithAsyncErrorHandling=Ts;Re.callWithErrorHandling=Sa;Re.cloneVNode=Ta;Re.compatUtils=eY;Re.computed=d2;Re.createBlock=UT;Re.createCommentVNode=CX;Re.createElementBlock=TX;Re.createElementVNode=zT;Re.createHydrationRenderer=vX;Re.createPropsRestProxy=WX;Re.createRenderer=yX;Re.createSlots=eX;Re.createStaticVNode=MX;Re.createTextVNode=VT;Re.createVNode=cn;Re.defineAsyncComponent=$j;Re.defineComponent=NO;Re.defineEmits=UX;Re.defineExpose=zX;Re.defineProps=BX;Re.getCurrentInstance=Ud;Re.getTransitionRawChildren=RT;Re.guardReactiveProps=s2;Re.h=jX;Re.handleError=Pc;Re.initCustomFormatter=YX;Re.inject=Pd;Re.isMemoSame=g2;Re.isRuntimeOnly=LX;Re.isVNode=bl;Re.mergeDefaults=$X;Re.mergeProps=a2;Re.nextTick=SO;Re.onActivated=kO;Re.onBeforeMount=UO;Re.onBeforeUnmount=Wy;Re.onBeforeUpdate=zO;Re.onDeactivated=FO;Re.onErrorCaptured=$O;Re.onMounted=$y;Re.onRenderTracked=GO;Re.onRenderTriggered=HO;Re.onServerPrefetch=VO;Re.onUnmounted=OT;Re.onUpdated=LT;Re.openBlock=qy;Re.popScopeId=Aj;Re.provide=DO;Re.pushScopeId=wj;Re.queuePostFlushCb=CT;Re.registerRuntimeCompiler=RX;Re.renderList=Qj;Re.renderSlot=tX;Re.resolveComponent=Kj;Re.resolveDirective=Zj;Re.resolveDynamicComponent=Jj;Re.resolveFilter=QX;Re.resolveTransitionHooks=Oy;Re.setBlockTracking=ST;Re.setDevtoolsHook=MO;Re.setTransitionHooks=kd;Re.ssrContextKey=m2;Re.ssrUtils=ZX;Re.toHandlers=iX;Re.transformVNodeArgs=wX;Re.useAttrs=GX;Re.useSSRContext=XX;Re.useSlots=HX;Re.useTransitionState=LO;Re.version=y2;Re.warn=xO;Re.watch=Id;Re.watchEffect=Bj;Re.watchPostEffect=Uj;Re.watchSyncEffect=zj;Re.withAsyncContext=qX;Re.withCtx=PT;Re.withDefaults=VX;Re.withDirectives=Xj;Re.withMemo=KX;Re.withScopeId=Mj});var x2=li((Kce,_2)=>{"use strict";_2.exports=v2()});var tN=li(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});var en=x2(),Mt=dl(),tY="http://www.w3.org/2000/svg",Dc=typeof document!="undefined"?document:null,b2=Dc&&Dc.createElement("template"),iY={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{let e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{let r=e?Dc.createElementNS(tY,n):Dc.createElement(n,t?{is:t}:void 0);return n==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:n=>Dc.createTextNode(n),createComment:n=>Dc.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Dc.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},cloneNode(n){let e=n.cloneNode(!0);return"_value"in n&&(e._value=n._value),e},insertStaticContent(n,e,t,i,r,s){let a=t?t.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),t),!(r===s||!(r=r.nextSibling)););else{b2.innerHTML=i?`<svg>${n}</svg>`:n;let o=b2.content;if(i){let l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function nY(n,e,t){let i=n._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}function rY(n,e,t){let i=n.style,r=Mt.isString(t);if(t&&!r){for(let s in t)WT(i,s,t[s]);if(e&&!Mt.isString(e))for(let s in e)t[s]==null&&WT(i,s,"")}else{let s=i.display;r?e!==t&&(i.cssText=t):e&&n.removeAttribute("style"),"_vod"in n&&(i.display=s)}}var E2=/\s*!important$/;function WT(n,e,t){if(Mt.isArray(t))t.forEach(i=>WT(n,e,i));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{let i=sY(n,e);E2.test(t)?n.setProperty(Mt.hyphenate(i),t.replace(E2,""),"important"):n[i]=t}}var S2=["Webkit","Moz","ms"],GT={};function sY(n,e){let t=GT[e];if(t)return t;let i=en.camelize(e);if(i!=="filter"&&i in n)return GT[e]=i;i=Mt.capitalize(i);for(let r=0;r<S2.length;r++){let s=S2[r]+i;if(s in n)return GT[e]=s}return e}var T2="http://www.w3.org/1999/xlink";function aY(n,e,t,i,r){if(i&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(T2,e.slice(6,e.length)):n.setAttributeNS(T2,e,t);else{let s=Mt.isSpecialBooleanAttr(e);t==null||s&&!Mt.includeBooleanAttr(t)?n.removeAttribute(e):n.setAttribute(e,s?"":t)}}function oY(n,e,t,i,r,s,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,r,s),n[e]=t==null?"":t;return}if(e==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=t;let l=t==null?"":t;(n.value!==l||n.tagName==="OPTION")&&(n.value=l),t==null&&n.removeAttribute(e);return}let o=!1;if(t===""||t==null){let l=typeof n[e];l==="boolean"?t=Mt.includeBooleanAttr(t):t==null&&l==="string"?(t="",o=!0):l==="number"&&(t=0,o=!0)}try{n[e]=t}catch(l){}o&&n.removeAttribute(e)}var[F2,lY]=(()=>{let n=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(n=performance.now.bind(performance));let t=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(t&&Number(t[1])<=53)}return[n,e]})(),qT=0,cY=Promise.resolve(),uY=()=>{qT=0},hY=()=>qT||(cY.then(uY),qT=F2());function po(n,e,t,i){n.addEventListener(e,t,i)}function fY(n,e,t,i){n.removeEventListener(e,t,i)}function dY(n,e,t,i,r=null){let s=n._vei||(n._vei={}),a=s[e];if(i&&a)a.value=i;else{let[o,l]=pY(e);if(i){let c=s[e]=mY(i,r);po(n,o,c,l)}else a&&(fY(n,o,a,l),s[e]=void 0)}}var w2=/(?:Once|Passive|Capture)$/;function pY(n){let e;if(w2.test(n)){e={};let t;for(;t=n.match(w2);)n=n.slice(0,n.length-t[0].length),e[t[0].toLowerCase()]=!0}return[Mt.hyphenate(n.slice(2)),e]}function mY(n,e){let t=i=>{let r=i.timeStamp||F2();(lY||r>=t.attached-1)&&en.callWithAsyncErrorHandling(gY(i,t.value),e,5,[i])};return t.value=n,t.attached=hY(),t}function gY(n,e){if(Mt.isArray(e)){let t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}var A2=/^on[a-z]/,yY=(n,e,t,i,r=!1,s,a,o,l)=>{e==="class"?nY(n,i,r):e==="style"?rY(n,t,i):Mt.isOn(e)?Mt.isModelListener(e)||dY(n,e,t,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):vY(n,e,i,r))?oY(n,e,i,s,a,o,l):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),aY(n,e,i,r))};function vY(n,e,t,i){return i?!!(e==="innerHTML"||e==="textContent"||e in n&&A2.test(e)&&Mt.isFunction(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||A2.test(e)&&Mt.isString(t)?!1:e in n}function B2(n,e){let t=en.defineComponent(n);class i extends Ky{constructor(s){super(t,s,e)}}return i.def=t,i}var _Y=n=>B2(n,Q2),xY=typeof HTMLElement!="undefined"?HTMLElement:class{},Ky=class n extends xY{constructor(e,t={},i){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,en.nextTick(()=>{this._connected||(jT(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(let r of i)this._setAttr(r.attributeName)}).observe(this,{attributes:!0});let e=i=>{let{props:r,styles:s}=i,a=!Mt.isArray(r),o=r?a?Object.keys(r):r:[],l;if(a)for(let c in this._props){let u=r[c];(u===Number||u&&u.type===Number)&&(this._props[c]=Mt.toNumber(this._props[c]),(l||(l=Object.create(null)))[c]=!0)}this._numberProps=l;for(let c of Object.keys(this))c[0]!=="_"&&this._setProp(c,this[c],!0,!1);for(let c of o.map(Mt.camelize))Object.defineProperty(this,c,{get(){return this._getProp(c)},set(u){this._setProp(c,u)}});this._applyStyles(s),this._update()},t=this._def.__asyncLoader;t?t().then(e):e(this._def)}_setAttr(e){let t=this.getAttribute(e);this._numberProps&&this._numberProps[e]&&(t=Mt.toNumber(t)),this._setProp(Mt.camelize(e),t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,i=!0,r=!0){t!==this._props[e]&&(this._props[e]=t,r&&this._instance&&this._update(),i&&(t===!0?this.setAttribute(Mt.hyphenate(e),""):typeof t=="string"||typeof t=="number"?this.setAttribute(Mt.hyphenate(e),t+""):t||this.removeAttribute(Mt.hyphenate(e))))}_update(){jT(this._createVNode(),this.shadowRoot)}_createVNode(){let e=en.createVNode(this._def,Mt.extend({},this._props));return this._instance||(e.ce=t=>{this._instance=t,t.isCE=!0,t.emit=(r,...s)=>{this.dispatchEvent(new CustomEvent(r,{detail:s}))};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof n){t.parent=i._instance;break}}),e}_applyStyles(e){e&&e.forEach(t=>{let i=document.createElement("style");i.textContent=t,this.shadowRoot.appendChild(i)})}};function bY(n="$style"){{let e=en.getCurrentInstance();if(!e)return Mt.EMPTY_OBJ;let t=e.type.__cssModules;if(!t)return Mt.EMPTY_OBJ;let i=t[n];return i||Mt.EMPTY_OBJ}}function EY(n){}var Sl="transition",zd="animation",XT=(n,{slots:e})=>en.h(en.BaseTransition,z2(n),e);XT.displayName="Transition";var U2={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},SY=XT.props=Mt.extend({},en.BaseTransition.props,U2),Ic=(n,e=[])=>{Mt.isArray(n)?n.forEach(t=>t(...e)):n&&n(...e)},M2=n=>n?Mt.isArray(n)?n.some(e=>e.length>1):n.length>1:!1;function z2(n){let e={};for(let G in n)G in U2||(e[G]=n[G]);if(n.css===!1)return e;let{name:t="v",type:i,duration:r,enterFromClass:s=`${t}-enter-from`,enterActiveClass:a=`${t}-enter-active`,enterToClass:o=`${t}-enter-to`,appearFromClass:l=s,appearActiveClass:c=a,appearToClass:u=o,leaveFromClass:h=`${t}-leave-from`,leaveActiveClass:d=`${t}-leave-active`,leaveToClass:m=`${t}-leave-to`}=n,v=TY(r),_=v&&v[0],g=v&&v[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:E,onLeave:w,onLeaveCancelled:D,onBeforeAppear:P=y,onAppear:M=b,onAppearCancelled:R=E}=e,I=(G,X,J)=>{Tl(G,X?u:o),Tl(G,X?c:a),J&&J()},A=(G,X)=>{G._isLeaving=!1,Tl(G,h),Tl(G,m),Tl(G,d),X&&X()},N=G=>(X,J)=>{let ge=G?M:b,te=()=>I(X,G,J);Ic(ge,[X,te]),C2(()=>{Tl(X,G?l:s),fo(X,G?u:o),M2(ge)||P2(X,i,_,te)})};return Mt.extend(e,{onBeforeEnter(G){Ic(y,[G]),fo(G,s),fo(G,a)},onBeforeAppear(G){Ic(P,[G]),fo(G,l),fo(G,c)},onEnter:N(!1),onAppear:N(!0),onLeave(G,X){G._isLeaving=!0;let J=()=>A(G,X);fo(G,h),H2(),fo(G,d),C2(()=>{G._isLeaving&&(Tl(G,h),fo(G,m),M2(w)||P2(G,i,g,J))}),Ic(w,[G,J])},onEnterCancelled(G){I(G,!1),Ic(E,[G])},onAppearCancelled(G){I(G,!0),Ic(R,[G])},onLeaveCancelled(G){A(G),Ic(D,[G])}})}function TY(n){if(n==null)return null;if(Mt.isObject(n))return[$T(n.enter),$T(n.leave)];{let e=$T(n);return[e,e]}}function $T(n){return Mt.toNumber(n)}function fo(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n._vtc||(n._vtc=new Set)).add(e)}function Tl(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.remove(i));let{_vtc:t}=n;t&&(t.delete(e),t.size||(n._vtc=void 0))}function C2(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}var wY=0;function P2(n,e,t,i){let r=n._endId=++wY,s=()=>{r===n._endId&&i()};if(t)return setTimeout(s,t);let{type:a,timeout:o,propCount:l}=V2(n,e);if(!a)return i();let c=a+"end",u=0,h=()=>{n.removeEventListener(c,d),s()},d=m=>{m.target===n&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},o+1),n.addEventListener(c,d)}function V2(n,e){let t=window.getComputedStyle(n),i=v=>(t[v]||"").split(", "),r=i(Sl+"Delay"),s=i(Sl+"Duration"),a=I2(r,s),o=i(zd+"Delay"),l=i(zd+"Duration"),c=I2(o,l),u=null,h=0,d=0;e===Sl?a>0&&(u=Sl,h=a,d=s.length):e===zd?c>0&&(u=zd,h=c,d=l.length):(h=Math.max(a,c),u=h>0?a>c?Sl:zd:null,d=u?u===Sl?s.length:l.length:0);let m=u===Sl&&/\b(transform|all)(,|$)/.test(t[Sl+"Property"]);return{type:u,timeout:h,propCount:d,hasTransform:m}}function I2(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,i)=>D2(t)+D2(n[i])))}function D2(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function H2(){return document.body.offsetHeight}var G2=new WeakMap,$2=new WeakMap,AY={name:"TransitionGroup",props:Mt.extend({},SY,{tag:String,moveClass:String}),setup(n,{slots:e}){let t=en.getCurrentInstance(),i=en.useTransitionState(),r,s;return en.onUpdated(()=>{if(!r.length)return;let a=n.moveClass||`${n.name||"v"}-move`;if(!DY(r[0].el,t.vnode.el,a))return;r.forEach(CY),r.forEach(PY);let o=r.filter(IY);H2(),o.forEach(l=>{let c=l.el,u=c.style;fo(c,a),u.transform=u.webkitTransform=u.transitionDuration="";let h=c._moveCb=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",h),c._moveCb=null,Tl(c,a))};c.addEventListener("transitionend",h)})}),()=>{let a=en.toRaw(n),o=z2(a),l=a.tag||en.Fragment;r=s,s=e.default?en.getTransitionRawChildren(e.default()):[];for(let c=0;c<s.length;c++){let u=s[c];u.key!=null&&en.setTransitionHooks(u,en.resolveTransitionHooks(u,o,i,t))}if(r)for(let c=0;c<r.length;c++){let u=r[c];en.setTransitionHooks(u,en.resolveTransitionHooks(u,o,i,t)),G2.set(u,u.el.getBoundingClientRect())}return en.createVNode(l,null,s)}}},MY=AY;function CY(n){let e=n.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function PY(n){$2.set(n,n.el.getBoundingClientRect())}function IY(n){let e=G2.get(n),t=$2.get(n),i=e.left-t.left,r=e.top-t.top;if(i||r){let s=n.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",n}}function DY(n,e,t){let i=n.cloneNode();n._vtc&&n._vtc.forEach(a=>{a.split(/\s+/).forEach(o=>o&&i.classList.remove(o))}),t.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";let r=e.nodeType===1?e:e.parentNode;r.appendChild(i);let{hasTransform:s}=V2(i);return r.removeChild(i),s}var wl=n=>{let e=n.props["onUpdate:modelValue"]||!1;return Mt.isArray(e)?t=>Mt.invokeArrayFns(e,t):e};function RY(n){n.target.composing=!0}function R2(n){let e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}var Jy={created(n,{modifiers:{lazy:e,trim:t,number:i}},r){n._assign=wl(r);let s=i||r.props&&r.props.type==="number";po(n,e?"change":"input",a=>{if(a.target.composing)return;let o=n.value;t&&(o=o.trim()),s&&(o=Mt.toNumber(o)),n._assign(o)}),t&&po(n,"change",()=>{n.value=n.value.trim()}),e||(po(n,"compositionstart",RY),po(n,"compositionend",R2),po(n,"change",R2))},mounted(n,{value:e}){n.value=e==null?"":e},beforeUpdate(n,{value:e,modifiers:{lazy:t,trim:i,number:r}},s){if(n._assign=wl(s),n.composing||document.activeElement===n&&n.type!=="range"&&(t||i&&n.value.trim()===e||(r||n.type==="number")&&Mt.toNumber(n.value)===e))return;let a=e==null?"":e;n.value!==a&&(n.value=a)}},YT={deep:!0,created(n,e,t){n._assign=wl(t),po(n,"change",()=>{let i=n._modelValue,r=Ih(n),s=n.checked,a=n._assign;if(Mt.isArray(i)){let o=Mt.looseIndexOf(i,r),l=o!==-1;if(s&&!l)a(i.concat(r));else if(!s&&l){let c=[...i];c.splice(o,1),a(c)}}else if(Mt.isSet(i)){let o=new Set(i);s?o.add(r):o.delete(r),a(o)}else a(q2(n,s))})},mounted:L2,beforeUpdate(n,e,t){n._assign=wl(t),L2(n,e,t)}};function L2(n,{value:e,oldValue:t},i){n._modelValue=e,Mt.isArray(e)?n.checked=Mt.looseIndexOf(e,i.props.value)>-1:Mt.isSet(e)?n.checked=e.has(i.props.value):e!==t&&(n.checked=Mt.looseEqual(e,q2(n,!0)))}var KT={created(n,{value:e},t){n.checked=Mt.looseEqual(e,t.props.value),n._assign=wl(t),po(n,"change",()=>{n._assign(Ih(n))})},beforeUpdate(n,{value:e,oldValue:t},i){n._assign=wl(i),e!==t&&(n.checked=Mt.looseEqual(e,i.props.value))}},W2={deep:!0,created(n,{value:e,modifiers:{number:t}},i){let r=Mt.isSet(e);po(n,"change",()=>{let s=Array.prototype.filter.call(n.options,a=>a.selected).map(a=>t?Mt.toNumber(Ih(a)):Ih(a));n._assign(n.multiple?r?new Set(s):s:s[0])}),n._assign=wl(i)},mounted(n,{value:e}){O2(n,e)},beforeUpdate(n,e,t){n._assign=wl(t)},updated(n,{value:e}){O2(n,e)}};function O2(n,e){let t=n.multiple;if(!(t&&!Mt.isArray(e)&&!Mt.isSet(e))){for(let i=0,r=n.options.length;i<r;i++){let s=n.options[i],a=Ih(s);if(t)Mt.isArray(e)?s.selected=Mt.looseIndexOf(e,a)>-1:s.selected=e.has(a);else if(Mt.looseEqual(Ih(s),e)){n.selectedIndex!==i&&(n.selectedIndex=i);return}}!t&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function Ih(n){return"_value"in n?n._value:n.value}function q2(n,e){let t=e?"_trueValue":"_falseValue";return t in n?n[t]:e}var j2={created(n,e,t){Yy(n,e,t,null,"created")},mounted(n,e,t){Yy(n,e,t,null,"mounted")},beforeUpdate(n,e,t,i){Yy(n,e,t,i,"beforeUpdate")},updated(n,e,t,i){Yy(n,e,t,i,"updated")}};function X2(n,e){switch(n){case"SELECT":return W2;case"TEXTAREA":return Jy;default:switch(e){case"checkbox":return YT;case"radio":return KT;default:return Jy}}}function Yy(n,e,t,i,r){let a=X2(n.tagName,t.props&&t.props.type)[r];a&&a(n,e,t,i)}function LY(){Jy.getSSRProps=({value:n})=>({value:n}),KT.getSSRProps=({value:n},e)=>{if(e.props&&Mt.looseEqual(e.props.value,n))return{checked:!0}},YT.getSSRProps=({value:n},e)=>{if(Mt.isArray(n)){if(e.props&&Mt.looseIndexOf(n,e.props.value)>-1)return{checked:!0}}else if(Mt.isSet(n)){if(e.props&&n.has(e.props.value))return{checked:!0}}else if(n)return{checked:!0}},j2.getSSRProps=(n,e)=>{if(typeof e.type!="string")return;let t=X2(e.type.toUpperCase(),e.props&&e.props.type);if(t.getSSRProps)return t.getSSRProps(n,e)}}var OY=["ctrl","shift","alt","meta"],NY={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>OY.some(t=>n[`${t}Key`]&&!e.includes(t))},kY=(n,e)=>(t,...i)=>{for(let r=0;r<e.length;r++){let s=NY[e[r]];if(s&&s(t,e))return}return n(t,...i)},FY={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},BY=(n,e)=>t=>{if(!("key"in t))return;let i=Mt.hyphenate(t.key);if(e.some(r=>r===i||FY[r]===i))return n(t)},Y2={beforeMount(n,{value:e},{transition:t}){n._vod=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):Vd(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:i}){!e!=!t&&(i?e?(i.beforeEnter(n),Vd(n,!0),i.enter(n)):i.leave(n,()=>{Vd(n,!1)}):Vd(n,e))},beforeUnmount(n,{value:e}){Vd(n,e)}};function Vd(n,e){n.style.display=e?n._vod:"none"}function UY(){Y2.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}var K2=Mt.extend({patchProp:yY},iY),Hd,N2=!1;function J2(){return Hd||(Hd=en.createRenderer(K2))}function Z2(){return Hd=N2?Hd:en.createHydrationRenderer(K2),N2=!0,Hd}var jT=(...n)=>{J2().render(...n)},Q2=(...n)=>{Z2().hydrate(...n)},zY=(...n)=>{let e=J2().createApp(...n),{mount:t}=e;return e.mount=i=>{let r=eN(i);if(!r)return;let s=e._component;!Mt.isFunction(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";let a=t(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e},VY=(...n)=>{let e=Z2().createApp(...n),{mount:t}=e;return e.mount=i=>{let r=eN(i);if(r)return t(r,!0,r instanceof SVGElement)},e};function eN(n){return Mt.isString(n)?document.querySelector(n):n}var k2=!1,HY=()=>{k2||(k2=!0,LY(),UY())};Object.keys(en).forEach(function(n){n!=="default"&&(un[n]=en[n])});un.Transition=XT;un.TransitionGroup=MY;un.VueElement=Ky;un.createApp=zY;un.createSSRApp=VY;un.defineCustomElement=B2;un.defineSSRCustomElement=_Y;un.hydrate=Q2;un.initDirectivesForSSR=HY;un.render=jT;un.useCssModule=bY;un.useCssVars=EY;un.vModelCheckbox=YT;un.vModelDynamic=j2;un.vModelRadio=KT;un.vModelSelect=W2;un.vModelText=Jy;un.vShow=Y2;un.withKeys=BY;un.withModifiers=kY});var Dh=li((Qce,iN)=>{"use strict";iN.exports=tN()});var qN=li(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});function sv(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var Aa=class{constructor(e,t,i){this.line=void 0,this.column=void 0,this.index=void 0,this.line=e,this.column=t,this.index=i}},Bh=class{constructor(e,t){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=e,this.end=t}};function es(n,e){let{line:t,column:i,index:r}=n;return new Aa(t,i+e,r+e)}var s1={SyntaxError:"BABEL_PARSER_SYNTAX_ERROR",SourceTypeModuleError:"BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED"},GY=(n,e=n.length-1)=>({get(){return n.reduce((t,i)=>t[i],this)},set(t){n.reduce((i,r,s)=>s===e?i[r]=t:i[r],this)}}),$Y=(n,e,t)=>Object.keys(t).map(i=>[i,t[i]]).filter(([,i])=>!!i).map(([i,r])=>[i,typeof r=="function"?{value:r,enumerable:!1}:typeof r.reflect=="string"?Object.assign({},r,GY(r.reflect.split("."))):r]).reduce((i,[r,s])=>Object.defineProperty(i,r,Object.assign({configurable:!0},s)),Object.assign(new n,e)),WY={ImportMetaOutsideModule:{message:`import.meta may appear only with 'sourceType: "module"'`,code:s1.SourceTypeModuleError},ImportOutsideModule:{message:`'import' and 'export' may appear only with 'sourceType: "module"'`,code:s1.SourceTypeModuleError}},nN={ArrayPattern:"array destructuring pattern",AssignmentExpression:"assignment expression",AssignmentPattern:"assignment expression",ArrowFunctionExpression:"arrow function expression",ConditionalExpression:"conditional expression",CatchClause:"catch clause",ForOfStatement:"for-of statement",ForInStatement:"for-in statement",ForStatement:"for-loop",FormalParameters:"function parameter list",Identifier:"identifier",ImportSpecifier:"import specifier",ImportDefaultSpecifier:"import default specifier",ImportNamespaceSpecifier:"import namespace specifier",ObjectPattern:"object destructuring pattern",ParenthesizedExpression:"parenthesized expression",RestElement:"rest element",UpdateExpression:{true:"prefix operation",false:"postfix operation"},VariableDeclarator:"variable declaration",YieldExpression:"yield expression"},a1=({type:n,prefix:e})=>n==="UpdateExpression"?nN.UpdateExpression[String(e)]:nN[n],qY={AccessorIsGenerator:({kind:n})=>`A ${n}ter cannot be a generator.`,ArgumentsInClass:"'arguments' is only allowed in functions and class methods.",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block.",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function.",AwaitBindingIdentifierInStaticBlock:"Can not use 'await' as identifier inside a static block.",AwaitExpressionFormalParameter:"'await' is not allowed in async function parameters.",AwaitNotInAsyncContext:"'await' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncFunction:"'await' is only allowed within async functions.",BadGetterArity:"A 'get' accesor must not have any formal parameters.",BadSetterArity:"A 'set' accesor must have exactly one formal parameter.",BadSetterRestParameter:"A 'set' accesor function argument must not be a rest parameter.",ConstructorClassField:"Classes may not have a field named 'constructor'.",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'.",ConstructorIsAccessor:"Class constructor may not be an accessor.",ConstructorIsAsync:"Constructor can't be an async function.",ConstructorIsGenerator:"Constructor can't be a generator.",DeclarationMissingInitializer:({kind:n})=>`Missing initializer in ${n} declaration.`,DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. You can set the 'decoratorsBeforeExport' option to false to use the 'export @decorator class {}' syntax.",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Using the export keyword between a decorator and a class is not allowed. Please use `export @dec class` instead.",DecoratorSemicolon:"Decorators must not be followed by a semicolon.",DecoratorStaticBlock:"Decorators can't be used with a static block.",DeletePrivateField:"Deleting a private field is not allowed.",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class.",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:({exportName:n})=>`\`${n}\` has already been exported. Exported identifiers must be unique.`,DuplicateProto:"Redefinition of __proto__ property.",DuplicateRegExpFlags:"Duplicate regular expression flag.",ElementAfterRest:"Rest element must be last element.",EscapedCharNotAnIdentifier:"Invalid Unicode escape.",ExportBindingIsString:({localName:n,exportName:e})=>`A string literal cannot be used as an exported binding without \`from\`.
- Did you mean \`export { '${n}' as '${e}' } from 'some-module'\`?`,ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'.",ForInOfLoopInitializer:({type:n})=>`'${n==="ForInStatement"?"for-in":"for-of"}' loop variable declaration may not have an initializer.`,ForOfAsync:"The left-hand side of a for-of loop may not be 'async'.",ForOfLet:"The left-hand side of a for-of loop may not start with 'let'.",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block.",IllegalBreakContinue:({type:n})=>`Unsyntactic ${n==="BreakStatement"?"break":"continue"}.`,IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list.",IllegalReturn:"'return' outside of function.",ImportBindingIsString:({importName:n})=>`A string literal cannot be used as an imported binding.
- Did you mean \`import { "${n}" as foo }\`?`,ImportCallArgumentTrailingComma:"Trailing comma is disallowed inside import(...) arguments.",ImportCallArity:({maxArgumentCount:n})=>`\`import()\` requires exactly ${n===1?"one argument":"one or two arguments"}.`,ImportCallNotNewExpression:"Cannot use new with import(...).",ImportCallSpreadArgument:"`...` is not allowed in `import()`.",ImportJSONBindingNotDefault:"A JSON module can only be imported with `default`.",IncompatibleRegExpUVFlags:"The 'u' and 'v' regular expression flags cannot be enabled at the same time.",InvalidBigIntLiteral:"Invalid BigIntLiteral.",InvalidCodePoint:"Code point out of bounds.",InvalidCoverInitializedName:"Invalid shorthand property initializer.",InvalidDecimal:"Invalid decimal.",InvalidDigit:({radix:n})=>`Expected number in radix ${n}.`,InvalidEscapeSequence:"Bad character escape sequence.",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template.",InvalidEscapedReservedWord:({reservedWord:n})=>`Escape sequence in keyword ${n}.`,InvalidIdentifier:({identifierName:n})=>`Invalid identifier ${n}.`,InvalidLhs:({ancestor:n})=>`Invalid left-hand side in ${a1(n)}.`,InvalidLhsBinding:({ancestor:n})=>`Binding invalid left-hand side in ${a1(n)}.`,InvalidNumber:"Invalid number.",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'.",InvalidOrUnexpectedToken:({unexpected:n})=>`Unexpected character '${n}'.`,InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern.",InvalidPrivateFieldResolution:({identifierName:n})=>`Private name #${n} is not defined.`,InvalidPropertyBindingPattern:"Binding member expression.",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions.",InvalidRestAssignmentPattern:"Invalid rest operator's argument.",LabelRedeclaration:({labelName:n})=>`Label '${n}' is already declared.`,LetInLexicalBinding:"'let' is not allowed to be used as a name in 'let' or 'const' declarations.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'.",MalformedRegExpFlags:"Invalid regular expression flag.",MissingClassName:"A class name is required.",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingSemicolon:"Missing semicolon.",MissingPlugin:({missingPlugin:n})=>`This experimental syntax requires enabling the parser plugin: ${n.map(e=>JSON.stringify(e)).join(", ")}.`,MissingOneOfPlugins:({missingPlugin:n})=>`This experimental syntax requires enabling one of the following parser plugin(s): ${n.map(e=>JSON.stringify(e)).join(", ")}.`,MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX.",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators.",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`.",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values.",ModuleAttributesWithDuplicateKeys:({key:n})=>`Duplicate key "${n}" is not allowed in module attributes.`,ModuleExportNameHasLoneSurrogate:({surrogateCharCode:n})=>`An export name cannot include a lone surrogate, found '\\u${n.toString(16)}'.`,ModuleExportUndefined:({localName:n})=>`Export '${n}' is not defined.`,MultipleDefaultsInSwitch:"Multiple default clauses.",NewlineAfterThrow:"Illegal newline after throw.",NoCatchOrFinally:"Missing catch or finally clause.",NumberIdentifier:"Identifier directly after number.",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences.",ObsoleteAwaitStar:"'await*' has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"Constructors in/after an Optional Chain are not allowed.",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain.",OverrideOnConstructor:"'override' modifier cannot appear on a constructor declaration.",ParamDupe:"Argument name clash.",PatternHasAccessor:"Object pattern can't contain getter or setter.",PatternHasMethod:"Object pattern can't contain methods.",PrivateInExpectedIn:({identifierName:n})=>`Private names are only allowed in property accesses (\`obj.#${n}\`) or in \`in\` expressions (\`#${n} in obj\`).`,PrivateNameRedeclaration:({identifierName:n})=>`Duplicate private name #${n}.`,RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",RecordNoProto:"'__proto__' is not allowed in Record expressions.",RestTrailingComma:"Unexpected trailing comma after rest element.",SloppyFunction:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement.",StaticPrototype:"Classes may not have static property named prototype.",SuperNotAllowed:"`super()` is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super.",TrailingDecorator:"Decorators must be attached to a class element.",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder.",UnexpectedAwaitAfterPipelineBody:'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal.',UnexpectedDigitAfterHash:"Unexpected digit after hash token.",UnexpectedImportExport:"'import' and 'export' may only appear at the top level.",UnexpectedKeyword:({keyword:n})=>`Unexpected keyword '${n}'.`,UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration.",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context.",UnexpectedNewTarget:"`new.target` can only be used in functions or class properties.",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits.",UnexpectedPrivateField:"Unexpected private name.",UnexpectedReservedWord:({reservedWord:n})=>`Unexpected reserved word '${n}'.`,UnexpectedSuper:"'super' is only allowed in object methods and classes.",UnexpectedToken:({expected:n,unexpected:e})=>`Unexpected token${e?` '${e}'.`:""}${n?`, expected "${n}"`:""}`,UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration.",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"`import` can only be used in `import()` or `import.meta`.",UnsupportedMetaProperty:({target:n,onlyValidPropertyName:e})=>`The only valid meta property for ${n} is ${n}.${e}.`,UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters.",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties.",UnsupportedSuper:"'super' can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop]).",UnterminatedComment:"Unterminated comment.",UnterminatedRegExp:"Unterminated regular expression.",UnterminatedString:"Unterminated string constant.",UnterminatedTemplate:"Unterminated template.",VarRedeclaration:({identifierName:n})=>`Identifier '${n}' has already been declared.`,YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator.",YieldInParameter:"Yield expression is not allowed in formal parameters.",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0."},jY={StrictDelete:"Deleting local variable in strict mode.",StrictEvalArguments:({referenceName:n})=>`Assigning to '${n}' in strict mode.`,StrictEvalArgumentsBinding:({bindingName:n})=>`Binding '${n}' in strict mode.`,StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block.",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'.",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode.",StrictWith:"'with' in strict mode."},XY=new Set(["ArrowFunctionExpression","AssignmentExpression","ConditionalExpression","YieldExpression"]),YY={PipeBodyIsTighter:"Unexpected yield after pipeline body; any yield expression acting as Hack-style pipe body must be parenthesized due to its loose operator precedence.",PipeTopicRequiresHackPipes:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.',PipeTopicUnbound:"Topic reference is unbound; it must be inside a pipe body.",PipeTopicUnconfiguredToken:({token:n})=>`Invalid topic token ${n}. In order to use ${n} as a topic reference, the pipelineOperator plugin must be configured with { "proposal": "hack", "topicToken": "${n}" }.`,PipeTopicUnused:"Hack-style pipe body does not contain a topic reference; Hack-style pipes must use topic at least once.",PipeUnparenthesizedBody:({type:n})=>`Hack-style pipe body cannot be an unparenthesized ${a1({type:n})}; please wrap it in parentheses.`,PipelineBodyNoArrow:'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized.',PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression.",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression.",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference.",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding.",PrimaryTopicRequiresSmartPipeline:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.'},KY=["toMessage"],JY=["message"];function ZY(n){let{toMessage:e}=n,t=sv(n,KY);return function i({loc:r,details:s}){return $Y(SyntaxError,Object.assign({},t,{loc:r}),{clone(a={}){let o=a.loc||{};return i({loc:new Aa("line"in o?o.line:this.loc.line,"column"in o?o.column:this.loc.column,"index"in o?o.index:this.loc.index),details:Object.assign({},this.details,a.details)})},details:{value:s,enumerable:!1},message:{get(){return`${e(this.details)} (${this.loc.line}:${this.loc.column})`},set(a){Object.defineProperty(this,"message",{value:a})}},pos:{reflect:"loc.index",enumerable:!0},missingPlugin:"missingPlugin"in s&&{reflect:"details.missingPlugin",enumerable:!0}})}}function vo(n,e){if(Array.isArray(n))return i=>vo(i,n[0]);let t={};for(let i of Object.keys(n)){let r=n[i],s=typeof r=="string"?{message:()=>r}:typeof r=="function"?{message:r}:r,{message:a}=s,o=sv(s,JY),l=typeof a=="string"?()=>a:a;t[i]=ZY(Object.assign({code:s1.SyntaxError,reasonCode:i,toMessage:l},e?{syntaxPlugin:e}:{},o))}return t}var oe=Object.assign({},vo(WY),vo(qY),vo(jY),vo`pipelineOperator`(YY)),{defineProperty:QY}=Object,rN=(n,e)=>QY(n,e,{enumerable:!1,value:n[e]});function Gd(n){return n.loc.start&&rN(n.loc.start,"index"),n.loc.end&&rN(n.loc.end,"index"),n}var eK=n=>class extends n{parse(){let t=Gd(super.parse());return this.options.tokens&&(t.tokens=t.tokens.map(Gd)),t}parseRegExpLiteral({pattern:t,flags:i}){let r=null;try{r=new RegExp(t,i)}catch(a){}let s=this.estreeParseLiteral(r);return s.regex={pattern:t,flags:i},s}parseBigIntLiteral(t){let i;try{i=BigInt(t)}catch(s){i=null}let r=this.estreeParseLiteral(i);return r.bigint=String(r.value||t),r}parseDecimalLiteral(t){let r=this.estreeParseLiteral(null);return r.decimal=String(r.value||t),r}estreeParseLiteral(t){return this.parseLiteral(t,"Literal")}parseStringLiteral(t){return this.estreeParseLiteral(t)}parseNumericLiteral(t){return this.estreeParseLiteral(t)}parseNullLiteral(){return this.estreeParseLiteral(null)}parseBooleanLiteral(t){return this.estreeParseLiteral(t)}directiveToStmt(t){let i=t.value,r=this.startNodeAt(t.start,t.loc.start),s=this.startNodeAt(i.start,i.loc.start);return s.value=i.extra.expressionValue,s.raw=i.extra.raw,r.expression=this.finishNodeAt(s,"Literal",i.loc.end),r.directive=i.extra.raw.slice(1,-1),this.finishNodeAt(r,"ExpressionStatement",t.loc.end)}initFunction(t,i){super.initFunction(t,i),t.expression=!1}checkDeclaration(t){t!=null&&this.isObjectProperty(t)?this.checkDeclaration(t.value):super.checkDeclaration(t)}getObjectOrClassMethodParams(t){return t.value.params}isValidDirective(t){var i;return t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&!((i=t.expression.extra)!=null&&i.parenthesized)}parseBlockBody(t,i,r,s,a){super.parseBlockBody(t,i,r,s,a);let o=t.directives.map(l=>this.directiveToStmt(l));t.body=o.concat(t.body),delete t.directives}pushClassMethod(t,i,r,s,a,o){this.parseMethod(i,r,s,a,o,"ClassMethod",!0),i.typeParameters&&(i.value.typeParameters=i.typeParameters,delete i.typeParameters),t.body.push(i)}parsePrivateName(){let t=super.parsePrivateName();return this.getPluginOption("estree","classFeatures")?this.convertPrivateNameToPrivateIdentifier(t):t}convertPrivateNameToPrivateIdentifier(t){let i=super.getPrivateNameSV(t);return t=t,delete t.id,t.name=i,t.type="PrivateIdentifier",t}isPrivateName(t){return this.getPluginOption("estree","classFeatures")?t.type==="PrivateIdentifier":super.isPrivateName(t)}getPrivateNameSV(t){return this.getPluginOption("estree","classFeatures")?t.name:super.getPrivateNameSV(t)}parseLiteral(t,i){let r=super.parseLiteral(t,i);return r.raw=r.extra.raw,delete r.extra,r}parseFunctionBody(t,i,r=!1){super.parseFunctionBody(t,i,r),t.expression=t.body.type!=="BlockStatement"}parseMethod(t,i,r,s,a,o,l=!1){let c=this.startNode();return c.kind=t.kind,c=super.parseMethod(c,i,r,s,a,o,l),c.type="FunctionExpression",delete c.kind,t.value=c,o==="ClassPrivateMethod"&&(t.computed=!1),this.finishNode(t,"MethodDefinition")}parseClassProperty(...t){let i=super.parseClassProperty(...t);return this.getPluginOption("estree","classFeatures")&&(i.type="PropertyDefinition"),i}parseClassPrivateProperty(...t){let i=super.parseClassPrivateProperty(...t);return this.getPluginOption("estree","classFeatures")&&(i.type="PropertyDefinition",i.computed=!1),i}parseObjectMethod(t,i,r,s,a){let o=super.parseObjectMethod(t,i,r,s,a);return o&&(o.type="Property",o.kind==="method"&&(o.kind="init"),o.shorthand=!1),o}parseObjectProperty(t,i,r,s,a){let o=super.parseObjectProperty(t,i,r,s,a);return o&&(o.kind="init",o.type="Property"),o}isValidLVal(t,i,r){return t==="Property"?"value":super.isValidLVal(t,i,r)}isAssignable(t,i){return t!=null&&this.isObjectProperty(t)?this.isAssignable(t.value,i):super.isAssignable(t,i)}toAssignable(t,i=!1){if(t!=null&&this.isObjectProperty(t)){let{key:r,value:s}=t;this.isPrivateName(r)&&this.classScope.usePrivateName(this.getPrivateNameSV(r),r.loc.start),this.toAssignable(s,i)}else super.toAssignable(t,i)}toAssignableObjectExpressionProp(t,i,r){t.kind==="get"||t.kind==="set"?this.raise(oe.PatternHasAccessor,{at:t.key}):t.method?this.raise(oe.PatternHasMethod,{at:t.key}):super.toAssignableObjectExpressionProp(t,i,r)}finishCallExpression(t,i){let r=super.finishCallExpression(t,i);if(r.callee.type==="Import"){if(r.type="ImportExpression",r.source=r.arguments[0],this.hasPlugin("importAssertions")){var s;r.attributes=(s=r.arguments[1])!=null?s:null}delete r.arguments,delete r.callee}return r}toReferencedArguments(t){t.type!=="ImportExpression"&&super.toReferencedArguments(t)}parseExport(t){let i=super.parseExport(t);switch(i.type){case"ExportAllDeclaration":i.exported=null;break;case"ExportNamedDeclaration":i.specifiers.length===1&&i.specifiers[0].type==="ExportNamespaceSpecifier"&&(i.type="ExportAllDeclaration",i.exported=i.specifiers[0].exported,delete i.specifiers);break}return i}parseSubscript(t,i,r,s,a){let o=super.parseSubscript(t,i,r,s,a);if(a.optionalChainMember){if((o.type==="OptionalMemberExpression"||o.type==="OptionalCallExpression")&&(o.type=o.type.substring(8)),a.stop){let l=this.startNodeAtNode(o);return l.expression=o,this.finishNode(l,"ChainExpression")}}else(o.type==="MemberExpression"||o.type==="CallExpression")&&(o.optional=!1);return o}hasPropertyAsPrivateName(t){return t.type==="ChainExpression"&&(t=t.expression),super.hasPropertyAsPrivateName(t)}isOptionalChain(t){return t.type==="ChainExpression"}isObjectProperty(t){return t.type==="Property"&&t.kind==="init"&&!t.method}isObjectMethod(t){return t.method||t.kind==="get"||t.kind==="set"}finishNodeAt(t,i,r){return Gd(super.finishNodeAt(t,i,r))}resetStartLocation(t,i,r){super.resetStartLocation(t,i,r),Gd(t)}resetEndLocation(t,i=this.state.lastTokEndLoc){super.resetEndLocation(t,i),Gd(t)}},Oc=class{constructor(e,t){this.token=void 0,this.preserveSpace=void 0,this.token=e,this.preserveSpace=!!t}},zi={brace:new Oc("{"),j_oTag:new Oc("<tag"),j_cTag:new Oc("</tag"),j_expr:new Oc("<tag>...</tag>",!0)};zi.template=new Oc("`",!0);var ni=!0,st=!0,JT=!0,$d=!0,Al=!0,tK=!0,av=class{constructor(e,t={}){this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.rightAssociative=!!t.rightAssociative,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop!=null?t.binop:null,this.updateContext=null}},D1=new Map;function mi(n,e={}){e.keyword=n;let t=It(n,e);return D1.set(n,t),t}function xr(n,e){return It(n,{beforeExpr:ni,binop:e})}var Yd=-1,go=[],R1=[],L1=[],O1=[],N1=[],k1=[];function It(n,e={}){var t,i,r,s;return++Yd,R1.push(n),L1.push((t=e.binop)!=null?t:-1),O1.push((i=e.beforeExpr)!=null?i:!1),N1.push((r=e.startsExpr)!=null?r:!1),k1.push((s=e.prefix)!=null?s:!1),go.push(new av(n,e)),Yd}function gi(n,e={}){var t,i,r,s;return++Yd,D1.set(n,Yd),R1.push(n),L1.push((t=e.binop)!=null?t:-1),O1.push((i=e.beforeExpr)!=null?i:!1),N1.push((r=e.startsExpr)!=null?r:!1),k1.push((s=e.prefix)!=null?s:!1),go.push(new av("name",e)),Yd}var iK={bracketL:It("[",{beforeExpr:ni,startsExpr:st}),bracketHashL:It("#[",{beforeExpr:ni,startsExpr:st}),bracketBarL:It("[|",{beforeExpr:ni,startsExpr:st}),bracketR:It("]"),bracketBarR:It("|]"),braceL:It("{",{beforeExpr:ni,startsExpr:st}),braceBarL:It("{|",{beforeExpr:ni,startsExpr:st}),braceHashL:It("#{",{beforeExpr:ni,startsExpr:st}),braceR:It("}"),braceBarR:It("|}"),parenL:It("(",{beforeExpr:ni,startsExpr:st}),parenR:It(")"),comma:It(",",{beforeExpr:ni}),semi:It(";",{beforeExpr:ni}),colon:It(":",{beforeExpr:ni}),doubleColon:It("::",{beforeExpr:ni}),dot:It("."),question:It("?",{beforeExpr:ni}),questionDot:It("?."),arrow:It("=>",{beforeExpr:ni}),template:It("template"),ellipsis:It("...",{beforeExpr:ni}),backQuote:It("`",{startsExpr:st}),dollarBraceL:It("${",{beforeExpr:ni,startsExpr:st}),templateTail:It("...`",{startsExpr:st}),templateNonTail:It("...${",{beforeExpr:ni,startsExpr:st}),at:It("@"),hash:It("#",{startsExpr:st}),interpreterDirective:It("#!..."),eq:It("=",{beforeExpr:ni,isAssign:$d}),assign:It("_=",{beforeExpr:ni,isAssign:$d}),slashAssign:It("_=",{beforeExpr:ni,isAssign:$d}),xorAssign:It("_=",{beforeExpr:ni,isAssign:$d}),moduloAssign:It("_=",{beforeExpr:ni,isAssign:$d}),incDec:It("++/--",{prefix:Al,postfix:tK,startsExpr:st}),bang:It("!",{beforeExpr:ni,prefix:Al,startsExpr:st}),tilde:It("~",{beforeExpr:ni,prefix:Al,startsExpr:st}),doubleCaret:It("^^",{startsExpr:st}),doubleAt:It("@@",{startsExpr:st}),pipeline:xr("|>",0),nullishCoalescing:xr("??",1),logicalOR:xr("||",1),logicalAND:xr("&&",2),bitwiseOR:xr("|",3),bitwiseXOR:xr("^",4),bitwiseAND:xr("&",5),equality:xr("==/!=/===/!==",6),lt:xr("</>/<=/>=",7),gt:xr("</>/<=/>=",7),relational:xr("</>/<=/>=",7),bitShift:xr("<</>>/>>>",8),bitShiftL:xr("<</>>/>>>",8),bitShiftR:xr("<</>>/>>>",8),plusMin:It("+/-",{beforeExpr:ni,binop:9,prefix:Al,startsExpr:st}),modulo:It("%",{binop:10,startsExpr:st}),star:It("*",{binop:10}),slash:xr("/",10),exponent:It("**",{beforeExpr:ni,binop:11,rightAssociative:!0}),_in:mi("in",{beforeExpr:ni,binop:7}),_instanceof:mi("instanceof",{beforeExpr:ni,binop:7}),_break:mi("break"),_case:mi("case",{beforeExpr:ni}),_catch:mi("catch"),_continue:mi("continue"),_debugger:mi("debugger"),_default:mi("default",{beforeExpr:ni}),_else:mi("else",{beforeExpr:ni}),_finally:mi("finally"),_function:mi("function",{startsExpr:st}),_if:mi("if"),_return:mi("return",{beforeExpr:ni}),_switch:mi("switch"),_throw:mi("throw",{beforeExpr:ni,prefix:Al,startsExpr:st}),_try:mi("try"),_var:mi("var"),_const:mi("const"),_with:mi("with"),_new:mi("new",{beforeExpr:ni,startsExpr:st}),_this:mi("this",{startsExpr:st}),_super:mi("super",{startsExpr:st}),_class:mi("class",{startsExpr:st}),_extends:mi("extends",{beforeExpr:ni}),_export:mi("export"),_import:mi("import",{startsExpr:st}),_null:mi("null",{startsExpr:st}),_true:mi("true",{startsExpr:st}),_false:mi("false",{startsExpr:st}),_typeof:mi("typeof",{beforeExpr:ni,prefix:Al,startsExpr:st}),_void:mi("void",{beforeExpr:ni,prefix:Al,startsExpr:st}),_delete:mi("delete",{beforeExpr:ni,prefix:Al,startsExpr:st}),_do:mi("do",{isLoop:JT,beforeExpr:ni}),_for:mi("for",{isLoop:JT}),_while:mi("while",{isLoop:JT}),_as:gi("as",{startsExpr:st}),_assert:gi("assert",{startsExpr:st}),_async:gi("async",{startsExpr:st}),_await:gi("await",{startsExpr:st}),_from:gi("from",{startsExpr:st}),_get:gi("get",{startsExpr:st}),_let:gi("let",{startsExpr:st}),_meta:gi("meta",{startsExpr:st}),_of:gi("of",{startsExpr:st}),_sent:gi("sent",{startsExpr:st}),_set:gi("set",{startsExpr:st}),_static:gi("static",{startsExpr:st}),_yield:gi("yield",{startsExpr:st}),_asserts:gi("asserts",{startsExpr:st}),_checks:gi("checks",{startsExpr:st}),_exports:gi("exports",{startsExpr:st}),_global:gi("global",{startsExpr:st}),_implements:gi("implements",{startsExpr:st}),_intrinsic:gi("intrinsic",{startsExpr:st}),_infer:gi("infer",{startsExpr:st}),_is:gi("is",{startsExpr:st}),_mixins:gi("mixins",{startsExpr:st}),_proto:gi("proto",{startsExpr:st}),_require:gi("require",{startsExpr:st}),_keyof:gi("keyof",{startsExpr:st}),_readonly:gi("readonly",{startsExpr:st}),_unique:gi("unique",{startsExpr:st}),_abstract:gi("abstract",{startsExpr:st}),_declare:gi("declare",{startsExpr:st}),_enum:gi("enum",{startsExpr:st}),_module:gi("module",{startsExpr:st}),_namespace:gi("namespace",{startsExpr:st}),_interface:gi("interface",{startsExpr:st}),_type:gi("type",{startsExpr:st}),_opaque:gi("opaque",{startsExpr:st}),name:It("name",{startsExpr:st}),string:It("string",{startsExpr:st}),num:It("num",{startsExpr:st}),bigint:It("bigint",{startsExpr:st}),decimal:It("decimal",{startsExpr:st}),regexp:It("regexp",{startsExpr:st}),privateName:It("#name",{startsExpr:st}),eof:It("eof"),jsxName:It("jsxName"),jsxText:It("jsxText",{beforeExpr:!0}),jsxTagStart:It("jsxTagStart",{startsExpr:!0}),jsxTagEnd:It("jsxTagEnd"),placeholder:It("%%",{startsExpr:!0})};function Ai(n){return n>=93&&n<=128}function nK(n){return n<=92}function bo(n){return n>=58&&n<=128}function bN(n){return n>=58&&n<=132}function rK(n){return O1[n]}function o1(n){return N1[n]}function sK(n){return n>=29&&n<=33}function sN(n){return n>=125&&n<=127}function aK(n){return n>=90&&n<=92}function F1(n){return n>=58&&n<=92}function oK(n){return n>=39&&n<=59}function lK(n){return n===34}function cK(n){return k1[n]}function uK(n){return n>=117&&n<=119}function hK(n){return n>=120&&n<=126}function Cl(n){return R1[n]}function tv(n){return L1[n]}function fK(n){return n===57}function ov(n){return n>=24&&n<=25}function mo(n){return go[n]}go[8].updateContext=n=>{n.pop()},go[5].updateContext=go[7].updateContext=go[23].updateContext=n=>{n.push(zi.brace)},go[22].updateContext=n=>{n[n.length-1]===zi.template?n.pop():n.push(zi.template)},go[138].updateContext=n=>{n.push(zi.j_expr,zi.j_oTag)};var B1="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",EN="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",dK=new RegExp("["+B1+"]"),pK=new RegExp("["+B1+EN+"]");B1=EN=null;var SN=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],mK=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239];function l1(n,e){let t=65536;for(let i=0,r=e.length;i<r;i+=2){if(t+=e[i],t>n)return!1;if(t+=e[i+1],t>=n)return!0}return!1}function yo(n){return n<65?n===36:n<=90?!0:n<97?n===95:n<=122?!0:n<=65535?n>=170&&dK.test(String.fromCharCode(n)):l1(n,SN)}function Nh(n){return n<48?n===36:n<58?!0:n<65?!1:n<=90?!0:n<97?n===95:n<=122?!0:n<=65535?n>=170&&pK.test(String.fromCharCode(n)):l1(n,SN)||l1(n,mK)}var U1={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},gK=new Set(U1.keyword),yK=new Set(U1.strict),vK=new Set(U1.strictBind);function TN(n,e){return e&&n==="await"||n==="enum"}function wN(n,e){return TN(n,e)||yK.has(n)}function AN(n){return vK.has(n)}function MN(n,e){return wN(n,e)||AN(n)}function _K(n){return gK.has(n)}function xK(n,e,t){return n===64&&e===64&&yo(t)}var bK=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete","implements","interface","let","package","private","protected","public","static","yield","eval","arguments","enum","await"]);function EK(n){return bK.has(n)}var Lh=0,Kd=1,_o=2,z1=4,CN=8,lv=16,PN=32,Nc=64,c1=128,iv=256,Zy=Kd|_o|iv,So=1,Uh=2,IN=4,Pl=8,nv=16,DN=64,cv=128,u1=256,h1=512,V1=1024,f1=2048,RN=So|Uh|Pl|cv,xo=So|0|Pl|0,uv=So|0|IN|0,LN=So|0|nv|0,SK=0|Uh|0|cv,TK=0|Uh|0|0,ON=So|Uh|Pl|u1,aN=0|V1,Lc=0|DN,wK=So|0|0|DN,AK=ON|h1,MK=0|V1,CK=f1,hv=4,H1=2,G1=1,ZT=H1|G1,PK=H1|hv,IK=G1|hv,DK=H1,RK=G1,QT=0,d1=class{constructor(){this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1}hasPlugin(e){if(typeof e=="string")return this.plugins.has(e);{let[t,i]=e;if(!this.hasPlugin(t))return!1;let r=this.plugins.get(t);for(let s of Object.keys(i))if((r==null?void 0:r[s])!==i[s])return!1;return!0}}getPluginOption(e,t){var i;return(i=this.plugins.get(e))==null?void 0:i[t]}};function NN(n,e){n.trailingComments===void 0?n.trailingComments=e:n.trailingComments.unshift(...e)}function LK(n,e){n.leadingComments===void 0?n.leadingComments=e:n.leadingComments.unshift(...e)}function Zd(n,e){n.innerComments===void 0?n.innerComments=e:n.innerComments.unshift(...e)}function Wd(n,e,t){let i=null,r=e.length;for(;i===null&&r>0;)i=e[--r];i===null||i.start>t.start?Zd(n,t.comments):NN(i,t.comments)}var p1=class extends d1{addComment(e){this.filename&&(e.loc.filename=this.filename),this.state.comments.push(e)}processComment(e){let{commentStack:t}=this.state,i=t.length;if(i===0)return;let r=i-1,s=t[r];s.start===e.end&&(s.leadingNode=e,r--);let{start:a}=e;for(;r>=0;r--){let o=t[r],l=o.end;if(l>a)o.containingNode=e,this.finalizeComment(o),t.splice(r,1);else{l===a&&(o.trailingNode=e);break}}}finalizeComment(e){let{comments:t}=e;if(e.leadingNode!==null||e.trailingNode!==null)e.leadingNode!==null&&NN(e.leadingNode,t),e.trailingNode!==null&&LK(e.trailingNode,t);else{let{containingNode:i,start:r}=e;if(this.input.charCodeAt(r-1)===44)switch(i.type){case"ObjectExpression":case"ObjectPattern":case"RecordExpression":Wd(i,i.properties,e);break;case"CallExpression":case"OptionalCallExpression":Wd(i,i.arguments,e);break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":Wd(i,i.params,e);break;case"ArrayExpression":case"ArrayPattern":case"TupleExpression":Wd(i,i.elements,e);break;case"ExportNamedDeclaration":case"ImportDeclaration":Wd(i,i.specifiers,e);break;default:Zd(i,t)}else Zd(i,t)}}finalizeRemainingComments(){let{commentStack:e}=this.state;for(let t=e.length-1;t>=0;t--)this.finalizeComment(e[t]);this.state.commentStack=[]}resetPreviousNodeTrailingComments(e){let{commentStack:t}=this.state,{length:i}=t;if(i===0)return;let r=t[i-1];r.leadingNode===e&&(r.leadingNode=null)}takeSurroundingComments(e,t,i){let{commentStack:r}=this.state,s=r.length;if(s===0)return;let a=s-1;for(;a>=0;a--){let o=r[a],l=o.end;if(o.start===i)o.leadingNode=e;else if(l===t)o.trailingNode=e;else if(l<t)break}}},$1=/\r\n?|[\n\u2028\u2029]/,Qy=new RegExp($1.source,"g");function Jd(n){switch(n){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}var e1=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,OK=/(?:[^\S\n\r\u2028\u2029]|\/\/.*|\/\*.*?\*\/)*/y,oN=new RegExp("(?=("+OK.source+"))\\1"+/(?=[\n\r\u2028\u2029]|\/\*(?!.*?\*\/)|$)/.source,"y");function NK(n){switch(n){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}var m1=class n{constructor(){this.strict=void 0,this.curLine=void 0,this.lineStart=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.maybeInArrowParameters=!1,this.inType=!1,this.noAnonFunctionType=!1,this.hasFlowComment=!1,this.isAmbientContext=!1,this.inAbstractClass=!1,this.inDisallowConditionalTypesContext=!1,this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.soloAwait=!1,this.inFSharpPipelineDirectBody=!1,this.labels=[],this.decoratorStack=[[]],this.comments=[],this.commentStack=[],this.pos=0,this.type=135,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.lastTokStart=0,this.context=[zi.brace],this.canStartJSXElement=!0,this.containsEsc=!1,this.strictErrors=new Map,this.tokensLength=0}init({strictMode:e,sourceType:t,startLine:i,startColumn:r}){this.strict=e===!1?!1:e===!0?!0:t==="module",this.curLine=i,this.lineStart=-r,this.startLoc=this.endLoc=new Aa(i,r,0)}curPosition(){return new Aa(this.curLine,this.pos-this.lineStart,this.pos)}clone(e){let t=new n,i=Object.keys(this);for(let r=0,s=i.length;r<s;r++){let a=i[r],o=this[a];!e&&Array.isArray(o)&&(o=o.slice()),t[a]=o}return t}},kK=function(e){return e>=48&&e<=57},lN={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},ev={bin:n=>n===48||n===49,oct:n=>n>=48&&n<=55,dec:n=>n>=48&&n<=57,hex:n=>n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102};function cN(n,e,t,i,r,s){let a=t,o=i,l=r,c="",u=!1,h=t,{length:d}=e;for(;;){if(t>=d){s.unterminated(a,o,l),c+=e.slice(h,t);break}let m=e.charCodeAt(t);if(FK(n,m,e,t)){c+=e.slice(h,t);break}if(m===92){c+=e.slice(h,t);let v;({ch:v,pos:t,lineStart:i,curLine:r}=BK(e,t,i,r,n==="template",s)),v===null?u=!0:c+=v,h=t}else m===8232||m===8233?(++t,++r,i=t):m===10||m===13?n==="template"?(c+=e.slice(h,t)+`
`,++t,m===13&&e.charCodeAt(t)===10&&++t,++r,h=i=t):s.unterminated(a,o,l):++t}return{pos:t,str:c,containsInvalid:u,lineStart:i,curLine:r}}function FK(n,e,t,i){return n==="template"?e===96||e===36&&t.charCodeAt(i+1)===123:e===(n==="double"?34:39)}function BK(n,e,t,i,r,s){let a=!r;e++;let o=c=>({pos:e,ch:c,lineStart:t,curLine:i}),l=n.charCodeAt(e++);switch(l){case 110:return o(`
`);case 114:return o("\r");case 120:{let c;return{code:c,pos:e}=g1(n,e,t,i,2,!1,a,s),o(c===null?null:String.fromCharCode(c))}case 117:{let c;return{code:c,pos:e}=FN(n,e,t,i,a,s),o(c===null?null:String.fromCodePoint(c))}case 116:return o("	");case 98:return o("\b");case 118:return o("\v");case 102:return o("\f");case 13:n.charCodeAt(e)===10&&++e;case 10:t=e,++i;case 8232:case 8233:return o("");case 56:case 57:if(r)return o(null);s.strictNumericEscape(e-1,t,i);default:if(l>=48&&l<=55){let c=e-1,h=n.slice(c,e+2).match(/^[0-7]+/)[0],d=parseInt(h,8);d>255&&(h=h.slice(0,-1),d=parseInt(h,8)),e+=h.length-1;let m=n.charCodeAt(e);if(h!=="0"||m===56||m===57){if(r)return o(null);s.strictNumericEscape(c,t,i)}return o(String.fromCharCode(d))}return o(String.fromCharCode(l))}}function g1(n,e,t,i,r,s,a,o){let l=e,c;return{n:c,pos:e}=kN(n,e,t,i,16,r,s,!1,o),c===null&&(a?o.invalidEscapeSequence(l,t,i):e=l-1),{code:c,pos:e}}function kN(n,e,t,i,r,s,a,o,l){let c=e,u=r===16?lN.hex:lN.decBinOct,h=r===16?ev.hex:r===10?ev.dec:r===8?ev.oct:ev.bin,d=!1,m=0;for(let v=0,_=s==null?1/0:s;v<_;++v){let g=n.charCodeAt(e),y;if(g===95&&o!=="bail"){let b=n.charCodeAt(e-1),E=n.charCodeAt(e+1);o?(Number.isNaN(E)||!h(E)||u.has(b)||u.has(E))&&l.unexpectedNumericSeparator(e,t,i):l.numericSeparatorInEscapeSequence(e,t,i),++e;continue}if(g>=97?y=g-97+10:g>=65?y=g-65+10:kK(g)?y=g-48:y=1/0,y>=r)if(y<=9&&l.invalidDigit(e,t,i,r))y=0;else if(a)y=0,d=!0;else break;++e,m=m*r+y}return e===c||s!=null&&e-c!==s||d?{n:null,pos:e}:{n:m,pos:e}}function FN(n,e,t,i,r,s){let a=n.charCodeAt(e),o;if(a===123){if(++e,{code:o,pos:e}=g1(n,e,t,i,n.indexOf("}",e)-e,!0,r,s),++e,o!==null&&o>1114111)if(r)s.invalidCodePoint(e,t,i);else return{code:null,pos:e}}else({code:o,pos:e}=g1(n,e,t,i,4,!1,r,s));return{code:o,pos:e}}var UK=["at"],zK=["at"];function qd(n,e,t){return new Aa(t,n-e,n)}var VK=new Set([103,109,115,105,121,117,100,118]),wa=class{constructor(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,this.loc=new Bh(e.startLoc,e.endLoc)}},y1=class extends p1{constructor(e,t){super(),this.isLookahead=void 0,this.tokens=[],this.errorHandlers_readInt={invalidDigit:(i,r,s,a)=>this.options.errorRecovery?(this.raise(oe.InvalidDigit,{at:qd(i,r,s),radix:a}),!0):!1,numericSeparatorInEscapeSequence:this.errorBuilder(oe.NumericSeparatorInEscapeSequence),unexpectedNumericSeparator:this.errorBuilder(oe.UnexpectedNumericSeparator)},this.errorHandlers_readCodePoint=Object.assign({},this.errorHandlers_readInt,{invalidEscapeSequence:this.errorBuilder(oe.InvalidEscapeSequence),invalidCodePoint:this.errorBuilder(oe.InvalidCodePoint)}),this.errorHandlers_readStringContents_string=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:(i,r,s)=>{this.recordStrictModeErrors(oe.StrictNumericEscape,{at:qd(i,r,s)})},unterminated:(i,r,s)=>{throw this.raise(oe.UnterminatedString,{at:qd(i-1,r,s)})}}),this.errorHandlers_readStringContents_template=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:this.errorBuilder(oe.StrictNumericEscape),unterminated:(i,r,s)=>{throw this.raise(oe.UnterminatedTemplate,{at:qd(i,r,s)})}}),this.state=new m1,this.state.init(e),this.input=t,this.length=t.length,this.isLookahead=!1}pushToken(e){this.tokens.length=this.state.tokensLength,this.tokens.push(e),++this.state.tokensLength}next(){this.checkKeywordEscapes(),this.options.tokens&&this.pushToken(new wa(this.state)),this.state.lastTokStart=this.state.start,this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()}eat(e){return this.match(e)?(this.next(),!0):!1}match(e){return this.state.type===e}createLookaheadState(e){return{pos:e.pos,value:null,type:e.type,start:e.start,end:e.end,context:[this.curContext()],inType:e.inType,startLoc:e.startLoc,lastTokEndLoc:e.lastTokEndLoc,curLine:e.curLine,lineStart:e.lineStart,curPosition:e.curPosition}}lookahead(){let e=this.state;this.state=this.createLookaheadState(e),this.isLookahead=!0,this.nextToken(),this.isLookahead=!1;let t=this.state;return this.state=e,t}nextTokenStart(){return this.nextTokenStartSince(this.state.pos)}nextTokenStartSince(e){return e1.lastIndex=e,e1.test(this.input)?e1.lastIndex:e}lookaheadCharCode(){return this.input.charCodeAt(this.nextTokenStart())}codePointAtPos(e){let t=this.input.charCodeAt(e);if((t&64512)===55296&&++e<this.input.length){let i=this.input.charCodeAt(e);(i&64512)===56320&&(t=65536+((t&1023)<<10)+(i&1023))}return t}setStrict(e){this.state.strict=e,e&&(this.state.strictErrors.forEach(([t,i])=>this.raise(t,{at:i})),this.state.strictErrors.clear())}curContext(){return this.state.context[this.state.context.length-1]}nextToken(){if(this.skipSpace(),this.state.start=this.state.pos,this.isLookahead||(this.state.startLoc=this.state.curPosition()),this.state.pos>=this.length){this.finishToken(135);return}this.getTokenFromCode(this.codePointAtPos(this.state.pos))}skipBlockComment(){let e;this.isLookahead||(e=this.state.curPosition());let t=this.state.pos,i=this.input.indexOf("*/",t+2);if(i===-1)throw this.raise(oe.UnterminatedComment,{at:this.state.curPosition()});for(this.state.pos=i+2,Qy.lastIndex=t+2;Qy.test(this.input)&&Qy.lastIndex<=i;)++this.state.curLine,this.state.lineStart=Qy.lastIndex;if(this.isLookahead)return;let r={type:"CommentBlock",value:this.input.slice(t+2,i),start:t,end:i+2,loc:new Bh(e,this.state.curPosition())};return this.options.tokens&&this.pushToken(r),r}skipLineComment(e){let t=this.state.pos,i;this.isLookahead||(i=this.state.curPosition());let r=this.input.charCodeAt(this.state.pos+=e);if(this.state.pos<this.length)for(;!Jd(r)&&++this.state.pos<this.length;)r=this.input.charCodeAt(this.state.pos);if(this.isLookahead)return;let s=this.state.pos,o={type:"CommentLine",value:this.input.slice(t+e,s),start:t,end:s,loc:new Bh(i,this.state.curPosition())};return this.options.tokens&&this.pushToken(o),o}skipSpace(){let e=this.state.pos,t=[];e:for(;this.state.pos<this.length;){let i=this.input.charCodeAt(this.state.pos);switch(i){case 32:case 160:case 9:++this.state.pos;break;case 13:this.input.charCodeAt(this.state.pos+1)===10&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:{let r=this.skipBlockComment();r!==void 0&&(this.addComment(r),this.options.attachComment&&t.push(r));break}case 47:{let r=this.skipLineComment(2);r!==void 0&&(this.addComment(r),this.options.attachComment&&t.push(r));break}default:break e}break;default:if(NK(i))++this.state.pos;else if(i===45&&!this.inModule){let r=this.state.pos;if(this.input.charCodeAt(r+1)===45&&this.input.charCodeAt(r+2)===62&&(e===0||this.state.lineStart>e)){let s=this.skipLineComment(3);s!==void 0&&(this.addComment(s),this.options.attachComment&&t.push(s))}else break e}else if(i===60&&!this.inModule){let r=this.state.pos;if(this.input.charCodeAt(r+1)===33&&this.input.charCodeAt(r+2)===45&&this.input.charCodeAt(r+3)===45){let s=this.skipLineComment(4);s!==void 0&&(this.addComment(s),this.options.attachComment&&t.push(s))}else break e}else break e}}if(t.length>0){let i=this.state.pos,r={start:e,end:i,comments:t,leadingNode:null,trailingNode:null,containingNode:null};this.state.commentStack.push(r)}}finishToken(e,t){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();let i=this.state.type;this.state.type=e,this.state.value=t,this.isLookahead||this.updateContext(i)}replaceToken(e){this.state.type=e,this.updateContext()}readToken_numberSign(){if(this.state.pos===0&&this.readToken_interpreter())return;let e=this.state.pos+1,t=this.codePointAtPos(e);if(t>=48&&t<=57)throw this.raise(oe.UnexpectedDigitAfterHash,{at:this.state.curPosition()});if(t===123||t===91&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),this.getPluginOption("recordAndTuple","syntaxType")!=="hash")throw this.raise(t===123?oe.RecordExpressionHashIncorrectStartSyntaxType:oe.TupleExpressionHashIncorrectStartSyntaxType,{at:this.state.curPosition()});this.state.pos+=2,t===123?this.finishToken(7):this.finishToken(1)}else yo(t)?(++this.state.pos,this.finishToken(134,this.readWord1(t))):t===92?(++this.state.pos,this.finishToken(134,this.readWord1())):this.finishOp(27,1)}readToken_dot(){let e=this.input.charCodeAt(this.state.pos+1);if(e>=48&&e<=57){this.readNumber(!0);return}e===46&&this.input.charCodeAt(this.state.pos+2)===46?(this.state.pos+=3,this.finishToken(21)):(++this.state.pos,this.finishToken(16))}readToken_slash(){this.input.charCodeAt(this.state.pos+1)===61?this.finishOp(31,2):this.finishOp(56,1)}readToken_interpreter(){if(this.state.pos!==0||this.length<2)return!1;let e=this.input.charCodeAt(this.state.pos+1);if(e!==33)return!1;let t=this.state.pos;for(this.state.pos+=1;!Jd(e)&&++this.state.pos<this.length;)e=this.input.charCodeAt(this.state.pos);let i=this.input.slice(t+2,this.state.pos);return this.finishToken(28,i),!0}readToken_mult_modulo(e){let t=e===42?55:54,i=1,r=this.input.charCodeAt(this.state.pos+1);e===42&&r===42&&(i++,r=this.input.charCodeAt(this.state.pos+2),t=57),r===61&&!this.state.inType&&(i++,t=e===37?33:30),this.finishOp(t,i)}readToken_pipe_amp(e){let t=this.input.charCodeAt(this.state.pos+1);if(t===e){this.input.charCodeAt(this.state.pos+2)===61?this.finishOp(30,3):this.finishOp(e===124?41:42,2);return}if(e===124){if(t===62){this.finishOp(39,2);return}if(this.hasPlugin("recordAndTuple")&&t===125){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(oe.RecordExpressionBarIncorrectEndSyntaxType,{at:this.state.curPosition()});this.state.pos+=2,this.finishToken(9);return}if(this.hasPlugin("recordAndTuple")&&t===93){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(oe.TupleExpressionBarIncorrectEndSyntaxType,{at:this.state.curPosition()});this.state.pos+=2,this.finishToken(4);return}}if(t===61){this.finishOp(30,2);return}this.finishOp(e===124?43:45,1)}readToken_caret(){let e=this.input.charCodeAt(this.state.pos+1);if(e===61&&!this.state.inType)this.finishOp(32,2);else if(e===94&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"^^"}])){if(this.finishOp(37,2),this.input.codePointAt(this.state.pos)===94)throw this.unexpected()}else this.finishOp(44,1)}readToken_atSign(){this.input.charCodeAt(this.state.pos+1)===64&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"@@"}])?this.finishOp(38,2):this.finishOp(26,1)}readToken_plus_min(e){let t=this.input.charCodeAt(this.state.pos+1);if(t===e){this.finishOp(34,2);return}t===61?this.finishOp(30,2):this.finishOp(53,1)}readToken_lt(){let{pos:e}=this.state,t=this.input.charCodeAt(e+1);if(t===60){if(this.input.charCodeAt(e+2)===61){this.finishOp(30,3);return}this.finishOp(51,2);return}if(t===61){this.finishOp(49,2);return}this.finishOp(47,1)}readToken_gt(){let{pos:e}=this.state,t=this.input.charCodeAt(e+1);if(t===62){let i=this.input.charCodeAt(e+2)===62?3:2;if(this.input.charCodeAt(e+i)===61){this.finishOp(30,i+1);return}this.finishOp(52,i);return}if(t===61){this.finishOp(49,2);return}this.finishOp(48,1)}readToken_eq_excl(e){let t=this.input.charCodeAt(this.state.pos+1);if(t===61){this.finishOp(46,this.input.charCodeAt(this.state.pos+2)===61?3:2);return}if(e===61&&t===62){this.state.pos+=2,this.finishToken(19);return}this.finishOp(e===61?29:35,1)}readToken_question(){let e=this.input.charCodeAt(this.state.pos+1),t=this.input.charCodeAt(this.state.pos+2);e===63?t===61?this.finishOp(30,3):this.finishOp(40,2):e===46&&!(t>=48&&t<=57)?(this.state.pos+=2,this.finishToken(18)):(++this.state.pos,this.finishToken(17))}getTokenFromCode(e){switch(e){case 46:this.readToken_dot();return;case 40:++this.state.pos,this.finishToken(10);return;case 41:++this.state.pos,this.finishToken(11);return;case 59:++this.state.pos,this.finishToken(13);return;case 44:++this.state.pos,this.finishToken(12);return;case 91:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(oe.TupleExpressionBarIncorrectStartSyntaxType,{at:this.state.curPosition()});this.state.pos+=2,this.finishToken(2)}else++this.state.pos,this.finishToken(0);return;case 93:++this.state.pos,this.finishToken(3);return;case 123:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(oe.RecordExpressionBarIncorrectStartSyntaxType,{at:this.state.curPosition()});this.state.pos+=2,this.finishToken(6)}else++this.state.pos,this.finishToken(5);return;case 125:++this.state.pos,this.finishToken(8);return;case 58:this.hasPlugin("functionBind")&&this.input.charCodeAt(this.state.pos+1)===58?this.finishOp(15,2):(++this.state.pos,this.finishToken(14));return;case 63:this.readToken_question();return;case 96:this.readTemplateToken();return;case 48:{let t=this.input.charCodeAt(this.state.pos+1);if(t===120||t===88){this.readRadixNumber(16);return}if(t===111||t===79){this.readRadixNumber(8);return}if(t===98||t===66){this.readRadixNumber(2);return}}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:this.readNumber(!1);return;case 34:case 39:this.readString(e);return;case 47:this.readToken_slash();return;case 37:case 42:this.readToken_mult_modulo(e);return;case 124:case 38:this.readToken_pipe_amp(e);return;case 94:this.readToken_caret();return;case 43:case 45:this.readToken_plus_min(e);return;case 60:this.readToken_lt();return;case 62:this.readToken_gt();return;case 61:case 33:this.readToken_eq_excl(e);return;case 126:this.finishOp(36,1);return;case 64:this.readToken_atSign();return;case 35:this.readToken_numberSign();return;case 92:this.readWord();return;default:if(yo(e)){this.readWord(e);return}}throw this.raise(oe.InvalidOrUnexpectedToken,{at:this.state.curPosition(),unexpected:String.fromCodePoint(e)})}finishOp(e,t){let i=this.input.slice(this.state.pos,this.state.pos+t);this.state.pos+=t,this.finishToken(e,i)}readRegexp(){let e=this.state.startLoc,t=this.state.start+1,i,r,{pos:s}=this.state;for(;;++s){if(s>=this.length)throw this.raise(oe.UnterminatedRegExp,{at:es(e,1)});let c=this.input.charCodeAt(s);if(Jd(c))throw this.raise(oe.UnterminatedRegExp,{at:es(e,1)});if(i)i=!1;else{if(c===91)r=!0;else if(c===93&&r)r=!1;else if(c===47&&!r)break;i=c===92}}let a=this.input.slice(t,s);++s;let o="",l=()=>es(e,s+2-t);for(;s<this.length;){let c=this.codePointAtPos(s),u=String.fromCharCode(c);if(VK.has(c))c===118?(this.expectPlugin("regexpUnicodeSets",l()),o.includes("u")&&this.raise(oe.IncompatibleRegExpUVFlags,{at:l()})):c===117&&o.includes("v")&&this.raise(oe.IncompatibleRegExpUVFlags,{at:l()}),o.includes(u)&&this.raise(oe.DuplicateRegExpFlags,{at:l()});else if(Nh(c)||c===92)this.raise(oe.MalformedRegExpFlags,{at:l()});else break;++s,o+=u}this.state.pos=s,this.finishToken(133,{pattern:a,flags:o})}readInt(e,t,i=!1,r=!0){let{n:s,pos:a}=kN(this.input,this.state.pos,this.state.lineStart,this.state.curLine,e,t,i,r,this.errorHandlers_readInt);return this.state.pos=a,s}readRadixNumber(e){let t=this.state.curPosition(),i=!1;this.state.pos+=2;let r=this.readInt(e);r==null&&this.raise(oe.InvalidDigit,{at:es(t,2),radix:e});let s=this.input.charCodeAt(this.state.pos);if(s===110)++this.state.pos,i=!0;else if(s===109)throw this.raise(oe.InvalidDecimal,{at:t});if(yo(this.codePointAtPos(this.state.pos)))throw this.raise(oe.NumberIdentifier,{at:this.state.curPosition()});if(i){let a=this.input.slice(t.index,this.state.pos).replace(/[_n]/g,"");this.finishToken(131,a);return}this.finishToken(130,r)}readNumber(e){let t=this.state.pos,i=this.state.curPosition(),r=!1,s=!1,a=!1,o=!1,l=!1;!e&&this.readInt(10)===null&&this.raise(oe.InvalidNumber,{at:this.state.curPosition()});let c=this.state.pos-t>=2&&this.input.charCodeAt(t)===48;if(c){let m=this.input.slice(t,this.state.pos);if(this.recordStrictModeErrors(oe.StrictOctalLiteral,{at:i}),!this.state.strict){let v=m.indexOf("_");v>0&&this.raise(oe.ZeroDigitNumericSeparator,{at:es(i,v)})}l=c&&!/[89]/.test(m)}let u=this.input.charCodeAt(this.state.pos);if(u===46&&!l&&(++this.state.pos,this.readInt(10),r=!0,u=this.input.charCodeAt(this.state.pos)),(u===69||u===101)&&!l&&(u=this.input.charCodeAt(++this.state.pos),(u===43||u===45)&&++this.state.pos,this.readInt(10)===null&&this.raise(oe.InvalidOrMissingExponent,{at:i}),r=!0,o=!0,u=this.input.charCodeAt(this.state.pos)),u===110&&((r||c)&&this.raise(oe.InvalidBigIntLiteral,{at:i}),++this.state.pos,s=!0),u===109&&(this.expectPlugin("decimal",this.state.curPosition()),(o||c)&&this.raise(oe.InvalidDecimal,{at:i}),++this.state.pos,a=!0),yo(this.codePointAtPos(this.state.pos)))throw this.raise(oe.NumberIdentifier,{at:this.state.curPosition()});let h=this.input.slice(t,this.state.pos).replace(/[_mn]/g,"");if(s){this.finishToken(131,h);return}if(a){this.finishToken(132,h);return}let d=l?parseInt(h,8):parseFloat(h);this.finishToken(130,d)}readCodePoint(e){let{code:t,pos:i}=FN(this.input,this.state.pos,this.state.lineStart,this.state.curLine,e,this.errorHandlers_readCodePoint);return this.state.pos=i,t}readString(e){let{str:t,pos:i,curLine:r,lineStart:s}=cN(e===34?"double":"single",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_string);this.state.pos=i+1,this.state.lineStart=s,this.state.curLine=r,this.finishToken(129,t)}readTemplateContinuation(){this.match(8)||this.unexpected(null,8),this.state.pos--,this.readTemplateToken()}readTemplateToken(){let e=this.input[this.state.pos],{str:t,containsInvalid:i,pos:r,curLine:s,lineStart:a}=cN("template",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_template);this.state.pos=r+1,this.state.lineStart=a,this.state.curLine=s,this.input.codePointAt(r)===96?this.finishToken(24,i?null:e+t+"`"):(this.state.pos++,this.finishToken(25,i?null:e+t+"${"))}recordStrictModeErrors(e,{at:t}){let i=t.index;this.state.strict&&!this.state.strictErrors.has(i)?this.raise(e,{at:t}):this.state.strictErrors.set(i,[e,t])}readWord1(e){this.state.containsEsc=!1;let t="",i=this.state.pos,r=this.state.pos;for(e!==void 0&&(this.state.pos+=e<=65535?1:2);this.state.pos<this.length;){let s=this.codePointAtPos(this.state.pos);if(Nh(s))this.state.pos+=s<=65535?1:2;else if(s===92){this.state.containsEsc=!0,t+=this.input.slice(r,this.state.pos);let a=this.state.curPosition(),o=this.state.pos===i?yo:Nh;if(this.input.charCodeAt(++this.state.pos)!==117){this.raise(oe.MissingUnicodeEscape,{at:this.state.curPosition()}),r=this.state.pos-1;continue}++this.state.pos;let l=this.readCodePoint(!0);l!==null&&(o(l)||this.raise(oe.EscapedCharNotAnIdentifier,{at:a}),t+=String.fromCodePoint(l)),r=this.state.pos}else break}return t+this.input.slice(r,this.state.pos)}readWord(e){let t=this.readWord1(e),i=D1.get(t);i!==void 0?this.finishToken(i,Cl(i)):this.finishToken(128,t)}checkKeywordEscapes(){let{type:e}=this.state;F1(e)&&this.state.containsEsc&&this.raise(oe.InvalidEscapedReservedWord,{at:this.state.startLoc,reservedWord:Cl(e)})}raise(e,t){let{at:i}=t,r=sv(t,UK),s=i instanceof Aa?i:i.loc.start,a=e({loc:s,details:r});if(!this.options.errorRecovery)throw a;return this.isLookahead||this.state.errors.push(a),a}raiseOverwrite(e,t){let{at:i}=t,r=sv(t,zK),s=i instanceof Aa?i:i.loc.start,a=s.index,o=this.state.errors;for(let l=o.length-1;l>=0;l--){let c=o[l];if(c.loc.index===a)return o[l]=e({loc:s,details:r});if(c.loc.index<a)break}return this.raise(e,t)}updateContext(e){}unexpected(e,t){throw this.raise(oe.UnexpectedToken,{expected:t?Cl(t):null,at:e!=null?e:this.state.startLoc})}expectPlugin(e,t){if(this.hasPlugin(e))return!0;throw this.raise(oe.MissingPlugin,{at:t!=null?t:this.state.startLoc,missingPlugin:[e]})}expectOnePlugin(e){if(!e.some(t=>this.hasPlugin(t)))throw this.raise(oe.MissingOneOfPlugins,{at:this.state.startLoc,missingPlugin:e})}errorBuilder(e){return(t,i,r)=>{this.raise(e,{at:qd(t,i,r)})}}},Qd=class{constructor(e){this.var=new Set,this.lexical=new Set,this.functions=new Set,this.flags=e}},ep=class{constructor(e,t){this.parser=void 0,this.scopeStack=[],this.inModule=void 0,this.undefinedExports=new Map,this.parser=e,this.inModule=t}get inFunction(){return(this.currentVarScopeFlags()&_o)>0}get allowSuper(){return(this.currentThisScopeFlags()&lv)>0}get allowDirectSuper(){return(this.currentThisScopeFlags()&PN)>0}get inClass(){return(this.currentThisScopeFlags()&Nc)>0}get inClassAndNotInNonArrowFunction(){let e=this.currentThisScopeFlags();return(e&Nc)>0&&(e&_o)===0}get inStaticBlock(){for(let e=this.scopeStack.length-1;;e--){let{flags:t}=this.scopeStack[e];if(t&c1)return!0;if(t&(Zy|Nc))return!1}}get inNonArrowFunction(){return(this.currentThisScopeFlags()&_o)>0}get treatFunctionsAsVar(){return this.treatFunctionsAsVarInScope(this.currentScope())}createScope(e){return new Qd(e)}enter(e){this.scopeStack.push(this.createScope(e))}exit(){this.scopeStack.pop()}treatFunctionsAsVarInScope(e){return!!(e.flags&(_o|c1)||!this.parser.inModule&&e.flags&Kd)}declareName(e,t,i){let r=this.currentScope();if(t&Pl||t&nv)this.checkRedeclarationInScope(r,e,t,i),t&nv?r.functions.add(e):r.lexical.add(e),t&Pl&&this.maybeExportDefined(r,e);else if(t&IN)for(let s=this.scopeStack.length-1;s>=0&&(r=this.scopeStack[s],this.checkRedeclarationInScope(r,e,t,i),r.var.add(e),this.maybeExportDefined(r,e),!(r.flags&Zy));--s);this.parser.inModule&&r.flags&Kd&&this.undefinedExports.delete(e)}maybeExportDefined(e,t){this.parser.inModule&&e.flags&Kd&&this.undefinedExports.delete(t)}checkRedeclarationInScope(e,t,i,r){this.isRedeclaredInScope(e,t,i)&&this.parser.raise(oe.VarRedeclaration,{at:r,identifierName:t})}isRedeclaredInScope(e,t,i){return i&So?i&Pl?e.lexical.has(t)||e.functions.has(t)||e.var.has(t):i&nv?e.lexical.has(t)||!this.treatFunctionsAsVarInScope(e)&&e.var.has(t):e.lexical.has(t)&&!(e.flags&CN&&e.lexical.values().next().value===t)||!this.treatFunctionsAsVarInScope(e)&&e.functions.has(t):!1}checkLocalExport(e){let{name:t}=e,i=this.scopeStack[0];!i.lexical.has(t)&&!i.var.has(t)&&!i.functions.has(t)&&this.undefinedExports.set(t,e.loc.start)}currentScope(){return this.scopeStack[this.scopeStack.length-1]}currentVarScopeFlags(){for(let e=this.scopeStack.length-1;;e--){let{flags:t}=this.scopeStack[e];if(t&Zy)return t}}currentThisScopeFlags(){for(let e=this.scopeStack.length-1;;e--){let{flags:t}=this.scopeStack[e];if(t&(Zy|Nc)&&!(t&z1))return t}}},v1=class extends Qd{constructor(...e){super(...e),this.declareFunctions=new Set}},_1=class extends ep{createScope(e){return new v1(e)}declareName(e,t,i){let r=this.currentScope();if(t&f1){this.checkRedeclarationInScope(r,e,t,i),this.maybeExportDefined(r,e),r.declareFunctions.add(e);return}super.declareName(e,t,i)}isRedeclaredInScope(e,t,i){return super.isRedeclaredInScope(e,t,i)?!0:i&f1?!e.declareFunctions.has(t)&&(e.lexical.has(t)||e.functions.has(t)):!1}checkLocalExport(e){this.scopeStack[0].declareFunctions.has(e.name)||super.checkLocalExport(e)}},x1=class{constructor(){this.privateNames=new Set,this.loneAccessors=new Map,this.undefinedPrivateNames=new Map}},b1=class{constructor(e){this.parser=void 0,this.stack=[],this.undefinedPrivateNames=new Map,this.parser=e}current(){return this.stack[this.stack.length-1]}enter(){this.stack.push(new x1)}exit(){let e=this.stack.pop(),t=this.current();for(let[i,r]of Array.from(e.undefinedPrivateNames))t?t.undefinedPrivateNames.has(i)||t.undefinedPrivateNames.set(i,r):this.parser.raise(oe.InvalidPrivateFieldResolution,{at:r,identifierName:i})}declarePrivateName(e,t,i){let{privateNames:r,loneAccessors:s,undefinedPrivateNames:a}=this.current(),o=r.has(e);if(t&ZT){let l=o&&s.get(e);if(l){let c=l&hv,u=t&hv,h=l&ZT,d=t&ZT;o=h===d||c!==u,o||s.delete(e)}else o||s.set(e,t)}o&&this.parser.raise(oe.PrivateNameRedeclaration,{at:i,identifierName:e}),r.add(e),a.delete(e)}usePrivateName(e,t){let i;for(i of this.stack)if(i.privateNames.has(e))return;i?i.undefinedPrivateNames.set(e,t):this.parser.raise(oe.InvalidPrivateFieldResolution,{at:t,identifierName:e})}},HK=0,BN=1,W1=2,UN=3,zh=class{constructor(e=HK){this.type=void 0,this.type=e}canBeArrowParameterDeclaration(){return this.type===W1||this.type===BN}isCertainlyParameterDeclaration(){return this.type===UN}},fv=class extends zh{constructor(e){super(e),this.declarationErrors=new Map}recordDeclarationError(e,{at:t}){let i=t.index;this.declarationErrors.set(i,[e,t])}clearDeclarationError(e){this.declarationErrors.delete(e)}iterateErrors(e){this.declarationErrors.forEach(e)}},E1=class{constructor(e){this.parser=void 0,this.stack=[new zh],this.parser=e}enter(e){this.stack.push(e)}exit(){this.stack.pop()}recordParameterInitializerError(e,{at:t}){let i={at:t.loc.start},{stack:r}=this,s=r.length-1,a=r[s];for(;!a.isCertainlyParameterDeclaration();){if(a.canBeArrowParameterDeclaration())a.recordDeclarationError(e,i);else return;a=r[--s]}this.parser.raise(e,i)}recordArrowParemeterBindingError(e,{at:t}){let{stack:i}=this,r=i[i.length-1],s={at:t.loc.start};if(r.isCertainlyParameterDeclaration())this.parser.raise(e,s);else if(r.canBeArrowParameterDeclaration())r.recordDeclarationError(e,s);else return}recordAsyncArrowParametersError({at:e}){let{stack:t}=this,i=t.length-1,r=t[i];for(;r.canBeArrowParameterDeclaration();)r.type===W1&&r.recordDeclarationError(oe.AwaitBindingIdentifier,{at:e}),r=t[--i]}validateAsPattern(){let{stack:e}=this,t=e[e.length-1];t.canBeArrowParameterDeclaration()&&t.iterateErrors(([i,r])=>{this.parser.raise(i,{at:r});let s=e.length-2,a=e[s];for(;a.canBeArrowParameterDeclaration();)a.clearDeclarationError(r.index),a=e[--s]})}};function GK(){return new zh(UN)}function $K(){return new fv(BN)}function WK(){return new fv(W1)}function zN(){return new zh}var kh=0,VN=1,pv=2,HN=4,Rh=8,S1=class{constructor(){this.stacks=[]}enter(e){this.stacks.push(e)}exit(){this.stacks.pop()}currentFlags(){return this.stacks[this.stacks.length-1]}get hasAwait(){return(this.currentFlags()&pv)>0}get hasYield(){return(this.currentFlags()&VN)>0}get hasReturn(){return(this.currentFlags()&HN)>0}get hasIn(){return(this.currentFlags()&Rh)>0}};function rv(n,e){return(n?pv:0)|(e?VN:0)}var T1=class extends y1{addExtra(e,t,i,r=!0){if(!e)return;let s=e.extra=e.extra||{};r?s[t]=i:Object.defineProperty(s,t,{enumerable:r,value:i})}isContextual(e){return this.state.type===e&&!this.state.containsEsc}isUnparsedContextual(e,t){let i=e+t.length;if(this.input.slice(e,i)===t){let r=this.input.charCodeAt(i);return!(Nh(r)||(r&64512)===55296)}return!1}isLookaheadContextual(e){let t=this.nextTokenStart();return this.isUnparsedContextual(t,e)}eatContextual(e){return this.isContextual(e)?(this.next(),!0):!1}expectContextual(e,t){if(!this.eatContextual(e))throw t!=null?this.raise(t,{at:this.state.startLoc}):this.unexpected(null,e)}canInsertSemicolon(){return this.match(135)||this.match(8)||this.hasPrecedingLineBreak()}hasPrecedingLineBreak(){return $1.test(this.input.slice(this.state.lastTokEndLoc.index,this.state.start))}hasFollowingLineBreak(){return oN.lastIndex=this.state.end,oN.test(this.input)}isLineTerminator(){return this.eat(13)||this.canInsertSemicolon()}semicolon(e=!0){(e?this.isLineTerminator():this.eat(13))||this.raise(oe.MissingSemicolon,{at:this.state.lastTokEndLoc})}expect(e,t){this.eat(e)||this.unexpected(t,e)}tryParse(e,t=this.state.clone()){let i={node:null};try{let r=e((s=null)=>{throw i.node=s,i});if(this.state.errors.length>t.errors.length){let s=this.state;return this.state=t,this.state.tokensLength=s.tokensLength,{node:r,error:s.errors[t.errors.length],thrown:!1,aborted:!1,failState:s}}return{node:r,error:null,thrown:!1,aborted:!1,failState:null}}catch(r){let s=this.state;if(this.state=t,r instanceof SyntaxError)return{node:null,error:r,thrown:!0,aborted:!1,failState:s};if(r===i)return{node:i.node,error:null,thrown:!1,aborted:!0,failState:s};throw r}}checkExpressionErrors(e,t){if(!e)return!1;let{shorthandAssignLoc:i,doubleProtoLoc:r,privateKeyLoc:s,optionalParametersLoc:a}=e,o=!!i||!!r||!!a||!!s;if(!t)return o;i!=null&&this.raise(oe.InvalidCoverInitializedName,{at:i}),r!=null&&this.raise(oe.DuplicateProto,{at:r}),s!=null&&this.raise(oe.UnexpectedPrivateField,{at:s}),a!=null&&this.unexpected(a)}isLiteralPropertyName(){return bN(this.state.type)}isPrivateName(e){return e.type==="PrivateName"}getPrivateNameSV(e){return e.id.name}hasPropertyAsPrivateName(e){return(e.type==="MemberExpression"||e.type==="OptionalMemberExpression")&&this.isPrivateName(e.property)}isOptionalChain(e){return e.type==="OptionalMemberExpression"||e.type==="OptionalCallExpression"}isObjectProperty(e){return e.type==="ObjectProperty"}isObjectMethod(e){return e.type==="ObjectMethod"}initializeScopes(e=this.options.sourceType==="module"){let t=this.state.labels;this.state.labels=[];let i=this.exportedIdentifiers;this.exportedIdentifiers=new Set;let r=this.inModule;this.inModule=e;let s=this.scope,a=this.getScopeHandler();this.scope=new a(this,e);let o=this.prodParam;this.prodParam=new S1;let l=this.classScope;this.classScope=new b1(this);let c=this.expressionScope;return this.expressionScope=new E1(this),()=>{this.state.labels=t,this.exportedIdentifiers=i,this.inModule=r,this.scope=s,this.prodParam=o,this.classScope=l,this.expressionScope=c}}enterInitialScopes(){let e=kh;this.inModule&&(e|=pv),this.scope.enter(Kd),this.prodParam.enter(e)}checkDestructuringPrivate(e){let{privateKeyLoc:t}=e;t!==null&&this.expectPlugin("destructuringPrivate",t)}},Fh=class{constructor(){this.shorthandAssignLoc=null,this.doubleProtoLoc=null,this.privateKeyLoc=null,this.optionalParametersLoc=null}},Vh=class{constructor(e,t,i){this.type="",this.start=t,this.end=0,this.loc=new Bh(i),e!=null&&e.options.ranges&&(this.range=[t,0]),e!=null&&e.filename&&(this.loc.filename=e.filename)}},q1=Vh.prototype;q1.__clone=function(){let n=new Vh,e=Object.keys(this);for(let t=0,i=e.length;t<i;t++){let r=e[t];r!=="leadingComments"&&r!=="trailingComments"&&r!=="innerComments"&&(n[r]=this[r])}return n};function qK(n){return Eo(n)}function Eo(n){let{type:e,start:t,end:i,loc:r,range:s,extra:a,name:o}=n,l=Object.create(q1);return l.type=e,l.start=t,l.end=i,l.loc=r,l.range=s,l.extra=a,l.name=o,e==="Placeholder"&&(l.expectedNode=n.expectedNode),l}function jK(n){let{type:e,start:t,end:i,loc:r,range:s,extra:a}=n;if(e==="Placeholder")return qK(n);let o=Object.create(q1);return o.type=e,o.start=t,o.end=i,o.loc=r,o.range=s,n.raw!==void 0?o.raw=n.raw:o.extra=a,o.value=n.value,o}var w1=class extends T1{startNode(){return new Vh(this,this.state.start,this.state.startLoc)}startNodeAt(e,t){return new Vh(this,e,t)}startNodeAtNode(e){return this.startNodeAt(e.start,e.loc.start)}finishNode(e,t){return this.finishNodeAt(e,t,this.state.lastTokEndLoc)}finishNodeAt(e,t,i){return e.type=t,e.end=i.index,e.loc.end=i,this.options.ranges&&(e.range[1]=i.index),this.options.attachComment&&this.processComment(e),e}resetStartLocation(e,t,i){e.start=t,e.loc.start=i,this.options.ranges&&(e.range[0]=t)}resetEndLocation(e,t=this.state.lastTokEndLoc){e.end=t.index,e.loc.end=t,this.options.ranges&&(e.range[1]=t.index)}resetStartLocationFromNode(e,t){this.resetStartLocation(e,t.start,t.loc.start)}},XK=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),Ut=vo`flow`({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module.",AssignReservedType:({reservedType:n})=>`Cannot overwrite reserved type ${n}.`,DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement.",EnumBooleanMemberNotInitialized:({memberName:n,enumName:e})=>`Boolean enum members need to be initialized. Use either \`${n} = true,\` or \`${n} = false,\` in enum \`${e}\`.`,EnumDuplicateMemberName:({memberName:n,enumName:e})=>`Enum member names need to be unique, but the name \`${n}\` has already been used before in enum \`${e}\`.`,EnumInconsistentMemberValues:({enumName:n})=>`Enum \`${n}\` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.`,EnumInvalidExplicitType:({invalidEnumType:n,enumName:e})=>`Enum type \`${n}\` is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${e}\`.`,EnumInvalidExplicitTypeUnknownSupplied:({enumName:n})=>`Supplied enum type is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${n}\`.`,EnumInvalidMemberInitializerPrimaryType:({enumName:n,memberName:e,explicitType:t})=>`Enum \`${n}\` has type \`${t}\`, so the initializer of \`${e}\` needs to be a ${t} literal.`,EnumInvalidMemberInitializerSymbolType:({enumName:n,memberName:e})=>`Symbol enum members cannot be initialized. Use \`${e},\` in enum \`${n}\`.`,EnumInvalidMemberInitializerUnknownType:({enumName:n,memberName:e})=>`The enum member initializer for \`${e}\` needs to be a literal (either a boolean, number, or string) in enum \`${n}\`.`,EnumInvalidMemberName:({enumName:n,memberName:e,suggestion:t})=>`Enum member names cannot start with lowercase 'a' through 'z'. Instead of using \`${e}\`, consider using \`${t}\`, in enum \`${n}\`.`,EnumNumberMemberNotInitialized:({enumName:n,memberName:e})=>`Number enum members need to be initialized, e.g. \`${e} = 1\` in enum \`${n}\`.`,EnumStringMemberInconsistentlyInitailized:({enumName:n})=>`String enum members need to consistently either all use initializers, or use no initializers, in enum \`${n}\`.`,GetterMayNotHaveThisParam:"A getter cannot have a `this` parameter.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements.",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type.",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions.",InexactVariance:"Explicit inexact syntax cannot have variance.",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`.",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`.",NestedFlowComment:"Cannot have a flow comment inside another flow comment.",PatternIsOptional:Object.assign({message:"A binding pattern parameter cannot be optional in an implementation signature."},{reasonCode:"OptionalBindingPattern"}),SetterMayNotHaveThisParam:"A setter cannot have a `this` parameter.",SpreadVariance:"Spread properties cannot have variance.",ThisParamAnnotationRequired:"A type annotation is required for the `this` parameter.",ThisParamBannedInConstructor:"Constructors cannot have a `this` parameter; constructors don't bind `this` like other functions.",ThisParamMayNotBeOptional:"The `this` parameter cannot be optional.",ThisParamMustBeFirst:"The `this` parameter must be the first function parameter.",ThisParamNoDefault:"The `this` parameter may not have a default value.",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis.",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object.",UnexpectedReservedType:({reservedType:n})=>`Unexpected reserved type ${n}.`,UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new.",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions.",UnexpectedSubtractionOperand:'Unexpected token, expected "number" or "bigint".',UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration.",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`.",UnsupportedDeclareExportKind:({unsupportedExportKind:n,suggestion:e})=>`\`declare export ${n}\` is not supported. Use \`${e}\` instead.`,UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module.",UnterminatedFlowComment:"Unterminated flow-comment."});function YK(n){return n.type==="DeclareExportAllDeclaration"||n.type==="DeclareExportDeclaration"&&(!n.declaration||n.declaration.type!=="TypeAlias"&&n.declaration.type!=="InterfaceDeclaration")}function t1(n){return n.importKind==="type"||n.importKind==="typeof"}function uN(n){return bo(n)&&n!==97}var KK={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"};function JK(n,e){let t=[],i=[];for(let r=0;r<n.length;r++)(e(n[r],r,n)?t:i).push(n[r]);return[t,i]}var ZK=/\*?\s*@((?:no)?flow)\b/,QK=n=>class extends n{constructor(...t){super(...t),this.flowPragma=void 0}getScopeHandler(){return _1}shouldParseTypes(){return this.getPluginOption("flow","all")||this.flowPragma==="flow"}shouldParseEnums(){return!!this.getPluginOption("flow","enums")}finishToken(t,i){return t!==129&&t!==13&&t!==28&&this.flowPragma===void 0&&(this.flowPragma=null),super.finishToken(t,i)}addComment(t){if(this.flowPragma===void 0){let i=ZK.exec(t.value);if(i)if(i[1]==="flow")this.flowPragma="flow";else if(i[1]==="noflow")this.flowPragma="noflow";else throw new Error("Unexpected flow pragma")}return super.addComment(t)}flowParseTypeInitialiser(t){let i=this.state.inType;this.state.inType=!0,this.expect(t||14);let r=this.flowParseType();return this.state.inType=i,r}flowParsePredicate(){let t=this.startNode(),i=this.state.startLoc;return this.next(),this.expectContextual(107),this.state.lastTokStart>i.index+1&&this.raise(Ut.UnexpectedSpaceBetweenModuloChecks,{at:i}),this.eat(10)?(t.value=super.parseExpression(),this.expect(11),this.finishNode(t,"DeclaredPredicate")):this.finishNode(t,"InferredPredicate")}flowParseTypeAndPredicateInitialiser(){let t=this.state.inType;this.state.inType=!0,this.expect(14);let i=null,r=null;return this.match(54)?(this.state.inType=t,r=this.flowParsePredicate()):(i=this.flowParseType(),this.state.inType=t,this.match(54)&&(r=this.flowParsePredicate())),[i,r]}flowParseDeclareClass(t){return this.next(),this.flowParseInterfaceish(t,!0),this.finishNode(t,"DeclareClass")}flowParseDeclareFunction(t){this.next();let i=t.id=this.parseIdentifier(),r=this.startNode(),s=this.startNode();this.match(47)?r.typeParameters=this.flowParseTypeParameterDeclaration():r.typeParameters=null,this.expect(10);let a=this.flowParseFunctionTypeParams();return r.params=a.params,r.rest=a.rest,r.this=a._this,this.expect(11),[r.returnType,t.predicate]=this.flowParseTypeAndPredicateInitialiser(),s.typeAnnotation=this.finishNode(r,"FunctionTypeAnnotation"),i.typeAnnotation=this.finishNode(s,"TypeAnnotation"),this.resetEndLocation(i),this.semicolon(),this.scope.declareName(t.id.name,CK,t.id.loc.start),this.finishNode(t,"DeclareFunction")}flowParseDeclare(t,i){if(this.match(80))return this.flowParseDeclareClass(t);if(this.match(68))return this.flowParseDeclareFunction(t);if(this.match(74))return this.flowParseDeclareVariable(t);if(this.eatContextual(123))return this.match(16)?this.flowParseDeclareModuleExports(t):(i&&this.raise(Ut.NestedDeclareModule,{at:this.state.lastTokStartLoc}),this.flowParseDeclareModule(t));if(this.isContextual(126))return this.flowParseDeclareTypeAlias(t);if(this.isContextual(127))return this.flowParseDeclareOpaqueType(t);if(this.isContextual(125))return this.flowParseDeclareInterface(t);if(this.match(82))return this.flowParseDeclareExportDeclaration(t,i);throw this.unexpected()}flowParseDeclareVariable(t){return this.next(),t.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(t.id.name,uv,t.id.loc.start),this.semicolon(),this.finishNode(t,"DeclareVariable")}flowParseDeclareModule(t){this.scope.enter(Lh),this.match(129)?t.id=super.parseExprAtom():t.id=this.parseIdentifier();let i=t.body=this.startNode(),r=i.body=[];for(this.expect(5);!this.match(8);){let o=this.startNode();this.match(83)?(this.next(),!this.isContextual(126)&&!this.match(87)&&this.raise(Ut.InvalidNonTypeImportInDeclareModule,{at:this.state.lastTokStartLoc}),super.parseImport(o)):(this.expectContextual(121,Ut.UnsupportedStatementInDeclareModule),o=this.flowParseDeclare(o,!0)),r.push(o)}this.scope.exit(),this.expect(8),this.finishNode(i,"BlockStatement");let s=null,a=!1;return r.forEach(o=>{YK(o)?(s==="CommonJS"&&this.raise(Ut.AmbiguousDeclareModuleKind,{at:o}),s="ES"):o.type==="DeclareModuleExports"&&(a&&this.raise(Ut.DuplicateDeclareModuleExports,{at:o}),s==="ES"&&this.raise(Ut.AmbiguousDeclareModuleKind,{at:o}),s="CommonJS",a=!0)}),t.kind=s||"CommonJS",this.finishNode(t,"DeclareModule")}flowParseDeclareExportDeclaration(t,i){if(this.expect(82),this.eat(65))return this.match(68)||this.match(80)?t.declaration=this.flowParseDeclare(this.startNode()):(t.declaration=this.flowParseType(),this.semicolon()),t.default=!0,this.finishNode(t,"DeclareExportDeclaration");if(this.match(75)||this.isLet()||(this.isContextual(126)||this.isContextual(125))&&!i){let r=this.state.value;throw this.raise(Ut.UnsupportedDeclareExportKind,{at:this.state.startLoc,unsupportedExportKind:r,suggestion:KK[r]})}if(this.match(74)||this.match(68)||this.match(80)||this.isContextual(127))return t.declaration=this.flowParseDeclare(this.startNode()),t.default=!1,this.finishNode(t,"DeclareExportDeclaration");if(this.match(55)||this.match(5)||this.isContextual(125)||this.isContextual(126)||this.isContextual(127))return t=this.parseExport(t),t.type==="ExportNamedDeclaration"&&(t.type="ExportDeclaration",t.default=!1,delete t.exportKind),t.type="Declare"+t.type,t;throw this.unexpected()}flowParseDeclareModuleExports(t){return this.next(),this.expectContextual(108),t.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(t,"DeclareModuleExports")}flowParseDeclareTypeAlias(t){this.next();let i=this.flowParseTypeAlias(t);return i.type="DeclareTypeAlias",i}flowParseDeclareOpaqueType(t){this.next();let i=this.flowParseOpaqueType(t,!0);return i.type="DeclareOpaqueType",i}flowParseDeclareInterface(t){return this.next(),this.flowParseInterfaceish(t),this.finishNode(t,"DeclareInterface")}flowParseInterfaceish(t,i=!1){if(t.id=this.flowParseRestrictedIdentifier(!i,!0),this.scope.declareName(t.id.name,i?LN:xo,t.id.loc.start),this.match(47)?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.extends=[],t.implements=[],t.mixins=[],this.eat(81))do t.extends.push(this.flowParseInterfaceExtends());while(!i&&this.eat(12));if(this.isContextual(114)){this.next();do t.mixins.push(this.flowParseInterfaceExtends());while(this.eat(12))}if(this.isContextual(110)){this.next();do t.implements.push(this.flowParseInterfaceExtends());while(this.eat(12))}t.body=this.flowParseObjectType({allowStatic:i,allowExact:!1,allowSpread:!1,allowProto:i,allowInexact:!1})}flowParseInterfaceExtends(){let t=this.startNode();return t.id=this.flowParseQualifiedTypeIdentifier(),this.match(47)?t.typeParameters=this.flowParseTypeParameterInstantiation():t.typeParameters=null,this.finishNode(t,"InterfaceExtends")}flowParseInterface(t){return this.flowParseInterfaceish(t),this.finishNode(t,"InterfaceDeclaration")}checkNotUnderscore(t){t==="_"&&this.raise(Ut.UnexpectedReservedUnderscore,{at:this.state.startLoc})}checkReservedType(t,i,r){XK.has(t)&&this.raise(r?Ut.AssignReservedType:Ut.UnexpectedReservedType,{at:i,reservedType:t})}flowParseRestrictedIdentifier(t,i){return this.checkReservedType(this.state.value,this.state.startLoc,i),this.parseIdentifier(t)}flowParseTypeAlias(t){return t.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(t.id.name,xo,t.id.loc.start),this.match(47)?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.right=this.flowParseTypeInitialiser(29),this.semicolon(),this.finishNode(t,"TypeAlias")}flowParseOpaqueType(t,i){return this.expectContextual(126),t.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(t.id.name,xo,t.id.loc.start),this.match(47)?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.supertype=null,this.match(14)&&(t.supertype=this.flowParseTypeInitialiser(14)),t.impltype=null,i||(t.impltype=this.flowParseTypeInitialiser(29)),this.semicolon(),this.finishNode(t,"OpaqueType")}flowParseTypeParameter(t=!1){let i=this.state.startLoc,r=this.startNode(),s=this.flowParseVariance(),a=this.flowParseTypeAnnotatableIdentifier();return r.name=a.name,r.variance=s,r.bound=a.typeAnnotation,this.match(29)?(this.eat(29),r.default=this.flowParseType()):t&&this.raise(Ut.MissingTypeParamDefault,{at:i}),this.finishNode(r,"TypeParameter")}flowParseTypeParameterDeclaration(){let t=this.state.inType,i=this.startNode();i.params=[],this.state.inType=!0,this.match(47)||this.match(138)?this.next():this.unexpected();let r=!1;do{let s=this.flowParseTypeParameter(r);i.params.push(s),s.default&&(r=!0),this.match(48)||this.expect(12)}while(!this.match(48));return this.expect(48),this.state.inType=t,this.finishNode(i,"TypeParameterDeclaration")}flowParseTypeParameterInstantiation(){let t=this.startNode(),i=this.state.inType;t.params=[],this.state.inType=!0,this.expect(47);let r=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.match(48);)t.params.push(this.flowParseType()),this.match(48)||this.expect(12);return this.state.noAnonFunctionType=r,this.expect(48),this.state.inType=i,this.finishNode(t,"TypeParameterInstantiation")}flowParseTypeParameterInstantiationCallOrNew(){let t=this.startNode(),i=this.state.inType;for(t.params=[],this.state.inType=!0,this.expect(47);!this.match(48);)t.params.push(this.flowParseTypeOrImplicitInstantiation()),this.match(48)||this.expect(12);return this.expect(48),this.state.inType=i,this.finishNode(t,"TypeParameterInstantiation")}flowParseInterfaceType(){let t=this.startNode();if(this.expectContextual(125),t.extends=[],this.eat(81))do t.extends.push(this.flowParseInterfaceExtends());while(this.eat(12));return t.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(t,"InterfaceTypeAnnotation")}flowParseObjectPropertyKey(){return this.match(130)||this.match(129)?super.parseExprAtom():this.parseIdentifier(!0)}flowParseObjectTypeIndexer(t,i,r){return t.static=i,this.lookahead().type===14?(t.id=this.flowParseObjectPropertyKey(),t.key=this.flowParseTypeInitialiser()):(t.id=null,t.key=this.flowParseType()),this.expect(3),t.value=this.flowParseTypeInitialiser(),t.variance=r,this.finishNode(t,"ObjectTypeIndexer")}flowParseObjectTypeInternalSlot(t,i){return t.static=i,t.id=this.flowParseObjectPropertyKey(),this.expect(3),this.expect(3),this.match(47)||this.match(10)?(t.method=!0,t.optional=!1,t.value=this.flowParseObjectTypeMethodish(this.startNodeAt(t.start,t.loc.start))):(t.method=!1,this.eat(17)&&(t.optional=!0),t.value=this.flowParseTypeInitialiser()),this.finishNode(t,"ObjectTypeInternalSlot")}flowParseObjectTypeMethodish(t){for(t.params=[],t.rest=null,t.typeParameters=null,t.this=null,this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(10),this.match(78)&&(t.this=this.flowParseFunctionTypeParam(!0),t.this.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)t.params.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(t.rest=this.flowParseFunctionTypeParam(!1)),this.expect(11),t.returnType=this.flowParseTypeInitialiser(),this.finishNode(t,"FunctionTypeAnnotation")}flowParseObjectTypeCallProperty(t,i){let r=this.startNode();return t.static=i,t.value=this.flowParseObjectTypeMethodish(r),this.finishNode(t,"ObjectTypeCallProperty")}flowParseObjectType({allowStatic:t,allowExact:i,allowSpread:r,allowProto:s,allowInexact:a}){let o=this.state.inType;this.state.inType=!0;let l=this.startNode();l.callProperties=[],l.properties=[],l.indexers=[],l.internalSlots=[];let c,u,h=!1;for(i&&this.match(6)?(this.expect(6),c=9,u=!0):(this.expect(5),c=8,u=!1),l.exact=u;!this.match(c);){let m=!1,v=null,_=null,g=this.startNode();if(s&&this.isContextual(115)){let b=this.lookahead();b.type!==14&&b.type!==17&&(this.next(),v=this.state.startLoc,t=!1)}if(t&&this.isContextual(104)){let b=this.lookahead();b.type!==14&&b.type!==17&&(this.next(),m=!0)}let y=this.flowParseVariance();if(this.eat(0))v!=null&&this.unexpected(v),this.eat(0)?(y&&this.unexpected(y.loc.start),l.internalSlots.push(this.flowParseObjectTypeInternalSlot(g,m))):l.indexers.push(this.flowParseObjectTypeIndexer(g,m,y));else if(this.match(10)||this.match(47))v!=null&&this.unexpected(v),y&&this.unexpected(y.loc.start),l.callProperties.push(this.flowParseObjectTypeCallProperty(g,m));else{let b="init";if(this.isContextual(98)||this.isContextual(103)){let w=this.lookahead();bN(w.type)&&(b=this.state.value,this.next())}let E=this.flowParseObjectTypeProperty(g,m,v,y,b,r,a!=null?a:!u);E===null?(h=!0,_=this.state.lastTokStartLoc):l.properties.push(E)}this.flowObjectTypeSemicolon(),_&&!this.match(8)&&!this.match(9)&&this.raise(Ut.UnexpectedExplicitInexactInObject,{at:_})}this.expect(c),r&&(l.inexact=h);let d=this.finishNode(l,"ObjectTypeAnnotation");return this.state.inType=o,d}flowParseObjectTypeProperty(t,i,r,s,a,o,l){if(this.eat(21))return this.match(12)||this.match(13)||this.match(8)||this.match(9)?(o?l||this.raise(Ut.InexactInsideExact,{at:this.state.lastTokStartLoc}):this.raise(Ut.InexactInsideNonObject,{at:this.state.lastTokStartLoc}),s&&this.raise(Ut.InexactVariance,{at:s}),null):(o||this.raise(Ut.UnexpectedSpreadType,{at:this.state.lastTokStartLoc}),r!=null&&this.unexpected(r),s&&this.raise(Ut.SpreadVariance,{at:s}),t.argument=this.flowParseType(),this.finishNode(t,"ObjectTypeSpreadProperty"));{t.key=this.flowParseObjectPropertyKey(),t.static=i,t.proto=r!=null,t.kind=a;let c=!1;return this.match(47)||this.match(10)?(t.method=!0,r!=null&&this.unexpected(r),s&&this.unexpected(s.loc.start),t.value=this.flowParseObjectTypeMethodish(this.startNodeAt(t.start,t.loc.start)),(a==="get"||a==="set")&&this.flowCheckGetterSetterParams(t),!o&&t.key.name==="constructor"&&t.value.this&&this.raise(Ut.ThisParamBannedInConstructor,{at:t.value.this})):(a!=="init"&&this.unexpected(),t.method=!1,this.eat(17)&&(c=!0),t.value=this.flowParseTypeInitialiser(),t.variance=s),t.optional=c,this.finishNode(t,"ObjectTypeProperty")}}flowCheckGetterSetterParams(t){let i=t.kind==="get"?0:1,r=t.value.params.length+(t.value.rest?1:0);t.value.this&&this.raise(t.kind==="get"?Ut.GetterMayNotHaveThisParam:Ut.SetterMayNotHaveThisParam,{at:t.value.this}),r!==i&&this.raise(t.kind==="get"?oe.BadGetterArity:oe.BadSetterArity,{at:t}),t.kind==="set"&&t.value.rest&&this.raise(oe.BadSetterRestParameter,{at:t})}flowObjectTypeSemicolon(){!this.eat(13)&&!this.eat(12)&&!this.match(8)&&!this.match(9)&&this.unexpected()}flowParseQualifiedTypeIdentifier(t,i,r){t=t||this.state.start,i=i||this.state.startLoc;let s=r||this.flowParseRestrictedIdentifier(!0);for(;this.eat(16);){let a=this.startNodeAt(t,i);a.qualification=s,a.id=this.flowParseRestrictedIdentifier(!0),s=this.finishNode(a,"QualifiedTypeIdentifier")}return s}flowParseGenericType(t,i,r){let s=this.startNodeAt(t,i);return s.typeParameters=null,s.id=this.flowParseQualifiedTypeIdentifier(t,i,r),this.match(47)&&(s.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(s,"GenericTypeAnnotation")}flowParseTypeofType(){let t=this.startNode();return this.expect(87),t.argument=this.flowParsePrimaryType(),this.finishNode(t,"TypeofTypeAnnotation")}flowParseTupleType(){let t=this.startNode();for(t.types=[],this.expect(0);this.state.pos<this.length&&!this.match(3)&&(t.types.push(this.flowParseType()),!this.match(3));)this.expect(12);return this.expect(3),this.finishNode(t,"TupleTypeAnnotation")}flowParseFunctionTypeParam(t){let i=null,r=!1,s=null,a=this.startNode(),o=this.lookahead(),l=this.state.type===78;return o.type===14||o.type===17?(l&&!t&&this.raise(Ut.ThisParamMustBeFirst,{at:a}),i=this.parseIdentifier(l),this.eat(17)&&(r=!0,l&&this.raise(Ut.ThisParamMayNotBeOptional,{at:a})),s=this.flowParseTypeInitialiser()):s=this.flowParseType(),a.name=i,a.optional=r,a.typeAnnotation=s,this.finishNode(a,"FunctionTypeParam")}reinterpretTypeAsFunctionTypeParam(t){let i=this.startNodeAt(t.start,t.loc.start);return i.name=null,i.optional=!1,i.typeAnnotation=t,this.finishNode(i,"FunctionTypeParam")}flowParseFunctionTypeParams(t=[]){let i=null,r=null;for(this.match(78)&&(r=this.flowParseFunctionTypeParam(!0),r.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)t.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(i=this.flowParseFunctionTypeParam(!1)),{params:t,rest:i,_this:r}}flowIdentToTypeAnnotation(t,i,r,s){switch(s.name){case"any":return this.finishNode(r,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(r,"BooleanTypeAnnotation");case"mixed":return this.finishNode(r,"MixedTypeAnnotation");case"empty":return this.finishNode(r,"EmptyTypeAnnotation");case"number":return this.finishNode(r,"NumberTypeAnnotation");case"string":return this.finishNode(r,"StringTypeAnnotation");case"symbol":return this.finishNode(r,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(s.name),this.flowParseGenericType(t,i,s)}}flowParsePrimaryType(){let t=this.state.start,i=this.state.startLoc,r=this.startNode(),s,a,o=!1,l=this.state.noAnonFunctionType;switch(this.state.type){case 5:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case 6:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case 0:return this.state.noAnonFunctionType=!1,a=this.flowParseTupleType(),this.state.noAnonFunctionType=l,a;case 47:return r.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(10),s=this.flowParseFunctionTypeParams(),r.params=s.params,r.rest=s.rest,r.this=s._this,this.expect(11),this.expect(19),r.returnType=this.flowParseType(),this.finishNode(r,"FunctionTypeAnnotation");case 10:if(this.next(),!this.match(11)&&!this.match(21))if(Ai(this.state.type)||this.match(78)){let c=this.lookahead().type;o=c!==17&&c!==14}else o=!0;if(o){if(this.state.noAnonFunctionType=!1,a=this.flowParseType(),this.state.noAnonFunctionType=l,this.state.noAnonFunctionType||!(this.match(12)||this.match(11)&&this.lookahead().type===19))return this.expect(11),a;this.eat(12)}return a?s=this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(a)]):s=this.flowParseFunctionTypeParams(),r.params=s.params,r.rest=s.rest,r.this=s._this,this.expect(11),this.expect(19),r.returnType=this.flowParseType(),r.typeParameters=null,this.finishNode(r,"FunctionTypeAnnotation");case 129:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case 85:case 86:return r.value=this.match(85),this.next(),this.finishNode(r,"BooleanLiteralTypeAnnotation");case 53:if(this.state.value==="-"){if(this.next(),this.match(130))return this.parseLiteralAtNode(-this.state.value,"NumberLiteralTypeAnnotation",r);if(this.match(131))return this.parseLiteralAtNode(-this.state.value,"BigIntLiteralTypeAnnotation",r);throw this.raise(Ut.UnexpectedSubtractionOperand,{at:this.state.startLoc})}throw this.unexpected();case 130:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case 131:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case 88:return this.next(),this.finishNode(r,"VoidTypeAnnotation");case 84:return this.next(),this.finishNode(r,"NullLiteralTypeAnnotation");case 78:return this.next(),this.finishNode(r,"ThisTypeAnnotation");case 55:return this.next(),this.finishNode(r,"ExistsTypeAnnotation");case 87:return this.flowParseTypeofType();default:if(F1(this.state.type)){let c=Cl(this.state.type);return this.next(),super.createIdentifier(r,c)}else if(Ai(this.state.type))return this.isContextual(125)?this.flowParseInterfaceType():this.flowIdentToTypeAnnotation(t,i,r,this.parseIdentifier())}throw this.unexpected()}flowParsePostfixType(){let t=this.state.start,i=this.state.startLoc,r=this.flowParsePrimaryType(),s=!1;for(;(this.match(0)||this.match(18))&&!this.canInsertSemicolon();){let a=this.startNodeAt(t,i),o=this.eat(18);s=s||o,this.expect(0),!o&&this.match(3)?(a.elementType=r,this.next(),r=this.finishNode(a,"ArrayTypeAnnotation")):(a.objectType=r,a.indexType=this.flowParseType(),this.expect(3),s?(a.optional=o,r=this.finishNode(a,"OptionalIndexedAccessType")):r=this.finishNode(a,"IndexedAccessType"))}return r}flowParsePrefixType(){let t=this.startNode();return this.eat(17)?(t.typeAnnotation=this.flowParsePrefixType(),this.finishNode(t,"NullableTypeAnnotation")):this.flowParsePostfixType()}flowParseAnonFunctionWithoutParens(){let t=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(19)){let i=this.startNodeAt(t.start,t.loc.start);return i.params=[this.reinterpretTypeAsFunctionTypeParam(t)],i.rest=null,i.this=null,i.returnType=this.flowParseType(),i.typeParameters=null,this.finishNode(i,"FunctionTypeAnnotation")}return t}flowParseIntersectionType(){let t=this.startNode();this.eat(45);let i=this.flowParseAnonFunctionWithoutParens();for(t.types=[i];this.eat(45);)t.types.push(this.flowParseAnonFunctionWithoutParens());return t.types.length===1?i:this.finishNode(t,"IntersectionTypeAnnotation")}flowParseUnionType(){let t=this.startNode();this.eat(43);let i=this.flowParseIntersectionType();for(t.types=[i];this.eat(43);)t.types.push(this.flowParseIntersectionType());return t.types.length===1?i:this.finishNode(t,"UnionTypeAnnotation")}flowParseType(){let t=this.state.inType;this.state.inType=!0;let i=this.flowParseUnionType();return this.state.inType=t,i}flowParseTypeOrImplicitInstantiation(){if(this.state.type===128&&this.state.value==="_"){let t=this.state.start,i=this.state.startLoc,r=this.parseIdentifier();return this.flowParseGenericType(t,i,r)}else return this.flowParseType()}flowParseTypeAnnotation(){let t=this.startNode();return t.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(t,"TypeAnnotation")}flowParseTypeAnnotatableIdentifier(t){let i=t?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(14)&&(i.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(i)),i}typeCastToParameter(t){return t.expression.typeAnnotation=t.typeAnnotation,this.resetEndLocation(t.expression,t.typeAnnotation.loc.end),t.expression}flowParseVariance(){let t=null;return this.match(53)?(t=this.startNode(),this.state.value==="+"?t.kind="plus":t.kind="minus",this.next(),this.finishNode(t,"Variance")):t}parseFunctionBody(t,i,r=!1){return i?this.forwardNoArrowParamsConversionAt(t,()=>super.parseFunctionBody(t,!0,r)):super.parseFunctionBody(t,!1,r)}parseFunctionBodyAndFinish(t,i,r=!1){if(this.match(14)){let s=this.startNode();[s.typeAnnotation,t.predicate]=this.flowParseTypeAndPredicateInitialiser(),t.returnType=s.typeAnnotation?this.finishNode(s,"TypeAnnotation"):null}return super.parseFunctionBodyAndFinish(t,i,r)}parseStatement(t,i){if(this.state.strict&&this.isContextual(125)){let s=this.lookahead();if(bo(s.type)){let a=this.startNode();return this.next(),this.flowParseInterface(a)}}else if(this.shouldParseEnums()&&this.isContextual(122)){let s=this.startNode();return this.next(),this.flowParseEnumDeclaration(s)}let r=super.parseStatement(t,i);return this.flowPragma===void 0&&!this.isValidDirective(r)&&(this.flowPragma=null),r}parseExpressionStatement(t,i){if(i.type==="Identifier"){if(i.name==="declare"){if(this.match(80)||Ai(this.state.type)||this.match(68)||this.match(74)||this.match(82))return this.flowParseDeclare(t)}else if(Ai(this.state.type)){if(i.name==="interface")return this.flowParseInterface(t);if(i.name==="type")return this.flowParseTypeAlias(t);if(i.name==="opaque")return this.flowParseOpaqueType(t,!1)}}return super.parseExpressionStatement(t,i)}shouldParseExportDeclaration(){let{type:t}=this.state;return sN(t)||this.shouldParseEnums()&&t===122?!this.state.containsEsc:super.shouldParseExportDeclaration()}isExportDefaultSpecifier(){let{type:t}=this.state;return sN(t)||this.shouldParseEnums()&&t===122?this.state.containsEsc:super.isExportDefaultSpecifier()}parseExportDefaultExpression(){if(this.shouldParseEnums()&&this.isContextual(122)){let t=this.startNode();return this.next(),this.flowParseEnumDeclaration(t)}return super.parseExportDefaultExpression()}parseConditional(t,i,r,s){if(!this.match(17))return t;if(this.state.maybeInArrowParameters){let m=this.lookaheadCharCode();if(m===44||m===61||m===58||m===41)return this.setOptionalParametersError(s),t}this.expect(17);let a=this.state.clone(),o=this.state.noArrowAt,l=this.startNodeAt(i,r),{consequent:c,failed:u}=this.tryParseConditionalConsequent(),[h,d]=this.getArrowLikeExpressions(c);if(u||d.length>0){let m=[...o];if(d.length>0){this.state=a,this.state.noArrowAt=m;for(let v=0;v<d.length;v++)m.push(d[v].start);({consequent:c,failed:u}=this.tryParseConditionalConsequent()),[h,d]=this.getArrowLikeExpressions(c)}u&&h.length>1&&this.raise(Ut.AmbiguousConditionalArrow,{at:a.startLoc}),u&&h.length===1&&(this.state=a,m.push(h[0].start),this.state.noArrowAt=m,{consequent:c,failed:u}=this.tryParseConditionalConsequent())}return this.getArrowLikeExpressions(c,!0),this.state.noArrowAt=o,this.expect(14),l.test=t,l.consequent=c,l.alternate=this.forwardNoArrowParamsConversionAt(l,()=>this.parseMaybeAssign(void 0,void 0)),this.finishNode(l,"ConditionalExpression")}tryParseConditionalConsequent(){this.state.noArrowParamsConversionAt.push(this.state.start);let t=this.parseMaybeAssignAllowIn(),i=!this.match(14);return this.state.noArrowParamsConversionAt.pop(),{consequent:t,failed:i}}getArrowLikeExpressions(t,i){let r=[t],s=[];for(;r.length!==0;){let a=r.pop();a.type==="ArrowFunctionExpression"?(a.typeParameters||!a.returnType?this.finishArrowValidation(a):s.push(a),r.push(a.body)):a.type==="ConditionalExpression"&&(r.push(a.consequent),r.push(a.alternate))}return i?(s.forEach(a=>this.finishArrowValidation(a)),[s,[]]):JK(s,a=>a.params.every(o=>this.isAssignable(o,!0)))}finishArrowValidation(t){var i;this.toAssignableList(t.params,(i=t.extra)==null?void 0:i.trailingCommaLoc,!1),this.scope.enter(_o|z1),super.checkParams(t,!1,!0),this.scope.exit()}forwardNoArrowParamsConversionAt(t,i){let r;return this.state.noArrowParamsConversionAt.indexOf(t.start)!==-1?(this.state.noArrowParamsConversionAt.push(this.state.start),r=i(),this.state.noArrowParamsConversionAt.pop()):r=i(),r}parseParenItem(t,i,r){if(t=super.parseParenItem(t,i,r),this.eat(17)&&(t.optional=!0,this.resetEndLocation(t)),this.match(14)){let s=this.startNodeAt(i,r);return s.expression=t,s.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(s,"TypeCastExpression")}return t}assertModuleNodeAllowed(t){t.type==="ImportDeclaration"&&(t.importKind==="type"||t.importKind==="typeof")||t.type==="ExportNamedDeclaration"&&t.exportKind==="type"||t.type==="ExportAllDeclaration"&&t.exportKind==="type"||super.assertModuleNodeAllowed(t)}parseExport(t){let i=super.parseExport(t);return(i.type==="ExportNamedDeclaration"||i.type==="ExportAllDeclaration")&&(i.exportKind=i.exportKind||"value"),i}parseExportDeclaration(t){if(this.isContextual(126)){t.exportKind="type";let i=this.startNode();return this.next(),this.match(5)?(t.specifiers=this.parseExportSpecifiers(!0),super.parseExportFrom(t),null):this.flowParseTypeAlias(i)}else if(this.isContextual(127)){t.exportKind="type";let i=this.startNode();return this.next(),this.flowParseOpaqueType(i,!1)}else if(this.isContextual(125)){t.exportKind="type";let i=this.startNode();return this.next(),this.flowParseInterface(i)}else if(this.shouldParseEnums()&&this.isContextual(122)){t.exportKind="value";let i=this.startNode();return this.next(),this.flowParseEnumDeclaration(i)}else return super.parseExportDeclaration(t)}eatExportStar(t){return super.eatExportStar(t)?!0:this.isContextual(126)&&this.lookahead().type===55?(t.exportKind="type",this.next(),this.next(),!0):!1}maybeParseExportNamespaceSpecifier(t){let{startLoc:i}=this.state,r=super.maybeParseExportNamespaceSpecifier(t);return r&&t.exportKind==="type"&&this.unexpected(i),r}parseClassId(t,i,r){super.parseClassId(t,i,r),this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration())}parseClassMember(t,i,r){let{startLoc:s}=this.state;if(this.isContextual(121)){if(super.parseClassMemberFromModifier(t,i))return;i.declare=!0}super.parseClassMember(t,i,r),i.declare&&(i.type!=="ClassProperty"&&i.type!=="ClassPrivateProperty"&&i.type!=="PropertyDefinition"?this.raise(Ut.DeclareClassElement,{at:s}):i.value&&this.raise(Ut.DeclareClassFieldInitializer,{at:i.value}))}isIterator(t){return t==="iterator"||t==="asyncIterator"}readIterator(){let t=super.readWord1(),i="@@"+t;(!this.isIterator(t)||!this.state.inType)&&this.raise(oe.InvalidIdentifier,{at:this.state.curPosition(),identifierName:i}),this.finishToken(128,i)}getTokenFromCode(t){let i=this.input.charCodeAt(this.state.pos+1);return t===123&&i===124?this.finishOp(6,2):this.state.inType&&(t===62||t===60)?this.finishOp(t===62?48:47,1):this.state.inType&&t===63?i===46?this.finishOp(18,2):this.finishOp(17,1):xK(t,i,this.input.charCodeAt(this.state.pos+2))?(this.state.pos+=2,this.readIterator()):super.getTokenFromCode(t)}isAssignable(t,i){return t.type==="TypeCastExpression"?this.isAssignable(t.expression,i):super.isAssignable(t,i)}toAssignable(t,i=!1){!i&&t.type==="AssignmentExpression"&&t.left.type==="TypeCastExpression"&&(t.left=this.typeCastToParameter(t.left)),super.toAssignable(t,i)}toAssignableList(t,i,r){for(let s=0;s<t.length;s++){let a=t[s];(a==null?void 0:a.type)==="TypeCastExpression"&&(t[s]=this.typeCastToParameter(a))}super.toAssignableList(t,i,r)}toReferencedList(t,i){for(let s=0;s<t.length;s++){var r;let a=t[s];a&&a.type==="TypeCastExpression"&&!((r=a.extra)!=null&&r.parenthesized)&&(t.length>1||!i)&&this.raise(Ut.TypeCastInPattern,{at:a.typeAnnotation})}return t}parseArrayLike(t,i,r,s){let a=super.parseArrayLike(t,i,r,s);return i&&!this.state.maybeInArrowParameters&&this.toReferencedList(a.elements),a}isValidLVal(t,i,r){return t==="TypeCastExpression"||super.isValidLVal(t,i,r)}parseClassProperty(t){return this.match(14)&&(t.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassProperty(t)}parseClassPrivateProperty(t){return this.match(14)&&(t.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassPrivateProperty(t)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(14)||super.isClassProperty()}isNonstaticConstructor(t){return!this.match(14)&&super.isNonstaticConstructor(t)}pushClassMethod(t,i,r,s,a,o){if(i.variance&&this.unexpected(i.variance.loc.start),delete i.variance,this.match(47)&&(i.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassMethod(t,i,r,s,a,o),i.params&&a){let l=i.params;l.length>0&&this.isThisParam(l[0])&&this.raise(Ut.ThisParamBannedInConstructor,{at:i})}else if(i.type==="MethodDefinition"&&a&&i.value.params){let l=i.value.params;l.length>0&&this.isThisParam(l[0])&&this.raise(Ut.ThisParamBannedInConstructor,{at:i})}}pushClassPrivateMethod(t,i,r,s){i.variance&&this.unexpected(i.variance.loc.start),delete i.variance,this.match(47)&&(i.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassPrivateMethod(t,i,r,s)}parseClassSuper(t){if(super.parseClassSuper(t),t.superClass&&this.match(47)&&(t.superTypeParameters=this.flowParseTypeParameterInstantiation()),this.isContextual(110)){this.next();let i=t.implements=[];do{let r=this.startNode();r.id=this.flowParseRestrictedIdentifier(!0),this.match(47)?r.typeParameters=this.flowParseTypeParameterInstantiation():r.typeParameters=null,i.push(this.finishNode(r,"ClassImplements"))}while(this.eat(12))}}checkGetterSetterParams(t){super.checkGetterSetterParams(t);let i=this.getObjectOrClassMethodParams(t);if(i.length>0){let r=i[0];this.isThisParam(r)&&t.kind==="get"?this.raise(Ut.GetterMayNotHaveThisParam,{at:r}):this.isThisParam(r)&&this.raise(Ut.SetterMayNotHaveThisParam,{at:r})}}parsePropertyNamePrefixOperator(t){t.variance=this.flowParseVariance()}parseObjPropValue(t,i,r,s,a,o,l,c){t.variance&&this.unexpected(t.variance.loc.start),delete t.variance;let u;this.match(47)&&!l&&(u=this.flowParseTypeParameterDeclaration(),this.match(10)||this.unexpected());let h=super.parseObjPropValue(t,i,r,s,a,o,l,c);return u&&((h.value||h).typeParameters=u),h}parseAssignableListItemTypes(t){return this.eat(17)&&(t.type!=="Identifier"&&this.raise(Ut.PatternIsOptional,{at:t}),this.isThisParam(t)&&this.raise(Ut.ThisParamMayNotBeOptional,{at:t}),t.optional=!0),this.match(14)?t.typeAnnotation=this.flowParseTypeAnnotation():this.isThisParam(t)&&this.raise(Ut.ThisParamAnnotationRequired,{at:t}),this.match(29)&&this.isThisParam(t)&&this.raise(Ut.ThisParamNoDefault,{at:t}),this.resetEndLocation(t),t}parseMaybeDefault(t,i,r){let s=super.parseMaybeDefault(t,i,r);return s.type==="AssignmentPattern"&&s.typeAnnotation&&s.right.start<s.typeAnnotation.start&&this.raise(Ut.TypeBeforeInitializer,{at:s.typeAnnotation}),s}shouldParseDefaultImport(t){return t1(t)?uN(this.state.type):super.shouldParseDefaultImport(t)}parseImportSpecifierLocal(t,i,r){i.local=t1(t)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),t.specifiers.push(this.finishImportSpecifier(i,r))}maybeParseDefaultImportSpecifier(t){t.importKind="value";let i=null;if(this.match(87)?i="typeof":this.isContextual(126)&&(i="type"),i){let r=this.lookahead(),{type:s}=r;i==="type"&&s===55&&this.unexpected(null,r.type),(uN(s)||s===5||s===55)&&(this.next(),t.importKind=i)}return super.maybeParseDefaultImportSpecifier(t)}parseImportSpecifier(t,i,r,s){let a=t.imported,o=null;a.type==="Identifier"&&(a.name==="type"?o="type":a.name==="typeof"&&(o="typeof"));let l=!1;if(this.isContextual(93)&&!this.isLookaheadContextual("as")){let u=this.parseIdentifier(!0);o!==null&&!bo(this.state.type)?(t.imported=u,t.importKind=o,t.local=Eo(u)):(t.imported=a,t.importKind=null,t.local=this.parseIdentifier())}else{if(o!==null&&bo(this.state.type))t.imported=this.parseIdentifier(!0),t.importKind=o;else{if(i)throw this.raise(oe.ImportBindingIsString,{at:t,importName:a.value});t.imported=a,t.importKind=null}this.eatContextual(93)?t.local=this.parseIdentifier():(l=!0,t.local=Eo(t.imported))}let c=t1(t);return r&&c&&this.raise(Ut.ImportTypeShorthandOnlyInPureImport,{at:t}),(r||c)&&this.checkReservedType(t.local.name,t.local.loc.start,!0),l&&!r&&!c&&this.checkReservedWord(t.local.name,t.loc.start,!0,!0),this.finishImportSpecifier(t,"ImportSpecifier")}parseBindingAtom(){switch(this.state.type){case 78:return this.parseIdentifier(!0);default:return super.parseBindingAtom()}}parseFunctionParams(t,i){let r=t.kind;r!=="get"&&r!=="set"&&this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),super.parseFunctionParams(t,i)}parseVarId(t,i){super.parseVarId(t,i),this.match(14)&&(t.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(t.id))}parseAsyncArrowFromCallExpression(t,i){if(this.match(14)){let r=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,t.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=r}return super.parseAsyncArrowFromCallExpression(t,i)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}parseMaybeAssign(t,i){var r;let s=null,a;if(this.hasPlugin("jsx")&&(this.match(138)||this.match(47))){if(s=this.state.clone(),a=this.tryParse(()=>super.parseMaybeAssign(t,i),s),!a.error)return a.node;let{context:c}=this.state,u=c[c.length-1];(u===zi.j_oTag||u===zi.j_expr)&&c.pop()}if((r=a)!=null&&r.error||this.match(47)){var o,l;s=s||this.state.clone();let c,u=this.tryParse(d=>{var m;c=this.flowParseTypeParameterDeclaration();let v=this.forwardNoArrowParamsConversionAt(c,()=>{let g=super.parseMaybeAssign(t,i);return this.resetStartLocationFromNode(g,c),g});(m=v.extra)!=null&&m.parenthesized&&d();let _=this.maybeUnwrapTypeCastExpression(v);return _.type!=="ArrowFunctionExpression"&&d(),_.typeParameters=c,this.resetStartLocationFromNode(_,c),v},s),h=null;if(u.node&&this.maybeUnwrapTypeCastExpression(u.node).type==="ArrowFunctionExpression"){if(!u.error&&!u.aborted)return u.node.async&&this.raise(Ut.UnexpectedTypeParameterBeforeAsyncArrowFunction,{at:c}),u.node;h=u.node}if((o=a)!=null&&o.node)return this.state=a.failState,a.node;if(h)return this.state=u.failState,h;throw(l=a)!=null&&l.thrown?a.error:u.thrown?u.error:this.raise(Ut.UnexpectedTokenAfterTypeParameter,{at:c})}return super.parseMaybeAssign(t,i)}parseArrow(t){if(this.match(14)){let i=this.tryParse(()=>{let r=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;let s=this.startNode();return[s.typeAnnotation,t.predicate]=this.flowParseTypeAndPredicateInitialiser(),this.state.noAnonFunctionType=r,this.canInsertSemicolon()&&this.unexpected(),this.match(19)||this.unexpected(),s});if(i.thrown)return null;i.error&&(this.state=i.failState),t.returnType=i.node.typeAnnotation?this.finishNode(i.node,"TypeAnnotation"):null}return super.parseArrow(t)}shouldParseArrow(t){return this.match(14)||super.shouldParseArrow(t)}setArrowFunctionParameters(t,i){this.state.noArrowParamsConversionAt.indexOf(t.start)!==-1?t.params=i:super.setArrowFunctionParameters(t,i)}checkParams(t,i,r,s=!0){if(!(r&&this.state.noArrowParamsConversionAt.indexOf(t.start)!==-1)){for(let a=0;a<t.params.length;a++)this.isThisParam(t.params[a])&&a>0&&this.raise(Ut.ThisParamMustBeFirst,{at:t.params[a]});return super.checkParams(t,i,r,s)}}parseParenAndDistinguishExpression(t){return super.parseParenAndDistinguishExpression(t&&this.state.noArrowAt.indexOf(this.state.start)===-1)}parseSubscripts(t,i,r,s){if(t.type==="Identifier"&&t.name==="async"&&this.state.noArrowAt.indexOf(i)!==-1){this.next();let a=this.startNodeAt(i,r);a.callee=t,a.arguments=super.parseCallExpressionArguments(11,!1),t=this.finishNode(a,"CallExpression")}else if(t.type==="Identifier"&&t.name==="async"&&this.match(47)){let a=this.state.clone(),o=this.tryParse(c=>this.parseAsyncArrowWithTypeParameters(i,r)||c(),a);if(!o.error&&!o.aborted)return o.node;let l=this.tryParse(()=>super.parseSubscripts(t,i,r,s),a);if(l.node&&!l.error)return l.node;if(o.node)return this.state=o.failState,o.node;if(l.node)return this.state=l.failState,l.node;throw o.error||l.error}return super.parseSubscripts(t,i,r,s)}parseSubscript(t,i,r,s,a){if(this.match(18)&&this.isLookaheadToken_lt()){if(a.optionalChainMember=!0,s)return a.stop=!0,t;this.next();let o=this.startNodeAt(i,r);return o.callee=t,o.typeArguments=this.flowParseTypeParameterInstantiation(),this.expect(10),o.arguments=this.parseCallExpressionArguments(11,!1),o.optional=!0,this.finishCallExpression(o,!0)}else if(!s&&this.shouldParseTypes()&&this.match(47)){let o=this.startNodeAt(i,r);o.callee=t;let l=this.tryParse(()=>(o.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(10),o.arguments=super.parseCallExpressionArguments(11,!1),a.optionalChainMember&&(o.optional=!1),this.finishCallExpression(o,a.optionalChainMember)));if(l.node)return l.error&&(this.state=l.failState),l.node}return super.parseSubscript(t,i,r,s,a)}parseNewCallee(t){super.parseNewCallee(t);let i=null;this.shouldParseTypes()&&this.match(47)&&(i=this.tryParse(()=>this.flowParseTypeParameterInstantiationCallOrNew()).node),t.typeArguments=i}parseAsyncArrowWithTypeParameters(t,i){let r=this.startNodeAt(t,i);if(this.parseFunctionParams(r),!!this.parseArrow(r))return super.parseArrowExpression(r,void 0,!0)}readToken_mult_modulo(t){let i=this.input.charCodeAt(this.state.pos+1);if(t===42&&i===47&&this.state.hasFlowComment){this.state.hasFlowComment=!1,this.state.pos+=2,this.nextToken();return}super.readToken_mult_modulo(t)}readToken_pipe_amp(t){let i=this.input.charCodeAt(this.state.pos+1);if(t===124&&i===125){this.finishOp(9,2);return}super.readToken_pipe_amp(t)}parseTopLevel(t,i){let r=super.parseTopLevel(t,i);return this.state.hasFlowComment&&this.raise(Ut.UnterminatedFlowComment,{at:this.state.curPosition()}),r}skipBlockComment(){if(this.hasPlugin("flowComments")&&this.skipFlowComment()){if(this.state.hasFlowComment)throw this.raise(Ut.NestedFlowComment,{at:this.state.startLoc});this.hasFlowCommentCompletion();let t=this.skipFlowComment();t&&(this.state.pos+=t,this.state.hasFlowComment=!0);return}if(this.state.hasFlowComment){let t=this.input.indexOf("*-/",this.state.pos+2);if(t===-1)throw this.raise(oe.UnterminatedComment,{at:this.state.curPosition()});this.state.pos=t+2+3;return}return super.skipBlockComment()}skipFlowComment(){let{pos:t}=this.state,i=2;for(;[32,9].includes(this.input.charCodeAt(t+i));)i++;let r=this.input.charCodeAt(i+t),s=this.input.charCodeAt(i+t+1);return r===58&&s===58?i+2:this.input.slice(i+t,i+t+12)==="flow-include"?i+12:r===58&&s!==58?i:!1}hasFlowCommentCompletion(){if(this.input.indexOf("*/",this.state.pos)===-1)throw this.raise(oe.UnterminatedComment,{at:this.state.curPosition()})}flowEnumErrorBooleanMemberNotInitialized(t,{enumName:i,memberName:r}){this.raise(Ut.EnumBooleanMemberNotInitialized,{at:t,memberName:r,enumName:i})}flowEnumErrorInvalidMemberInitializer(t,i){return this.raise(i.explicitType?i.explicitType==="symbol"?Ut.EnumInvalidMemberInitializerSymbolType:Ut.EnumInvalidMemberInitializerPrimaryType:Ut.EnumInvalidMemberInitializerUnknownType,Object.assign({at:t},i))}flowEnumErrorNumberMemberNotInitialized(t,{enumName:i,memberName:r}){this.raise(Ut.EnumNumberMemberNotInitialized,{at:t,enumName:i,memberName:r})}flowEnumErrorStringMemberInconsistentlyInitailized(t,{enumName:i}){this.raise(Ut.EnumStringMemberInconsistentlyInitailized,{at:t,enumName:i})}flowEnumMemberInit(){let t=this.state.startLoc,i=()=>this.match(12)||this.match(8);switch(this.state.type){case 130:{let r=this.parseNumericLiteral(this.state.value);return i()?{type:"number",loc:r.loc.start,value:r}:{type:"invalid",loc:t}}case 129:{let r=this.parseStringLiteral(this.state.value);return i()?{type:"string",loc:r.loc.start,value:r}:{type:"invalid",loc:t}}case 85:case 86:{let r=this.parseBooleanLiteral(this.match(85));return i()?{type:"boolean",loc:r.loc.start,value:r}:{type:"invalid",loc:t}}default:return{type:"invalid",loc:t}}}flowEnumMemberRaw(){let t=this.state.startLoc,i=this.parseIdentifier(!0),r=this.eat(29)?this.flowEnumMemberInit():{type:"none",loc:t};return{id:i,init:r}}flowEnumCheckExplicitTypeMismatch(t,i,r){let{explicitType:s}=i;s!==null&&s!==r&&this.flowEnumErrorInvalidMemberInitializer(t,i)}flowEnumMembers({enumName:t,explicitType:i}){let r=new Set,s={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]},a=!1;for(;!this.match(8);){if(this.eat(21)){a=!0;break}let o=this.startNode(),{id:l,init:c}=this.flowEnumMemberRaw(),u=l.name;if(u==="")continue;/^[a-z]/.test(u)&&this.raise(Ut.EnumInvalidMemberName,{at:l,memberName:u,suggestion:u[0].toUpperCase()+u.slice(1),enumName:t}),r.has(u)&&this.raise(Ut.EnumDuplicateMemberName,{at:l,memberName:u,enumName:t}),r.add(u);let h={enumName:t,explicitType:i,memberName:u};switch(o.id=l,c.type){case"boolean":{this.flowEnumCheckExplicitTypeMismatch(c.loc,h,"boolean"),o.init=c.value,s.booleanMembers.push(this.finishNode(o,"EnumBooleanMember"));break}case"number":{this.flowEnumCheckExplicitTypeMismatch(c.loc,h,"number"),o.init=c.value,s.numberMembers.push(this.finishNode(o,"EnumNumberMember"));break}case"string":{this.flowEnumCheckExplicitTypeMismatch(c.loc,h,"string"),o.init=c.value,s.stringMembers.push(this.finishNode(o,"EnumStringMember"));break}case"invalid":throw this.flowEnumErrorInvalidMemberInitializer(c.loc,h);case"none":switch(i){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized(c.loc,h);break;case"number":this.flowEnumErrorNumberMemberNotInitialized(c.loc,h);break;default:s.defaultedMembers.push(this.finishNode(o,"EnumDefaultedMember"))}}this.match(8)||this.expect(12)}return{members:s,hasUnknownMembers:a}}flowEnumStringMembers(t,i,{enumName:r}){if(t.length===0)return i;if(i.length===0)return t;if(i.length>t.length){for(let s of t)this.flowEnumErrorStringMemberInconsistentlyInitailized(s,{enumName:r});return i}else{for(let s of i)this.flowEnumErrorStringMemberInconsistentlyInitailized(s,{enumName:r});return t}}flowEnumParseExplicitType({enumName:t}){if(!this.eatContextual(101))return null;if(!Ai(this.state.type))throw this.raise(Ut.EnumInvalidExplicitTypeUnknownSupplied,{at:this.state.startLoc,enumName:t});let{value:i}=this.state;return this.next(),i!=="boolean"&&i!=="number"&&i!=="string"&&i!=="symbol"&&this.raise(Ut.EnumInvalidExplicitType,{at:this.state.startLoc,enumName:t,invalidEnumType:i}),i}flowEnumBody(t,i){let r=i.name,s=i.loc.start,a=this.flowEnumParseExplicitType({enumName:r});this.expect(5);let{members:o,hasUnknownMembers:l}=this.flowEnumMembers({enumName:r,explicitType:a});switch(t.hasUnknownMembers=l,a){case"boolean":return t.explicitType=!0,t.members=o.booleanMembers,this.expect(8),this.finishNode(t,"EnumBooleanBody");case"number":return t.explicitType=!0,t.members=o.numberMembers,this.expect(8),this.finishNode(t,"EnumNumberBody");case"string":return t.explicitType=!0,t.members=this.flowEnumStringMembers(o.stringMembers,o.defaultedMembers,{enumName:r}),this.expect(8),this.finishNode(t,"EnumStringBody");case"symbol":return t.members=o.defaultedMembers,this.expect(8),this.finishNode(t,"EnumSymbolBody");default:{let c=()=>(t.members=[],this.expect(8),this.finishNode(t,"EnumStringBody"));t.explicitType=!1;let u=o.booleanMembers.length,h=o.numberMembers.length,d=o.stringMembers.length,m=o.defaultedMembers.length;if(!u&&!h&&!d&&!m)return c();if(!u&&!h)return t.members=this.flowEnumStringMembers(o.stringMembers,o.defaultedMembers,{enumName:r}),this.expect(8),this.finishNode(t,"EnumStringBody");if(!h&&!d&&u>=m){for(let v of o.defaultedMembers)this.flowEnumErrorBooleanMemberNotInitialized(v.loc.start,{enumName:r,memberName:v.id.name});return t.members=o.booleanMembers,this.expect(8),this.finishNode(t,"EnumBooleanBody")}else if(!u&&!d&&h>=m){for(let v of o.defaultedMembers)this.flowEnumErrorNumberMemberNotInitialized(v.loc.start,{enumName:r,memberName:v.id.name});return t.members=o.numberMembers,this.expect(8),this.finishNode(t,"EnumNumberBody")}else return this.raise(Ut.EnumInconsistentMemberValues,{at:s,enumName:r}),c()}}}flowParseEnumDeclaration(t){let i=this.parseIdentifier();return t.id=i,t.body=this.flowEnumBody(this.startNode(),i),this.finishNode(t,"EnumDeclaration")}isLookaheadToken_lt(){let t=this.nextTokenStart();if(this.input.charCodeAt(t)===60){let i=this.input.charCodeAt(t+1);return i!==60&&i!==61}return!1}maybeUnwrapTypeCastExpression(t){return t.type==="TypeCastExpression"?t.expression:t}},eJ={__proto__:null,quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",lang:"\u2329",rang:"\u232A",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"},Rc=vo`jsx`({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression.",MissingClosingTagElement:({openingTagName:n})=>`Expected corresponding JSX closing tag for <${n}>.`,MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>.",UnexpectedSequenceExpression:"Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",UnexpectedToken:({unexpected:n,HTMLEntity:e})=>`Unexpected token \`${n}\`. Did you mean \`${e}\` or \`{'${n}'}\`?`,UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text.",UnterminatedJsxContent:"Unterminated JSX contents.",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"});function Ml(n){return n?n.type==="JSXOpeningFragment"||n.type==="JSXClosingFragment":!1}function Oh(n){if(n.type==="JSXIdentifier")return n.name;if(n.type==="JSXNamespacedName")return n.namespace.name+":"+n.name.name;if(n.type==="JSXMemberExpression")return Oh(n.object)+"."+Oh(n.property);throw new Error("Node had unexpected type: "+n.type)}var tJ=n=>class extends n{jsxReadToken(){let t="",i=this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(Rc.UnterminatedJsxContent,{at:this.state.startLoc});let r=this.input.charCodeAt(this.state.pos);switch(r){case 60:case 123:return this.state.pos===this.state.start?r===60&&this.state.canStartJSXElement?(++this.state.pos,this.finishToken(138)):super.getTokenFromCode(r):(t+=this.input.slice(i,this.state.pos),this.finishToken(137,t));case 38:t+=this.input.slice(i,this.state.pos),t+=this.jsxReadEntity(),i=this.state.pos;break;case 62:case 125:default:Jd(r)?(t+=this.input.slice(i,this.state.pos),t+=this.jsxReadNewLine(!0),i=this.state.pos):++this.state.pos}}}jsxReadNewLine(t){let i=this.input.charCodeAt(this.state.pos),r;return++this.state.pos,i===13&&this.input.charCodeAt(this.state.pos)===10?(++this.state.pos,r=t?`
`:`\r
`):r=String.fromCharCode(i),++this.state.curLine,this.state.lineStart=this.state.pos,r}jsxReadString(t){let i="",r=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(oe.UnterminatedString,{at:this.state.startLoc});let s=this.input.charCodeAt(this.state.pos);if(s===t)break;s===38?(i+=this.input.slice(r,this.state.pos),i+=this.jsxReadEntity(),r=this.state.pos):Jd(s)?(i+=this.input.slice(r,this.state.pos),i+=this.jsxReadNewLine(!1),r=this.state.pos):++this.state.pos}return i+=this.input.slice(r,this.state.pos++),this.finishToken(129,i)}jsxReadEntity(){let t=++this.state.pos;if(this.codePointAtPos(this.state.pos)===35){++this.state.pos;let i=10;this.codePointAtPos(this.state.pos)===120&&(i=16,++this.state.pos);let r=this.readInt(i,void 0,!1,"bail");if(r!==null&&this.codePointAtPos(this.state.pos)===59)return++this.state.pos,String.fromCodePoint(r)}else{let i=0,r=!1;for(;i++<10&&this.state.pos<this.length&&!(r=this.codePointAtPos(this.state.pos)==59);)++this.state.pos;if(r){let s=this.input.slice(t,this.state.pos),a=eJ[s];if(++this.state.pos,a)return a}}return this.state.pos=t,"&"}jsxReadWord(){let t,i=this.state.pos;do t=this.input.charCodeAt(++this.state.pos);while(Nh(t)||t===45);return this.finishToken(136,this.input.slice(i,this.state.pos))}jsxParseIdentifier(){let t=this.startNode();return this.match(136)?t.name=this.state.value:F1(this.state.type)?t.name=Cl(this.state.type):this.unexpected(),this.next(),this.finishNode(t,"JSXIdentifier")}jsxParseNamespacedName(){let t=this.state.start,i=this.state.startLoc,r=this.jsxParseIdentifier();if(!this.eat(14))return r;let s=this.startNodeAt(t,i);return s.namespace=r,s.name=this.jsxParseIdentifier(),this.finishNode(s,"JSXNamespacedName")}jsxParseElementName(){let t=this.state.start,i=this.state.startLoc,r=this.jsxParseNamespacedName();if(r.type==="JSXNamespacedName")return r;for(;this.eat(16);){let s=this.startNodeAt(t,i);s.object=r,s.property=this.jsxParseIdentifier(),r=this.finishNode(s,"JSXMemberExpression")}return r}jsxParseAttributeValue(){let t;switch(this.state.type){case 5:return t=this.startNode(),this.setContext(zi.brace),this.next(),t=this.jsxParseExpressionContainer(t,zi.j_oTag),t.expression.type==="JSXEmptyExpression"&&this.raise(Rc.AttributeIsEmpty,{at:t}),t;case 138:case 129:return this.parseExprAtom();default:throw this.raise(Rc.UnsupportedJsxValue,{at:this.state.startLoc})}}jsxParseEmptyExpression(){let t=this.startNodeAt(this.state.lastTokEndLoc.index,this.state.lastTokEndLoc);return this.finishNodeAt(t,"JSXEmptyExpression",this.state.startLoc)}jsxParseSpreadChild(t){return this.next(),t.expression=this.parseExpression(),this.setContext(zi.j_oTag),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(t,"JSXSpreadChild")}jsxParseExpressionContainer(t,i){if(this.match(8))t.expression=this.jsxParseEmptyExpression();else{let r=this.parseExpression();t.expression=r}return this.setContext(i),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(t,"JSXExpressionContainer")}jsxParseAttribute(){let t=this.startNode();return this.match(5)?(this.setContext(zi.brace),this.next(),this.expect(21),t.argument=this.parseMaybeAssignAllowIn(),this.setContext(zi.j_oTag),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(t,"JSXSpreadAttribute")):(t.name=this.jsxParseNamespacedName(),t.value=this.eat(29)?this.jsxParseAttributeValue():null,this.finishNode(t,"JSXAttribute"))}jsxParseOpeningElementAt(t,i){let r=this.startNodeAt(t,i);return this.eat(139)?this.finishNode(r,"JSXOpeningFragment"):(r.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(r))}jsxParseOpeningElementAfterName(t){let i=[];for(;!this.match(56)&&!this.match(139);)i.push(this.jsxParseAttribute());return t.attributes=i,t.selfClosing=this.eat(56),this.expect(139),this.finishNode(t,"JSXOpeningElement")}jsxParseClosingElementAt(t,i){let r=this.startNodeAt(t,i);return this.eat(139)?this.finishNode(r,"JSXClosingFragment"):(r.name=this.jsxParseElementName(),this.expect(139),this.finishNode(r,"JSXClosingElement"))}jsxParseElementAt(t,i){let r=this.startNodeAt(t,i),s=[],a=this.jsxParseOpeningElementAt(t,i),o=null;if(!a.selfClosing){e:for(;;)switch(this.state.type){case 138:if(t=this.state.start,i=this.state.startLoc,this.next(),this.eat(56)){o=this.jsxParseClosingElementAt(t,i);break e}s.push(this.jsxParseElementAt(t,i));break;case 137:s.push(this.parseExprAtom());break;case 5:{let l=this.startNode();this.setContext(zi.brace),this.next(),this.match(21)?s.push(this.jsxParseSpreadChild(l)):s.push(this.jsxParseExpressionContainer(l,zi.j_expr));break}default:throw this.unexpected()}Ml(a)&&!Ml(o)&&o!==null?this.raise(Rc.MissingClosingTagFragment,{at:o}):!Ml(a)&&Ml(o)?this.raise(Rc.MissingClosingTagElement,{at:o,openingTagName:Oh(a.name)}):!Ml(a)&&!Ml(o)&&Oh(o.name)!==Oh(a.name)&&this.raise(Rc.MissingClosingTagElement,{at:o,openingTagName:Oh(a.name)})}if(Ml(a)?(r.openingFragment=a,r.closingFragment=o):(r.openingElement=a,r.closingElement=o),r.children=s,this.match(47))throw this.raise(Rc.UnwrappedAdjacentJSXElements,{at:this.state.startLoc});return Ml(a)?this.finishNode(r,"JSXFragment"):this.finishNode(r,"JSXElement")}jsxParseElement(){let t=this.state.start,i=this.state.startLoc;return this.next(),this.jsxParseElementAt(t,i)}setContext(t){let{context:i}=this.state;i[i.length-1]=t}parseExprAtom(t){return this.match(137)?this.parseLiteral(this.state.value,"JSXText"):this.match(138)?this.jsxParseElement():this.match(47)&&this.input.charCodeAt(this.state.pos)!==33?(this.replaceToken(138),this.jsxParseElement()):super.parseExprAtom(t)}skipSpace(){this.curContext().preserveSpace||super.skipSpace()}getTokenFromCode(t){let i=this.curContext();if(i===zi.j_expr)return this.jsxReadToken();if(i===zi.j_oTag||i===zi.j_cTag){if(yo(t))return this.jsxReadWord();if(t===62)return++this.state.pos,this.finishToken(139);if((t===34||t===39)&&i===zi.j_oTag)return this.jsxReadString(t)}return t===60&&this.state.canStartJSXElement&&this.input.charCodeAt(this.state.pos+1)!==33?(++this.state.pos,this.finishToken(138)):super.getTokenFromCode(t)}updateContext(t){let{context:i,type:r}=this.state;if(r===56&&t===138)i.splice(-2,2,zi.j_cTag),this.state.canStartJSXElement=!1;else if(r===138)i.push(zi.j_oTag);else if(r===139){let s=i[i.length-1];s===zi.j_oTag&&t===56||s===zi.j_cTag?(i.pop(),this.state.canStartJSXElement=i[i.length-1]===zi.j_expr):(this.setContext(zi.j_expr),this.state.canStartJSXElement=!0)}else this.state.canStartJSXElement=rK(r)}},A1=class extends Qd{constructor(...e){super(...e),this.types=new Set,this.enums=new Set,this.constEnums=new Set,this.classes=new Set,this.exportOnlyBindings=new Set}},M1=class extends ep{createScope(e){return new A1(e)}declareName(e,t,i){let r=this.currentScope();if(t&V1){this.maybeExportDefined(r,e),r.exportOnlyBindings.add(e);return}super.declareName(e,t,i),t&Uh&&(t&So||(this.checkRedeclarationInScope(r,e,t,i),this.maybeExportDefined(r,e)),r.types.add(e)),t&u1&&r.enums.add(e),t&h1&&r.constEnums.add(e),t&cv&&r.classes.add(e)}isRedeclaredInScope(e,t,i){if(e.enums.has(t)){if(i&u1){let r=!!(i&h1),s=e.constEnums.has(t);return r!==s}return!0}return i&cv&&e.classes.has(t)?e.lexical.has(t)?!!(i&So):!1:i&Uh&&e.types.has(t)?!0:super.isRedeclaredInScope(e,t,i)}checkLocalExport(e){let t=this.scopeStack[0],{name:i}=e;!t.types.has(i)&&!t.exportOnlyBindings.has(i)&&super.checkLocalExport(e)}},iJ=(n,e)=>Object.hasOwnProperty.call(n,e)&&n[e];function nJ(n){if(n==null)throw new Error(`Unexpected ${n} value.`);return n}function hN(n){if(!n)throw new Error("Assert fail")}var At=vo`typescript`({AbstractMethodHasImplementation:({methodName:n})=>`Method '${n}' cannot have an implementation because it is marked abstract.`,AbstractPropertyHasInitializer:({propertyName:n})=>`Property '${n}' cannot have an initializer because it is marked abstract.`,AccesorCannotDeclareThisParameter:"'get' and 'set' accessors cannot declare 'this' parameters.",AccesorCannotHaveTypeParameters:"An accessor cannot have type parameters.",CannotFindName:({name:n})=>`Cannot find name '${n}'.`,ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier.",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier.",ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference:"A 'const' initializer in an ambient context must be a string or numeric literal or literal enum reference.",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareAccessor:({kind:n})=>`'declare' is not allowed in ${n}ters.`,DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateAccessibilityModifier:({modifier:n})=>"Accessibility modifier already seen.",DuplicateModifier:({modifier:n})=>`Duplicate modifier: '${n}'.`,EmptyHeritageClauseType:({token:n})=>`'${n}' list cannot be empty.`,EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",ExpectedAmbientAfterExportDeclare:"'export declare' must be followed by an ambient declaration.",ImportAliasHasImportType:"An import alias can not use 'import type'.",IncompatibleModifiers:({modifiers:n})=>`'${n[0]}' modifier cannot be used with '${n[1]}' modifier.`,IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier.",IndexSignatureHasAccessibility:({modifier:n})=>`Index signatures cannot have an accessibility modifier ('${n}').`,IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier.",IndexSignatureHasOverride:"'override' modifier cannot appear on an index signature.",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier.",InitializerNotAllowedInAmbientContext:"Initializers are not allowed in ambient contexts.",InvalidModifierOnTypeMember:({modifier:n})=>`'${n}' modifier cannot appear on a type member.`,InvalidModifierOnTypeParameter:({modifier:n})=>`'${n}' modifier cannot appear on a type parameter.`,InvalidModifierOnTypeParameterPositions:({modifier:n})=>`'${n}' modifier can only appear on a type parameter of a class, interface or type alias.`,InvalidModifiersOrder:({orderedModifiers:n})=>`'${n[0]}' modifier must precede '${n[1]}' modifier.`,InvalidPropertyAccessAfterInstantiationExpression:"Invalid property access after an instantiation expression. You can either wrap the instantiation expression in parentheses, or delete the type arguments.",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MissingInterfaceName:"'interface' declarations must be followed by an identifier.",MixedLabeledAndUnlabeledElements:"Tuple members must all have names or all not have names.",NonAbstractClassHasAbstractMethod:"Abstract methods can only appear within an abstract class.",NonClassMethodPropertyHasAbstractModifer:"'abstract' modifier can only appear on a class, method, or property declaration.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",OverrideNotInSubClass:"This member cannot have an 'override' modifier because its containing class does not extend another class.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:({modifier:n})=>`Private elements cannot have an accessibility modifier ('${n}').`,ReadonlyForMethodSignature:"'readonly' modifier can only appear on a property declaration or index signature.",ReservedArrowTypeParam:"This syntax is reserved in files with the .mts or .cts extension. Add a trailing comma, as in `<T,>() => ...`.",ReservedTypeAssertion:"This syntax is reserved in files with the .mts or .cts extension. Use an `as` expression instead.",SetAccesorCannotHaveOptionalParameter:"A 'set' accessor cannot have an optional parameter.",SetAccesorCannotHaveRestParameter:"A 'set' accessor cannot have rest parameter.",SetAccesorCannotHaveReturnType:"A 'set' accessor cannot have a return type annotation.",SingleTypeParameterWithoutTrailingComma:({typeParameterName:n})=>`Single type parameter ${n} should have a trailing comma. Example usage: <${n},>.`,StaticBlockCannotHaveModifier:"Static class blocks cannot have any modifier.",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeImportCannotSpecifyDefaultAndNamed:"A type-only import can specify a default import or named bindings, but not both.",TypeModifierIsUsedInTypeExports:"The 'type' modifier cannot be used on a named export when 'export type' is used on its export statement.",TypeModifierIsUsedInTypeImports:"The 'type' modifier cannot be used on a named import when 'import type' is used on its import statement.",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal.",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:({type:n})=>`Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got ${n}.`});function rJ(n){switch(n){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return}}function fN(n){return n==="private"||n==="public"||n==="protected"}function sJ(n){return n==="in"||n==="out"}var aJ=n=>class extends n{getScopeHandler(){return M1}tsIsIdentifier(){return Ai(this.state.type)}tsTokenCanFollowModifier(){return(this.match(0)||this.match(5)||this.match(55)||this.match(21)||this.match(134)||this.isLiteralPropertyName())&&!this.hasPrecedingLineBreak()}tsNextTokenCanFollowModifier(){return this.next(),this.tsTokenCanFollowModifier()}tsParseModifier(t,i){if(!Ai(this.state.type)&&this.state.type!==58)return;let r=this.state.value;if(t.indexOf(r)!==-1){if(i&&this.tsIsStartOfStaticBlocks())return;if(this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this)))return r}}tsParseModifiers({modified:t,allowedModifiers:i,disallowedModifiers:r,stopOnStartOfClassStaticBlock:s,errorTemplate:a=At.InvalidModifierOnTypeMember}){let o=(c,u,h,d)=>{u===h&&t[d]&&this.raise(At.InvalidModifiersOrder,{at:c,orderedModifiers:[h,d]})},l=(c,u,h,d)=>{(t[h]&&u===d||t[d]&&u===h)&&this.raise(At.IncompatibleModifiers,{at:c,modifiers:[h,d]})};for(;;){let{startLoc:c}=this.state,u=this.tsParseModifier(i.concat(r!=null?r:[]),s);if(!u)break;fN(u)?t.accessibility?this.raise(At.DuplicateAccessibilityModifier,{at:c,modifier:u}):(o(c,u,u,"override"),o(c,u,u,"static"),o(c,u,u,"readonly"),t.accessibility=u):sJ(u)?(t[u]&&this.raise(At.DuplicateModifier,{at:c,modifier:u}),t[u]=!0,o(c,u,"in","out")):(Object.hasOwnProperty.call(t,u)?this.raise(At.DuplicateModifier,{at:c,modifier:u}):(o(c,u,"static","readonly"),o(c,u,"static","override"),o(c,u,"override","readonly"),o(c,u,"abstract","override"),l(c,u,"declare","override"),l(c,u,"static","abstract")),t[u]=!0),r!=null&&r.includes(u)&&this.raise(a,{at:c,modifier:u})}}tsIsListTerminator(t){switch(t){case"EnumMembers":case"TypeMembers":return this.match(8);case"HeritageClauseElement":return this.match(5);case"TupleElementTypes":return this.match(3);case"TypeParametersOrArguments":return this.match(48)}throw new Error("Unreachable")}tsParseList(t,i){let r=[];for(;!this.tsIsListTerminator(t);)r.push(i());return r}tsParseDelimitedList(t,i,r){return nJ(this.tsParseDelimitedListWorker(t,i,!0,r))}tsParseDelimitedListWorker(t,i,r,s){let a=[],o=-1;for(;!this.tsIsListTerminator(t);){o=-1;let l=i();if(l==null)return;if(a.push(l),this.eat(12)){o=this.state.lastTokStart;continue}if(this.tsIsListTerminator(t))break;r&&this.expect(12);return}return s&&(s.value=o),a}tsParseBracketedList(t,i,r,s,a){s||(r?this.expect(0):this.expect(47));let o=this.tsParseDelimitedList(t,i,a);return r?this.expect(3):this.expect(48),o}tsParseImportType(){let t=this.startNode();return this.expect(83),this.expect(10),this.match(129)||this.raise(At.UnsupportedImportTypeArgument,{at:this.state.startLoc}),t.argument=super.parseExprAtom(),this.expect(11),this.eat(16)&&(t.qualifier=this.tsParseEntityName()),this.match(47)&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSImportType")}tsParseEntityName(t=!0){let i=this.parseIdentifier(t);for(;this.eat(16);){let r=this.startNodeAtNode(i);r.left=i,r.right=this.parseIdentifier(t),i=this.finishNode(r,"TSQualifiedName")}return i}tsParseTypeReference(){let t=this.startNode();return t.typeName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSTypeReference")}tsParseThisTypePredicate(t){this.next();let i=this.startNodeAtNode(t);return i.parameterName=t,i.typeAnnotation=this.tsParseTypeAnnotation(!1),i.asserts=!1,this.finishNode(i,"TSTypePredicate")}tsParseThisTypeNode(){let t=this.startNode();return this.next(),this.finishNode(t,"TSThisType")}tsParseTypeQuery(){let t=this.startNode();return this.expect(87),this.match(83)?t.exprName=this.tsParseImportType():t.exprName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSTypeQuery")}tsParseInOutModifiers(t){this.tsParseModifiers({modified:t,allowedModifiers:["in","out"],disallowedModifiers:["public","private","protected","readonly","declare","abstract","override"],errorTemplate:At.InvalidModifierOnTypeParameter})}tsParseNoneModifiers(t){this.tsParseModifiers({modified:t,allowedModifiers:[],disallowedModifiers:["in","out"],errorTemplate:At.InvalidModifierOnTypeParameterPositions})}tsParseTypeParameter(t=this.tsParseNoneModifiers.bind(this)){let i=this.startNode();return t(i),i.name=this.tsParseTypeParameterName(),i.constraint=this.tsEatThenParseType(81),i.default=this.tsEatThenParseType(29),this.finishNode(i,"TSTypeParameter")}tsTryParseTypeParameters(t){if(this.match(47))return this.tsParseTypeParameters(t)}tsParseTypeParameters(t){let i=this.startNode();this.match(47)||this.match(138)?this.next():this.unexpected();let r={value:-1};return i.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this,t),!1,!0,r),i.params.length===0&&this.raise(At.EmptyTypeParameters,{at:i}),r.value!==-1&&this.addExtra(i,"trailingComma",r.value),this.finishNode(i,"TSTypeParameterDeclaration")}tsTryNextParseConstantContext(){if(this.lookahead().type!==75)return null;this.next();let t=this.tsParseTypeReference();return t.typeParameters&&this.raise(At.CannotFindName,{at:t.typeName,name:"const"}),t}tsFillSignature(t,i){let r=t===19,s="parameters",a="typeAnnotation";i.typeParameters=this.tsTryParseTypeParameters(),this.expect(10),i[s]=this.tsParseBindingListForSignature(),r?i[a]=this.tsParseTypeOrTypePredicateAnnotation(t):this.match(t)&&(i[a]=this.tsParseTypeOrTypePredicateAnnotation(t))}tsParseBindingListForSignature(){return super.parseBindingList(11,41).map(t=>(t.type!=="Identifier"&&t.type!=="RestElement"&&t.type!=="ObjectPattern"&&t.type!=="ArrayPattern"&&this.raise(At.UnsupportedSignatureParameterKind,{at:t,type:t.type}),t))}tsParseTypeMemberSemicolon(){!this.eat(12)&&!this.isLineTerminator()&&this.expect(13)}tsParseSignatureMember(t,i){return this.tsFillSignature(14,i),this.tsParseTypeMemberSemicolon(),this.finishNode(i,t)}tsIsUnambiguouslyIndexSignature(){return this.next(),Ai(this.state.type)?(this.next(),this.match(14)):!1}tsTryParseIndexSignature(t){if(!(this.match(0)&&this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this))))return;this.expect(0);let i=this.parseIdentifier();i.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(i),this.expect(3),t.parameters=[i];let r=this.tsTryParseTypeAnnotation();return r&&(t.typeAnnotation=r),this.tsParseTypeMemberSemicolon(),this.finishNode(t,"TSIndexSignature")}tsParsePropertyOrMethodSignature(t,i){this.eat(17)&&(t.optional=!0);let r=t;if(this.match(10)||this.match(47)){i&&this.raise(At.ReadonlyForMethodSignature,{at:t});let s=r;s.kind&&this.match(47)&&this.raise(At.AccesorCannotHaveTypeParameters,{at:this.state.curPosition()}),this.tsFillSignature(14,s),this.tsParseTypeMemberSemicolon();let a="parameters",o="typeAnnotation";if(s.kind==="get")s[a].length>0&&(this.raise(oe.BadGetterArity,{at:this.state.curPosition()}),this.isThisParam(s[a][0])&&this.raise(At.AccesorCannotDeclareThisParameter,{at:this.state.curPosition()}));else if(s.kind==="set"){if(s[a].length!==1)this.raise(oe.BadSetterArity,{at:this.state.curPosition()});else{let l=s[a][0];this.isThisParam(l)&&this.raise(At.AccesorCannotDeclareThisParameter,{at:this.state.curPosition()}),l.type==="Identifier"&&l.optional&&this.raise(At.SetAccesorCannotHaveOptionalParameter,{at:this.state.curPosition()}),l.type==="RestElement"&&this.raise(At.SetAccesorCannotHaveRestParameter,{at:this.state.curPosition()})}s[o]&&this.raise(At.SetAccesorCannotHaveReturnType,{at:s[o]})}else s.kind="method";return this.finishNode(s,"TSMethodSignature")}else{let s=r;i&&(s.readonly=!0);let a=this.tsTryParseTypeAnnotation();return a&&(s.typeAnnotation=a),this.tsParseTypeMemberSemicolon(),this.finishNode(s,"TSPropertySignature")}}tsParseTypeMember(){let t=this.startNode();if(this.match(10)||this.match(47))return this.tsParseSignatureMember("TSCallSignatureDeclaration",t);if(this.match(77)){let r=this.startNode();return this.next(),this.match(10)||this.match(47)?this.tsParseSignatureMember("TSConstructSignatureDeclaration",t):(t.key=this.createIdentifier(r,"new"),this.tsParsePropertyOrMethodSignature(t,!1))}this.tsParseModifiers({modified:t,allowedModifiers:["readonly"],disallowedModifiers:["declare","abstract","private","protected","public","static","override"]});let i=this.tsTryParseIndexSignature(t);return i||(super.parsePropertyName(t),!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.tsTokenCanFollowModifier()&&(t.kind=t.key.name,super.parsePropertyName(t)),this.tsParsePropertyOrMethodSignature(t,!!t.readonly))}tsParseTypeLiteral(){let t=this.startNode();return t.members=this.tsParseObjectTypeMembers(),this.finishNode(t,"TSTypeLiteral")}tsParseObjectTypeMembers(){this.expect(5);let t=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(8),t}tsIsStartOfMappedType(){return this.next(),this.eat(53)?this.isContextual(118):(this.isContextual(118)&&this.next(),!this.match(0)||(this.next(),!this.tsIsIdentifier())?!1:(this.next(),this.match(58)))}tsParseMappedTypeParameter(){let t=this.startNode();return t.name=this.tsParseTypeParameterName(),t.constraint=this.tsExpectThenParseType(58),this.finishNode(t,"TSTypeParameter")}tsParseMappedType(){let t=this.startNode();return this.expect(5),this.match(53)?(t.readonly=this.state.value,this.next(),this.expectContextual(118)):this.eatContextual(118)&&(t.readonly=!0),this.expect(0),t.typeParameter=this.tsParseMappedTypeParameter(),t.nameType=this.eatContextual(93)?this.tsParseType():null,this.expect(3),this.match(53)?(t.optional=this.state.value,this.next(),this.expect(17)):this.eat(17)&&(t.optional=!0),t.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(8),this.finishNode(t,"TSMappedType")}tsParseTupleType(){let t=this.startNode();t.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);let i=!1,r=null;return t.elementTypes.forEach(s=>{var a;let{type:o}=s;i&&o!=="TSRestType"&&o!=="TSOptionalType"&&!(o==="TSNamedTupleMember"&&s.optional)&&this.raise(At.OptionalTypeBeforeRequired,{at:s}),i||(i=o==="TSNamedTupleMember"&&s.optional||o==="TSOptionalType");let l=o;o==="TSRestType"&&(s=s.typeAnnotation,l=s.type);let c=l==="TSNamedTupleMember";(a=r)!=null||(r=c),r!==c&&this.raise(At.MixedLabeledAndUnlabeledElements,{at:s})}),this.finishNode(t,"TSTupleType")}tsParseTupleElementType(){let{start:t,startLoc:i}=this.state,r=this.eat(21),s=this.tsParseType(),a=this.eat(17);if(this.eat(14)){let l=this.startNodeAtNode(s);l.optional=a,s.type==="TSTypeReference"&&!s.typeParameters&&s.typeName.type==="Identifier"?l.label=s.typeName:(this.raise(At.InvalidTupleMemberLabel,{at:s}),l.label=s),l.elementType=this.tsParseType(),s=this.finishNode(l,"TSNamedTupleMember")}else if(a){let l=this.startNodeAtNode(s);l.typeAnnotation=s,s=this.finishNode(l,"TSOptionalType")}if(r){let l=this.startNodeAt(t,i);l.typeAnnotation=s,s=this.finishNode(l,"TSRestType")}return s}tsParseParenthesizedType(){let t=this.startNode();return this.expect(10),t.typeAnnotation=this.tsParseType(),this.expect(11),this.finishNode(t,"TSParenthesizedType")}tsParseFunctionOrConstructorType(t,i){let r=this.startNode();return t==="TSConstructorType"&&(r.abstract=!!i,i&&this.next(),this.next()),this.tsInAllowConditionalTypesContext(()=>this.tsFillSignature(19,r)),this.finishNode(r,t)}tsParseLiteralTypeNode(){let t=this.startNode();return t.literal=(()=>{switch(this.state.type){case 130:case 131:case 129:case 85:case 86:return super.parseExprAtom();default:throw this.unexpected()}})(),this.finishNode(t,"TSLiteralType")}tsParseTemplateLiteralType(){let t=this.startNode();return t.literal=super.parseTemplate(!1),this.finishNode(t,"TSLiteralType")}parseTemplateSubstitution(){return this.state.inType?this.tsParseType():super.parseTemplateSubstitution()}tsParseThisTypeOrThisTypePredicate(){let t=this.tsParseThisTypeNode();return this.isContextual(113)&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(t):t}tsParseNonArrayType(){switch(this.state.type){case 129:case 130:case 131:case 85:case 86:return this.tsParseLiteralTypeNode();case 53:if(this.state.value==="-"){let t=this.startNode(),i=this.lookahead();if(i.type!==130&&i.type!==131)throw this.unexpected();return t.literal=this.parseMaybeUnary(),this.finishNode(t,"TSLiteralType")}break;case 78:return this.tsParseThisTypeOrThisTypePredicate();case 87:return this.tsParseTypeQuery();case 83:return this.tsParseImportType();case 5:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case 0:return this.tsParseTupleType();case 10:return this.tsParseParenthesizedType();case 25:case 24:return this.tsParseTemplateLiteralType();default:{let{type:t}=this.state;if(Ai(t)||t===88||t===84){let i=t===88?"TSVoidKeyword":t===84?"TSNullKeyword":rJ(this.state.value);if(i!==void 0&&this.lookaheadCharCode()!==46){let r=this.startNode();return this.next(),this.finishNode(r,i)}return this.tsParseTypeReference()}}}throw this.unexpected()}tsParseArrayTypeOrHigher(){let t=this.tsParseNonArrayType();for(;!this.hasPrecedingLineBreak()&&this.eat(0);)if(this.match(3)){let i=this.startNodeAtNode(t);i.elementType=t,this.expect(3),t=this.finishNode(i,"TSArrayType")}else{let i=this.startNodeAtNode(t);i.objectType=t,i.indexType=this.tsParseType(),this.expect(3),t=this.finishNode(i,"TSIndexedAccessType")}return t}tsParseTypeOperator(){let t=this.startNode(),i=this.state.value;return this.next(),t.operator=i,t.typeAnnotation=this.tsParseTypeOperatorOrHigher(),i==="readonly"&&this.tsCheckTypeAnnotationForReadOnly(t),this.finishNode(t,"TSTypeOperator")}tsCheckTypeAnnotationForReadOnly(t){switch(t.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(At.UnexpectedReadonly,{at:t})}}tsParseInferType(){let t=this.startNode();this.expectContextual(112);let i=this.startNode();return i.name=this.tsParseTypeParameterName(),i.constraint=this.tsTryParse(()=>this.tsParseConstraintForInferType()),t.typeParameter=this.finishNode(i,"TSTypeParameter"),this.finishNode(t,"TSInferType")}tsParseConstraintForInferType(){if(this.eat(81)){let t=this.tsInDisallowConditionalTypesContext(()=>this.tsParseType());if(this.state.inDisallowConditionalTypesContext||!this.match(17))return t}}tsParseTypeOperatorOrHigher(){return uK(this.state.type)&&!this.state.containsEsc?this.tsParseTypeOperator():this.isContextual(112)?this.tsParseInferType():this.tsInAllowConditionalTypesContext(()=>this.tsParseArrayTypeOrHigher())}tsParseUnionOrIntersectionType(t,i,r){let s=this.startNode(),a=this.eat(r),o=[];do o.push(i());while(this.eat(r));return o.length===1&&!a?o[0]:(s.types=o,this.finishNode(s,t))}tsParseIntersectionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),45)}tsParseUnionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),43)}tsIsStartOfFunctionType(){return this.match(47)?!0:this.match(10)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))}tsSkipParameterStart(){if(Ai(this.state.type)||this.match(78))return this.next(),!0;if(this.match(5)){let{errors:t}=this.state,i=t.length;try{return this.parseObjectLike(8,!0),t.length===i}catch(r){return!1}}if(this.match(0)){this.next();let{errors:t}=this.state,i=t.length;try{return super.parseBindingList(3,93,!0),t.length===i}catch(r){return!1}}return!1}tsIsUnambiguouslyStartOfFunctionType(){return this.next(),!!(this.match(11)||this.match(21)||this.tsSkipParameterStart()&&(this.match(14)||this.match(12)||this.match(17)||this.match(29)||this.match(11)&&(this.next(),this.match(19))))}tsParseTypeOrTypePredicateAnnotation(t){return this.tsInType(()=>{let i=this.startNode();this.expect(t);let r=this.startNode(),s=!!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));if(s&&this.match(78)){let l=this.tsParseThisTypeOrThisTypePredicate();return l.type==="TSThisType"?(r.parameterName=l,r.asserts=!0,r.typeAnnotation=null,l=this.finishNode(r,"TSTypePredicate")):(this.resetStartLocationFromNode(l,r),l.asserts=!0),i.typeAnnotation=l,this.finishNode(i,"TSTypeAnnotation")}let a=this.tsIsIdentifier()&&this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));if(!a)return s?(r.parameterName=this.parseIdentifier(),r.asserts=s,r.typeAnnotation=null,i.typeAnnotation=this.finishNode(r,"TSTypePredicate"),this.finishNode(i,"TSTypeAnnotation")):this.tsParseTypeAnnotation(!1,i);let o=this.tsParseTypeAnnotation(!1);return r.parameterName=a,r.typeAnnotation=o,r.asserts=s,i.typeAnnotation=this.finishNode(r,"TSTypePredicate"),this.finishNode(i,"TSTypeAnnotation")})}tsTryParseTypeOrTypePredicateAnnotation(){return this.match(14)?this.tsParseTypeOrTypePredicateAnnotation(14):void 0}tsTryParseTypeAnnotation(){return this.match(14)?this.tsParseTypeAnnotation():void 0}tsTryParseType(){return this.tsEatThenParseType(14)}tsParseTypePredicatePrefix(){let t=this.parseIdentifier();if(this.isContextual(113)&&!this.hasPrecedingLineBreak())return this.next(),t}tsParseTypePredicateAsserts(){if(this.state.type!==106)return!1;let t=this.state.containsEsc;return this.next(),!Ai(this.state.type)&&!this.match(78)?!1:(t&&this.raise(oe.InvalidEscapedReservedWord,{at:this.state.lastTokStartLoc,reservedWord:"asserts"}),!0)}tsParseTypeAnnotation(t=!0,i=this.startNode()){return this.tsInType(()=>{t&&this.expect(14),i.typeAnnotation=this.tsParseType()}),this.finishNode(i,"TSTypeAnnotation")}tsParseType(){hN(this.state.inType);let t=this.tsParseNonConditionalType();if(this.state.inDisallowConditionalTypesContext||this.hasPrecedingLineBreak()||!this.eat(81))return t;let i=this.startNodeAtNode(t);return i.checkType=t,i.extendsType=this.tsInDisallowConditionalTypesContext(()=>this.tsParseNonConditionalType()),this.expect(17),i.trueType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.expect(14),i.falseType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.finishNode(i,"TSConditionalType")}isAbstractConstructorSignature(){return this.isContextual(120)&&this.lookahead().type===77}tsParseNonConditionalType(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(77)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.isAbstractConstructorSignature()?this.tsParseFunctionOrConstructorType("TSConstructorType",!0):this.tsParseUnionTypeOrHigher()}tsParseTypeAssertion(){this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(At.ReservedTypeAssertion,{at:this.state.startLoc});let t=this.startNode(),i=this.tsTryNextParseConstantContext();return t.typeAnnotation=i||this.tsNextThenParseType(),this.expect(48),t.expression=this.parseMaybeUnary(),this.finishNode(t,"TSTypeAssertion")}tsParseHeritageClause(t){let i=this.state.startLoc,r=this.tsParseDelimitedList("HeritageClauseElement",()=>{let s=this.startNode();return s.expression=this.tsParseEntityName(),this.match(47)&&(s.typeParameters=this.tsParseTypeArguments()),this.finishNode(s,"TSExpressionWithTypeArguments")});return r.length||this.raise(At.EmptyHeritageClauseType,{at:i,token:t}),r}tsParseInterfaceDeclaration(t,i={}){if(this.hasFollowingLineBreak())return null;this.expectContextual(125),i.declare&&(t.declare=!0),Ai(this.state.type)?(t.id=this.parseIdentifier(),this.checkIdentifier(t.id,SK)):(t.id=null,this.raise(At.MissingInterfaceName,{at:this.state.startLoc})),t.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutModifiers.bind(this)),this.eat(81)&&(t.extends=this.tsParseHeritageClause("extends"));let r=this.startNode();return r.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),t.body=this.finishNode(r,"TSInterfaceBody"),this.finishNode(t,"TSInterfaceDeclaration")}tsParseTypeAliasDeclaration(t){return t.id=this.parseIdentifier(),this.checkIdentifier(t.id,TK),t.typeAnnotation=this.tsInType(()=>{if(t.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutModifiers.bind(this)),this.expect(29),this.isContextual(111)&&this.lookahead().type!==16){let i=this.startNode();return this.next(),this.finishNode(i,"TSIntrinsicKeyword")}return this.tsParseType()}),this.semicolon(),this.finishNode(t,"TSTypeAliasDeclaration")}tsInNoContext(t){let i=this.state.context;this.state.context=[i[0]];try{return t()}finally{this.state.context=i}}tsInType(t){let i=this.state.inType;this.state.inType=!0;try{return t()}finally{this.state.inType=i}}tsInDisallowConditionalTypesContext(t){let i=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!0;try{return t()}finally{this.state.inDisallowConditionalTypesContext=i}}tsInAllowConditionalTypesContext(t){let i=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!1;try{return t()}finally{this.state.inDisallowConditionalTypesContext=i}}tsEatThenParseType(t){return this.match(t)?this.tsNextThenParseType():void 0}tsExpectThenParseType(t){return this.tsDoThenParseType(()=>this.expect(t))}tsNextThenParseType(){return this.tsDoThenParseType(()=>this.next())}tsDoThenParseType(t){return this.tsInType(()=>(t(),this.tsParseType()))}tsParseEnumMember(){let t=this.startNode();return t.id=this.match(129)?super.parseStringLiteral(this.state.value):this.parseIdentifier(!0),this.eat(29)&&(t.initializer=super.parseMaybeAssignAllowIn()),this.finishNode(t,"TSEnumMember")}tsParseEnumDeclaration(t,i={}){return i.const&&(t.const=!0),i.declare&&(t.declare=!0),this.expectContextual(122),t.id=this.parseIdentifier(),this.checkIdentifier(t.id,t.const?AK:ON),this.expect(5),t.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(t,"TSEnumDeclaration")}tsParseModuleBlock(){let t=this.startNode();return this.scope.enter(Lh),this.expect(5),super.parseBlockOrModuleBlockBody(t.body=[],void 0,!0,8),this.scope.exit(),this.finishNode(t,"TSModuleBlock")}tsParseModuleOrNamespaceDeclaration(t,i=!1){if(t.id=this.parseIdentifier(),i||this.checkIdentifier(t.id,MK),this.eat(16)){let r=this.startNode();this.tsParseModuleOrNamespaceDeclaration(r,!0),t.body=r}else this.scope.enter(iv),this.prodParam.enter(kh),t.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(t,"TSModuleDeclaration")}tsParseAmbientExternalModuleDeclaration(t){return this.isContextual(109)?(t.global=!0,t.id=this.parseIdentifier()):this.match(129)?t.id=super.parseStringLiteral(this.state.value):this.unexpected(),this.match(5)?(this.scope.enter(iv),this.prodParam.enter(kh),t.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit()):this.semicolon(),this.finishNode(t,"TSModuleDeclaration")}tsParseImportEqualsDeclaration(t,i){t.isExport=i||!1,t.id=this.parseIdentifier(),this.checkIdentifier(t.id,xo),this.expect(29);let r=this.tsParseModuleReference();return t.importKind==="type"&&r.type!=="TSExternalModuleReference"&&this.raise(At.ImportAliasHasImportType,{at:r}),t.moduleReference=r,this.semicolon(),this.finishNode(t,"TSImportEqualsDeclaration")}tsIsExternalModuleReference(){return this.isContextual(116)&&this.lookaheadCharCode()===40}tsParseModuleReference(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(!1)}tsParseExternalModuleReference(){let t=this.startNode();if(this.expectContextual(116),this.expect(10),!this.match(129))throw this.unexpected();return t.expression=super.parseExprAtom(),this.expect(11),this.finishNode(t,"TSExternalModuleReference")}tsLookAhead(t){let i=this.state.clone(),r=t();return this.state=i,r}tsTryParseAndCatch(t){let i=this.tryParse(r=>t()||r());if(!(i.aborted||!i.node))return i.error&&(this.state=i.failState),i.node}tsTryParse(t){let i=this.state.clone(),r=t();if(r!==void 0&&r!==!1)return r;this.state=i}tsTryParseDeclare(t){if(this.isLineTerminator())return;let i=this.state.type,r;return this.isContextual(99)&&(i=74,r="let"),this.tsInAmbientContext(()=>{if(i===68)return t.declare=!0,super.parseFunctionStatement(t,!1,!0);if(i===80)return t.declare=!0,this.parseClass(t,!0,!1);if(i===122)return this.tsParseEnumDeclaration(t,{declare:!0});if(i===109)return this.tsParseAmbientExternalModuleDeclaration(t);if(i===75||i===74)return!this.match(75)||!this.isLookaheadContextual("enum")?(t.declare=!0,this.parseVarStatement(t,r||this.state.value,!0)):(this.expect(75),this.tsParseEnumDeclaration(t,{const:!0,declare:!0}));if(i===125){let s=this.tsParseInterfaceDeclaration(t,{declare:!0});if(s)return s}if(Ai(i))return this.tsParseDeclaration(t,this.state.value,!0)})}tsTryParseExportDeclaration(){return this.tsParseDeclaration(this.startNode(),this.state.value,!0)}tsParseExpressionStatement(t,i){switch(i.name){case"declare":{let r=this.tsTryParseDeclare(t);if(r)return r.declare=!0,r;break}case"global":if(this.match(5)){this.scope.enter(iv),this.prodParam.enter(kh);let r=t;return r.global=!0,r.id=i,r.body=this.tsParseModuleBlock(),this.scope.exit(),this.prodParam.exit(),this.finishNode(r,"TSModuleDeclaration")}break;default:return this.tsParseDeclaration(t,i.name,!1)}}tsParseDeclaration(t,i,r){switch(i){case"abstract":if(this.tsCheckLineTerminator(r)&&(this.match(80)||Ai(this.state.type)))return this.tsParseAbstractDeclaration(t);break;case"module":if(this.tsCheckLineTerminator(r)){if(this.match(129))return this.tsParseAmbientExternalModuleDeclaration(t);if(Ai(this.state.type))return this.tsParseModuleOrNamespaceDeclaration(t)}break;case"namespace":if(this.tsCheckLineTerminator(r)&&Ai(this.state.type))return this.tsParseModuleOrNamespaceDeclaration(t);break;case"type":if(this.tsCheckLineTerminator(r)&&Ai(this.state.type))return this.tsParseTypeAliasDeclaration(t);break}}tsCheckLineTerminator(t){return t?this.hasFollowingLineBreak()?!1:(this.next(),!0):!this.isLineTerminator()}tsTryParseGenericAsyncArrowFunction(t,i){if(!this.match(47))return;let r=this.state.maybeInArrowParameters;this.state.maybeInArrowParameters=!0;let s=this.tsTryParseAndCatch(()=>{let a=this.startNodeAt(t,i);return a.typeParameters=this.tsParseTypeParameters(),super.parseFunctionParams(a),a.returnType=this.tsTryParseTypeOrTypePredicateAnnotation(),this.expect(19),a});if(this.state.maybeInArrowParameters=r,!!s)return super.parseArrowExpression(s,null,!0)}tsParseTypeArgumentsInExpression(){if(this.reScan_lt()===47)return this.tsParseTypeArguments()}tsParseTypeArguments(){let t=this.startNode();return t.params=this.tsInType(()=>this.tsInNoContext(()=>(this.expect(47),this.tsParseDelimitedList("TypeParametersOrArguments",this.tsParseType.bind(this))))),t.params.length===0&&this.raise(At.EmptyTypeArguments,{at:t}),this.expect(48),this.finishNode(t,"TSTypeParameterInstantiation")}tsIsDeclarationStart(){return hK(this.state.type)}isExportDefaultSpecifier(){return this.tsIsDeclarationStart()?!1:super.isExportDefaultSpecifier()}parseAssignableListItem(t,i){let r=this.state.start,s=this.state.startLoc,a,o=!1,l=!1;if(t!==void 0){let h={};this.tsParseModifiers({modified:h,allowedModifiers:["public","private","protected","override","readonly"]}),a=h.accessibility,l=h.override,o=h.readonly,t===!1&&(a||o||l)&&this.raise(At.UnexpectedParameterModifier,{at:s})}let c=this.parseMaybeDefault();this.parseAssignableListItemTypes(c);let u=this.parseMaybeDefault(c.start,c.loc.start,c);if(a||o||l){let h=this.startNodeAt(r,s);return i.length&&(h.decorators=i),a&&(h.accessibility=a),o&&(h.readonly=o),l&&(h.override=l),u.type!=="Identifier"&&u.type!=="AssignmentPattern"&&this.raise(At.UnsupportedParameterPropertyKind,{at:h}),h.parameter=u,this.finishNode(h,"TSParameterProperty")}return i.length&&(c.decorators=i),u}isSimpleParameter(t){return t.type==="TSParameterProperty"&&super.isSimpleParameter(t.parameter)||super.isSimpleParameter(t)}parseFunctionBodyAndFinish(t,i,r=!1){this.match(14)&&(t.returnType=this.tsParseTypeOrTypePredicateAnnotation(14));let s=i==="FunctionDeclaration"?"TSDeclareFunction":i==="ClassMethod"||i==="ClassPrivateMethod"?"TSDeclareMethod":void 0;return s&&!this.match(5)&&this.isLineTerminator()?this.finishNode(t,s):s==="TSDeclareFunction"&&this.state.isAmbientContext&&(this.raise(At.DeclareFunctionHasImplementation,{at:t}),t.declare)?super.parseFunctionBodyAndFinish(t,s,r):super.parseFunctionBodyAndFinish(t,i,r)}registerFunctionStatementId(t){!t.body&&t.id?this.checkIdentifier(t.id,aN):super.registerFunctionStatementId(t)}tsCheckForInvalidTypeCasts(t){t.forEach(i=>{(i==null?void 0:i.type)==="TSTypeCastExpression"&&this.raise(At.UnexpectedTypeAnnotation,{at:i.typeAnnotation})})}toReferencedList(t,i){return this.tsCheckForInvalidTypeCasts(t),t}parseArrayLike(t,i,r,s){let a=super.parseArrayLike(t,i,r,s);return a.type==="ArrayExpression"&&this.tsCheckForInvalidTypeCasts(a.elements),a}parseSubscript(t,i,r,s,a){if(!this.hasPrecedingLineBreak()&&this.match(35)){this.state.canStartJSXElement=!1,this.next();let l=this.startNodeAt(i,r);return l.expression=t,this.finishNode(l,"TSNonNullExpression")}let o=!1;if(this.match(18)&&this.lookaheadCharCode()===60){if(s)return a.stop=!0,t;a.optionalChainMember=o=!0,this.next()}if(this.match(47)||this.match(51)){let l,c=this.tsTryParseAndCatch(()=>{if(!s&&this.atPossibleAsyncArrow(t)){let m=this.tsTryParseGenericAsyncArrowFunction(i,r);if(m)return m}let u=this.tsParseTypeArgumentsInExpression();if(!u)return;if(o&&!this.match(10)){l=this.state.curPosition();return}if(ov(this.state.type)){let m=super.parseTaggedTemplateExpression(t,i,r,a);return m.typeParameters=u,m}if(!s&&this.eat(10)){let m=this.startNodeAt(i,r);return m.callee=t,m.arguments=this.parseCallExpressionArguments(11,!1),this.tsCheckForInvalidTypeCasts(m.arguments),m.typeParameters=u,a.optionalChainMember&&(m.optional=o),this.finishCallExpression(m,a.optionalChainMember)}let h=this.state.type;if(h===48||h!==10&&o1(h)&&!this.hasPrecedingLineBreak())return;let d=this.startNodeAt(i,r);return d.expression=t,d.typeParameters=u,this.finishNode(d,"TSInstantiationExpression")});if(l&&this.unexpected(l,10),c)return c.type==="TSInstantiationExpression"&&(this.match(16)||this.match(18)&&this.lookaheadCharCode()!==40)&&this.raise(At.InvalidPropertyAccessAfterInstantiationExpression,{at:this.state.startLoc}),c}return super.parseSubscript(t,i,r,s,a)}parseNewCallee(t){var i;super.parseNewCallee(t);let{callee:r}=t;r.type==="TSInstantiationExpression"&&!((i=r.extra)!=null&&i.parenthesized)&&(t.typeParameters=r.typeParameters,t.callee=r.expression)}parseExprOp(t,i,r,s){if(tv(58)>s&&!this.hasPrecedingLineBreak()&&this.isContextual(93)){let a=this.startNodeAt(i,r);a.expression=t;let o=this.tsTryNextParseConstantContext();return o?a.typeAnnotation=o:a.typeAnnotation=this.tsNextThenParseType(),this.finishNode(a,"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(a,i,r,s)}return super.parseExprOp(t,i,r,s)}checkReservedWord(t,i,r,s){this.state.isAmbientContext||super.checkReservedWord(t,i,r,s)}checkDuplicateExports(){}parseImport(t){if(t.importKind="value",Ai(this.state.type)||this.match(55)||this.match(5)){let r=this.lookahead();if(this.isContextual(126)&&r.type!==12&&r.type!==97&&r.type!==29&&(t.importKind="type",this.next(),r=this.lookahead()),Ai(this.state.type)&&r.type===29)return this.tsParseImportEqualsDeclaration(t)}let i=super.parseImport(t);return i.importKind==="type"&&i.specifiers.length>1&&i.specifiers[0].type==="ImportDefaultSpecifier"&&this.raise(At.TypeImportCannotSpecifyDefaultAndNamed,{at:i}),i}parseExport(t){if(this.match(83))return this.next(),this.isContextual(126)&&this.lookaheadCharCode()!==61?(t.importKind="type",this.next()):t.importKind="value",this.tsParseImportEqualsDeclaration(t,!0);if(this.eat(29)){let i=t;return i.expression=super.parseExpression(),this.semicolon(),this.finishNode(i,"TSExportAssignment")}else if(this.eatContextual(93)){let i=t;return this.expectContextual(124),i.id=this.parseIdentifier(),this.semicolon(),this.finishNode(i,"TSNamespaceExportDeclaration")}else return this.isContextual(126)&&this.lookahead().type===5?(this.next(),t.exportKind="type"):t.exportKind="value",super.parseExport(t)}isAbstractClass(){return this.isContextual(120)&&this.lookahead().type===80}parseExportDefaultExpression(){if(this.isAbstractClass()){let t=this.startNode();return this.next(),t.abstract=!0,this.parseClass(t,!0,!0)}if(this.match(125)){let t=this.tsParseInterfaceDeclaration(this.startNode());if(t)return t}return super.parseExportDefaultExpression()}parseVarStatement(t,i,r=!1){let{isAmbientContext:s}=this.state,a=super.parseVarStatement(t,i,r||s);if(!s)return a;for(let{id:o,init:l}of a.declarations)l&&(i!=="const"||o.typeAnnotation?this.raise(At.InitializerNotAllowedInAmbientContext,{at:l}):l.type!=="StringLiteral"&&l.type!=="BooleanLiteral"&&l.type!=="NumericLiteral"&&l.type!=="BigIntLiteral"&&(l.type!=="TemplateLiteral"||l.expressions.length>0)&&!oJ(l)&&this.raise(At.ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference,{at:l}));return a}parseStatementContent(t,i){if(this.match(75)&&this.isLookaheadContextual("enum")){let r=this.startNode();return this.expect(75),this.tsParseEnumDeclaration(r,{const:!0})}if(this.isContextual(122))return this.tsParseEnumDeclaration(this.startNode());if(this.isContextual(125)){let r=this.tsParseInterfaceDeclaration(this.startNode());if(r)return r}return super.parseStatementContent(t,i)}parseAccessModifier(){return this.tsParseModifier(["public","protected","private"])}tsHasSomeModifiers(t,i){return i.some(r=>fN(r)?t.accessibility===r:!!t[r])}tsIsStartOfStaticBlocks(){return this.isContextual(104)&&this.lookaheadCharCode()===123}parseClassMember(t,i,r){let s=["declare","private","public","protected","override","abstract","readonly","static"];this.tsParseModifiers({modified:i,allowedModifiers:s,disallowedModifiers:["in","out"],stopOnStartOfClassStaticBlock:!0,errorTemplate:At.InvalidModifierOnTypeParameterPositions});let a=()=>{this.tsIsStartOfStaticBlocks()?(this.next(),this.next(),this.tsHasSomeModifiers(i,s)&&this.raise(At.StaticBlockCannotHaveModifier,{at:this.state.curPosition()}),super.parseClassStaticBlock(t,i)):this.parseClassMemberWithIsStatic(t,i,r,!!i.static)};i.declare?this.tsInAmbientContext(a):a()}parseClassMemberWithIsStatic(t,i,r,s){let a=this.tsTryParseIndexSignature(i);if(a){t.body.push(a),i.abstract&&this.raise(At.IndexSignatureHasAbstract,{at:i}),i.accessibility&&this.raise(At.IndexSignatureHasAccessibility,{at:i,modifier:i.accessibility}),i.declare&&this.raise(At.IndexSignatureHasDeclare,{at:i}),i.override&&this.raise(At.IndexSignatureHasOverride,{at:i});return}!this.state.inAbstractClass&&i.abstract&&this.raise(At.NonAbstractClassHasAbstractMethod,{at:i}),i.override&&(r.hadSuperClass||this.raise(At.OverrideNotInSubClass,{at:i})),super.parseClassMemberWithIsStatic(t,i,r,s)}parsePostMemberNameModifiers(t){this.eat(17)&&(t.optional=!0),t.readonly&&this.match(10)&&this.raise(At.ClassMethodHasReadonly,{at:t}),t.declare&&this.match(10)&&this.raise(At.ClassMethodHasDeclare,{at:t})}parseExpressionStatement(t,i){return(i.type==="Identifier"?this.tsParseExpressionStatement(t,i):void 0)||super.parseExpressionStatement(t,i)}shouldParseExportDeclaration(){return this.tsIsDeclarationStart()?!0:super.shouldParseExportDeclaration()}parseConditional(t,i,r,s){if(!this.state.maybeInArrowParameters||!this.match(17))return super.parseConditional(t,i,r,s);let a=this.tryParse(()=>super.parseConditional(t,i,r));return a.node?(a.error&&(this.state=a.failState),a.node):(a.error&&super.setOptionalParametersError(s,a.error),t)}parseParenItem(t,i,r){if(t=super.parseParenItem(t,i,r),this.eat(17)&&(t.optional=!0,this.resetEndLocation(t)),this.match(14)){let s=this.startNodeAt(i,r);return s.expression=t,s.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(s,"TSTypeCastExpression")}return t}parseExportDeclaration(t){if(!this.state.isAmbientContext&&this.isContextual(121))return this.tsInAmbientContext(()=>this.parseExportDeclaration(t));let i=this.state.start,r=this.state.startLoc,s=this.eatContextual(121);if(s&&(this.isContextual(121)||!this.shouldParseExportDeclaration()))throw this.raise(At.ExpectedAmbientAfterExportDeclare,{at:this.state.startLoc});let o=Ai(this.state.type)&&this.tsTryParseExportDeclaration()||super.parseExportDeclaration(t);return o?((o.type==="TSInterfaceDeclaration"||o.type==="TSTypeAliasDeclaration"||s)&&(t.exportKind="type"),s&&(this.resetStartLocation(o,i,r),o.declare=!0),o):null}parseClassId(t,i,r,s){if((!i||r)&&this.isContextual(110))return;super.parseClassId(t,i,r,t.declare?aN:RN);let a=this.tsTryParseTypeParameters(this.tsParseInOutModifiers.bind(this));a&&(t.typeParameters=a)}parseClassPropertyAnnotation(t){!t.optional&&this.eat(35)&&(t.definite=!0);let i=this.tsTryParseTypeAnnotation();i&&(t.typeAnnotation=i)}parseClassProperty(t){if(this.parseClassPropertyAnnotation(t),this.state.isAmbientContext&&!(t.readonly&&!t.typeAnnotation)&&this.match(29)&&this.raise(At.DeclareClassFieldHasInitializer,{at:this.state.startLoc}),t.abstract&&this.match(29)){let{key:i}=t;this.raise(At.AbstractPropertyHasInitializer,{at:this.state.startLoc,propertyName:i.type==="Identifier"&&!t.computed?i.name:`[${this.input.slice(i.start,i.end)}]`})}return super.parseClassProperty(t)}parseClassPrivateProperty(t){return t.abstract&&this.raise(At.PrivateElementHasAbstract,{at:t}),t.accessibility&&this.raise(At.PrivateElementHasAccessibility,{at:t,modifier:t.accessibility}),this.parseClassPropertyAnnotation(t),super.parseClassPrivateProperty(t)}pushClassMethod(t,i,r,s,a,o){let l=this.tsTryParseTypeParameters();l&&a&&this.raise(At.ConstructorHasTypeParameters,{at:l});let{declare:c=!1,kind:u}=i;c&&(u==="get"||u==="set")&&this.raise(At.DeclareAccessor,{at:i,kind:u}),l&&(i.typeParameters=l),super.pushClassMethod(t,i,r,s,a,o)}pushClassPrivateMethod(t,i,r,s){let a=this.tsTryParseTypeParameters();a&&(i.typeParameters=a),super.pushClassPrivateMethod(t,i,r,s)}declareClassPrivateMethodInScope(t,i){t.type!=="TSDeclareMethod"&&(t.type==="MethodDefinition"&&!t.value.body||super.declareClassPrivateMethodInScope(t,i))}parseClassSuper(t){super.parseClassSuper(t),t.superClass&&(this.match(47)||this.match(51))&&(t.superTypeParameters=this.tsParseTypeArgumentsInExpression()),this.eatContextual(110)&&(t.implements=this.tsParseHeritageClause("implements"))}parseObjPropValue(t,i,r,s,a,o,l,c){let u=this.tsTryParseTypeParameters();return u&&(t.typeParameters=u),super.parseObjPropValue(t,i,r,s,a,o,l,c)}parseFunctionParams(t,i){let r=this.tsTryParseTypeParameters();r&&(t.typeParameters=r),super.parseFunctionParams(t,i)}parseVarId(t,i){super.parseVarId(t,i),t.id.type==="Identifier"&&!this.hasPrecedingLineBreak()&&this.eat(35)&&(t.definite=!0);let r=this.tsTryParseTypeAnnotation();r&&(t.id.typeAnnotation=r,this.resetEndLocation(t.id))}parseAsyncArrowFromCallExpression(t,i){return this.match(14)&&(t.returnType=this.tsParseTypeAnnotation()),super.parseAsyncArrowFromCallExpression(t,i)}parseMaybeAssign(t,i){var r,s,a,o,l,c,u;let h,d,m;if(this.hasPlugin("jsx")&&(this.match(138)||this.match(47))){if(h=this.state.clone(),d=this.tryParse(()=>super.parseMaybeAssign(t,i),h),!d.error)return d.node;let{context:g}=this.state,y=g[g.length-1];(y===zi.j_oTag||y===zi.j_expr)&&g.pop()}if(!((r=d)!=null&&r.error)&&!this.match(47))return super.parseMaybeAssign(t,i);(!h||h===this.state)&&(h=this.state.clone());let v,_=this.tryParse(g=>{var y,b;v=this.tsParseTypeParameters();let E=super.parseMaybeAssign(t,i);return(E.type!=="ArrowFunctionExpression"||(y=E.extra)!=null&&y.parenthesized)&&g(),((b=v)==null?void 0:b.params.length)!==0&&this.resetStartLocationFromNode(E,v),E.typeParameters=v,E},h);if(!_.error&&!_.aborted)return v&&this.reportReservedArrowTypeParam(v),_.node;if(!d&&(hN(!this.hasPlugin("jsx")),m=this.tryParse(()=>super.parseMaybeAssign(t,i),h),!m.error))return m.node;if((s=d)!=null&&s.node)return this.state=d.failState,d.node;if(_.node)return this.state=_.failState,v&&this.reportReservedArrowTypeParam(v),_.node;if((a=m)!=null&&a.node)return this.state=m.failState,m.node;throw(o=d)!=null&&o.thrown?d.error:_.thrown?_.error:(l=m)!=null&&l.thrown?m.error:((c=d)==null?void 0:c.error)||_.error||((u=m)==null?void 0:u.error)}reportReservedArrowTypeParam(t){var i;t.params.length===1&&!((i=t.extra)!=null&&i.trailingComma)&&this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(At.ReservedArrowTypeParam,{at:t})}parseMaybeUnary(t,i){return!this.hasPlugin("jsx")&&this.match(47)?this.tsParseTypeAssertion():super.parseMaybeUnary(t,i)}parseArrow(t){if(this.match(14)){let i=this.tryParse(r=>{let s=this.tsParseTypeOrTypePredicateAnnotation(14);return(this.canInsertSemicolon()||!this.match(19))&&r(),s});if(i.aborted)return;i.thrown||(i.error&&(this.state=i.failState),t.returnType=i.node)}return super.parseArrow(t)}parseAssignableListItemTypes(t){this.eat(17)&&(t.type!=="Identifier"&&!this.state.isAmbientContext&&!this.state.inType&&this.raise(At.PatternIsOptional,{at:t}),t.optional=!0);let i=this.tsTryParseTypeAnnotation();return i&&(t.typeAnnotation=i),this.resetEndLocation(t),t}isAssignable(t,i){switch(t.type){case"TSTypeCastExpression":return this.isAssignable(t.expression,i);case"TSParameterProperty":return!0;default:return super.isAssignable(t,i)}}toAssignable(t,i=!1){switch(t.type){case"ParenthesizedExpression":this.toAssignableParenthesizedExpression(t,i);break;case"TSAsExpression":case"TSNonNullExpression":case"TSTypeAssertion":i?this.expressionScope.recordArrowParemeterBindingError(At.UnexpectedTypeCastInParameter,{at:t}):this.raise(At.UnexpectedTypeCastInParameter,{at:t}),this.toAssignable(t.expression,i);break;case"AssignmentExpression":!i&&t.left.type==="TSTypeCastExpression"&&(t.left=this.typeCastToParameter(t.left));default:super.toAssignable(t,i)}}toAssignableParenthesizedExpression(t,i){switch(t.expression.type){case"TSAsExpression":case"TSNonNullExpression":case"TSTypeAssertion":case"ParenthesizedExpression":this.toAssignable(t.expression,i);break;default:super.toAssignable(t,i)}}checkToRestConversion(t,i){switch(t.type){case"TSAsExpression":case"TSTypeAssertion":case"TSNonNullExpression":this.checkToRestConversion(t.expression,!1);break;default:super.checkToRestConversion(t,i)}}isValidLVal(t,i,r){return iJ({TSTypeCastExpression:!0,TSParameterProperty:"parameter",TSNonNullExpression:"expression",TSAsExpression:(r!==Lc||!i)&&["expression",!0],TSTypeAssertion:(r!==Lc||!i)&&["expression",!0]},t)||super.isValidLVal(t,i,r)}parseBindingAtom(){switch(this.state.type){case 78:return this.parseIdentifier(!0);default:return super.parseBindingAtom()}}parseMaybeDecoratorArguments(t){if(this.match(47)||this.match(51)){let i=this.tsParseTypeArgumentsInExpression();if(this.match(10)){let r=super.parseMaybeDecoratorArguments(t);return r.typeParameters=i,r}this.unexpected(null,10)}return super.parseMaybeDecoratorArguments(t)}checkCommaAfterRest(t){return this.state.isAmbientContext&&this.match(12)&&this.lookaheadCharCode()===t?(this.next(),!1):super.checkCommaAfterRest(t)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(35)||this.match(14)||super.isClassProperty()}parseMaybeDefault(t,i,r){let s=super.parseMaybeDefault(t,i,r);return s.type==="AssignmentPattern"&&s.typeAnnotation&&s.right.start<s.typeAnnotation.start&&this.raise(At.TypeAnnotationAfterAssign,{at:s.typeAnnotation}),s}getTokenFromCode(t){if(this.state.inType){if(t===62)return this.finishOp(48,1);if(t===60)return this.finishOp(47,1)}return super.getTokenFromCode(t)}reScan_lt_gt(){let{type:t}=this.state;t===47?(this.state.pos-=1,this.readToken_lt()):t===48&&(this.state.pos-=1,this.readToken_gt())}reScan_lt(){let{type:t}=this.state;return t===51?(this.state.pos-=2,this.finishOp(47,1),47):t}toAssignableList(t,i,r){for(let s=0;s<t.length;s++){let a=t[s];(a==null?void 0:a.type)==="TSTypeCastExpression"&&(t[s]=this.typeCastToParameter(a))}super.toAssignableList(t,i,r)}typeCastToParameter(t){return t.expression.typeAnnotation=t.typeAnnotation,this.resetEndLocation(t.expression,t.typeAnnotation.loc.end),t.expression}shouldParseArrow(t){return this.match(14)?t.every(i=>this.isAssignable(i,!0)):super.shouldParseArrow(t)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}canHaveLeadingDecorator(){return super.canHaveLeadingDecorator()||this.isAbstractClass()}jsxParseOpeningElementAfterName(t){if(this.match(47)||this.match(51)){let i=this.tsTryParseAndCatch(()=>this.tsParseTypeArgumentsInExpression());i&&(t.typeParameters=i)}return super.jsxParseOpeningElementAfterName(t)}getGetterSetterExpectedParamCount(t){let i=super.getGetterSetterExpectedParamCount(t),s=this.getObjectOrClassMethodParams(t)[0];return s&&this.isThisParam(s)?i+1:i}parseCatchClauseParam(){let t=super.parseCatchClauseParam(),i=this.tsTryParseTypeAnnotation();return i&&(t.typeAnnotation=i,this.resetEndLocation(t)),t}tsInAmbientContext(t){let i=this.state.isAmbientContext;this.state.isAmbientContext=!0;try{return t()}finally{this.state.isAmbientContext=i}}parseClass(t,i,r){let s=this.state.inAbstractClass;this.state.inAbstractClass=!!t.abstract;try{return super.parseClass(t,i,r)}finally{this.state.inAbstractClass=s}}tsParseAbstractDeclaration(t){if(this.match(80))return t.abstract=!0,this.parseClass(t,!0,!1);if(this.isContextual(125)){if(!this.hasFollowingLineBreak())return t.abstract=!0,this.raise(At.NonClassMethodPropertyHasAbstractModifer,{at:t}),this.tsParseInterfaceDeclaration(t)}else this.unexpected(null,80)}parseMethod(t,i,r,s,a,o,l){let c=super.parseMethod(t,i,r,s,a,o,l);if(c.abstract&&(this.hasPlugin("estree")?!!c.value.body:!!c.body)){let{key:h}=c;this.raise(At.AbstractMethodHasImplementation,{at:c,methodName:h.type==="Identifier"&&!c.computed?h.name:`[${this.input.slice(h.start,h.end)}]`})}return c}tsParseTypeParameterName(){return this.parseIdentifier().name}shouldParseAsAmbientContext(){return!!this.getPluginOption("typescript","dts")}parse(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.parse()}getExpression(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.getExpression()}parseExportSpecifier(t,i,r,s){return!i&&s?(this.parseTypeOnlyImportExportSpecifier(t,!1,r),this.finishNode(t,"ExportSpecifier")):(t.exportKind="value",super.parseExportSpecifier(t,i,r,s))}parseImportSpecifier(t,i,r,s){return!i&&s?(this.parseTypeOnlyImportExportSpecifier(t,!0,r),this.finishNode(t,"ImportSpecifier")):(t.importKind="value",super.parseImportSpecifier(t,i,r,s))}parseTypeOnlyImportExportSpecifier(t,i,r){let s=i?"imported":"local",a=i?"local":"exported",o=t[s],l,c=!1,u=!0,h=o.loc.start;if(this.isContextual(93)){let m=this.parseIdentifier();if(this.isContextual(93)){let v=this.parseIdentifier();bo(this.state.type)?(c=!0,o=m,l=i?this.parseIdentifier():this.parseModuleExportName(),u=!1):(l=v,u=!1)}else bo(this.state.type)?(u=!1,l=i?this.parseIdentifier():this.parseModuleExportName()):(c=!0,o=m)}else bo(this.state.type)&&(c=!0,i?(o=this.parseIdentifier(!0),this.isContextual(93)||this.checkReservedWord(o.name,o.loc.start,!0,!0)):o=this.parseModuleExportName());c&&r&&this.raise(i?At.TypeModifierIsUsedInTypeImports:At.TypeModifierIsUsedInTypeExports,{at:h}),t[s]=o,t[a]=l;let d=i?"importKind":"exportKind";t[d]=c?"type":"value",u&&this.eatContextual(93)&&(t[a]=i?this.parseIdentifier():this.parseModuleExportName()),t[a]||(t[a]=Eo(t[s])),i&&this.checkIdentifier(t[a],xo)}};function oJ(n){if(n.type!=="MemberExpression")return!1;let{computed:e,property:t}=n;return e&&t.type!=="StringLiteral"&&(t.type!=="TemplateLiteral"||t.expressions.length>0)?!1:GN(n.object)}function GN(n){return n.type==="Identifier"?!0:n.type!=="MemberExpression"||n.computed?!1:GN(n.object)}var dN=vo`placeholders`({ClassNameIsRequired:"A class name is required.",UnexpectedSpace:"Unexpected space in placeholder."}),lJ=n=>class extends n{parsePlaceholder(t){if(this.match(140)){let i=this.startNode();return this.next(),this.assertNoSpace(),i.name=super.parseIdentifier(!0),this.assertNoSpace(),this.expect(140),this.finishPlaceholder(i,t)}}finishPlaceholder(t,i){let r=!!(t.expectedNode&&t.type==="Placeholder");return t.expectedNode=i,r?t:this.finishNode(t,"Placeholder")}getTokenFromCode(t){return t===37&&this.input.charCodeAt(this.state.pos+1)===37?this.finishOp(140,2):super.getTokenFromCode(t)}parseExprAtom(t){return this.parsePlaceholder("Expression")||super.parseExprAtom(t)}parseIdentifier(t){return this.parsePlaceholder("Identifier")||super.parseIdentifier(t)}checkReservedWord(t,i,r,s){t!==void 0&&super.checkReservedWord(t,i,r,s)}parseBindingAtom(){return this.parsePlaceholder("Pattern")||super.parseBindingAtom()}isValidLVal(t,i,r){return t==="Placeholder"||super.isValidLVal(t,i,r)}toAssignable(t,i){t&&t.type==="Placeholder"&&t.expectedNode==="Expression"?t.expectedNode="Pattern":super.toAssignable(t,i)}isLet(t){return super.isLet(t)?!0:!this.isContextual(99)||t?!1:this.lookahead().type===140}verifyBreakContinue(t,i){t.label&&t.label.type==="Placeholder"||super.verifyBreakContinue(t,i)}parseExpressionStatement(t,i){if(i.type!=="Placeholder"||i.extra&&i.extra.parenthesized)return super.parseExpressionStatement(t,i);if(this.match(14)){let r=t;return r.label=this.finishPlaceholder(i,"Identifier"),this.next(),r.body=super.parseStatement("label"),this.finishNode(r,"LabeledStatement")}return this.semicolon(),t.name=i.name,this.finishPlaceholder(t,"Statement")}parseBlock(t,i,r){return this.parsePlaceholder("BlockStatement")||super.parseBlock(t,i,r)}parseFunctionId(t){return this.parsePlaceholder("Identifier")||super.parseFunctionId(t)}parseClass(t,i,r){let s=i?"ClassDeclaration":"ClassExpression";this.next(),this.takeDecorators(t);let a=this.state.strict,o=this.parsePlaceholder("Identifier");if(o)if(this.match(81)||this.match(140)||this.match(5))t.id=o;else{if(r||!i)return t.id=null,t.body=this.finishPlaceholder(o,"ClassBody"),this.finishNode(t,s);throw this.raise(dN.ClassNameIsRequired,{at:this.state.startLoc})}else this.parseClassId(t,i,r);return super.parseClassSuper(t),t.body=this.parsePlaceholder("ClassBody")||super.parseClassBody(!!t.superClass,a),this.finishNode(t,s)}parseExport(t){let i=this.parsePlaceholder("Identifier");if(!i)return super.parseExport(t);if(!this.isContextual(97)&&!this.match(12))return t.specifiers=[],t.source=null,t.declaration=this.finishPlaceholder(i,"Declaration"),this.finishNode(t,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");let r=this.startNode();return r.exported=i,t.specifiers=[this.finishNode(r,"ExportDefaultSpecifier")],super.parseExport(t)}isExportDefaultSpecifier(){if(this.match(65)){let t=this.nextTokenStart();if(this.isUnparsedContextual(t,"from")&&this.input.startsWith(Cl(140),this.nextTokenStartSince(t+4)))return!0}return super.isExportDefaultSpecifier()}maybeParseExportDefaultSpecifier(t){return t.specifiers&&t.specifiers.length>0?!0:super.maybeParseExportDefaultSpecifier(t)}checkExport(t){let{specifiers:i}=t;i!=null&&i.length&&(t.specifiers=i.filter(r=>r.exported.type==="Placeholder")),super.checkExport(t),t.specifiers=i}parseImport(t){let i=this.parsePlaceholder("Identifier");if(!i)return super.parseImport(t);if(t.specifiers=[],!this.isContextual(97)&&!this.match(12))return t.source=this.finishPlaceholder(i,"StringLiteral"),this.semicolon(),this.finishNode(t,"ImportDeclaration");let r=this.startNodeAtNode(i);return r.local=i,t.specifiers.push(this.finishNode(r,"ImportDefaultSpecifier")),this.eat(12)&&(this.maybeParseStarImportSpecifier(t)||this.parseNamedImportSpecifiers(t)),this.expectContextual(97),t.source=this.parseImportSource(),this.semicolon(),this.finishNode(t,"ImportDeclaration")}parseImportSource(){return this.parsePlaceholder("StringLiteral")||super.parseImportSource()}assertNoSpace(){this.state.start>this.state.lastTokEndLoc.index&&this.raise(dN.UnexpectedSpace,{at:this.state.lastTokEndLoc})}},cJ=n=>class extends n{parseV8Intrinsic(){if(this.match(54)){let t=this.state.startLoc,i=this.startNode();if(this.next(),Ai(this.state.type)){let r=this.parseIdentifierName(this.state.start),s=this.createIdentifier(i,r);if(s.type="V8IntrinsicIdentifier",this.match(10))return s}this.unexpected(t)}}parseExprAtom(t){return this.parseV8Intrinsic()||super.parseExprAtom(t)}};function cr(n,e){let[t,i]=typeof e=="string"?[e,{}]:e,r=Object.keys(i),s=r.length===0;return n.some(a=>{if(typeof a=="string")return s&&a===t;{let[o,l]=a;if(o!==t)return!1;for(let c of r)if(l[c]!==i[c])return!1;return!0}})}function jd(n,e,t){let i=n.find(r=>Array.isArray(r)?r[0]===e:r===e);return i&&Array.isArray(i)?i[1][t]:null}var pN=["minimal","fsharp","hack","smart"],mN=["^^","@@","^","%","#"],gN=["hash","bar"];function uJ(n){if(cr(n,"decorators")){if(cr(n,"decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");let e=jd(n,"decorators","decoratorsBeforeExport");if(e==null)throw new Error("The 'decorators' plugin requires a 'decoratorsBeforeExport' option, whose value must be a boolean. If you are migrating from Babylon/Babel 6 or want to use the old decorators proposal, you should use the 'decorators-legacy' plugin instead of 'decorators'.");if(typeof e!="boolean")throw new Error("'decoratorsBeforeExport' must be a boolean.")}if(cr(n,"flow")&&cr(n,"typescript"))throw new Error("Cannot combine flow and typescript plugins.");if(cr(n,"placeholders")&&cr(n,"v8intrinsic"))throw new Error("Cannot combine placeholders and v8intrinsic plugins.");if(cr(n,"pipelineOperator")){let e=jd(n,"pipelineOperator","proposal");if(!pN.includes(e)){let i=pN.map(r=>`"${r}"`).join(", ");throw new Error(`"pipelineOperator" requires "proposal" option whose value must be one of: ${i}.`)}let t=cr(n,["recordAndTuple",{syntaxType:"hash"}]);if(e==="hack"){if(cr(n,"placeholders"))throw new Error("Cannot combine placeholders plugin and Hack-style pipes.");if(cr(n,"v8intrinsic"))throw new Error("Cannot combine v8intrinsic plugin and Hack-style pipes.");let i=jd(n,"pipelineOperator","topicToken");if(!mN.includes(i)){let r=mN.map(s=>`"${s}"`).join(", ");throw new Error(`"pipelineOperator" in "proposal": "hack" mode also requires a "topicToken" option whose value must be one of: ${r}.`)}if(i==="#"&&t)throw new Error('Plugin conflict between `["pipelineOperator", { proposal: "hack", topicToken: "#" }]` and `["recordAndtuple", { syntaxType: "hash"}]`.')}else if(e==="smart"&&t)throw new Error('Plugin conflict between `["pipelineOperator", { proposal: "smart" }]` and `["recordAndtuple", { syntaxType: "hash"}]`.')}if(cr(n,"moduleAttributes")){if(cr(n,"importAssertions"))throw new Error("Cannot combine importAssertions and moduleAttributes plugins.");if(jd(n,"moduleAttributes","version")!=="may-2020")throw new Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.")}if(cr(n,"recordAndTuple")&&!gN.includes(jd(n,"recordAndTuple","syntaxType")))throw new Error("'recordAndTuple' requires 'syntaxType' option whose value should be one of: "+gN.map(e=>`'${e}'`).join(", "));if(cr(n,"asyncDoExpressions")&&!cr(n,"doExpressions")){let e=new Error("'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.");throw e.missingPlugins="doExpressions",e}}var $N={estree:eK,jsx:tJ,flow:QK,typescript:aJ,v8intrinsic:cJ,placeholders:lJ},hJ=Object.keys($N),yN={sourceType:"script",sourceFilename:void 0,startColumn:0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,plugins:[],strictMode:null,ranges:!1,tokens:!1,createParenthesizedExpressions:!1,errorRecovery:!1,attachComment:!0};function fJ(n){let e={};for(let t of Object.keys(yN))e[t]=n&&n[t]!=null?n[t]:yN[t];return e}var dJ=(n,e)=>Object.hasOwnProperty.call(n,e)&&n[e],WN=n=>n.type==="ParenthesizedExpression"?WN(n.expression):n,C1=class extends w1{toAssignable(e,t=!1){var i,r;let s;switch((e.type==="ParenthesizedExpression"||(i=e.extra)!=null&&i.parenthesized)&&(s=WN(e),t?s.type==="Identifier"?this.expressionScope.recordArrowParemeterBindingError(oe.InvalidParenthesizedAssignment,{at:e}):s.type!=="MemberExpression"&&this.raise(oe.InvalidParenthesizedAssignment,{at:e}):this.raise(oe.InvalidParenthesizedAssignment,{at:e})),e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern";for(let o=0,l=e.properties.length,c=l-1;o<l;o++){var a;let u=e.properties[o],h=o===c;this.toAssignableObjectExpressionProp(u,h,t),h&&u.type==="RestElement"&&(a=e.extra)!=null&&a.trailingCommaLoc&&this.raise(oe.RestTrailingComma,{at:e.extra.trailingCommaLoc})}break;case"ObjectProperty":{let{key:o,value:l}=e;this.isPrivateName(o)&&this.classScope.usePrivateName(this.getPrivateNameSV(o),o.loc.start),this.toAssignable(l,t);break}case"SpreadElement":throw new Error("Internal @babel/parser error (this is a bug, please report it). SpreadElement should be converted by .toAssignable's caller.");case"ArrayExpression":e.type="ArrayPattern",this.toAssignableList(e.elements,(r=e.extra)==null?void 0:r.trailingCommaLoc,t);break;case"AssignmentExpression":e.operator!=="="&&this.raise(oe.MissingEqInAssignment,{at:e.left.loc.end}),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(s,t);break}}toAssignableObjectExpressionProp(e,t,i){if(e.type==="ObjectMethod")this.raise(e.kind==="get"||e.kind==="set"?oe.PatternHasAccessor:oe.PatternHasMethod,{at:e.key});else if(e.type==="SpreadElement"){e.type="RestElement";let r=e.argument;this.checkToRestConversion(r,!1),this.toAssignable(r,i),t||this.raise(oe.RestTrailingComma,{at:e})}else this.toAssignable(e,i)}toAssignableList(e,t,i){let r=e.length-1;for(let s=0;s<=r;s++){let a=e[s];if(a){if(a.type==="SpreadElement"){a.type="RestElement";let o=a.argument;this.checkToRestConversion(o,!0),this.toAssignable(o,i)}else this.toAssignable(a,i);a.type==="RestElement"&&(s<r?this.raise(oe.RestTrailingComma,{at:a}):t&&this.raise(oe.RestTrailingComma,{at:t}))}}}isAssignable(e,t){switch(e.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":return!0;case"ObjectExpression":{let i=e.properties.length-1;return e.properties.every((r,s)=>r.type!=="ObjectMethod"&&(s===i||r.type!=="SpreadElement")&&this.isAssignable(r))}case"ObjectProperty":return this.isAssignable(e.value);case"SpreadElement":return this.isAssignable(e.argument);case"ArrayExpression":return e.elements.every(i=>i===null||this.isAssignable(i));case"AssignmentExpression":return e.operator==="=";case"ParenthesizedExpression":return this.isAssignable(e.expression);case"MemberExpression":case"OptionalMemberExpression":return!t;default:return!1}}toReferencedList(e,t){return e}toReferencedListDeep(e,t){this.toReferencedList(e,t);for(let i of e)(i==null?void 0:i.type)==="ArrayExpression"&&this.toReferencedListDeep(i.elements)}parseSpread(e){let t=this.startNode();return this.next(),t.argument=this.parseMaybeAssignAllowIn(e,void 0),this.finishNode(t,"SpreadElement")}parseRestBinding(){let e=this.startNode();return this.next(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")}parseBindingAtom(){switch(this.state.type){case 0:{let e=this.startNode();return this.next(),e.elements=this.parseBindingList(3,93,!0),this.finishNode(e,"ArrayPattern")}case 5:return this.parseObjectLike(8,!0)}return this.parseIdentifier()}parseBindingList(e,t,i,r){let s=[],a=!0;for(;!this.eat(e);)if(a?a=!1:this.expect(12),i&&this.match(12))s.push(null);else{if(this.eat(e))break;if(this.match(21)){if(s.push(this.parseAssignableListItemTypes(this.parseRestBinding())),!this.checkCommaAfterRest(t)){this.expect(e);break}}else{let o=[];for(this.match(26)&&this.hasPlugin("decorators")&&this.raise(oe.UnsupportedParameterDecorator,{at:this.state.startLoc});this.match(26);)o.push(this.parseDecorator());s.push(this.parseAssignableListItem(r,o))}}return s}parseBindingRestProperty(e){return this.next(),e.argument=this.parseIdentifier(),this.checkCommaAfterRest(125),this.finishNode(e,"RestElement")}parseBindingProperty(){let e=this.startNode(),{type:t,start:i,startLoc:r}=this.state;return t===21?this.parseBindingRestProperty(e):(t===134?(this.expectPlugin("destructuringPrivate",r),this.classScope.usePrivateName(this.state.value,r),e.key=this.parsePrivateName()):this.parsePropertyName(e),e.method=!1,this.parseObjPropValue(e,i,r,!1,!1,!0,!1))}parseAssignableListItem(e,t){let i=this.parseMaybeDefault();this.parseAssignableListItemTypes(i);let r=this.parseMaybeDefault(i.start,i.loc.start,i);return t.length&&(i.decorators=t),r}parseAssignableListItemTypes(e){return e}parseMaybeDefault(e,t,i){var r,s,a;if(t=(r=t)!=null?r:this.state.startLoc,e=(s=e)!=null?s:this.state.start,i=(a=i)!=null?a:this.parseBindingAtom(),!this.eat(29))return i;let o=this.startNodeAt(e,t);return o.left=i,o.right=this.parseMaybeAssignAllowIn(),this.finishNode(o,"AssignmentPattern")}isValidLVal(e,t,i){return dJ({AssignmentPattern:"left",RestElement:"argument",ObjectProperty:"value",ParenthesizedExpression:"expression",ArrayPattern:"elements",ObjectPattern:"properties"},e)}checkLVal(e,{in:t,binding:i=Lc,checkClashes:r=!1,strictModeChanged:s=!1,allowingSloppyLetBinding:a=!(i&Pl),hasParenthesizedAncestor:o=!1}){var l;let c=e.type;if(this.isObjectMethod(e))return;if(c==="MemberExpression"){i!==Lc&&this.raise(oe.InvalidPropertyBindingPattern,{at:e});return}if(e.type==="Identifier"){this.checkIdentifier(e,i,s,a);let{name:v}=e;r&&(r.has(v)?this.raise(oe.ParamDupe,{at:e}):r.add(v));return}let u=this.isValidLVal(e.type,!(o||(l=e.extra)!=null&&l.parenthesized)&&t.type==="AssignmentExpression",i);if(u===!0)return;if(u===!1){let v=i===Lc?oe.InvalidLhs:oe.InvalidLhsBinding;this.raise(v,{at:e,ancestor:t.type==="UpdateExpression"?{type:"UpdateExpression",prefix:t.prefix}:{type:t.type}});return}let[h,d]=Array.isArray(u)?u:[u,c==="ParenthesizedExpression"],m=e.type==="ArrayPattern"||e.type==="ObjectPattern"||e.type==="ParenthesizedExpression"?e:t;for(let v of[].concat(e[h]))v&&this.checkLVal(v,{in:m,binding:i,checkClashes:r,allowingSloppyLetBinding:a,strictModeChanged:s,hasParenthesizedAncestor:d})}checkIdentifier(e,t,i=!1,r=!(t&Pl)){this.state.strict&&(i?MN(e.name,this.inModule):AN(e.name))&&(t===Lc?this.raise(oe.StrictEvalArguments,{at:e,referenceName:e.name}):this.raise(oe.StrictEvalArgumentsBinding,{at:e,bindingName:e.name})),!r&&e.name==="let"&&this.raise(oe.LetInLexicalBinding,{at:e}),t&Lc||this.declareNameFromIdentifier(e,t)}declareNameFromIdentifier(e,t){this.scope.declareName(e.name,t,e.loc.start)}checkToRestConversion(e,t){switch(e.type){case"ParenthesizedExpression":this.checkToRestConversion(e.expression,t);break;case"Identifier":case"MemberExpression":break;case"ArrayExpression":case"ObjectExpression":if(t)break;default:this.raise(oe.InvalidRestAssignmentPattern,{at:e})}}checkCommaAfterRest(e){return this.match(12)?(this.raise(this.lookaheadCharCode()===e?oe.RestTrailingComma:oe.ElementAfterRest,{at:this.state.startLoc}),!0):!1}},P1=class extends C1{checkProto(e,t,i,r){if(e.type==="SpreadElement"||this.isObjectMethod(e)||e.computed||e.shorthand)return;let s=e.key;if((s.type==="Identifier"?s.name:s.value)==="__proto__"){if(t){this.raise(oe.RecordNoProto,{at:s});return}i.used&&(r?r.doubleProtoLoc===null&&(r.doubleProtoLoc=s.loc.start):this.raise(oe.DuplicateProto,{at:s})),i.used=!0}}shouldExitDescending(e,t){return e.type==="ArrowFunctionExpression"&&e.start===t}getExpression(){this.enterInitialScopes(),this.nextToken();let e=this.parseExpression();return this.match(135)||this.unexpected(),this.finalizeRemainingComments(),e.comments=this.state.comments,e.errors=this.state.errors,this.options.tokens&&(e.tokens=this.tokens),e}parseExpression(e,t){return e?this.disallowInAnd(()=>this.parseExpressionBase(t)):this.allowInAnd(()=>this.parseExpressionBase(t))}parseExpressionBase(e){let t=this.state.start,i=this.state.startLoc,r=this.parseMaybeAssign(e);if(this.match(12)){let s=this.startNodeAt(t,i);for(s.expressions=[r];this.eat(12);)s.expressions.push(this.parseMaybeAssign(e));return this.toReferencedList(s.expressions),this.finishNode(s,"SequenceExpression")}return r}parseMaybeAssignDisallowIn(e,t){return this.disallowInAnd(()=>this.parseMaybeAssign(e,t))}parseMaybeAssignAllowIn(e,t){return this.allowInAnd(()=>this.parseMaybeAssign(e,t))}setOptionalParametersError(e,t){var i;e.optionalParametersLoc=(i=t==null?void 0:t.loc)!=null?i:this.state.startLoc}parseMaybeAssign(e,t){let i=this.state.start,r=this.state.startLoc;if(this.isContextual(105)&&this.prodParam.hasYield){let l=this.parseYield();return t&&(l=t.call(this,l,i,r)),l}let s;e?s=!1:(e=new Fh,s=!0);let{type:a}=this.state;(a===10||Ai(a))&&(this.state.potentialArrowAt=this.state.start);let o=this.parseMaybeConditional(e);if(t&&(o=t.call(this,o,i,r)),sK(this.state.type)){let l=this.startNodeAt(i,r),c=this.state.value;return l.operator=c,this.match(29)?(this.toAssignable(o,!0),l.left=o,e.doubleProtoLoc!=null&&e.doubleProtoLoc.index>=i&&(e.doubleProtoLoc=null),e.shorthandAssignLoc!=null&&e.shorthandAssignLoc.index>=i&&(e.shorthandAssignLoc=null),e.privateKeyLoc!=null&&e.privateKeyLoc.index>=i&&(this.checkDestructuringPrivate(e),e.privateKeyLoc=null)):l.left=o,this.next(),l.right=this.parseMaybeAssign(),this.checkLVal(o,{in:this.finishNode(l,"AssignmentExpression")}),l}else s&&this.checkExpressionErrors(e,!0);return o}parseMaybeConditional(e){let t=this.state.start,i=this.state.startLoc,r=this.state.potentialArrowAt,s=this.parseExprOps(e);return this.shouldExitDescending(s,r)?s:this.parseConditional(s,t,i,e)}parseConditional(e,t,i,r){if(this.eat(17)){let s=this.startNodeAt(t,i);return s.test=e,s.consequent=this.parseMaybeAssignAllowIn(),this.expect(14),s.alternate=this.parseMaybeAssign(),this.finishNode(s,"ConditionalExpression")}return e}parseMaybeUnaryOrPrivate(e){return this.match(134)?this.parsePrivateName():this.parseMaybeUnary(e)}parseExprOps(e){let t=this.state.start,i=this.state.startLoc,r=this.state.potentialArrowAt,s=this.parseMaybeUnaryOrPrivate(e);return this.shouldExitDescending(s,r)?s:this.parseExprOp(s,t,i,-1)}parseExprOp(e,t,i,r){if(this.isPrivateName(e)){let a=this.getPrivateNameSV(e);(r>=tv(58)||!this.prodParam.hasIn||!this.match(58))&&this.raise(oe.PrivateInExpectedIn,{at:e,identifierName:a}),this.classScope.usePrivateName(a,e.loc.start)}let s=this.state.type;if(oK(s)&&(this.prodParam.hasIn||!this.match(58))){let a=tv(s);if(a>r){if(s===39){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return e;this.checkPipelineAtInfixOperator(e,i)}let o=this.startNodeAt(t,i);o.left=e,o.operator=this.state.value;let l=s===41||s===42,c=s===40;if(c&&(a=tv(42)),this.next(),s===39&&this.hasPlugin(["pipelineOperator",{proposal:"minimal"}])&&this.state.type===96&&this.prodParam.hasAwait)throw this.raise(oe.UnexpectedAwaitAfterPipelineBody,{at:this.state.startLoc});o.right=this.parseExprOpRightExpr(s,a);let u=this.finishNode(o,l||c?"LogicalExpression":"BinaryExpression"),h=this.state.type;if(c&&(h===41||h===42)||l&&h===40)throw this.raise(oe.MixingCoalesceWithLogical,{at:this.state.startLoc});return this.parseExprOp(u,t,i,r)}}return e}parseExprOpRightExpr(e,t){let i=this.state.start,r=this.state.startLoc;switch(e){case 39:switch(this.getPluginOption("pipelineOperator","proposal")){case"hack":return this.withTopicBindingContext(()=>this.parseHackPipeBody());case"smart":return this.withTopicBindingContext(()=>{if(this.prodParam.hasYield&&this.isContextual(105))throw this.raise(oe.PipeBodyIsTighter,{at:this.state.startLoc});return this.parseSmartPipelineBodyInStyle(this.parseExprOpBaseRightExpr(e,t),i,r)});case"fsharp":return this.withSoloAwaitPermittingContext(()=>this.parseFSharpPipelineBody(t))}default:return this.parseExprOpBaseRightExpr(e,t)}}parseExprOpBaseRightExpr(e,t){let i=this.state.start,r=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnaryOrPrivate(),i,r,fK(e)?t-1:t)}parseHackPipeBody(){var e;let{startLoc:t}=this.state,i=this.parseMaybeAssign();return XY.has(i.type)&&!((e=i.extra)!=null&&e.parenthesized)&&this.raise(oe.PipeUnparenthesizedBody,{at:t,type:i.type}),this.topicReferenceWasUsedInCurrentContext()||this.raise(oe.PipeTopicUnused,{at:t}),i}checkExponentialAfterUnary(e){this.match(57)&&this.raise(oe.UnexpectedTokenUnaryExponentiation,{at:e.argument})}parseMaybeUnary(e,t){let i=this.state.start,r=this.state.startLoc,s=this.isContextual(96);if(s&&this.isAwaitAllowed()){this.next();let c=this.parseAwait(i,r);return t||this.checkExponentialAfterUnary(c),c}let a=this.match(34),o=this.startNode();if(cK(this.state.type)){o.operator=this.state.value,o.prefix=!0,this.match(72)&&this.expectPlugin("throwExpressions");let c=this.match(89);if(this.next(),o.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),this.state.strict&&c){let u=o.argument;u.type==="Identifier"?this.raise(oe.StrictDelete,{at:o}):this.hasPropertyAsPrivateName(u)&&this.raise(oe.DeletePrivateField,{at:o})}if(!a)return t||this.checkExponentialAfterUnary(o),this.finishNode(o,"UnaryExpression")}let l=this.parseUpdate(o,a,e);if(s){let{type:c}=this.state;if((this.hasPlugin("v8intrinsic")?o1(c):o1(c)&&!this.match(54))&&!this.isAmbiguousAwait())return this.raiseOverwrite(oe.AwaitNotInAsyncContext,{at:r}),this.parseAwait(i,r)}return l}parseUpdate(e,t,i){if(t){let o=e;return this.checkLVal(o.argument,{in:this.finishNode(o,"UpdateExpression")}),e}let r=this.state.start,s=this.state.startLoc,a=this.parseExprSubscripts(i);if(this.checkExpressionErrors(i,!1))return a;for(;lK(this.state.type)&&!this.canInsertSemicolon();){let o=this.startNodeAt(r,s);o.operator=this.state.value,o.prefix=!1,o.argument=a,this.next(),this.checkLVal(a,{in:a=this.finishNode(o,"UpdateExpression")})}return a}parseExprSubscripts(e){let t=this.state.start,i=this.state.startLoc,r=this.state.potentialArrowAt,s=this.parseExprAtom(e);return this.shouldExitDescending(s,r)?s:this.parseSubscripts(s,t,i)}parseSubscripts(e,t,i,r){let s={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(e),stop:!1};do e=this.parseSubscript(e,t,i,r,s),s.maybeAsyncArrow=!1;while(!s.stop);return e}parseSubscript(e,t,i,r,s){let{type:a}=this.state;if(!r&&a===15)return this.parseBind(e,t,i,r,s);if(ov(a))return this.parseTaggedTemplateExpression(e,t,i,s);let o=!1;if(a===18){if(r&&this.lookaheadCharCode()===40)return s.stop=!0,e;s.optionalChainMember=o=!0,this.next()}if(!r&&this.match(10))return this.parseCoverCallAndAsyncArrowHead(e,t,i,s,o);{let l=this.eat(0);return l||o||this.eat(16)?this.parseMember(e,t,i,s,l,o):(s.stop=!0,e)}}parseMember(e,t,i,r,s,a){let o=this.startNodeAt(t,i);return o.object=e,o.computed=s,s?(o.property=this.parseExpression(),this.expect(3)):this.match(134)?(e.type==="Super"&&this.raise(oe.SuperPrivateField,{at:i}),this.classScope.usePrivateName(this.state.value,this.state.startLoc),o.property=this.parsePrivateName()):o.property=this.parseIdentifier(!0),r.optionalChainMember?(o.optional=a,this.finishNode(o,"OptionalMemberExpression")):this.finishNode(o,"MemberExpression")}parseBind(e,t,i,r,s){let a=this.startNodeAt(t,i);return a.object=e,this.next(),a.callee=this.parseNoCallExpr(),s.stop=!0,this.parseSubscripts(this.finishNode(a,"BindExpression"),t,i,r)}parseCoverCallAndAsyncArrowHead(e,t,i,r,s){let a=this.state.maybeInArrowParameters,o=null;this.state.maybeInArrowParameters=!0,this.next();let l=this.startNodeAt(t,i);l.callee=e;let{maybeAsyncArrow:c,optionalChainMember:u}=r;c&&(this.expressionScope.enter(WK()),o=new Fh),u&&(l.optional=s),s?l.arguments=this.parseCallExpressionArguments(11):l.arguments=this.parseCallExpressionArguments(11,e.type==="Import",e.type!=="Super",l,o);let h=this.finishCallExpression(l,u);return c&&this.shouldParseAsyncArrow()&&!s?(r.stop=!0,this.checkDestructuringPrivate(o),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),h=this.parseAsyncArrowFromCallExpression(this.startNodeAt(t,i),h)):(c&&(this.checkExpressionErrors(o,!0),this.expressionScope.exit()),this.toReferencedArguments(h)),this.state.maybeInArrowParameters=a,h}toReferencedArguments(e,t){this.toReferencedListDeep(e.arguments,t)}parseTaggedTemplateExpression(e,t,i,r){let s=this.startNodeAt(t,i);return s.tag=e,s.quasi=this.parseTemplate(!0),r.optionalChainMember&&this.raise(oe.OptionalChainingNoTemplate,{at:i}),this.finishNode(s,"TaggedTemplateExpression")}atPossibleAsyncArrow(e){return e.type==="Identifier"&&e.name==="async"&&this.state.lastTokEndLoc.index===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&e.start===this.state.potentialArrowAt}finishCallExpression(e,t){if(e.callee.type==="Import")if(e.arguments.length===2&&(this.hasPlugin("moduleAttributes")||this.expectPlugin("importAssertions")),e.arguments.length===0||e.arguments.length>2)this.raise(oe.ImportCallArity,{at:e,maxArgumentCount:this.hasPlugin("importAssertions")||this.hasPlugin("moduleAttributes")?2:1});else for(let i of e.arguments)i.type==="SpreadElement"&&this.raise(oe.ImportCallSpreadArgument,{at:i});return this.finishNode(e,t?"OptionalCallExpression":"CallExpression")}parseCallExpressionArguments(e,t,i,r,s){let a=[],o=!0,l=this.state.inFSharpPipelineDirectBody;for(this.state.inFSharpPipelineDirectBody=!1;!this.eat(e);){if(o)o=!1;else if(this.expect(12),this.match(e)){t&&!this.hasPlugin("importAssertions")&&!this.hasPlugin("moduleAttributes")&&this.raise(oe.ImportCallArgumentTrailingComma,{at:this.state.lastTokStartLoc}),r&&this.addTrailingCommaExtraToNode(r),this.next();break}a.push(this.parseExprListItem(!1,s,i))}return this.state.inFSharpPipelineDirectBody=l,a}shouldParseAsyncArrow(){return this.match(19)&&!this.canInsertSemicolon()}parseAsyncArrowFromCallExpression(e,t){var i;return this.resetPreviousNodeTrailingComments(t),this.expect(19),this.parseArrowExpression(e,t.arguments,!0,(i=t.extra)==null?void 0:i.trailingCommaLoc),t.innerComments&&Zd(e,t.innerComments),t.callee.trailingComments&&Zd(e,t.callee.trailingComments),e}parseNoCallExpr(){let e=this.state.start,t=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),e,t,!0)}parseExprAtom(e){let t,{type:i}=this.state;switch(i){case 79:return this.parseSuper();case 83:return t=this.startNode(),this.next(),this.match(16)?this.parseImportMetaProperty(t):(this.match(10)||this.raise(oe.UnsupportedImport,{at:this.state.lastTokStartLoc}),this.finishNode(t,"Import"));case 78:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case 90:return this.parseDo(this.startNode(),!1);case 56:case 31:return this.readRegexp(),this.parseRegExpLiteral(this.state.value);case 130:return this.parseNumericLiteral(this.state.value);case 131:return this.parseBigIntLiteral(this.state.value);case 132:return this.parseDecimalLiteral(this.state.value);case 129:return this.parseStringLiteral(this.state.value);case 84:return this.parseNullLiteral();case 85:return this.parseBooleanLiteral(!0);case 86:return this.parseBooleanLiteral(!1);case 10:{let r=this.state.potentialArrowAt===this.state.start;return this.parseParenAndDistinguishExpression(r)}case 2:case 1:return this.parseArrayLike(this.state.type===2?4:3,!1,!0);case 0:return this.parseArrayLike(3,!0,!1,e);case 6:case 7:return this.parseObjectLike(this.state.type===6?9:8,!1,!0);case 5:return this.parseObjectLike(8,!1,!1,e);case 68:return this.parseFunctionOrFunctionSent();case 26:this.parseDecorators();case 80:return t=this.startNode(),this.takeDecorators(t),this.parseClass(t,!1);case 77:return this.parseNewOrNewTarget();case 25:case 24:return this.parseTemplate(!1);case 15:{t=this.startNode(),this.next(),t.object=null;let r=t.callee=this.parseNoCallExpr();if(r.type==="MemberExpression")return this.finishNode(t,"BindExpression");throw this.raise(oe.UnsupportedBind,{at:r})}case 134:return this.raise(oe.PrivateInExpectedIn,{at:this.state.startLoc,identifierName:this.state.value}),this.parsePrivateName();case 33:return this.parseTopicReferenceThenEqualsSign(54,"%");case 32:return this.parseTopicReferenceThenEqualsSign(44,"^");case 37:case 38:return this.parseTopicReference("hack");case 44:case 54:case 27:{let r=this.getPluginOption("pipelineOperator","proposal");if(r)return this.parseTopicReference(r);throw this.unexpected()}case 47:{let r=this.input.codePointAt(this.nextTokenStart());if(yo(r)||r===62){this.expectOnePlugin(["jsx","flow","typescript"]);break}else throw this.unexpected()}default:if(Ai(i)){if(this.isContextual(123)&&this.lookaheadCharCode()===123&&!this.hasFollowingLineBreak())return this.parseModuleExpression();let r=this.state.potentialArrowAt===this.state.start,s=this.state.containsEsc,a=this.parseIdentifier();if(!s&&a.name==="async"&&!this.canInsertSemicolon()){let{type:o}=this.state;if(o===68)return this.resetPreviousNodeTrailingComments(a),this.next(),this.parseFunction(this.startNodeAtNode(a),void 0,!0);if(Ai(o))return this.lookaheadCharCode()===61?this.parseAsyncArrowUnaryFunction(this.startNodeAtNode(a)):a;if(o===90)return this.resetPreviousNodeTrailingComments(a),this.parseDo(this.startNodeAtNode(a),!0)}return r&&this.match(19)&&!this.canInsertSemicolon()?(this.next(),this.parseArrowExpression(this.startNodeAtNode(a),[a],!1)):a}else throw this.unexpected()}}parseTopicReferenceThenEqualsSign(e,t){let i=this.getPluginOption("pipelineOperator","proposal");if(i)return this.state.type=e,this.state.value=t,this.state.pos--,this.state.end--,this.state.endLoc=es(this.state.endLoc,-1),this.parseTopicReference(i);throw this.unexpected()}parseTopicReference(e){let t=this.startNode(),i=this.state.startLoc,r=this.state.type;return this.next(),this.finishTopicReference(t,i,e,r)}finishTopicReference(e,t,i,r){if(this.testTopicReferenceConfiguration(i,t,r)){let s=i==="smart"?"PipelinePrimaryTopicReference":"TopicReference";return this.topicReferenceIsAllowedInCurrentContext()||this.raise(i==="smart"?oe.PrimaryTopicNotAllowed:oe.PipeTopicUnbound,{at:t}),this.registerTopicReference(),this.finishNode(e,s)}else throw this.raise(oe.PipeTopicUnconfiguredToken,{at:t,token:Cl(r)})}testTopicReferenceConfiguration(e,t,i){switch(e){case"hack":return this.hasPlugin(["pipelineOperator",{topicToken:Cl(i)}]);case"smart":return i===27;default:throw this.raise(oe.PipeTopicRequiresHackPipes,{at:t})}}parseAsyncArrowUnaryFunction(e){this.prodParam.enter(rv(!0,this.prodParam.hasYield));let t=[this.parseIdentifier()];return this.prodParam.exit(),this.hasPrecedingLineBreak()&&this.raise(oe.LineTerminatorBeforeArrow,{at:this.state.curPosition()}),this.expect(19),this.parseArrowExpression(e,t,!0)}parseDo(e,t){this.expectPlugin("doExpressions"),t&&this.expectPlugin("asyncDoExpressions"),e.async=t,this.next();let i=this.state.labels;return this.state.labels=[],t?(this.prodParam.enter(pv),e.body=this.parseBlock(),this.prodParam.exit()):e.body=this.parseBlock(),this.state.labels=i,this.finishNode(e,"DoExpression")}parseSuper(){let e=this.startNode();return this.next(),this.match(10)&&!this.scope.allowDirectSuper&&!this.options.allowSuperOutsideMethod?this.raise(oe.SuperNotAllowed,{at:e}):!this.scope.allowSuper&&!this.options.allowSuperOutsideMethod&&this.raise(oe.UnexpectedSuper,{at:e}),!this.match(10)&&!this.match(0)&&!this.match(16)&&this.raise(oe.UnsupportedSuper,{at:e}),this.finishNode(e,"Super")}parsePrivateName(){let e=this.startNode(),t=this.startNodeAt(this.state.start+1,new Aa(this.state.curLine,this.state.start+1-this.state.lineStart,this.state.start+1)),i=this.state.value;return this.next(),e.id=this.createIdentifier(t,i),this.finishNode(e,"PrivateName")}parseFunctionOrFunctionSent(){let e=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(16)){let t=this.createIdentifier(this.startNodeAtNode(e),"function");return this.next(),this.match(102)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected(),this.parseMetaProperty(e,t,"sent")}return this.parseFunction(e)}parseMetaProperty(e,t,i){e.meta=t;let r=this.state.containsEsc;return e.property=this.parseIdentifier(!0),(e.property.name!==i||r)&&this.raise(oe.UnsupportedMetaProperty,{at:e.property,target:t.name,onlyValidPropertyName:i}),this.finishNode(e,"MetaProperty")}parseImportMetaProperty(e){let t=this.createIdentifier(this.startNodeAtNode(e),"import");return this.next(),this.isContextual(100)&&(this.inModule||this.raise(oe.ImportMetaOutsideModule,{at:t}),this.sawUnambiguousESM=!0),this.parseMetaProperty(e,t,"meta")}parseLiteralAtNode(e,t,i){return this.addExtra(i,"rawValue",e),this.addExtra(i,"raw",this.input.slice(i.start,this.state.end)),i.value=e,this.next(),this.finishNode(i,t)}parseLiteral(e,t){let i=this.startNode();return this.parseLiteralAtNode(e,t,i)}parseStringLiteral(e){return this.parseLiteral(e,"StringLiteral")}parseNumericLiteral(e){return this.parseLiteral(e,"NumericLiteral")}parseBigIntLiteral(e){return this.parseLiteral(e,"BigIntLiteral")}parseDecimalLiteral(e){return this.parseLiteral(e,"DecimalLiteral")}parseRegExpLiteral(e){let t=this.parseLiteral(e.value,"RegExpLiteral");return t.pattern=e.pattern,t.flags=e.flags,t}parseBooleanLiteral(e){let t=this.startNode();return t.value=e,this.next(),this.finishNode(t,"BooleanLiteral")}parseNullLiteral(){let e=this.startNode();return this.next(),this.finishNode(e,"NullLiteral")}parseParenAndDistinguishExpression(e){let t=this.state.start,i=this.state.startLoc,r;this.next(),this.expressionScope.enter($K());let s=this.state.maybeInArrowParameters,a=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.inFSharpPipelineDirectBody=!1;let o=this.state.start,l=this.state.startLoc,c=[],u=new Fh,h=!0,d,m;for(;!this.match(11);){if(h)h=!1;else if(this.expect(12,u.optionalParametersLoc===null?null:u.optionalParametersLoc),this.match(11)){m=this.state.startLoc;break}if(this.match(21)){let g=this.state.start,y=this.state.startLoc;if(d=this.state.startLoc,c.push(this.parseParenItem(this.parseRestBinding(),g,y)),!this.checkCommaAfterRest(41))break}else c.push(this.parseMaybeAssignAllowIn(u,this.parseParenItem))}let v=this.state.lastTokEndLoc;this.expect(11),this.state.maybeInArrowParameters=s,this.state.inFSharpPipelineDirectBody=a;let _=this.startNodeAt(t,i);return e&&this.shouldParseArrow(c)&&(_=this.parseArrow(_))?(this.checkDestructuringPrivate(u),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),this.parseArrowExpression(_,c,!1),_):(this.expressionScope.exit(),c.length||this.unexpected(this.state.lastTokStartLoc),m&&this.unexpected(m),d&&this.unexpected(d),this.checkExpressionErrors(u,!0),this.toReferencedListDeep(c,!0),c.length>1?(r=this.startNodeAt(o,l),r.expressions=c,this.finishNode(r,"SequenceExpression"),this.resetEndLocation(r,v)):r=c[0],this.wrapParenthesis(t,i,r))}wrapParenthesis(e,t,i){if(!this.options.createParenthesizedExpressions)return this.addExtra(i,"parenthesized",!0),this.addExtra(i,"parenStart",e),this.takeSurroundingComments(i,e,this.state.lastTokEndLoc.index),i;let r=this.startNodeAt(e,t);return r.expression=i,this.finishNode(r,"ParenthesizedExpression")}shouldParseArrow(e){return!this.canInsertSemicolon()}parseArrow(e){if(this.eat(19))return e}parseParenItem(e,t,i){return e}parseNewOrNewTarget(){let e=this.startNode();if(this.next(),this.match(16)){let t=this.createIdentifier(this.startNodeAtNode(e),"new");this.next();let i=this.parseMetaProperty(e,t,"target");return!this.scope.inNonArrowFunction&&!this.scope.inClass&&this.raise(oe.UnexpectedNewTarget,{at:i}),i}return this.parseNew(e)}parseNew(e){if(this.parseNewCallee(e),this.eat(10)){let t=this.parseExprList(11);this.toReferencedList(t),e.arguments=t}else e.arguments=[];return this.finishNode(e,"NewExpression")}parseNewCallee(e){e.callee=this.parseNoCallExpr(),e.callee.type==="Import"?this.raise(oe.ImportCallNotNewExpression,{at:e.callee}):this.isOptionalChain(e.callee)?this.raise(oe.OptionalChainingNoNew,{at:this.state.lastTokEndLoc}):this.eat(18)&&this.raise(oe.OptionalChainingNoNew,{at:this.state.startLoc})}parseTemplateElement(e){let{start:t,startLoc:i,end:r,value:s}=this.state,a=t+1,o=this.startNodeAt(a,es(i,1));s===null&&(e||this.raise(oe.InvalidEscapeSequenceTemplate,{at:es(i,2)}));let l=this.match(24),c=l?-1:-2,u=r+c;o.value={raw:this.input.slice(a,u).replace(/\r\n?/g,`
`),cooked:s===null?null:s.slice(1,c)},o.tail=l,this.next();let h=this.finishNode(o,"TemplateElement");return this.resetEndLocation(h,es(this.state.lastTokEndLoc,c)),h}parseTemplate(e){let t=this.startNode();t.expressions=[];let i=this.parseTemplateElement(e);for(t.quasis=[i];!i.tail;)t.expressions.push(this.parseTemplateSubstitution()),this.readTemplateContinuation(),t.quasis.push(i=this.parseTemplateElement(e));return this.finishNode(t,"TemplateLiteral")}parseTemplateSubstitution(){return this.parseExpression()}parseObjectLike(e,t,i,r){i&&this.expectPlugin("recordAndTuple");let s=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let a=Object.create(null),o=!0,l=this.startNode();for(l.properties=[],this.next();!this.match(e);){if(o)o=!1;else if(this.expect(12),this.match(e)){this.addTrailingCommaExtraToNode(l);break}let u;t?u=this.parseBindingProperty():(u=this.parsePropertyDefinition(r),this.checkProto(u,i,a,r)),i&&!this.isObjectProperty(u)&&u.type!=="SpreadElement"&&this.raise(oe.InvalidRecordProperty,{at:u}),u.shorthand&&this.addExtra(u,"shorthand",!0),l.properties.push(u)}this.next(),this.state.inFSharpPipelineDirectBody=s;let c="ObjectExpression";return t?c="ObjectPattern":i&&(c="RecordExpression"),this.finishNode(l,c)}addTrailingCommaExtraToNode(e){this.addExtra(e,"trailingComma",this.state.lastTokStart),this.addExtra(e,"trailingCommaLoc",this.state.lastTokStartLoc,!1)}maybeAsyncOrAccessorProp(e){return!e.computed&&e.key.type==="Identifier"&&(this.isLiteralPropertyName()||this.match(0)||this.match(55))}parsePropertyDefinition(e){let t=[];if(this.match(26))for(this.hasPlugin("decorators")&&this.raise(oe.UnsupportedPropertyDecorator,{at:this.state.startLoc});this.match(26);)t.push(this.parseDecorator());let i=this.startNode(),r=!1,s=!1,a,o;if(this.match(21))return t.length&&this.unexpected(),this.parseSpread();t.length&&(i.decorators=t,t=[]),i.method=!1,e&&(a=this.state.start,o=this.state.startLoc);let l=this.eat(55);this.parsePropertyNamePrefixOperator(i);let c=this.state.containsEsc,u=this.parsePropertyName(i,e);if(!l&&!c&&this.maybeAsyncOrAccessorProp(i)){let h=u.name;h==="async"&&!this.hasPrecedingLineBreak()&&(r=!0,this.resetPreviousNodeTrailingComments(u),l=this.eat(55),this.parsePropertyName(i)),(h==="get"||h==="set")&&(s=!0,this.resetPreviousNodeTrailingComments(u),i.kind=h,this.match(55)&&(l=!0,this.raise(oe.AccessorIsGenerator,{at:this.state.curPosition(),kind:h}),this.next()),this.parsePropertyName(i))}return this.parseObjPropValue(i,a,o,l,r,!1,s,e)}getGetterSetterExpectedParamCount(e){return e.kind==="get"?0:1}getObjectOrClassMethodParams(e){return e.params}checkGetterSetterParams(e){var t;let i=this.getGetterSetterExpectedParamCount(e),r=this.getObjectOrClassMethodParams(e);r.length!==i&&this.raise(e.kind==="get"?oe.BadGetterArity:oe.BadSetterArity,{at:e}),e.kind==="set"&&((t=r[r.length-1])==null?void 0:t.type)==="RestElement"&&this.raise(oe.BadSetterRestParameter,{at:e})}parseObjectMethod(e,t,i,r,s){if(s){let a=this.parseMethod(e,t,!1,!1,!1,"ObjectMethod");return this.checkGetterSetterParams(a),a}if(i||t||this.match(10))return r&&this.unexpected(),e.kind="method",e.method=!0,this.parseMethod(e,t,i,!1,!1,"ObjectMethod")}parseObjectProperty(e,t,i,r,s){if(e.shorthand=!1,this.eat(14))return e.value=r?this.parseMaybeDefault(this.state.start,this.state.startLoc):this.parseMaybeAssignAllowIn(s),this.finishNode(e,"ObjectProperty");if(!e.computed&&e.key.type==="Identifier"){if(this.checkReservedWord(e.key.name,e.key.loc.start,!0,!1),r)e.value=this.parseMaybeDefault(t,i,Eo(e.key));else if(this.match(29)){let a=this.state.startLoc;s!=null?s.shorthandAssignLoc===null&&(s.shorthandAssignLoc=a):this.raise(oe.InvalidCoverInitializedName,{at:a}),e.value=this.parseMaybeDefault(t,i,Eo(e.key))}else e.value=Eo(e.key);return e.shorthand=!0,this.finishNode(e,"ObjectProperty")}}parseObjPropValue(e,t,i,r,s,a,o,l){let c=this.parseObjectMethod(e,r,s,a,o)||this.parseObjectProperty(e,t,i,a,l);return c||this.unexpected(),c}parsePropertyName(e,t){if(this.eat(0))e.computed=!0,e.key=this.parseMaybeAssignAllowIn(),this.expect(3);else{let{type:i,value:r}=this.state,s;if(bo(i))s=this.parseIdentifier(!0);else switch(i){case 130:s=this.parseNumericLiteral(r);break;case 129:s=this.parseStringLiteral(r);break;case 131:s=this.parseBigIntLiteral(r);break;case 132:s=this.parseDecimalLiteral(r);break;case 134:{let a=this.state.startLoc;t!=null?t.privateKeyLoc===null&&(t.privateKeyLoc=a):this.raise(oe.UnexpectedPrivateField,{at:a}),s=this.parsePrivateName();break}default:throw this.unexpected()}e.key=s,i!==134&&(e.computed=!1)}return e.key}initFunction(e,t){e.id=null,e.generator=!1,e.async=!!t}parseMethod(e,t,i,r,s,a,o=!1){this.initFunction(e,i),e.generator=!!t;let l=r;this.scope.enter(_o|lv|(o?Nc:0)|(s?PN:0)),this.prodParam.enter(rv(i,e.generator)),this.parseFunctionParams(e,l);let c=this.parseFunctionBodyAndFinish(e,a,!0);return this.prodParam.exit(),this.scope.exit(),c}parseArrayLike(e,t,i,r){i&&this.expectPlugin("recordAndTuple");let s=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let a=this.startNode();return this.next(),a.elements=this.parseExprList(e,!i,r,a),this.state.inFSharpPipelineDirectBody=s,this.finishNode(a,i?"TupleExpression":"ArrayExpression")}parseArrowExpression(e,t,i,r){this.scope.enter(_o|z1);let s=rv(i,!1);!this.match(5)&&this.prodParam.hasIn&&(s|=Rh),this.prodParam.enter(s),this.initFunction(e,i);let a=this.state.maybeInArrowParameters;return t&&(this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(e,t,r)),this.state.maybeInArrowParameters=!1,this.parseFunctionBody(e,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=a,this.finishNode(e,"ArrowFunctionExpression")}setArrowFunctionParameters(e,t,i){this.toAssignableList(t,i,!1),e.params=t}parseFunctionBodyAndFinish(e,t,i=!1){return this.parseFunctionBody(e,!1,i),this.finishNode(e,t)}parseFunctionBody(e,t,i=!1){let r=t&&!this.match(5);if(this.expressionScope.enter(zN()),r)e.body=this.parseMaybeAssign(),this.checkParams(e,!1,t,!1);else{let s=this.state.strict,a=this.state.labels;this.state.labels=[],this.prodParam.enter(this.prodParam.currentFlags()|HN),e.body=this.parseBlock(!0,!1,o=>{let l=!this.isSimpleParamList(e.params);o&&l&&this.raise(oe.IllegalLanguageModeDirective,{at:(e.kind==="method"||e.kind==="constructor")&&e.key?e.key.loc.end:e});let c=!s&&this.state.strict;this.checkParams(e,!this.state.strict&&!t&&!i&&!l,t,c),this.state.strict&&e.id&&this.checkIdentifier(e.id,wK,c)}),this.prodParam.exit(),this.state.labels=a}this.expressionScope.exit()}isSimpleParameter(e){return e.type==="Identifier"}isSimpleParamList(e){for(let t=0,i=e.length;t<i;t++)if(!this.isSimpleParameter(e[t]))return!1;return!0}checkParams(e,t,i,r=!0){let s=!t&&new Set,a={type:"FormalParameters"};for(let o of e.params)this.checkLVal(o,{in:a,binding:uv,checkClashes:s,strictModeChanged:r})}parseExprList(e,t,i,r){let s=[],a=!0;for(;!this.eat(e);){if(a)a=!1;else if(this.expect(12),this.match(e)){r&&this.addTrailingCommaExtraToNode(r),this.next();break}s.push(this.parseExprListItem(t,i))}return s}parseExprListItem(e,t,i){let r;if(this.match(12))e||this.raise(oe.UnexpectedToken,{at:this.state.curPosition(),unexpected:","}),r=null;else if(this.match(21)){let s=this.state.start,a=this.state.startLoc;r=this.parseParenItem(this.parseSpread(t),s,a)}else if(this.match(17)){this.expectPlugin("partialApplication"),i||this.raise(oe.UnexpectedArgumentPlaceholder,{at:this.state.startLoc});let s=this.startNode();this.next(),r=this.finishNode(s,"ArgumentPlaceholder")}else r=this.parseMaybeAssignAllowIn(t,this.parseParenItem);return r}parseIdentifier(e){let t=this.startNode(),i=this.parseIdentifierName(t.start,e);return this.createIdentifier(t,i)}createIdentifier(e,t){return e.name=t,e.loc.identifierName=t,this.finishNode(e,"Identifier")}parseIdentifierName(e,t){let i,{startLoc:r,type:s}=this.state;if(bo(s))i=this.state.value;else throw this.unexpected();let a=nK(s);return t?a&&this.replaceToken(128):this.checkReservedWord(i,r,a,!1),this.next(),i}checkReservedWord(e,t,i,r){if(e.length>10||!EK(e))return;if(e==="yield"){if(this.prodParam.hasYield){this.raise(oe.YieldBindingIdentifier,{at:t});return}}else if(e==="await"){if(this.prodParam.hasAwait){this.raise(oe.AwaitBindingIdentifier,{at:t});return}if(this.scope.inStaticBlock){this.raise(oe.AwaitBindingIdentifierInStaticBlock,{at:t});return}this.expressionScope.recordAsyncArrowParametersError({at:t})}else if(e==="arguments"&&this.scope.inClassAndNotInNonArrowFunction){this.raise(oe.ArgumentsInClass,{at:t});return}if(i&&_K(e)){this.raise(oe.UnexpectedKeyword,{at:t,keyword:e});return}(this.state.strict?r?MN:wN:TN)(e,this.inModule)&&this.raise(oe.UnexpectedReservedWord,{at:t,reservedWord:e})}isAwaitAllowed(){return!!(this.prodParam.hasAwait||this.options.allowAwaitOutsideFunction&&!this.scope.inFunction)}parseAwait(e,t){let i=this.startNodeAt(e,t);return this.expressionScope.recordParameterInitializerError(oe.AwaitExpressionFormalParameter,{at:i}),this.eat(55)&&this.raise(oe.ObsoleteAwaitStar,{at:i}),!this.scope.inFunction&&!this.options.allowAwaitOutsideFunction&&(this.isAmbiguousAwait()?this.ambiguousScriptDifferentAst=!0:this.sawUnambiguousESM=!0),this.state.soloAwait||(i.argument=this.parseMaybeUnary(null,!0)),this.finishNode(i,"AwaitExpression")}isAmbiguousAwait(){if(this.hasPrecedingLineBreak())return!0;let{type:e}=this.state;return e===53||e===10||e===0||ov(e)||e===133||e===56||this.hasPlugin("v8intrinsic")&&e===54}parseYield(){let e=this.startNode();this.expressionScope.recordParameterInitializerError(oe.YieldInParameter,{at:e}),this.next();let t=!1,i=null;if(!this.hasPrecedingLineBreak())switch(t=this.eat(55),this.state.type){case 13:case 135:case 8:case 11:case 3:case 9:case 14:case 12:if(!t)break;default:i=this.parseMaybeAssign()}return e.delegate=t,e.argument=i,this.finishNode(e,"YieldExpression")}checkPipelineAtInfixOperator(e,t){this.hasPlugin(["pipelineOperator",{proposal:"smart"}])&&e.type==="SequenceExpression"&&this.raise(oe.PipelineHeadSequenceExpression,{at:t})}parseSmartPipelineBodyInStyle(e,t,i){if(this.isSimpleReference(e)){let r=this.startNodeAt(t,i);return r.callee=e,this.finishNode(r,"PipelineBareFunction")}else{let r=this.startNodeAt(t,i);return this.checkSmartPipeTopicBodyEarlyErrors(i),r.expression=e,this.finishNode(r,"PipelineTopicExpression")}}isSimpleReference(e){switch(e.type){case"MemberExpression":return!e.computed&&this.isSimpleReference(e.object);case"Identifier":return!0;default:return!1}}checkSmartPipeTopicBodyEarlyErrors(e){if(this.match(19))throw this.raise(oe.PipelineBodyNoArrow,{at:this.state.startLoc});this.topicReferenceWasUsedInCurrentContext()||this.raise(oe.PipelineTopicUnused,{at:e})}withTopicBindingContext(e){let t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=t}}withSmartMixTopicForbiddingContext(e){if(this.hasPlugin(["pipelineOperator",{proposal:"smart"}])){let t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return e()}finally{this.state.topicContext=t}}else return e()}withSoloAwaitPermittingContext(e){let t=this.state.soloAwait;this.state.soloAwait=!0;try{return e()}finally{this.state.soloAwait=t}}allowInAnd(e){let t=this.prodParam.currentFlags();if(Rh&~t){this.prodParam.enter(t|Rh);try{return e()}finally{this.prodParam.exit()}}return e()}disallowInAnd(e){let t=this.prodParam.currentFlags();if(Rh&t){this.prodParam.enter(t&~Rh);try{return e()}finally{this.prodParam.exit()}}return e()}registerTopicReference(){this.state.topicContext.maxTopicIndex=0}topicReferenceIsAllowedInCurrentContext(){return this.state.topicContext.maxNumOfResolvableTopics>=1}topicReferenceWasUsedInCurrentContext(){return this.state.topicContext.maxTopicIndex!=null&&this.state.topicContext.maxTopicIndex>=0}parseFSharpPipelineBody(e){let t=this.state.start,i=this.state.startLoc;this.state.potentialArrowAt=this.state.start;let r=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;let s=this.parseExprOp(this.parseMaybeUnaryOrPrivate(),t,i,e);return this.state.inFSharpPipelineDirectBody=r,s}parseModuleExpression(){this.expectPlugin("moduleBlocks");let e=this.startNode();this.next(),this.eat(5);let t=this.initializeScopes(!0);this.enterInitialScopes();let i=this.startNode();try{e.body=this.parseProgram(i,8,"module")}finally{t()}return this.eat(8),this.finishNode(e,"ModuleExpression")}parsePropertyNamePrefixOperator(e){}},i1={kind:"loop"},pJ={kind:"switch"},mJ=0,n1=1,vN=2,_N=4,gJ=/[\uD800-\uDFFF]/u,r1=/in(?:stanceof)?/y;function yJ(n,e){for(let t=0;t<n.length;t++){let i=n[t],{type:r}=i;if(typeof r=="number"){{if(r===134){let{loc:s,start:a,value:o,end:l}=i,c=a+1,u=es(s.start,1);n.splice(t,1,new wa({type:mo(27),value:"#",start:a,end:c,startLoc:s.start,endLoc:u}),new wa({type:mo(128),value:o,start:c,end:l,startLoc:u,endLoc:s.end})),t++;continue}if(ov(r)){let{loc:s,start:a,value:o,end:l}=i,c=a+1,u=es(s.start,1),h;e.charCodeAt(a)===96?h=new wa({type:mo(22),value:"`",start:a,end:c,startLoc:s.start,endLoc:u}):h=new wa({type:mo(8),value:"}",start:a,end:c,startLoc:s.start,endLoc:u});let d,m,v,_;r===24?(m=l-1,v=es(s.end,-1),d=o===null?null:o.slice(1,-1),_=new wa({type:mo(22),value:"`",start:m,end:l,startLoc:v,endLoc:s.end})):(m=l-2,v=es(s.end,-2),d=o===null?null:o.slice(1,-2),_=new wa({type:mo(23),value:"${",start:m,end:l,startLoc:v,endLoc:s.end})),n.splice(t,1,h,new wa({type:mo(20),value:d,start:c,end:m,startLoc:u,endLoc:v}),_),t+=2;continue}}i.type=mo(r)}}return n}var I1=class extends P1{parseTopLevel(e,t){return e.program=this.parseProgram(t),e.comments=this.state.comments,this.options.tokens&&(e.tokens=yJ(this.tokens,this.input)),this.finishNode(e,"File")}parseProgram(e,t=135,i=this.options.sourceType){if(e.sourceType=i,e.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(e,!0,!0,t),this.inModule&&!this.options.allowUndeclaredExports&&this.scope.undefinedExports.size>0)for(let[r,s]of Array.from(this.scope.undefinedExports))this.raise(oe.ModuleExportUndefined,{at:s,localName:r});return this.finishNode(e,"Program")}stmtToDirective(e){let t=e;t.type="Directive",t.value=t.expression,delete t.expression;let i=t.value,r=i.value,s=this.input.slice(i.start,i.end),a=i.value=s.slice(1,-1);return this.addExtra(i,"raw",s),this.addExtra(i,"rawValue",a),this.addExtra(i,"expressionValue",r),i.type="DirectiveLiteral",t}parseInterpreterDirective(){if(!this.match(28))return null;let e=this.startNode();return e.value=this.state.value,this.next(),this.finishNode(e,"InterpreterDirective")}isLet(e){return this.isContextual(99)?this.isLetKeyword(e):!1}isLetKeyword(e){let t=this.nextTokenStart(),i=this.codePointAtPos(t);if(i===92||i===91)return!0;if(e)return!1;if(i===123)return!0;if(yo(i)){if(r1.lastIndex=t,r1.test(this.input)){let r=this.codePointAtPos(r1.lastIndex);if(!Nh(r)&&r!==92)return!1}return!0}return!1}parseStatement(e,t){return this.match(26)&&this.parseDecorators(!0),this.parseStatementContent(e,t)}parseStatementContent(e,t){let i=this.state.type,r=this.startNode(),s;switch(this.isLet(e)&&(i=74,s="let"),i){case 60:return this.parseBreakContinueStatement(r,!0);case 63:return this.parseBreakContinueStatement(r,!1);case 64:return this.parseDebuggerStatement(r);case 90:return this.parseDoStatement(r);case 91:return this.parseForStatement(r);case 68:if(this.lookaheadCharCode()===46)break;return e&&(this.state.strict?this.raise(oe.StrictFunction,{at:this.state.startLoc}):e!=="if"&&e!=="label"&&this.raise(oe.SloppyFunction,{at:this.state.startLoc})),this.parseFunctionStatement(r,!1,!e);case 80:return e&&this.unexpected(),this.parseClass(r,!0);case 69:return this.parseIfStatement(r);case 70:return this.parseReturnStatement(r);case 71:return this.parseSwitchStatement(r);case 72:return this.parseThrowStatement(r);case 73:return this.parseTryStatement(r);case 75:case 74:return s=s||this.state.value,e&&s!=="var"&&this.raise(oe.UnexpectedLexicalDeclaration,{at:this.state.startLoc}),this.parseVarStatement(r,s);case 92:return this.parseWhileStatement(r);case 76:return this.parseWithStatement(r);case 5:return this.parseBlock();case 13:return this.parseEmptyStatement(r);case 83:{let l=this.lookaheadCharCode();if(l===40||l===46)break}case 82:{!this.options.allowImportExportEverywhere&&!t&&this.raise(oe.UnexpectedImportExport,{at:this.state.startLoc}),this.next();let l;return i===83?(l=this.parseImport(r),l.type==="ImportDeclaration"&&(!l.importKind||l.importKind==="value")&&(this.sawUnambiguousESM=!0)):(l=this.parseExport(r),(l.type==="ExportNamedDeclaration"&&(!l.exportKind||l.exportKind==="value")||l.type==="ExportAllDeclaration"&&(!l.exportKind||l.exportKind==="value")||l.type==="ExportDefaultDeclaration")&&(this.sawUnambiguousESM=!0)),this.assertModuleNodeAllowed(l),l}default:if(this.isAsyncFunction())return e&&this.raise(oe.AsyncFunctionInSingleStatementContext,{at:this.state.startLoc}),this.next(),this.parseFunctionStatement(r,!0,!e)}let a=this.state.value,o=this.parseExpression();return Ai(i)&&o.type==="Identifier"&&this.eat(14)?this.parseLabeledStatement(r,a,o,e):this.parseExpressionStatement(r,o)}assertModuleNodeAllowed(e){!this.options.allowImportExportEverywhere&&!this.inModule&&this.raise(oe.ImportOutsideModule,{at:e})}takeDecorators(e){let t=this.state.decoratorStack[this.state.decoratorStack.length-1];t.length&&(e.decorators=t,this.resetStartLocationFromNode(e,t[0]),this.state.decoratorStack[this.state.decoratorStack.length-1]=[])}canHaveLeadingDecorator(){return this.match(80)}parseDecorators(e){let t=this.state.decoratorStack[this.state.decoratorStack.length-1];for(;this.match(26);){let i=this.parseDecorator();t.push(i)}if(this.match(82))e||this.unexpected(),this.hasPlugin("decorators")&&!this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(oe.DecoratorExportClass,{at:this.state.startLoc});else if(!this.canHaveLeadingDecorator())throw this.raise(oe.UnexpectedLeadingDecorator,{at:this.state.startLoc})}parseDecorator(){this.expectOnePlugin(["decorators","decorators-legacy"]);let e=this.startNode();if(this.next(),this.hasPlugin("decorators")){this.state.decoratorStack.push([]);let t=this.state.start,i=this.state.startLoc,r;if(this.match(10)){let s=this.state.start,a=this.state.startLoc;this.next(),r=this.parseExpression(),this.expect(11),r=this.wrapParenthesis(s,a,r)}else for(r=this.parseIdentifier(!1);this.eat(16);){let s=this.startNodeAt(t,i);s.object=r,s.property=this.parseIdentifier(!0),s.computed=!1,r=this.finishNode(s,"MemberExpression")}e.expression=this.parseMaybeDecoratorArguments(r),this.state.decoratorStack.pop()}else e.expression=this.parseExprSubscripts();return this.finishNode(e,"Decorator")}parseMaybeDecoratorArguments(e){if(this.eat(10)){let t=this.startNodeAtNode(e);return t.callee=e,t.arguments=this.parseCallExpressionArguments(11,!1),this.toReferencedList(t.arguments),this.finishNode(t,"CallExpression")}return e}parseBreakContinueStatement(e,t){return this.next(),this.isLineTerminator()?e.label=null:(e.label=this.parseIdentifier(),this.semicolon()),this.verifyBreakContinue(e,t),this.finishNode(e,t?"BreakStatement":"ContinueStatement")}verifyBreakContinue(e,t){let i;for(i=0;i<this.state.labels.length;++i){let r=this.state.labels[i];if((e.label==null||r.name===e.label.name)&&(r.kind!=null&&(t||r.kind==="loop")||e.label&&t))break}if(i===this.state.labels.length){let r=t?"BreakStatement":"ContinueStatement";this.raise(oe.IllegalBreakContinue,{at:e,type:r})}}parseDebuggerStatement(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")}parseHeaderExpression(){this.expect(10);let e=this.parseExpression();return this.expect(11),e}parseDoStatement(e){return this.next(),this.state.labels.push(i1),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement("do")),this.state.labels.pop(),this.expect(92),e.test=this.parseHeaderExpression(),this.eat(13),this.finishNode(e,"DoWhileStatement")}parseForStatement(e){this.next(),this.state.labels.push(i1);let t=null;if(this.isAwaitAllowed()&&this.eatContextual(96)&&(t=this.state.lastTokStartLoc),this.scope.enter(Lh),this.expect(10),this.match(13))return t!==null&&this.unexpected(t),this.parseFor(e,null);let i=this.isContextual(99),r=i&&this.isLetKeyword();if(this.match(74)||this.match(75)||r){let c=this.startNode(),u=r?"let":this.state.value;this.next(),this.parseVar(c,!0,u);let h=this.finishNode(c,"VariableDeclaration");return(this.match(58)||this.isContextual(101))&&h.declarations.length===1?this.parseForIn(e,h,t):(t!==null&&this.unexpected(t),this.parseFor(e,h))}let s=this.isContextual(95),a=new Fh,o=this.parseExpression(!0,a),l=this.isContextual(101);if(l&&(i&&this.raise(oe.ForOfLet,{at:o}),t===null&&s&&o.type==="Identifier"&&this.raise(oe.ForOfAsync,{at:o})),l||this.match(58)){this.checkDestructuringPrivate(a),this.toAssignable(o,!0);let c=l?"ForOfStatement":"ForInStatement";return this.checkLVal(o,{in:{type:c}}),this.parseForIn(e,o,t)}else this.checkExpressionErrors(a,!0);return t!==null&&this.unexpected(t),this.parseFor(e,o)}parseFunctionStatement(e,t,i){return this.next(),this.parseFunction(e,n1|(i?0:vN),t)}parseIfStatement(e){return this.next(),e.test=this.parseHeaderExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(66)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")}parseReturnStatement(e){return!this.prodParam.hasReturn&&!this.options.allowReturnOutsideFunction&&this.raise(oe.IllegalReturn,{at:this.state.startLoc}),this.next(),this.isLineTerminator()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")}parseSwitchStatement(e){this.next(),e.discriminant=this.parseHeaderExpression();let t=e.cases=[];this.expect(5),this.state.labels.push(pJ),this.scope.enter(Lh);let i;for(let r;!this.match(8);)if(this.match(61)||this.match(65)){let s=this.match(61);i&&this.finishNode(i,"SwitchCase"),t.push(i=this.startNode()),i.consequent=[],this.next(),s?i.test=this.parseExpression():(r&&this.raise(oe.MultipleDefaultsInSwitch,{at:this.state.lastTokStartLoc}),r=!0,i.test=null),this.expect(14)}else i?i.consequent.push(this.parseStatement(null)):this.unexpected();return this.scope.exit(),i&&this.finishNode(i,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(e,"SwitchStatement")}parseThrowStatement(e){return this.next(),this.hasPrecedingLineBreak()&&this.raise(oe.NewlineAfterThrow,{at:this.state.lastTokEndLoc}),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")}parseCatchClauseParam(){let e=this.parseBindingAtom(),t=e.type==="Identifier";return this.scope.enter(t?CN:0),this.checkLVal(e,{in:{type:"CatchClause"},binding:xo,allowingSloppyLetBinding:!0}),e}parseTryStatement(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.match(62)){let t=this.startNode();this.next(),this.match(10)?(this.expect(10),t.param=this.parseCatchClauseParam(),this.expect(11)):(t.param=null,this.scope.enter(Lh)),t.body=this.withSmartMixTopicForbiddingContext(()=>this.parseBlock(!1,!1)),this.scope.exit(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(67)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(oe.NoCatchOrFinally,{at:e}),this.finishNode(e,"TryStatement")}parseVarStatement(e,t,i=!1){return this.next(),this.parseVar(e,!1,t,i),this.semicolon(),this.finishNode(e,"VariableDeclaration")}parseWhileStatement(e){return this.next(),e.test=this.parseHeaderExpression(),this.state.labels.push(i1),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement("while")),this.state.labels.pop(),this.finishNode(e,"WhileStatement")}parseWithStatement(e){return this.state.strict&&this.raise(oe.StrictWith,{at:this.state.startLoc}),this.next(),e.object=this.parseHeaderExpression(),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement("with")),this.finishNode(e,"WithStatement")}parseEmptyStatement(e){return this.next(),this.finishNode(e,"EmptyStatement")}parseLabeledStatement(e,t,i,r){for(let a of this.state.labels)a.name===t&&this.raise(oe.LabelRedeclaration,{at:i,labelName:t});let s=aK(this.state.type)?"loop":this.match(71)?"switch":null;for(let a=this.state.labels.length-1;a>=0;a--){let o=this.state.labels[a];if(o.statementStart===e.start)o.statementStart=this.state.start,o.kind=s;else break}return this.state.labels.push({name:t,kind:s,statementStart:this.state.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.state.labels.pop(),e.label=i,this.finishNode(e,"LabeledStatement")}parseExpressionStatement(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")}parseBlock(e=!1,t=!0,i){let r=this.startNode();return e&&this.state.strictErrors.clear(),this.expect(5),t&&this.scope.enter(Lh),this.parseBlockBody(r,e,!1,8,i),t&&this.scope.exit(),this.finishNode(r,"BlockStatement")}isValidDirective(e){return e.type==="ExpressionStatement"&&e.expression.type==="StringLiteral"&&!e.expression.extra.parenthesized}parseBlockBody(e,t,i,r,s){let a=e.body=[],o=e.directives=[];this.parseBlockOrModuleBlockBody(a,t?o:void 0,i,r,s)}parseBlockOrModuleBlockBody(e,t,i,r,s){let a=this.state.strict,o=!1,l=!1;for(;!this.match(r);){let c=this.parseStatement(null,i);if(t&&!l){if(this.isValidDirective(c)){let u=this.stmtToDirective(c);t.push(u),!o&&u.value.value==="use strict"&&(o=!0,this.setStrict(!0));continue}l=!0,this.state.strictErrors.clear()}e.push(c)}s&&s.call(this,o),a||this.setStrict(!1),this.next()}parseFor(e,t){return e.init=t,this.semicolon(!1),e.test=this.match(13)?null:this.parseExpression(),this.semicolon(!1),e.update=this.match(11)?null:this.parseExpression(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement("for")),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,"ForStatement")}parseForIn(e,t,i){let r=this.match(58);return this.next(),r?i!==null&&this.unexpected(i):e.await=i!==null,t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!r||this.state.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(oe.ForInOfLoopInitializer,{at:t,type:r?"ForInStatement":"ForOfStatement"}),t.type==="AssignmentPattern"&&this.raise(oe.InvalidLhs,{at:t,ancestor:{type:"ForStatement"}}),e.left=t,e.right=r?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(11),e.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement("for")),this.scope.exit(),this.state.labels.pop(),this.finishNode(e,r?"ForInStatement":"ForOfStatement")}parseVar(e,t,i,r=!1){let s=e.declarations=[];for(e.kind=i;;){let a=this.startNode();if(this.parseVarId(a,i),a.init=this.eat(29)?t?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn():null,a.init===null&&!r&&(a.id.type!=="Identifier"&&!(t&&(this.match(58)||this.isContextual(101)))?this.raise(oe.DeclarationMissingInitializer,{at:this.state.lastTokEndLoc,kind:"destructuring"}):i==="const"&&!(this.match(58)||this.isContextual(101))&&this.raise(oe.DeclarationMissingInitializer,{at:this.state.lastTokEndLoc,kind:"const"})),s.push(this.finishNode(a,"VariableDeclarator")),!this.eat(12))break}return e}parseVarId(e,t){e.id=this.parseBindingAtom(),this.checkLVal(e.id,{in:{type:"VariableDeclarator"},binding:t==="var"?uv:xo})}parseFunction(e,t=mJ,i=!1){let r=t&n1,s=t&vN,a=!!r&&!(t&_N);this.initFunction(e,i),this.match(55)&&s&&this.raise(oe.GeneratorInSingleStatementContext,{at:this.state.startLoc}),e.generator=this.eat(55),r&&(e.id=this.parseFunctionId(a));let o=this.state.maybeInArrowParameters;return this.state.maybeInArrowParameters=!1,this.scope.enter(_o),this.prodParam.enter(rv(i,e.generator)),r||(e.id=this.parseFunctionId()),this.parseFunctionParams(e,!1),this.withSmartMixTopicForbiddingContext(()=>{this.parseFunctionBodyAndFinish(e,r?"FunctionDeclaration":"FunctionExpression")}),this.prodParam.exit(),this.scope.exit(),r&&!s&&this.registerFunctionStatementId(e),this.state.maybeInArrowParameters=o,e}parseFunctionId(e){return e||Ai(this.state.type)?this.parseIdentifier():null}parseFunctionParams(e,t){this.expect(10),this.expressionScope.enter(GK()),e.params=this.parseBindingList(11,41,!1,t),this.expressionScope.exit()}registerFunctionStatementId(e){e.id&&this.scope.declareName(e.id.name,this.state.strict||e.generator||e.async?this.scope.treatFunctionsAsVar?uv:xo:LN,e.id.loc.start)}parseClass(e,t,i){this.next(),this.takeDecorators(e);let r=this.state.strict;return this.state.strict=!0,this.parseClassId(e,t,i),this.parseClassSuper(e),e.body=this.parseClassBody(!!e.superClass,r),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")}isClassProperty(){return this.match(29)||this.match(13)||this.match(8)}isClassMethod(){return this.match(10)}isNonstaticConstructor(e){return!e.computed&&!e.static&&(e.key.name==="constructor"||e.key.value==="constructor")}parseClassBody(e,t){this.classScope.enter();let i={hadConstructor:!1,hadSuperClass:e},r=[],s=this.startNode();if(s.body=[],this.expect(5),this.withSmartMixTopicForbiddingContext(()=>{for(;!this.match(8);){if(this.eat(13)){if(r.length>0)throw this.raise(oe.DecoratorSemicolon,{at:this.state.lastTokEndLoc});continue}if(this.match(26)){r.push(this.parseDecorator());continue}let a=this.startNode();r.length&&(a.decorators=r,this.resetStartLocationFromNode(a,r[0]),r=[]),this.parseClassMember(s,a,i),a.kind==="constructor"&&a.decorators&&a.decorators.length>0&&this.raise(oe.DecoratorConstructor,{at:a})}}),this.state.strict=t,this.next(),r.length)throw this.raise(oe.TrailingDecorator,{at:this.state.startLoc});return this.classScope.exit(),this.finishNode(s,"ClassBody")}parseClassMemberFromModifier(e,t){let i=this.parseIdentifier(!0);if(this.isClassMethod()){let r=t;return r.kind="method",r.computed=!1,r.key=i,r.static=!1,this.pushClassMethod(e,r,!1,!1,!1,!1),!0}else if(this.isClassProperty()){let r=t;return r.computed=!1,r.key=i,r.static=!1,e.body.push(this.parseClassProperty(r)),!0}return this.resetPreviousNodeTrailingComments(i),!1}parseClassMember(e,t,i){let r=this.isContextual(104);if(r){if(this.parseClassMemberFromModifier(e,t))return;if(this.eat(5)){this.parseClassStaticBlock(e,t);return}}this.parseClassMemberWithIsStatic(e,t,i,r)}parseClassMemberWithIsStatic(e,t,i,r){let s=t,a=t,o=t,l=t,c=t,u=s,h=s;if(t.static=r,this.parsePropertyNamePrefixOperator(t),this.eat(55)){u.kind="method";let g=this.match(134);if(this.parseClassElementName(u),g){this.pushClassPrivateMethod(e,a,!0,!1);return}this.isNonstaticConstructor(s)&&this.raise(oe.ConstructorIsGenerator,{at:s.key}),this.pushClassMethod(e,s,!0,!1,!1,!1);return}let d=Ai(this.state.type)&&!this.state.containsEsc,m=this.match(134),v=this.parseClassElementName(t),_=this.state.startLoc;if(this.parsePostMemberNameModifiers(h),this.isClassMethod()){if(u.kind="method",m){this.pushClassPrivateMethod(e,a,!1,!1);return}let g=this.isNonstaticConstructor(s),y=!1;g&&(s.kind="constructor",i.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(oe.DuplicateConstructor,{at:v}),g&&this.hasPlugin("typescript")&&t.override&&this.raise(oe.OverrideOnConstructor,{at:v}),i.hadConstructor=!0,y=i.hadSuperClass),this.pushClassMethod(e,s,!1,!1,g,y)}else if(this.isClassProperty())m?this.pushClassPrivateProperty(e,l):this.pushClassProperty(e,o);else if(d&&v.name==="async"&&!this.isLineTerminator()){this.resetPreviousNodeTrailingComments(v);let g=this.eat(55);h.optional&&this.unexpected(_),u.kind="method";let y=this.match(134);this.parseClassElementName(u),this.parsePostMemberNameModifiers(h),y?this.pushClassPrivateMethod(e,a,g,!0):(this.isNonstaticConstructor(s)&&this.raise(oe.ConstructorIsAsync,{at:s.key}),this.pushClassMethod(e,s,g,!0,!1,!1))}else if(d&&(v.name==="get"||v.name==="set")&&!(this.match(55)&&this.isLineTerminator())){this.resetPreviousNodeTrailingComments(v),u.kind=v.name;let g=this.match(134);this.parseClassElementName(s),g?this.pushClassPrivateMethod(e,a,!1,!1):(this.isNonstaticConstructor(s)&&this.raise(oe.ConstructorIsAccessor,{at:s.key}),this.pushClassMethod(e,s,!1,!1,!1,!1)),this.checkGetterSetterParams(s)}else if(d&&v.name==="accessor"&&!this.isLineTerminator()){this.expectPlugin("decoratorAutoAccessors"),this.resetPreviousNodeTrailingComments(v);let g=this.match(134);this.parseClassElementName(o),this.pushClassAccessorProperty(e,c,g)}else this.isLineTerminator()?m?this.pushClassPrivateProperty(e,l):this.pushClassProperty(e,o):this.unexpected()}parseClassElementName(e){let{type:t,value:i}=this.state;if((t===128||t===129)&&e.static&&i==="prototype"&&this.raise(oe.StaticPrototype,{at:this.state.startLoc}),t===134){i==="constructor"&&this.raise(oe.ConstructorClassPrivateField,{at:this.state.startLoc});let r=this.parsePrivateName();return e.key=r,r}return this.parsePropertyName(e)}parseClassStaticBlock(e,t){var i;this.scope.enter(Nc|c1|lv);let r=this.state.labels;this.state.labels=[],this.prodParam.enter(kh);let s=t.body=[];this.parseBlockOrModuleBlockBody(s,void 0,!1,8),this.prodParam.exit(),this.scope.exit(),this.state.labels=r,e.body.push(this.finishNode(t,"StaticBlock")),(i=t.decorators)!=null&&i.length&&this.raise(oe.DecoratorStaticBlock,{at:t})}pushClassProperty(e,t){!t.computed&&(t.key.name==="constructor"||t.key.value==="constructor")&&this.raise(oe.ConstructorClassField,{at:t.key}),e.body.push(this.parseClassProperty(t))}pushClassPrivateProperty(e,t){let i=this.parseClassPrivateProperty(t);e.body.push(i),this.classScope.declarePrivateName(this.getPrivateNameSV(i.key),QT,i.key.loc.start)}pushClassAccessorProperty(e,t,i){if(!i&&!t.computed){let s=t.key;(s.name==="constructor"||s.value==="constructor")&&this.raise(oe.ConstructorClassField,{at:s})}let r=this.parseClassAccessorProperty(t);e.body.push(r),i&&this.classScope.declarePrivateName(this.getPrivateNameSV(r.key),QT,r.key.loc.start)}pushClassMethod(e,t,i,r,s,a){e.body.push(this.parseMethod(t,i,r,s,a,"ClassMethod",!0))}pushClassPrivateMethod(e,t,i,r){let s=this.parseMethod(t,i,r,!1,!1,"ClassPrivateMethod",!0);e.body.push(s);let a=s.kind==="get"?s.static?PK:DK:s.kind==="set"?s.static?IK:RK:QT;this.declareClassPrivateMethodInScope(s,a)}declareClassPrivateMethodInScope(e,t){this.classScope.declarePrivateName(this.getPrivateNameSV(e.key),t,e.key.loc.start)}parsePostMemberNameModifiers(e){}parseClassPrivateProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassPrivateProperty")}parseClassProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassProperty")}parseClassAccessorProperty(e){return this.parseInitializer(e),this.semicolon(),this.finishNode(e,"ClassAccessorProperty")}parseInitializer(e){this.scope.enter(Nc|lv),this.expressionScope.enter(zN()),this.prodParam.enter(kh),e.value=this.eat(29)?this.parseMaybeAssignAllowIn():null,this.expressionScope.exit(),this.prodParam.exit(),this.scope.exit()}parseClassId(e,t,i,r=RN){if(Ai(this.state.type))e.id=this.parseIdentifier(),t&&this.declareNameFromIdentifier(e.id,r);else if(i||!t)e.id=null;else throw this.raise(oe.MissingClassName,{at:this.state.startLoc})}parseClassSuper(e){e.superClass=this.eat(81)?this.parseExprSubscripts():null}parseExport(e){let t=this.maybeParseExportDefaultSpecifier(e),i=!t||this.eat(12),r=i&&this.eatExportStar(e),s=r&&this.maybeParseExportNamespaceSpecifier(e),a=i&&(!s||this.eat(12)),o=t||r;if(r&&!s)return t&&this.unexpected(),this.parseExportFrom(e,!0),this.finishNode(e,"ExportAllDeclaration");let l=this.maybeParseExportNamedSpecifiers(e);if(t&&i&&!r&&!l||s&&a&&!l)throw this.unexpected(null,5);let c;if(o||l?(c=!1,this.parseExportFrom(e,o)):c=this.maybeParseExportDeclaration(e),o||l||c)return this.checkExport(e,!0,!1,!!e.source),this.finishNode(e,"ExportNamedDeclaration");if(this.eat(65))return e.declaration=this.parseExportDefaultExpression(),this.checkExport(e,!0,!0),this.finishNode(e,"ExportDefaultDeclaration");throw this.unexpected(null,5)}eatExportStar(e){return this.eat(55)}maybeParseExportDefaultSpecifier(e){if(this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom");let t=this.startNode();return t.exported=this.parseIdentifier(!0),e.specifiers=[this.finishNode(t,"ExportDefaultSpecifier")],!0}return!1}maybeParseExportNamespaceSpecifier(e){if(this.isContextual(93)){e.specifiers||(e.specifiers=[]);let t=this.startNodeAt(this.state.lastTokStart,this.state.lastTokStartLoc);return this.next(),t.exported=this.parseModuleExportName(),e.specifiers.push(this.finishNode(t,"ExportNamespaceSpecifier")),!0}return!1}maybeParseExportNamedSpecifiers(e){if(this.match(5)){e.specifiers||(e.specifiers=[]);let t=e.exportKind==="type";return e.specifiers.push(...this.parseExportSpecifiers(t)),e.source=null,e.declaration=null,this.hasPlugin("importAssertions")&&(e.assertions=[]),!0}return!1}maybeParseExportDeclaration(e){return this.shouldParseExportDeclaration()?(e.specifiers=[],e.source=null,this.hasPlugin("importAssertions")&&(e.assertions=[]),e.declaration=this.parseExportDeclaration(e),!0):!1}isAsyncFunction(){if(!this.isContextual(95))return!1;let e=this.nextTokenStart();return!$1.test(this.input.slice(this.state.pos,e))&&this.isUnparsedContextual(e,"function")}parseExportDefaultExpression(){let e=this.startNode(),t=this.isAsyncFunction();if(this.match(68)||t)return this.next(),t&&this.next(),this.parseFunction(e,n1|_N,t);if(this.match(80))return this.parseClass(e,!0,!0);if(this.match(26))return this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")&&this.raise(oe.DecoratorBeforeExport,{at:this.state.startLoc}),this.parseDecorators(!1),this.parseClass(e,!0,!0);if(this.match(75)||this.match(74)||this.isLet())throw this.raise(oe.UnsupportedDefaultExport,{at:this.state.startLoc});let i=this.parseMaybeAssignAllowIn();return this.semicolon(),i}parseExportDeclaration(e){return this.parseStatement(null)}isExportDefaultSpecifier(){let{type:e}=this.state;if(Ai(e)){if(e===95&&!this.state.containsEsc||e===99)return!1;if((e===126||e===125)&&!this.state.containsEsc){let{type:r}=this.lookahead();if(Ai(r)&&r!==97||r===5)return this.expectOnePlugin(["flow","typescript"]),!1}}else if(!this.match(65))return!1;let t=this.nextTokenStart(),i=this.isUnparsedContextual(t,"from");if(this.input.charCodeAt(t)===44||Ai(this.state.type)&&i)return!0;if(this.match(65)&&i){let r=this.input.charCodeAt(this.nextTokenStartSince(t+4));return r===34||r===39}return!1}parseExportFrom(e,t){if(this.eatContextual(97)){e.source=this.parseImportSource(),this.checkExport(e);let i=this.maybeParseImportAssertions();i&&(e.assertions=i,this.checkJSONModuleImport(e))}else t&&this.unexpected();this.semicolon()}shouldParseExportDeclaration(){let{type:e}=this.state;if(e===26&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))){if(this.getPluginOption("decorators","decoratorsBeforeExport"))throw this.raise(oe.DecoratorBeforeExport,{at:this.state.startLoc});return!0}return e===74||e===75||e===68||e===80||this.isLet()||this.isAsyncFunction()}checkExport(e,t,i,r){if(t){if(i){if(this.checkDuplicateExports(e,"default"),this.hasPlugin("exportDefaultFrom")){var s;let o=e.declaration;o.type==="Identifier"&&o.name==="from"&&o.end-o.start===4&&!((s=o.extra)!=null&&s.parenthesized)&&this.raise(oe.ExportDefaultFromAsIdentifier,{at:o})}}else if(e.specifiers&&e.specifiers.length)for(let o of e.specifiers){let{exported:l}=o,c=l.type==="Identifier"?l.name:l.value;if(this.checkDuplicateExports(o,c),!r&&o.local){let{local:u}=o;u.type!=="Identifier"?this.raise(oe.ExportBindingIsString,{at:o,localName:u.value,exportName:c}):(this.checkReservedWord(u.name,u.loc.start,!0,!1),this.scope.checkLocalExport(u))}}else if(e.declaration){if(e.declaration.type==="FunctionDeclaration"||e.declaration.type==="ClassDeclaration"){let o=e.declaration.id;if(!o)throw new Error("Assertion failure");this.checkDuplicateExports(e,o.name)}else if(e.declaration.type==="VariableDeclaration")for(let o of e.declaration.declarations)this.checkDeclaration(o.id)}}if(this.state.decoratorStack[this.state.decoratorStack.length-1].length)throw this.raise(oe.UnsupportedDecoratorExport,{at:e})}checkDeclaration(e){if(e.type==="Identifier")this.checkDuplicateExports(e,e.name);else if(e.type==="ObjectPattern")for(let t of e.properties)this.checkDeclaration(t);else if(e.type==="ArrayPattern")for(let t of e.elements)t&&this.checkDeclaration(t);else e.type==="ObjectProperty"?this.checkDeclaration(e.value):e.type==="RestElement"?this.checkDeclaration(e.argument):e.type==="AssignmentPattern"&&this.checkDeclaration(e.left)}checkDuplicateExports(e,t){this.exportedIdentifiers.has(t)&&(t==="default"?this.raise(oe.DuplicateDefaultExport,{at:e}):this.raise(oe.DuplicateExport,{at:e,exportName:t})),this.exportedIdentifiers.add(t)}parseExportSpecifiers(e){let t=[],i=!0;for(this.expect(5);!this.eat(8);){if(i)i=!1;else if(this.expect(12),this.eat(8))break;let r=this.isContextual(126),s=this.match(129),a=this.startNode();a.local=this.parseModuleExportName(),t.push(this.parseExportSpecifier(a,s,e,r))}return t}parseExportSpecifier(e,t,i,r){return this.eatContextual(93)?e.exported=this.parseModuleExportName():t?e.exported=jK(e.local):e.exported||(e.exported=Eo(e.local)),this.finishNode(e,"ExportSpecifier")}parseModuleExportName(){if(this.match(129)){let e=this.parseStringLiteral(this.state.value),t=e.value.match(gJ);return t&&this.raise(oe.ModuleExportNameHasLoneSurrogate,{at:e,surrogateCharCode:t[0].charCodeAt(0)}),e}return this.parseIdentifier(!0)}isJSONModuleImport(e){return e.assertions!=null?e.assertions.some(({key:t,value:i})=>i.value==="json"&&(t.type==="Identifier"?t.name==="type":t.value==="type")):!1}checkJSONModuleImport(e){if(this.isJSONModuleImport(e)&&e.type!=="ExportAllDeclaration"){let{specifiers:t}=e;if(e.specifiers!=null){let i=t.find(r=>{let s;if(r.type==="ExportSpecifier"?s=r.local:r.type==="ImportSpecifier"&&(s=r.imported),s!==void 0)return s.type==="Identifier"?s.name!=="default":s.value!=="default"});i!==void 0&&this.raise(oe.ImportJSONBindingNotDefault,{at:i.loc.start})}}}parseImport(e){if(e.specifiers=[],!this.match(129)){let r=!this.maybeParseDefaultImportSpecifier(e)||this.eat(12),s=r&&this.maybeParseStarImportSpecifier(e);r&&!s&&this.parseNamedImportSpecifiers(e),this.expectContextual(97)}e.source=this.parseImportSource();let t=this.maybeParseImportAssertions();if(t)e.assertions=t;else{let i=this.maybeParseModuleAttributes();i&&(e.attributes=i)}return this.checkJSONModuleImport(e),this.semicolon(),this.finishNode(e,"ImportDeclaration")}parseImportSource(){return this.match(129)||this.unexpected(),this.parseExprAtom()}shouldParseDefaultImport(e){return Ai(this.state.type)}parseImportSpecifierLocal(e,t,i){t.local=this.parseIdentifier(),e.specifiers.push(this.finishImportSpecifier(t,i))}finishImportSpecifier(e,t){return this.checkLVal(e.local,{in:e,binding:xo}),this.finishNode(e,t)}parseAssertEntries(){let e=[],t=new Set;do{if(this.match(8))break;let i=this.startNode(),r=this.state.value;if(t.has(r)&&this.raise(oe.ModuleAttributesWithDuplicateKeys,{at:this.state.startLoc,key:r}),t.add(r),this.match(129)?i.key=this.parseStringLiteral(r):i.key=this.parseIdentifier(!0),this.expect(14),!this.match(129))throw this.raise(oe.ModuleAttributeInvalidValue,{at:this.state.startLoc});i.value=this.parseStringLiteral(this.state.value),e.push(this.finishNode(i,"ImportAttribute"))}while(this.eat(12));return e}maybeParseModuleAttributes(){if(this.match(76)&&!this.hasPrecedingLineBreak())this.expectPlugin("moduleAttributes"),this.next();else return this.hasPlugin("moduleAttributes")?[]:null;let e=[],t=new Set;do{let i=this.startNode();if(i.key=this.parseIdentifier(!0),i.key.name!=="type"&&this.raise(oe.ModuleAttributeDifferentFromType,{at:i.key}),t.has(i.key.name)&&this.raise(oe.ModuleAttributesWithDuplicateKeys,{at:i.key,key:i.key.name}),t.add(i.key.name),this.expect(14),!this.match(129))throw this.raise(oe.ModuleAttributeInvalidValue,{at:this.state.startLoc});i.value=this.parseStringLiteral(this.state.value),this.finishNode(i,"ImportAttribute"),e.push(i)}while(this.eat(12));return e}maybeParseImportAssertions(){if(this.isContextual(94)&&!this.hasPrecedingLineBreak())this.expectPlugin("importAssertions"),this.next();else return this.hasPlugin("importAssertions")?[]:null;this.eat(5);let e=this.parseAssertEntries();return this.eat(8),e}maybeParseDefaultImportSpecifier(e){return this.shouldParseDefaultImport(e)?(this.parseImportSpecifierLocal(e,this.startNode(),"ImportDefaultSpecifier"),!0):!1}maybeParseStarImportSpecifier(e){if(this.match(55)){let t=this.startNode();return this.next(),this.expectContextual(93),this.parseImportSpecifierLocal(e,t,"ImportNamespaceSpecifier"),!0}return!1}parseNamedImportSpecifiers(e){let t=!0;for(this.expect(5);!this.eat(8);){if(t)t=!1;else{if(this.eat(14))throw this.raise(oe.DestructureNamedImport,{at:this.state.startLoc});if(this.expect(12),this.eat(8))break}let i=this.startNode(),r=this.match(129),s=this.isContextual(126);i.imported=this.parseModuleExportName();let a=this.parseImportSpecifier(i,r,e.importKind==="type"||e.importKind==="typeof",s);e.specifiers.push(a)}}parseImportSpecifier(e,t,i,r){if(this.eatContextual(93))e.local=this.parseIdentifier();else{let{imported:s}=e;if(t)throw this.raise(oe.ImportBindingIsString,{at:e,importName:s.value});this.checkReservedWord(s.name,e.loc.start,!0,!0),e.local||(e.local=Eo(s))}return this.finishImportSpecifier(e,"ImportSpecifier")}isThisParam(e){return e.type==="Identifier"&&e.name==="this"}},dv=class extends I1{constructor(e,t){e=fJ(e),super(e,t),this.options=e,this.initializeScopes(),this.plugins=vJ(this.options.plugins),this.filename=e.sourceFilename}getScopeHandler(){return ep}parse(){this.enterInitialScopes();let e=this.startNode(),t=this.startNode();return this.nextToken(),e.errors=null,this.parseTopLevel(e,t),e.errors=this.state.errors,e}};function vJ(n){let e=new Map;for(let t of n){let[i,r]=Array.isArray(t)?t:[t,{}];e.has(i)||e.set(i,r||{})}return e}function _J(n,e){var t;if(((t=e)==null?void 0:t.sourceType)==="unambiguous"){e=Object.assign({},e);try{e.sourceType="module";let i=Xd(e,n),r=i.parse();if(i.sawUnambiguousESM)return r;if(i.ambiguousScriptDifferentAst)try{return e.sourceType="script",Xd(e,n).parse()}catch(s){}else r.program.sourceType="script";return r}catch(i){try{return e.sourceType="script",Xd(e,n).parse()}catch(r){}throw i}}else return Xd(e,n).parse()}function xJ(n,e){let t=Xd(e,n);return t.options.strictMode&&(t.state.strict=!0),t.getExpression()}function bJ(n){let e={};for(let t of Object.keys(n))e[t]=mo(n[t]);return e}var EJ=bJ(iK);function Xd(n,e){let t=dv;return n!=null&&n.plugins&&(uJ(n.plugins),t=SJ(n.plugins)),new t(n,e)}var xN={};function SJ(n){let e=hJ.filter(r=>cr(n,r)),t=e.join("/"),i=xN[t];if(!i){i=dv;for(let r of e)i=$N[r](i);xN[t]=i}return i}tp.parse=_J;tp.parseExpression=xJ;tp.tokTypes=EJ});var XN=li(j1=>{var jN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");j1.encode=function(n){if(0<=n&&n<jN.length)return jN[n];throw new TypeError("Must be between 0 and 63: "+n)};j1.decode=function(n){var e=65,t=90,i=97,r=122,s=48,a=57,o=43,l=47,c=26,u=52;return e<=n&&n<=t?n-e:i<=n&&n<=r?n-i+c:s<=n&&n<=a?n-s+u:n==o?62:n==l?63:-1}});var K1=li(Y1=>{var YN=XN(),X1=5,KN=1<<X1,JN=KN-1,ZN=KN;function TJ(n){return n<0?(-n<<1)+1:(n<<1)+0}function wJ(n){var e=(n&1)===1,t=n>>1;return e?-t:t}Y1.encode=function(e){var t="",i,r=TJ(e);do i=r&JN,r>>>=X1,r>0&&(i|=ZN),t+=YN.encode(i);while(r>0);return t};Y1.decode=function(e,t,i){var r=e.length,s=0,a=0,o,l;do{if(t>=r)throw new Error("Expected more digits in base 64 VLQ value.");if(l=YN.decode(e.charCodeAt(t++)),l===-1)throw new Error("Invalid base64 digit: "+e.charAt(t-1));o=!!(l&ZN),l&=JN,s=s+(l<<a),a+=X1}while(o);i.value=wJ(s),i.rest=t}});var $h=li(ur=>{function AJ(n,e,t){if(e in n)return n[e];if(arguments.length===3)return t;throw new Error('"'+e+'" is a required argument.')}ur.getArg=AJ;var QN=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,MJ=/^data:.+\,.+$/;function ip(n){var e=n.match(QN);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}ur.urlParse=ip;function Hh(n){var e="";return n.scheme&&(e+=n.scheme+":"),e+="//",n.auth&&(e+=n.auth+"@"),n.host&&(e+=n.host),n.port&&(e+=":"+n.port),n.path&&(e+=n.path),e}ur.urlGenerate=Hh;function J1(n){var e=n,t=ip(n);if(t){if(!t.path)return n;e=t.path}for(var i=ur.isAbsolute(e),r=e.split(/\/+/),s,a=0,o=r.length-1;o>=0;o--)s=r[o],s==="."?r.splice(o,1):s===".."?a++:a>0&&(s===""?(r.splice(o+1,a),a=0):(r.splice(o,2),a--));return e=r.join("/"),e===""&&(e=i?"/":"."),t?(t.path=e,Hh(t)):e}ur.normalize=J1;function ek(n,e){n===""&&(n="."),e===""&&(e=".");var t=ip(e),i=ip(n);if(i&&(n=i.path||"/"),t&&!t.scheme)return i&&(t.scheme=i.scheme),Hh(t);if(t||e.match(MJ))return e;if(i&&!i.host&&!i.path)return i.host=e,Hh(i);var r=e.charAt(0)==="/"?e:J1(n.replace(/\/+$/,"")+"/"+e);return i?(i.path=r,Hh(i)):r}ur.join=ek;ur.isAbsolute=function(n){return n.charAt(0)==="/"||QN.test(n)};function CJ(n,e){n===""&&(n="."),n=n.replace(/\/$/,"");for(var t=0;e.indexOf(n+"/")!==0;){var i=n.lastIndexOf("/");if(i<0||(n=n.slice(0,i),n.match(/^([^\/]+:\/)?\/*$/)))return e;++t}return Array(t+1).join("../")+e.substr(n.length+1)}ur.relative=CJ;var tk=function(){var n=Object.create(null);return!("__proto__"in n)}();function ik(n){return n}function PJ(n){return nk(n)?"$"+n:n}ur.toSetString=tk?ik:PJ;function IJ(n){return nk(n)?n.slice(1):n}ur.fromSetString=tk?ik:IJ;function nk(n){if(!n)return!1;var e=n.length;if(e<9||n.charCodeAt(e-1)!==95||n.charCodeAt(e-2)!==95||n.charCodeAt(e-3)!==111||n.charCodeAt(e-4)!==116||n.charCodeAt(e-5)!==111||n.charCodeAt(e-6)!==114||n.charCodeAt(e-7)!==112||n.charCodeAt(e-8)!==95||n.charCodeAt(e-9)!==95)return!1;for(var t=e-10;t>=0;t--)if(n.charCodeAt(t)!==36)return!1;return!0}function DJ(n,e,t){var i=Gh(n.source,e.source);return i!==0||(i=n.originalLine-e.originalLine,i!==0)||(i=n.originalColumn-e.originalColumn,i!==0||t)||(i=n.generatedColumn-e.generatedColumn,i!==0)||(i=n.generatedLine-e.generatedLine,i!==0)?i:Gh(n.name,e.name)}ur.compareByOriginalPositions=DJ;function RJ(n,e,t){var i=n.generatedLine-e.generatedLine;return i!==0||(i=n.generatedColumn-e.generatedColumn,i!==0||t)||(i=Gh(n.source,e.source),i!==0)||(i=n.originalLine-e.originalLine,i!==0)||(i=n.originalColumn-e.originalColumn,i!==0)?i:Gh(n.name,e.name)}ur.compareByGeneratedPositionsDeflated=RJ;function Gh(n,e){return n===e?0:n===null?1:e===null?-1:n>e?1:-1}function LJ(n,e){var t=n.generatedLine-e.generatedLine;return t!==0||(t=n.generatedColumn-e.generatedColumn,t!==0)||(t=Gh(n.source,e.source),t!==0)||(t=n.originalLine-e.originalLine,t!==0)||(t=n.originalColumn-e.originalColumn,t!==0)?t:Gh(n.name,e.name)}ur.compareByGeneratedPositionsInflated=LJ;function OJ(n){return JSON.parse(n.replace(/^\)]}'[^\n]*\n/,""))}ur.parseSourceMapInput=OJ;function NJ(n,e,t){if(e=e||"",n&&(n[n.length-1]!=="/"&&e[0]!=="/"&&(n+="/"),e=n+e),t){var i=ip(t);if(!i)throw new Error("sourceMapURL could not be parsed");if(i.path){var r=i.path.lastIndexOf("/");r>=0&&(i.path=i.path.substring(0,r+1))}e=ek(Hh(i),e)}return J1(e)}ur.computeSourceURL=NJ});var ew=li(rk=>{var Z1=$h(),Q1=Object.prototype.hasOwnProperty,kc=typeof Map!="undefined";function To(){this._array=[],this._set=kc?new Map:Object.create(null)}To.fromArray=function(e,t){for(var i=new To,r=0,s=e.length;r<s;r++)i.add(e[r],t);return i};To.prototype.size=function(){return kc?this._set.size:Object.getOwnPropertyNames(this._set).length};To.prototype.add=function(e,t){var i=kc?e:Z1.toSetString(e),r=kc?this.has(e):Q1.call(this._set,i),s=this._array.length;(!r||t)&&this._array.push(e),r||(kc?this._set.set(e,s):this._set[i]=s)};To.prototype.has=function(e){if(kc)return this._set.has(e);var t=Z1.toSetString(e);return Q1.call(this._set,t)};To.prototype.indexOf=function(e){if(kc){var t=this._set.get(e);if(t>=0)return t}else{var i=Z1.toSetString(e);if(Q1.call(this._set,i))return this._set[i]}throw new Error('"'+e+'" is not in the set.')};To.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)};To.prototype.toArray=function(){return this._array.slice()};rk.ArraySet=To});var ok=li(ak=>{var sk=$h();function kJ(n,e){var t=n.generatedLine,i=e.generatedLine,r=n.generatedColumn,s=e.generatedColumn;return i>t||i==t&&s>=r||sk.compareByGeneratedPositionsInflated(n,e)<=0}function mv(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}mv.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)};mv.prototype.add=function(e){kJ(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))};mv.prototype.toArray=function(){return this._sorted||(this._array.sort(sk.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};ak.MappingList=mv});var tw=li(lk=>{var np=K1(),Pn=$h(),gv=ew().ArraySet,FJ=ok().MappingList;function ws(n){n||(n={}),this._file=Pn.getArg(n,"file",null),this._sourceRoot=Pn.getArg(n,"sourceRoot",null),this._skipValidation=Pn.getArg(n,"skipValidation",!1),this._sources=new gv,this._names=new gv,this._mappings=new FJ,this._sourcesContents=null}ws.prototype._version=3;ws.fromSourceMap=function(e){var t=e.sourceRoot,i=new ws({file:e.file,sourceRoot:t});return e.eachMapping(function(r){var s={generated:{line:r.generatedLine,column:r.generatedColumn}};r.source!=null&&(s.source=r.source,t!=null&&(s.source=Pn.relative(t,s.source)),s.original={line:r.originalLine,column:r.originalColumn},r.name!=null&&(s.name=r.name)),i.addMapping(s)}),e.sources.forEach(function(r){var s=r;t!==null&&(s=Pn.relative(t,r)),i._sources.has(s)||i._sources.add(s);var a=e.sourceContentFor(r);a!=null&&i.setSourceContent(r,a)}),i};ws.prototype.addMapping=function(e){var t=Pn.getArg(e,"generated"),i=Pn.getArg(e,"original",null),r=Pn.getArg(e,"source",null),s=Pn.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,i,r,s),r!=null&&(r=String(r),this._sources.has(r)||this._sources.add(r)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:i!=null&&i.line,originalColumn:i!=null&&i.column,source:r,name:s})};ws.prototype.setSourceContent=function(e,t){var i=e;this._sourceRoot!=null&&(i=Pn.relative(this._sourceRoot,i)),t!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Pn.toSetString(i)]=t):this._sourcesContents&&(delete this._sourcesContents[Pn.toSetString(i)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};ws.prototype.applySourceMap=function(e,t,i){var r=t;if(t==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);r=e.file}var s=this._sourceRoot;s!=null&&(r=Pn.relative(s,r));var a=new gv,o=new gv;this._mappings.unsortedForEach(function(l){if(l.source===r&&l.originalLine!=null){var c=e.originalPositionFor({line:l.originalLine,column:l.originalColumn});c.source!=null&&(l.source=c.source,i!=null&&(l.source=Pn.join(i,l.source)),s!=null&&(l.source=Pn.relative(s,l.source)),l.originalLine=c.line,l.originalColumn=c.column,c.name!=null&&(l.name=c.name))}var u=l.source;u!=null&&!a.has(u)&&a.add(u);var h=l.name;h!=null&&!o.has(h)&&o.add(h)},this),this._sources=a,this._names=o,e.sources.forEach(function(l){var c=e.sourceContentFor(l);c!=null&&(i!=null&&(l=Pn.join(i,l)),s!=null&&(l=Pn.relative(s,l)),this.setSourceContent(l,c))},this)};ws.prototype._validateMapping=function(e,t,i,r){if(t&&typeof t.line!="number"&&typeof t.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!t&&!i&&!r)){if(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&i)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:i,original:t,name:r}))}};ws.prototype._serializeMappings=function(){for(var e=0,t=1,i=0,r=0,s=0,a=0,o="",l,c,u,h,d=this._mappings.toArray(),m=0,v=d.length;m<v;m++){if(c=d[m],l="",c.generatedLine!==t)for(e=0;c.generatedLine!==t;)l+=";",t++;else if(m>0){if(!Pn.compareByGeneratedPositionsInflated(c,d[m-1]))continue;l+=","}l+=np.encode(c.generatedColumn-e),e=c.generatedColumn,c.source!=null&&(h=this._sources.indexOf(c.source),l+=np.encode(h-a),a=h,l+=np.encode(c.originalLine-1-r),r=c.originalLine-1,l+=np.encode(c.originalColumn-i),i=c.originalColumn,c.name!=null&&(u=this._names.indexOf(c.name),l+=np.encode(u-s),s=u)),o+=l}return o};ws.prototype._generateSourcesContent=function(e,t){return e.map(function(i){if(!this._sourcesContents)return null;t!=null&&(i=Pn.relative(t,i));var r=Pn.toSetString(i);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null},this)};ws.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e};ws.prototype.toString=function(){return JSON.stringify(this.toJSON())};lk.SourceMapGenerator=ws});var ck=li(Fc=>{Fc.GREATEST_LOWER_BOUND=1;Fc.LEAST_UPPER_BOUND=2;function iw(n,e,t,i,r,s){var a=Math.floor((e-n)/2)+n,o=r(t,i[a],!0);return o===0?a:o>0?e-a>1?iw(a,e,t,i,r,s):s==Fc.LEAST_UPPER_BOUND?e<i.length?e:-1:a:a-n>1?iw(n,a,t,i,r,s):s==Fc.LEAST_UPPER_BOUND?a:n<0?-1:n}Fc.search=function(e,t,i,r){if(t.length===0)return-1;var s=iw(-1,t.length,e,t,i,r||Fc.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&i(t[s],t[s-1],!0)===0;)--s;return s}});var hk=li(uk=>{function nw(n,e,t){var i=n[e];n[e]=n[t],n[t]=i}function BJ(n,e){return Math.round(n+Math.random()*(e-n))}function rw(n,e,t,i){if(t<i){var r=BJ(t,i),s=t-1;nw(n,r,i);for(var a=n[i],o=t;o<i;o++)e(n[o],a)<=0&&(s+=1,nw(n,s,o));nw(n,s+1,o);var l=s+1;rw(n,e,t,l-1),rw(n,e,l+1,i)}}uk.quickSort=function(n,e){rw(n,e,0,n.length-1)}});var dk=li(yv=>{var St=$h(),sw=ck(),Wh=ew().ArraySet,UJ=K1(),rp=hk().quickSort;function Ji(n,e){var t=n;return typeof n=="string"&&(t=St.parseSourceMapInput(n)),t.sections!=null?new Zs(t,e):new Zn(t,e)}Ji.fromSourceMap=function(n,e){return Zn.fromSourceMap(n,e)};Ji.prototype._version=3;Ji.prototype.__generatedMappings=null;Object.defineProperty(Ji.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});Ji.prototype.__originalMappings=null;Object.defineProperty(Ji.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});Ji.prototype._charIsMappingSeparator=function(e,t){var i=e.charAt(t);return i===";"||i===","};Ji.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")};Ji.GENERATED_ORDER=1;Ji.ORIGINAL_ORDER=2;Ji.GREATEST_LOWER_BOUND=1;Ji.LEAST_UPPER_BOUND=2;Ji.prototype.eachMapping=function(e,t,i){var r=t||null,s=i||Ji.GENERATED_ORDER,a;switch(s){case Ji.GENERATED_ORDER:a=this._generatedMappings;break;case Ji.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var o=this.sourceRoot;a.map(function(l){var c=l.source===null?null:this._sources.at(l.source);return c=St.computeSourceURL(o,c,this._sourceMapURL),{source:c,generatedLine:l.generatedLine,generatedColumn:l.generatedColumn,originalLine:l.originalLine,originalColumn:l.originalColumn,name:l.name===null?null:this._names.at(l.name)}},this).forEach(e,r)};Ji.prototype.allGeneratedPositionsFor=function(e){var t=St.getArg(e,"line"),i={source:St.getArg(e,"source"),originalLine:t,originalColumn:St.getArg(e,"column",0)};if(i.source=this._findSourceIndex(i.source),i.source<0)return[];var r=[],s=this._findMapping(i,this._originalMappings,"originalLine","originalColumn",St.compareByOriginalPositions,sw.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(e.column===void 0)for(var o=a.originalLine;a&&a.originalLine===o;)r.push({line:St.getArg(a,"generatedLine",null),column:St.getArg(a,"generatedColumn",null),lastColumn:St.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var l=a.originalColumn;a&&a.originalLine===t&&a.originalColumn==l;)r.push({line:St.getArg(a,"generatedLine",null),column:St.getArg(a,"generatedColumn",null),lastColumn:St.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return r};yv.SourceMapConsumer=Ji;function Zn(n,e){var t=n;typeof n=="string"&&(t=St.parseSourceMapInput(n));var i=St.getArg(t,"version"),r=St.getArg(t,"sources"),s=St.getArg(t,"names",[]),a=St.getArg(t,"sourceRoot",null),o=St.getArg(t,"sourcesContent",null),l=St.getArg(t,"mappings"),c=St.getArg(t,"file",null);if(i!=this._version)throw new Error("Unsupported version: "+i);a&&(a=St.normalize(a)),r=r.map(String).map(St.normalize).map(function(u){return a&&St.isAbsolute(a)&&St.isAbsolute(u)?St.relative(a,u):u}),this._names=Wh.fromArray(s.map(String),!0),this._sources=Wh.fromArray(r,!0),this._absoluteSources=this._sources.toArray().map(function(u){return St.computeSourceURL(a,u,e)}),this.sourceRoot=a,this.sourcesContent=o,this._mappings=l,this._sourceMapURL=e,this.file=c}Zn.prototype=Object.create(Ji.prototype);Zn.prototype.consumer=Ji;Zn.prototype._findSourceIndex=function(n){var e=n;if(this.sourceRoot!=null&&(e=St.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);var t;for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==n)return t;return-1};Zn.fromSourceMap=function(e,t){var i=Object.create(Zn.prototype),r=i._names=Wh.fromArray(e._names.toArray(),!0),s=i._sources=Wh.fromArray(e._sources.toArray(),!0);i.sourceRoot=e._sourceRoot,i.sourcesContent=e._generateSourcesContent(i._sources.toArray(),i.sourceRoot),i.file=e._file,i._sourceMapURL=t,i._absoluteSources=i._sources.toArray().map(function(m){return St.computeSourceURL(i.sourceRoot,m,t)});for(var a=e._mappings.toArray().slice(),o=i.__generatedMappings=[],l=i.__originalMappings=[],c=0,u=a.length;c<u;c++){var h=a[c],d=new fk;d.generatedLine=h.generatedLine,d.generatedColumn=h.generatedColumn,h.source&&(d.source=s.indexOf(h.source),d.originalLine=h.originalLine,d.originalColumn=h.originalColumn,h.name&&(d.name=r.indexOf(h.name)),l.push(d)),o.push(d)}return rp(i.__originalMappings,St.compareByOriginalPositions),i};Zn.prototype._version=3;Object.defineProperty(Zn.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function fk(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}Zn.prototype._parseMappings=function(e,t){for(var i=1,r=0,s=0,a=0,o=0,l=0,c=e.length,u=0,h={},d={},m=[],v=[],_,g,y,b,E;u<c;)if(e.charAt(u)===";")i++,u++,r=0;else if(e.charAt(u)===",")u++;else{for(_=new fk,_.generatedLine=i,b=u;b<c&&!this._charIsMappingSeparator(e,b);b++);if(g=e.slice(u,b),y=h[g],y)u+=g.length;else{for(y=[];u<b;)UJ.decode(e,u,d),E=d.value,u=d.rest,y.push(E);if(y.length===2)throw new Error("Found a source, but no line and column");if(y.length===3)throw new Error("Found a source and line, but no column");h[g]=y}_.generatedColumn=r+y[0],r=_.generatedColumn,y.length>1&&(_.source=o+y[1],o+=y[1],_.originalLine=s+y[2],s=_.originalLine,_.originalLine+=1,_.originalColumn=a+y[3],a=_.originalColumn,y.length>4&&(_.name=l+y[4],l+=y[4])),v.push(_),typeof _.originalLine=="number"&&m.push(_)}rp(v,St.compareByGeneratedPositionsDeflated),this.__generatedMappings=v,rp(m,St.compareByOriginalPositions),this.__originalMappings=m};Zn.prototype._findMapping=function(e,t,i,r,s,a){if(e[i]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[i]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return sw.search(e,t,s,a)};Zn.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var i=this._generatedMappings[e+1];if(t.generatedLine===i.generatedLine){t.lastGeneratedColumn=i.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}};Zn.prototype.originalPositionFor=function(e){var t={generatedLine:St.getArg(e,"line"),generatedColumn:St.getArg(e,"column")},i=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",St.compareByGeneratedPositionsDeflated,St.getArg(e,"bias",Ji.GREATEST_LOWER_BOUND));if(i>=0){var r=this._generatedMappings[i];if(r.generatedLine===t.generatedLine){var s=St.getArg(r,"source",null);s!==null&&(s=this._sources.at(s),s=St.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var a=St.getArg(r,"name",null);return a!==null&&(a=this._names.at(a)),{source:s,line:St.getArg(r,"originalLine",null),column:St.getArg(r,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}};Zn.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1};Zn.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var i=this._findSourceIndex(e);if(i>=0)return this.sourcesContent[i];var r=e;this.sourceRoot!=null&&(r=St.relative(this.sourceRoot,r));var s;if(this.sourceRoot!=null&&(s=St.urlParse(this.sourceRoot))){var a=r.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!s.path||s.path=="/")&&this._sources.has("/"+r))return this.sourcesContent[this._sources.indexOf("/"+r)]}if(t)return null;throw new Error('"'+r+'" is not in the SourceMap.')};Zn.prototype.generatedPositionFor=function(e){var t=St.getArg(e,"source");if(t=this._findSourceIndex(t),t<0)return{line:null,column:null,lastColumn:null};var i={source:t,originalLine:St.getArg(e,"line"),originalColumn:St.getArg(e,"column")},r=this._findMapping(i,this._originalMappings,"originalLine","originalColumn",St.compareByOriginalPositions,St.getArg(e,"bias",Ji.GREATEST_LOWER_BOUND));if(r>=0){var s=this._originalMappings[r];if(s.source===i.source)return{line:St.getArg(s,"generatedLine",null),column:St.getArg(s,"generatedColumn",null),lastColumn:St.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};yv.BasicSourceMapConsumer=Zn;function Zs(n,e){var t=n;typeof n=="string"&&(t=St.parseSourceMapInput(n));var i=St.getArg(t,"version"),r=St.getArg(t,"sections");if(i!=this._version)throw new Error("Unsupported version: "+i);this._sources=new Wh,this._names=new Wh;var s={line:-1,column:0};this._sections=r.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var o=St.getArg(a,"offset"),l=St.getArg(o,"line"),c=St.getArg(o,"column");if(l<s.line||l===s.line&&c<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=o,{generatedOffset:{generatedLine:l+1,generatedColumn:c+1},consumer:new Ji(St.getArg(a,"map"),e)}})}Zs.prototype=Object.create(Ji.prototype);Zs.prototype.constructor=Ji;Zs.prototype._version=3;Object.defineProperty(Zs.prototype,"sources",{get:function(){for(var n=[],e=0;e<this._sections.length;e++)for(var t=0;t<this._sections[e].consumer.sources.length;t++)n.push(this._sections[e].consumer.sources[t]);return n}});Zs.prototype.originalPositionFor=function(e){var t={generatedLine:St.getArg(e,"line"),generatedColumn:St.getArg(e,"column")},i=sw.search(t,this._sections,function(s,a){var o=s.generatedLine-a.generatedOffset.generatedLine;return o||s.generatedColumn-a.generatedOffset.generatedColumn}),r=this._sections[i];return r?r.consumer.originalPositionFor({line:t.generatedLine-(r.generatedOffset.generatedLine-1),column:t.generatedColumn-(r.generatedOffset.generatedLine===t.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}};Zs.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})};Zs.prototype.sourceContentFor=function(e,t){for(var i=0;i<this._sections.length;i++){var r=this._sections[i],s=r.consumer.sourceContentFor(e,!0);if(s)return s}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')};Zs.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var i=this._sections[t];if(i.consumer._findSourceIndex(St.getArg(e,"source"))!==-1){var r=i.consumer.generatedPositionFor(e);if(r){var s={line:r.line+(i.generatedOffset.generatedLine-1),column:r.column+(i.generatedOffset.generatedLine===r.line?i.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}};Zs.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var i=0;i<this._sections.length;i++)for(var r=this._sections[i],s=r.consumer._generatedMappings,a=0;a<s.length;a++){var o=s[a],l=r.consumer._sources.at(o.source);l=St.computeSourceURL(r.consumer.sourceRoot,l,this._sourceMapURL),this._sources.add(l),l=this._sources.indexOf(l);var c=null;o.name&&(c=r.consumer._names.at(o.name),this._names.add(c),c=this._names.indexOf(c));var u={source:l,generatedLine:o.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:o.generatedColumn+(r.generatedOffset.generatedLine===o.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:o.originalLine,originalColumn:o.originalColumn,name:c};this.__generatedMappings.push(u),typeof u.originalLine=="number"&&this.__originalMappings.push(u)}rp(this.__generatedMappings,St.compareByGeneratedPositionsDeflated),rp(this.__originalMappings,St.compareByOriginalPositions)};yv.IndexedSourceMapConsumer=Zs});var mk=li(pk=>{var zJ=tw().SourceMapGenerator,vv=$h(),VJ=/(\r?\n)/,HJ=10,qh="$$$isSourceNode$$$";function ts(n,e,t,i,r){this.children=[],this.sourceContents={},this.line=n==null?null:n,this.column=e==null?null:e,this.source=t==null?null:t,this.name=r==null?null:r,this[qh]=!0,i!=null&&this.add(i)}ts.fromStringWithSourceMap=function(e,t,i){var r=new ts,s=e.split(VJ),a=0,o=function(){var d=v(),m=v()||"";return d+m;function v(){return a<s.length?s[a++]:void 0}},l=1,c=0,u=null;return t.eachMapping(function(d){if(u!==null)if(l<d.generatedLine)h(u,o()),l++,c=0;else{var m=s[a]||"",v=m.substr(0,d.generatedColumn-c);s[a]=m.substr(d.generatedColumn-c),c=d.generatedColumn,h(u,v),u=d;return}for(;l<d.generatedLine;)r.add(o()),l++;if(c<d.generatedColumn){var m=s[a]||"";r.add(m.substr(0,d.generatedColumn)),s[a]=m.substr(d.generatedColumn),c=d.generatedColumn}u=d},this),a<s.length&&(u&&h(u,o()),r.add(s.splice(a).join(""))),t.sources.forEach(function(d){var m=t.sourceContentFor(d);m!=null&&(i!=null&&(d=vv.join(i,d)),r.setSourceContent(d,m))}),r;function h(d,m){if(d===null||d.source===void 0)r.add(m);else{var v=i?vv.join(i,d.source):d.source;r.add(new ts(d.originalLine,d.originalColumn,v,m,d.name))}}};ts.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(t){this.add(t)},this);else if(e[qh]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};ts.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else if(e[qh]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};ts.prototype.walk=function(e){for(var t,i=0,r=this.children.length;i<r;i++)t=this.children[i],t[qh]?t.walk(e):t!==""&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})};ts.prototype.join=function(e){var t,i,r=this.children.length;if(r>0){for(t=[],i=0;i<r-1;i++)t.push(this.children[i]),t.push(e);t.push(this.children[i]),this.children=t}return this};ts.prototype.replaceRight=function(e,t){var i=this.children[this.children.length-1];return i[qh]?i.replaceRight(e,t):typeof i=="string"?this.children[this.children.length-1]=i.replace(e,t):this.children.push("".replace(e,t)),this};ts.prototype.setSourceContent=function(e,t){this.sourceContents[vv.toSetString(e)]=t};ts.prototype.walkSourceContents=function(e){for(var t=0,i=this.children.length;t<i;t++)this.children[t][qh]&&this.children[t].walkSourceContents(e);for(var r=Object.keys(this.sourceContents),t=0,i=r.length;t<i;t++)e(vv.fromSetString(r[t]),this.sourceContents[r[t]])};ts.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e};ts.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},i=new zJ(e),r=!1,s=null,a=null,o=null,l=null;return this.walk(function(c,u){t.code+=c,u.source!==null&&u.line!==null&&u.column!==null?((s!==u.source||a!==u.line||o!==u.column||l!==u.name)&&i.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:t.line,column:t.column},name:u.name}),s=u.source,a=u.line,o=u.column,l=u.name,r=!0):r&&(i.addMapping({generated:{line:t.line,column:t.column}}),s=null,r=!1);for(var h=0,d=c.length;h<d;h++)c.charCodeAt(h)===HJ?(t.line++,t.column=0,h+1===d?(s=null,r=!1):r&&i.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:t.line,column:t.column},name:u.name})):t.column++}),this.walkSourceContents(function(c,u){i.setSourceContent(c,u)}),{code:t.code,map:i}};pk.SourceNode=ts});var gk=li(_v=>{_v.SourceMapGenerator=tw().SourceMapGenerator;_v.SourceMapConsumer=dk().SourceMapConsumer;_v.SourceNode=mk().SourceNode});var vk=li((xv,yk)=>{(function(n,e){typeof xv=="object"&&typeof yk!="undefined"?e(xv):typeof define=="function"&&define.amd?define(["exports"],e):(n=n||self,e(n.estreeWalker={}))})(xv,function(n){"use strict";class e{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:o=>this.replacement=o}}replace(o,l,c,u){o&&(c!==null?o[l][c]=u:o[l]=u)}remove(o,l,c){o&&(c!==null?o[l].splice(c,1):delete o[l])}}class t extends e{constructor(o,l){super(),this.enter=o,this.leave=l}visit(o,l,c,u){if(o){if(this.enter){let h=this.should_skip,d=this.should_remove,m=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,o,l,c,u),this.replacement&&(o=this.replacement,this.replace(l,c,u,o)),this.should_remove&&this.remove(l,c,u);let v=this.should_skip,_=this.should_remove;if(this.should_skip=h,this.should_remove=d,this.replacement=m,v)return o;if(_)return null}for(let h in o){let d=o[h];if(typeof d=="object")if(Array.isArray(d))for(let m=0;m<d.length;m+=1)d[m]!==null&&typeof d[m].type=="string"&&(this.visit(d[m],o,h,m)||m--);else d!==null&&typeof d.type=="string"&&this.visit(d,o,h,null)}if(this.leave){let h=this.replacement,d=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,o,l,c,u),this.replacement&&(o=this.replacement,this.replace(l,c,u,o)),this.should_remove&&this.remove(l,c,u);let m=this.should_remove;if(this.replacement=h,this.should_remove=d,m)return null}}return o}}class i extends e{constructor(o,l){super(),this.enter=o,this.leave=l}visit(o,l,c,u){return Sn(this,null,function*(){if(o){if(this.enter){let h=this.should_skip,d=this.should_remove,m=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,yield this.enter.call(this.context,o,l,c,u),this.replacement&&(o=this.replacement,this.replace(l,c,u,o)),this.should_remove&&this.remove(l,c,u);let v=this.should_skip,_=this.should_remove;if(this.should_skip=h,this.should_remove=d,this.replacement=m,v)return o;if(_)return null}for(let h in o){let d=o[h];if(typeof d=="object")if(Array.isArray(d))for(let m=0;m<d.length;m+=1)d[m]!==null&&typeof d[m].type=="string"&&((yield this.visit(d[m],o,h,m))||m--);else d!==null&&typeof d.type=="string"&&(yield this.visit(d,o,h,null))}if(this.leave){let h=this.replacement,d=this.should_remove;this.replacement=null,this.should_remove=!1,yield this.leave.call(this.context,o,l,c,u),this.replacement&&(o=this.replacement,this.replace(l,c,u,o)),this.should_remove&&this.remove(l,c,u);let m=this.should_remove;if(this.replacement=h,this.should_remove=d,m)return null}}return o})}}function r(a,{enter:o,leave:l}){return new t(o,l).visit(a,null)}function s(c,u){return Sn(this,arguments,function*(a,{enter:o,leave:l}){return yield new i(o,l).visit(a,null)})}n.asyncWalk=s,n.walk=r,Object.defineProperty(n,"__esModule",{value:!0})})});var MF=li(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});var ot=dl(),Nk=qN(),GJ=gk(),$J=vk();function dw(n){throw n}function kk(n){}function Zi(n,e,t,i){let r=(t||WJ)[n]+(i||""),s=new SyntaxError(String(r));return s.code=n,s.loc=e,s}var WJ={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>.When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:"Error parsing JavaScript expression: ",45:"<KeepAlive> expects exactly one child component.",46:'"prefixIdentifiers" option is not supported in this build of compiler.',47:"ES module mode is not supported in this build of compiler.",48:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',49:'"scopeId" option is only supported in module mode.',50:""},Xh=Symbol(""),jh=Symbol(""),Lv=Symbol(""),lp=Symbol(""),pw=Symbol(""),Rl=Symbol(""),mw=Symbol(""),gw=Symbol(""),Ov=Symbol(""),Nv=Symbol(""),Qh=Symbol(""),kv=Symbol(""),yw=Symbol(""),cp=Symbol(""),up=Symbol(""),Fv=Symbol(""),Bv=Symbol(""),Uv=Symbol(""),zv=Symbol(""),vw=Symbol(""),_w=Symbol(""),Vv=Symbol(""),hp=Symbol(""),Hv=Symbol(""),Gv=Symbol(""),Yh=Symbol(""),ef=Symbol(""),$v=Symbol(""),Cv=Symbol(""),Fk=Symbol(""),Pv=Symbol(""),fp=Symbol(""),Wv=Symbol(""),qv=Symbol(""),jv=Symbol(""),dp=Symbol(""),pp=Symbol(""),Xv=Symbol(""),xw=Symbol(""),Br={[Xh]:"Fragment",[jh]:"Teleport",[Lv]:"Suspense",[lp]:"KeepAlive",[pw]:"BaseTransition",[Rl]:"openBlock",[mw]:"createBlock",[gw]:"createElementBlock",[Ov]:"createVNode",[Nv]:"createElementVNode",[Qh]:"createCommentVNode",[kv]:"createTextVNode",[yw]:"createStaticVNode",[cp]:"resolveComponent",[up]:"resolveDynamicComponent",[Fv]:"resolveDirective",[Bv]:"resolveFilter",[Uv]:"withDirectives",[zv]:"renderList",[vw]:"renderSlot",[_w]:"createSlots",[Vv]:"toDisplayString",[hp]:"mergeProps",[Hv]:"normalizeClass",[Gv]:"normalizeStyle",[Yh]:"normalizeProps",[ef]:"guardReactiveProps",[$v]:"toHandlers",[Cv]:"camelize",[Fk]:"capitalize",[Pv]:"toHandlerKey",[fp]:"setBlockTracking",[Wv]:"pushScopeId",[qv]:"popScopeId",[jv]:"withCtx",[dp]:"unref",[pp]:"isRef",[Xv]:"withMemo",[xw]:"isMemoSame"};function qJ(n){Object.getOwnPropertySymbols(n).forEach(e=>{Br[e]=n[e]})}var Dn={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function Bk(n,e=Dn){return{type:0,children:n,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:e}}function Kh(n,e,t,i,r,s,a,o=!1,l=!1,c=!1,u=Dn){return n&&(o?(n.helper(Rl),n.helper(Hc(n.inSSR,c))):n.helper(Vc(n.inSSR,c)),a&&n.helper(Uv)),{type:13,tag:e,props:t,children:i,patchFlag:r,dynamicProps:s,directives:a,isBlock:o,disableTracking:l,isComponent:c,loc:u}}function tf(n,e=Dn){return{type:17,loc:e,elements:n}}function ns(n,e=Dn){return{type:15,loc:e,properties:n}}function In(n,e){return{type:16,loc:Dn,key:ot.isString(n)?si(n,!0):n,value:e}}function si(n,e=!1,t=Dn,i=0){return{type:4,loc:t,content:n,isStatic:e,constType:e?3:i}}function jJ(n,e){return{type:5,loc:e,content:ot.isString(n)?si(n,!1,e):n}}function is(n,e=Dn){return{type:8,loc:e,children:n}}function $n(n,e=[],t=Dn){return{type:14,loc:t,callee:n,arguments:e}}function Uc(n,e=void 0,t=!1,i=!1,r=Dn){return{type:18,params:n,returns:e,newline:t,isSlot:i,loc:r}}function Iv(n,e,t,i=!0){return{type:19,test:n,consequent:e,alternate:t,newline:i,loc:Dn}}function Uk(n,e,t=!1){return{type:20,index:n,value:e,isVNode:t,loc:Dn}}function zk(n){return{type:21,body:n,loc:Dn}}function XJ(n){return{type:22,elements:n,loc:Dn}}function YJ(n,e,t){return{type:23,test:n,consequent:e,alternate:t,loc:Dn}}function KJ(n,e){return{type:24,left:n,right:e,loc:Dn}}function JJ(n){return{type:25,expressions:n,loc:Dn}}function ZJ(n){return{type:26,returns:n,loc:Dn}}var Ma=n=>n.type===4&&n.isStatic,ap=(n,e)=>n===e||n===ot.hyphenate(e);function bw(n){if(ap(n,"Teleport"))return jh;if(ap(n,"Suspense"))return Lv;if(ap(n,"KeepAlive"))return lp;if(ap(n,"BaseTransition"))return pw}var QJ=/^\d|[^\$\w]/,Ll=n=>!QJ.test(n),eZ=/[A-Za-z_$\xA0-\uFFFF]/,tZ=/[\.\?\w$\xA0-\uFFFF]/,iZ=/\s+[.[]\s*|\s*[.[]\s+/g,nZ=n=>{n=n.trim().replace(iZ,a=>a.trim());let e=0,t=[],i=0,r=0,s=null;for(let a=0;a<n.length;a++){let o=n.charAt(a);switch(e){case 0:if(o==="[")t.push(e),e=1,i++;else if(o==="(")t.push(e),e=2,r++;else if(!(a===0?eZ:tZ).test(o))return!1;break;case 1:o==="'"||o==='"'||o==="`"?(t.push(e),e=3,s=o):o==="["?i++:o==="]"&&(--i||(e=t.pop()));break;case 2:if(o==="'"||o==='"'||o==="`")t.push(e),e=3,s=o;else if(o==="(")r++;else if(o===")"){if(a===n.length-1)return!1;--r||(e=t.pop())}break;case 3:o===s&&(e=t.pop(),s=null);break}}return!i&&!r},Vk=(n,e)=>{try{let t=Nk.parseExpression(n,{plugins:e.expressionPlugins});return(t.type==="TSAsExpression"||t.type==="TSTypeAssertion")&&(t=t.expression),t.type==="MemberExpression"||t.type==="OptionalMemberExpression"||t.type==="Identifier"}catch(t){return!1}},Ew=Vk;function Sw(n,e,t){let r={source:n.source.slice(e,e+t),start:zc(n.start,n.source,e),end:n.end};return t!=null&&(r.end=zc(n.start,n.source,e+t)),r}function zc(n,e,t=e.length){return Jh(ot.extend({},n),e,t)}function Jh(n,e,t=e.length){let i=0,r=-1;for(let s=0;s<t;s++)e.charCodeAt(s)===10&&(i++,r=s);return n.offset+=t,n.line+=i,n.column=r===-1?n.column+t:t-r,n}function rZ(n,e){if(!n)throw new Error(e||"unexpected compiler condition")}function Ur(n,e,t=!1){for(let i=0;i<n.props.length;i++){let r=n.props[i];if(r.type===7&&(t||r.exp)&&(ot.isString(e)?r.name===e:e.test(r.name)))return r}}function mp(n,e,t=!1,i=!1){for(let r=0;r<n.props.length;r++){let s=n.props[r];if(s.type===6){if(t)continue;if(s.name===e&&(s.value||i))return s}else if(s.name==="bind"&&(s.exp||i)&&Dl(s.arg,e))return s}}function Dl(n,e){return!!(n&&Ma(n)&&n.content===e)}function sZ(n){return n.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function Tv(n){return n.type===5||n.type===2}function Tw(n){return n.type===7&&n.name==="slot"}function Zh(n){return n.type===1&&n.tagType===3}function gp(n){return n.type===1&&n.tagType===2}function Vc(n,e){return n||e?Ov:Nv}function Hc(n,e){return n||e?mw:gw}var aZ=new Set([Yh,ef]);function Hk(n,e=[]){if(n&&!ot.isString(n)&&n.type===14){let t=n.callee;if(!ot.isString(t)&&aZ.has(t))return Hk(n.arguments[0],e.concat(n))}return[n,e]}function yp(n,e,t){let i,r=n.type===13?n.props:n.arguments[2],s=[],a;if(r&&!ot.isString(r)&&r.type===14){let o=Hk(r);r=o[0],s=o[1],a=s[s.length-1]}if(r==null||ot.isString(r))i=ns([e]);else if(r.type===14){let o=r.arguments[0];!ot.isString(o)&&o.type===15?o.properties.unshift(e):r.callee===$v?i=$n(t.helper(hp),[ns([e]),r]):r.arguments.unshift(ns([e])),!i&&(i=r)}else if(r.type===15){let o=!1;if(e.key.type===4){let l=e.key.content;o=r.properties.some(c=>c.key.type===4&&c.key.content===l)}o||r.properties.unshift(e),i=r}else i=$n(t.helper(hp),[ns([e]),r]),a&&a.callee===ef&&(a=s[s.length-2]);n.type===13?a?a.arguments[0]=i:n.props=i:a?a.arguments[0]=i:n.arguments[2]=i}function Gc(n,e){return`_${e}_${n.replace(/[^\w]/g,(t,i)=>t==="-"?"_":n.charCodeAt(i).toString())}`}function Fr(n,e){if(!n||Object.keys(e).length===0)return!1;switch(n.type){case 1:for(let t=0;t<n.props.length;t++){let i=n.props[t];if(i.type===7&&(Fr(i.arg,e)||Fr(i.exp,e)))return!0}return n.children.some(t=>Fr(t,e));case 11:return Fr(n.source,e)?!0:n.children.some(t=>Fr(t,e));case 9:return n.branches.some(t=>Fr(t,e));case 10:return Fr(n.condition,e)?!0:n.children.some(t=>Fr(t,e));case 4:return!n.isStatic&&Ll(n.content)&&!!e[n.content];case 8:return n.children.some(t=>ot.isObject(t)&&Fr(t,e));case 5:case 12:return Fr(n.content,e);case 2:case 3:return!1;default:return!1}}function Gk(n){return n.type===14&&n.callee===Xv?n.arguments[1].returns:n}function Yv(n,{helper:e,removeHelper:t,inSSR:i}){n.isBlock||(n.isBlock=!0,t(Vc(i,n.isComponent)),e(Rl),e(Hc(i,n.isComponent)))}var oZ={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:n=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${n}.sync\` should be changed to \`v-model:${n}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_PROP:{message:".prop modifier for v-bind has been removed and no longer necessary. Vue 3 will automatically set a binding as DOM property when appropriate."},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTER:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function lw(n,e){let t=e.options?e.options.compatConfig:e.compatConfig,i=t&&t[n];return n==="MODE"?i||3:i}function Bc(n,e){let t=lw("MODE",e),i=lw(n,e);return t===3?i===!0:i!==!1}function vp(n,e,t,...i){return Bc(n,e)}function lZ(n,e,t,...i){if(lw(n,e)==="suppress-warning")return;let{message:s,link:a}=oZ[n],o=`(deprecation ${n}) ${typeof s=="function"?s(...i):s}${a?`
  Details: ${a}`:""}`,l=new SyntaxError(o);l.code=n,t&&(l.loc=t),e.onWarn(l)}var cZ=/&(gt|lt|amp|apos|quot);/g,uZ={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},_k={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:ot.NO,isPreTag:ot.NO,isCustomElement:ot.NO,decodeEntities:n=>n.replace(cZ,(e,t)=>uZ[t]),onError:dw,onWarn:kk,comments:!1};function $k(n,e={}){let t=hZ(n,e),i=as(t);return Bk(ww(t,0,[]),As(t,i))}function hZ(n,e){let t=ot.extend({},_k),i;for(i in e)t[i]=e[i]===void 0?_k[i]:e[i];return{options:t,column:1,line:1,offset:0,originalSource:n,source:n,inPre:!1,inVPre:!1,onWarn:t.onWarn}}function ww(n,e,t){let i=Kv(t),r=i?i.ns:0,s=[];for(;!xZ(n,e,t);){let o=n.source,l;if(e===0||e===1){if(!n.inVPre&&hr(o,n.options.delimiters[0]))l=vZ(n,e);else if(e===0&&o[0]==="<")if(o.length===1)Bi(n,5,1);else if(o[1]==="!")hr(o,"<!--")?l=dZ(n):hr(o,"<!DOCTYPE")?l=sp(n):hr(o,"<![CDATA[")?r!==0?l=fZ(n,t):(Bi(n,1),l=sp(n)):(Bi(n,11),l=sp(n));else if(o[1]==="/")if(o.length===2)Bi(n,5,2);else if(o[2]===">"){Bi(n,14,2),zn(n,3);continue}else if(/[a-z]/i.test(o[2])){Bi(n,23),cw(n,1,i);continue}else Bi(n,12,2),l=sp(n);else/[a-z]/i.test(o[1])?(l=pZ(n,t),Bc("COMPILER_NATIVE_TEMPLATE",n)&&l&&l.tag==="template"&&!l.props.some(c=>c.type===7&&Wk(c.name))&&(l=l.children)):o[1]==="?"?(Bi(n,21,1),l=sp(n)):Bi(n,12,1)}if(l||(l=_Z(n,e)),ot.isArray(l))for(let c=0;c<l.length;c++)xk(s,l[c]);else xk(s,l)}let a=!1;if(e!==2&&e!==1){let o=n.options.whitespace!=="preserve";for(let l=0;l<s.length;l++){let c=s[l];if(!n.inPre&&c.type===2)if(/[^\t\r\n\f ]/.test(c.content))o&&(c.content=c.content.replace(/[\t\r\n\f ]+/g," "));else{let u=s[l-1],h=s[l+1];!u||!h||o&&(u.type===3||h.type===3||u.type===1&&h.type===1&&/[\r\n]/.test(c.content))?(a=!0,s[l]=null):c.content=" "}else c.type===3&&!n.options.comments&&(a=!0,s[l]=null)}if(n.inPre&&i&&n.options.isPreTag(i.tag)){let l=s[0];l&&l.type===2&&(l.content=l.content.replace(/^\r?\n/,""))}}return a?s.filter(Boolean):s}function xk(n,e){if(e.type===2){let t=Kv(n);if(t&&t.type===2&&t.loc.end.offset===e.loc.start.offset){t.content+=e.content,t.loc.end=e.loc.end,t.loc.source+=e.loc.source;return}}n.push(e)}function fZ(n,e){zn(n,9);let t=ww(n,3,e);return n.source.length===0?Bi(n,6):zn(n,3),t}function dZ(n){let e=as(n),t,i=/--(\!)?>/.exec(n.source);if(!i)t=n.source.slice(4),zn(n,n.source.length),Bi(n,7);else{i.index<=3&&Bi(n,0),i[1]&&Bi(n,10),t=n.source.slice(4,i.index);let r=n.source.slice(0,i.index),s=1,a=0;for(;(a=r.indexOf("<!--",s))!==-1;)zn(n,a-s+1),a+4<r.length&&Bi(n,16),s=a+1;zn(n,i.index+i[0].length-s+1)}return{type:3,content:t,loc:As(n,e)}}function sp(n){let e=as(n),t=n.source[1]==="?"?1:2,i,r=n.source.indexOf(">");return r===-1?(i=n.source.slice(t),zn(n,n.source.length)):(i=n.source.slice(t,r),zn(n,r+1)),{type:3,content:i,loc:As(n,e)}}function pZ(n,e){let t=n.inPre,i=n.inVPre,r=Kv(e),s=cw(n,0,r),a=n.inPre&&!t,o=n.inVPre&&!i;if(s.isSelfClosing||n.options.isVoidTag(s.tag))return a&&(n.inPre=!1),o&&(n.inVPre=!1),s;e.push(s);let l=n.options.getTextMode(s,r),c=ww(n,l,e);e.pop();{let u=s.props.find(h=>h.type===6&&h.name==="inline-template");if(u&&vp("COMPILER_INLINE_TEMPLATE",n,u.loc)){let h=As(n,s.loc.end);u.value={type:2,content:h.source,loc:h}}}if(s.children=c,uw(n.source,s.tag))cw(n,1,r);else if(Bi(n,24,0,s.loc.start),n.source.length===0&&s.tag.toLowerCase()==="script"){let u=c[0];u&&hr(u.loc.source,"<!--")&&Bi(n,8)}return s.loc=As(n,s.loc.start),a&&(n.inPre=!1),o&&(n.inVPre=!1),s}var Wk=ot.makeMap("if,else,else-if,for,slot");function cw(n,e,t){let i=as(n),r=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(n.source),s=r[1],a=n.options.getNamespace(s,t);zn(n,r[0].length),_p(n);let o=as(n),l=n.source;n.options.isPreTag(s)&&(n.inPre=!0);let c=bk(n,e);e===0&&!n.inVPre&&c.some(d=>d.type===7&&d.name==="pre")&&(n.inVPre=!0,ot.extend(n,o),n.source=l,c=bk(n,e).filter(d=>d.name!=="v-pre"));let u=!1;if(n.source.length===0?Bi(n,9):(u=hr(n.source,"/>"),e===1&&u&&Bi(n,4),zn(n,u?2:1)),e===1)return;let h=0;return n.inVPre||(s==="slot"?h=2:s==="template"?c.some(d=>d.type===7&&Wk(d.name))&&(h=3):mZ(s,c,n)&&(h=1)),{type:1,ns:a,tag:s,tagType:h,props:c,isSelfClosing:u,children:[],loc:As(n,i),codegenNode:void 0}}function mZ(n,e,t){let i=t.options;if(i.isCustomElement(n))return!1;if(n==="component"||/^[A-Z]/.test(n)||bw(n)||i.isBuiltInComponent&&i.isBuiltInComponent(n)||i.isNativeTag&&!i.isNativeTag(n))return!0;for(let r=0;r<e.length;r++){let s=e[r];if(s.type===6){if(s.name==="is"&&s.value){if(s.value.content.startsWith("vue:"))return!0;if(vp("COMPILER_IS_ON_ELEMENT",t,s.loc))return!0}}else{if(s.name==="is")return!0;if(s.name==="bind"&&Dl(s.arg,"is")&&vp("COMPILER_IS_ON_ELEMENT",t,s.loc))return!0}}}function bk(n,e){let t=[],i=new Set;for(;n.source.length>0&&!hr(n.source,">")&&!hr(n.source,"/>");){if(hr(n.source,"/")){Bi(n,22),zn(n,1),_p(n);continue}e===1&&Bi(n,3);let r=gZ(n,i);r.type===6&&r.value&&r.name==="class"&&(r.value.content=r.value.content.replace(/\s+/g," ").trim()),e===0&&t.push(r),/^[^\t\r\n\f />]/.test(n.source)&&Bi(n,15),_p(n)}return t}function gZ(n,e){let t=as(n),r=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(n.source)[0];e.has(r)&&Bi(n,2),e.add(r),r[0]==="="&&Bi(n,19);{let o=/["'<]/g,l;for(;l=o.exec(r);)Bi(n,17,l.index)}zn(n,r.length);let s;/^[\t\r\n\f ]*=/.test(n.source)&&(_p(n),zn(n,1),_p(n),s=yZ(n),s||Bi(n,13));let a=As(n,t);if(!n.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(r)){let o=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(r),l=hr(r,"."),c=o[1]||(l||hr(r,":")?"bind":hr(r,"@")?"on":"slot"),u;if(o[2]){let d=c==="slot",m=r.lastIndexOf(o[2]),v=As(n,Ek(n,t,m),Ek(n,t,m+o[2].length+(d&&o[3]||"").length)),_=o[2],g=!0;_.startsWith("[")?(g=!1,_.endsWith("]")?_=_.slice(1,_.length-1):(Bi(n,27),_=_.slice(1))):d&&(_+=o[3]||""),u={type:4,content:_,isStatic:g,constType:g?3:0,loc:v}}if(s&&s.isQuoted){let d=s.loc;d.start.offset++,d.start.column++,d.end=zc(d.start,s.content),d.source=d.source.slice(1,-1)}let h=o[3]?o[3].slice(1).split("."):[];return l&&h.push("prop"),c==="bind"&&u&&h.includes("sync")&&vp("COMPILER_V_BIND_SYNC",n,a,u.loc.source)&&(c="model",h.splice(h.indexOf("sync"),1)),{type:7,name:c,exp:s&&{type:4,content:s.content,isStatic:!1,constType:0,loc:s.loc},arg:u,modifiers:h,loc:a}}return!n.inVPre&&hr(r,"v-")&&Bi(n,26),{type:6,name:r,value:s&&{type:2,content:s.content,loc:s.loc},loc:a}}function yZ(n){let e=as(n),t,i=n.source[0],r=i==='"'||i==="'";if(r){zn(n,1);let s=n.source.indexOf(i);s===-1?t=op(n,n.source.length,4):(t=op(n,s,4),zn(n,1))}else{let s=/^[^\t\r\n\f >]+/.exec(n.source);if(!s)return;let a=/["'<=`]/g,o;for(;o=a.exec(s[0]);)Bi(n,18,o.index);t=op(n,s[0].length,4)}return{content:t,isQuoted:r,loc:As(n,e)}}function vZ(n,e){let[t,i]=n.options.delimiters,r=n.source.indexOf(i,t.length);if(r===-1){Bi(n,25);return}let s=as(n);zn(n,t.length);let a=as(n),o=as(n),l=r-t.length,c=n.source.slice(0,l),u=op(n,l,e),h=u.trim(),d=u.indexOf(h);d>0&&Jh(a,c,d);let m=l-(u.length-h.length-d);return Jh(o,c,m),zn(n,i.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:h,loc:As(n,a,o)},loc:As(n,s)}}function _Z(n,e){let t=e===3?["]]>"]:["<",n.options.delimiters[0]],i=n.source.length;for(let a=0;a<t.length;a++){let o=n.source.indexOf(t[a],1);o!==-1&&i>o&&(i=o)}let r=as(n);return{type:2,content:op(n,i,e),loc:As(n,r)}}function op(n,e,t){let i=n.source.slice(0,e);return zn(n,e),t===2||t===3||!i.includes("&")?i:n.options.decodeEntities(i,t===4)}function as(n){let{column:e,line:t,offset:i}=n;return{column:e,line:t,offset:i}}function As(n,e,t){return t=t||as(n),{start:e,end:t,source:n.originalSource.slice(e.offset,t.offset)}}function Kv(n){return n[n.length-1]}function hr(n,e){return n.startsWith(e)}function zn(n,e){let{source:t}=n;Jh(n,t,e),n.source=t.slice(e)}function _p(n){let e=/^[\t\r\n\f ]+/.exec(n.source);e&&zn(n,e[0].length)}function Ek(n,e,t){return zc(e,n.originalSource.slice(e.offset,t),t)}function Bi(n,e,t,i=as(n)){t&&(i.offset+=t,i.column+=t),n.options.onError(Zi(e,{start:i,end:i,source:""}))}function xZ(n,e,t){let i=n.source;switch(e){case 0:if(hr(i,"</")){for(let r=t.length-1;r>=0;--r)if(uw(i,t[r].tag))return!0}break;case 1:case 2:{let r=Kv(t);if(r&&uw(i,r.tag))return!0;break}case 3:if(hr(i,"]]>"))return!0;break}return!i}function uw(n,e){return hr(n,"</")&&n.slice(2,2+e.length).toLowerCase()===e.toLowerCase()&&/[\t\r\n\f />]/.test(n[2+e.length]||">")}function bZ(n,e){wv(n,e,qk(n,n.children[0]))}function qk(n,e){let{children:t}=n;return t.length===1&&e.type===1&&!gp(e)}function wv(n,e,t=!1){let{children:i}=n,r=i.length,s=0;for(let a=0;a<i.length;a++){let o=i[a];if(o.type===1&&o.tagType===0){let l=t?0:rs(o,e);if(l>0){if(l>=2){o.codegenNode.patchFlag="-1",o.codegenNode=e.hoist(o.codegenNode),s++;continue}}else{let c=o.codegenNode;if(c.type===13){let u=Kk(c);if((!u||u===512||u===1)&&Xk(o,e)>=2){let h=Yk(o);h&&(c.props=e.hoist(h))}c.dynamicProps&&(c.dynamicProps=e.hoist(c.dynamicProps))}}}else o.type===12&&rs(o.content,e)>=2&&(o.codegenNode=e.hoist(o.codegenNode),s++);if(o.type===1){let l=o.tagType===1;l&&e.scopes.vSlot++,wv(o,e),l&&e.scopes.vSlot--}else if(o.type===11)wv(o,e,o.children.length===1);else if(o.type===9)for(let l=0;l<o.branches.length;l++)wv(o.branches[l],e,o.branches[l].children.length===1)}s&&e.transformHoist&&e.transformHoist(i,e,n),s&&s===r&&n.type===1&&n.tagType===0&&n.codegenNode&&n.codegenNode.type===13&&ot.isArray(n.codegenNode.children)&&(n.codegenNode.children=e.hoist(tf(n.codegenNode.children)))}function rs(n,e){let{constantCache:t}=e;switch(n.type){case 1:if(n.tagType!==0)return 0;let i=t.get(n);if(i!==void 0)return i;let r=n.codegenNode;if(r.type!==13||r.isBlock&&n.tag!=="svg"&&n.tag!=="foreignObject")return 0;if(Kk(r))return t.set(n,0),0;{let o=3,l=Xk(n,e);if(l===0)return t.set(n,0),0;l<o&&(o=l);for(let c=0;c<n.children.length;c++){let u=rs(n.children[c],e);if(u===0)return t.set(n,0),0;u<o&&(o=u)}if(o>1)for(let c=0;c<n.props.length;c++){let u=n.props[c];if(u.type===7&&u.name==="bind"&&u.exp){let h=rs(u.exp,e);if(h===0)return t.set(n,0),0;h<o&&(o=h)}}if(r.isBlock){for(let c=0;c<n.props.length;c++)if(n.props[c].type===7)return t.set(n,0),0;e.removeHelper(Rl),e.removeHelper(Hc(e.inSSR,r.isComponent)),r.isBlock=!1,e.helper(Vc(e.inSSR,r.isComponent))}return t.set(n,o),o}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return rs(n.content,e);case 4:return n.constType;case 8:let a=3;for(let o=0;o<n.children.length;o++){let l=n.children[o];if(ot.isString(l)||ot.isSymbol(l))continue;let c=rs(l,e);if(c===0)return 0;c<a&&(a=c)}return a;default:return 0}}var EZ=new Set([Hv,Gv,Yh,ef]);function jk(n,e){if(n.type===14&&!ot.isString(n.callee)&&EZ.has(n.callee)){let t=n.arguments[0];if(t.type===4)return rs(t,e);if(t.type===14)return jk(t,e)}return 0}function Xk(n,e){let t=3,i=Yk(n);if(i&&i.type===15){let{properties:r}=i;for(let s=0;s<r.length;s++){let{key:a,value:o}=r[s],l=rs(a,e);if(l===0)return l;l<t&&(t=l);let c;if(o.type===4?c=rs(o,e):o.type===14?c=jk(o,e):c=0,c===0)return c;c<t&&(t=c)}}return t}function Yk(n){let e=n.codegenNode;if(e.type===13)return e.props}function Kk(n){let e=n.patchFlag;return e?parseInt(e,10):void 0}function Jk(n,{filename:e="",prefixIdentifiers:t=!1,hoistStatic:i=!1,cacheHandlers:r=!1,nodeTransforms:s=[],directiveTransforms:a={},transformHoist:o=null,isBuiltInComponent:l=ot.NOOP,isCustomElement:c=ot.NOOP,expressionPlugins:u=[],scopeId:h=null,slotted:d=!0,ssr:m=!1,inSSR:v=!1,ssrCssVars:_="",bindingMetadata:g=ot.EMPTY_OBJ,inline:y=!1,isTS:b=!1,onError:E=dw,onWarn:w=kk,compatConfig:D}){let P=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),M={selfName:P&&ot.capitalize(ot.camelize(P[1])),prefixIdentifiers:t,hoistStatic:i,cacheHandlers:r,nodeTransforms:s,directiveTransforms:a,transformHoist:o,isBuiltInComponent:l,isCustomElement:c,expressionPlugins:u,scopeId:h,slotted:d,ssr:m,inSSR:v,ssrCssVars:_,bindingMetadata:g,inline:y,isTS:b,onError:E,onWarn:w,compatConfig:D,root:n,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:n,childIndex:0,inVOnce:!1,helper(A){let N=M.helpers.get(A)||0;return M.helpers.set(A,N+1),A},removeHelper(A){let N=M.helpers.get(A);if(N){let G=N-1;G?M.helpers.set(A,G):M.helpers.delete(A)}},helperString(A){return`_${Br[M.helper(A)]}`},replaceNode(A){M.parent.children[M.childIndex]=M.currentNode=A},removeNode(A){let N=M.parent.children,G=A?N.indexOf(A):M.currentNode?M.childIndex:-1;!A||A===M.currentNode?(M.currentNode=null,M.onNodeRemoved()):M.childIndex>G&&(M.childIndex--,M.onNodeRemoved()),M.parent.children.splice(G,1)},onNodeRemoved:()=>{},addIdentifiers(A){ot.isString(A)?R(A):A.identifiers?A.identifiers.forEach(R):A.type===4&&R(A.content)},removeIdentifiers(A){ot.isString(A)?I(A):A.identifiers?A.identifiers.forEach(I):A.type===4&&I(A.content)},hoist(A){ot.isString(A)&&(A=si(A)),M.hoists.push(A);let N=si(`_hoisted_${M.hoists.length}`,!1,A.loc,2);return N.hoisted=A,N},cache(A,N=!1){return Uk(M.cached++,A,N)}};M.filters=new Set;function R(A){let{identifiers:N}=M;N[A]===void 0&&(N[A]=0),N[A]++}function I(A){M.identifiers[A]--}return M}function Zk(n,e){let t=Jk(n,e);xp(n,t),e.hoistStatic&&bZ(n,t),e.ssr||SZ(n,t),n.helpers=[...t.helpers.keys()],n.components=[...t.components],n.directives=[...t.directives],n.imports=t.imports,n.hoists=t.hoists,n.temps=t.temps,n.cached=t.cached,n.filters=[...t.filters]}function SZ(n,e){let{helper:t}=e,{children:i}=n;if(i.length===1){let r=i[0];if(qk(n,r)&&r.codegenNode){let s=r.codegenNode;s.type===13&&Yv(s,e),n.codegenNode=s}else n.codegenNode=r}else if(i.length>1){let r=64;ot.PatchFlagNames[64],n.codegenNode=Kh(e,t(Xh),void 0,n.children,r+"",void 0,void 0,!0,void 0,!1)}}function TZ(n,e){let t=0,i=()=>{t--};for(;t<n.children.length;t++){let r=n.children[t];ot.isString(r)||(e.parent=n,e.childIndex=t,e.onNodeRemoved=i,xp(r,e))}}function xp(n,e){e.currentNode=n;let{nodeTransforms:t}=e,i=[];for(let s=0;s<t.length;s++){let a=t[s](n,e);if(a&&(ot.isArray(a)?i.push(...a):i.push(a)),e.currentNode)n=e.currentNode;else return}switch(n.type){case 3:e.ssr||e.helper(Qh);break;case 5:e.ssr||e.helper(Vv);break;case 9:for(let s=0;s<n.branches.length;s++)xp(n.branches[s],e);break;case 10:case 11:case 1:case 0:TZ(n,e);break}e.currentNode=n;let r=i.length;for(;r--;)i[r]()}function Aw(n,e){let t=ot.isString(n)?i=>i===n:i=>n.test(i);return(i,r)=>{if(i.type===1){let{props:s}=i;if(i.tagType===3&&s.some(Tw))return;let a=[];for(let o=0;o<s.length;o++){let l=s[o];if(l.type===7&&t(l.name)){s.splice(o,1),o--;let c=e(i,l,r);c&&a.push(c)}}return a}}}var bp="/*#__PURE__*/",Av=n=>`${Br[n]}: _${Br[n]}`;function Sk(n,{mode:e="function",prefixIdentifiers:t=e==="module",sourceMap:i=!1,filename:r="template.vue.html",scopeId:s=null,optimizeImports:a=!1,runtimeGlobalName:o="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:h=!1,inSSR:d=!1}){let m={mode:e,prefixIdentifiers:t,sourceMap:i,filename:r,scopeId:s,optimizeImports:a,runtimeGlobalName:o,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:h,inSSR:d,source:n.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(g){return`_${Br[g]}`},push(g,y){if(m.code+=g,m.map){if(y){let b;if(y.type===4&&!y.isStatic){let E=y.content.replace(/^_ctx\./,"");E!==y.content&&Ll(E)&&(b=E)}_(y.loc.start,b)}Jh(m,g),y&&y.loc!==Dn&&_(y.loc.end)}},indent(){v(++m.indentLevel)},deindent(g=!1){g?--m.indentLevel:v(--m.indentLevel)},newline(){v(m.indentLevel)}};function v(g){m.push(`
`+"  ".repeat(g))}function _(g,y){m.map.addMapping({name:y,source:m.filename,original:{line:g.line,column:g.column-1},generated:{line:m.line,column:m.column-1}})}return i&&(m.map=new GJ.SourceMapGenerator,m.map.setSourceContent(r,m.source)),m}function Qk(n,e={}){let t=Sk(n,e);e.onContextCreated&&e.onContextCreated(t);let{mode:i,push:r,prefixIdentifiers:s,indent:a,deindent:o,newline:l,scopeId:c,ssr:u}=t,h=n.helpers.length>0,d=!s&&i!=="module",m=c!=null&&i==="module",v=!!e.inline,_=v?Sk(n,e):t;i==="module"?AZ(n,_,m,v):wZ(n,_);let g=u?"ssrRender":"render",y=u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"];e.bindingMetadata&&!e.inline&&y.push("$props","$setup","$data","$options");let b=e.isTS?y.map(E=>`${E}: any`).join(","):y.join(", ");if(r(v?`(${b}) => {`:`function ${g}(${b}) {`),a(),d&&(r("with (_ctx) {"),a(),h&&(r(`const { ${n.helpers.map(Av).join(", ")} } = _Vue`),r(`
`),l())),n.components.length&&(aw(n.components,"component",t),(n.directives.length||n.temps>0)&&l()),n.directives.length&&(aw(n.directives,"directive",t),n.temps>0&&l()),n.filters&&n.filters.length&&(l(),aw(n.filters,"filter",t),l()),n.temps>0){r("let ");for(let E=0;E<n.temps;E++)r(`${E>0?", ":""}_temp${E}`)}return(n.components.length||n.directives.length||n.temps)&&(r(`
`),l()),u||r("return "),n.codegenNode?tn(n.codegenNode,t):r("null"),d&&(o(),r("}")),o(),r("}"),{ast:n,code:t.code,preamble:v?_.code:"",map:t.map?t.map.toJSON():void 0}}function wZ(n,e){let{ssr:t,prefixIdentifiers:i,push:r,newline:s,runtimeModuleName:a,runtimeGlobalName:o,ssrRuntimeModuleName:l}=e,c=t?`require(${JSON.stringify(a)})`:o;if(n.helpers.length>0){if(i)r(`const { ${n.helpers.map(Av).join(", ")} } = ${c}
`);else if(r(`const _Vue = ${c}
`),n.hoists.length){let u=[Ov,Nv,Qh,kv,yw].filter(h=>n.helpers.includes(h)).map(Av).join(", ");r(`const { ${u} } = _Vue
`)}}n.ssrHelpers&&n.ssrHelpers.length&&r(`const { ${n.ssrHelpers.map(Av).join(", ")} } = require("${l}")
`),eF(n.hoists,e),s(),r("return ")}function AZ(n,e,t,i){let{push:r,newline:s,optimizeImports:a,runtimeModuleName:o,ssrRuntimeModuleName:l}=e;t&&n.hoists.length&&n.helpers.push(Wv,qv),n.helpers.length&&(a?(r(`import { ${n.helpers.map(c=>Br[c]).join(", ")} } from ${JSON.stringify(o)}
`),r(`
// Binding optimization for webpack code-split
const ${n.helpers.map(c=>`_${Br[c]} = ${Br[c]}`).join(", ")}
`)):r(`import { ${n.helpers.map(c=>`${Br[c]} as _${Br[c]}`).join(", ")} } from ${JSON.stringify(o)}
`)),n.ssrHelpers&&n.ssrHelpers.length&&r(`import { ${n.ssrHelpers.map(c=>`${Br[c]} as _${Br[c]}`).join(", ")} } from "${l}"
`),n.imports.length&&(MZ(n.imports,e),s()),eF(n.hoists,e),s(),i||r("export ")}function aw(n,e,{helper:t,push:i,newline:r,isTS:s}){let a=t(e==="filter"?Bv:e==="component"?cp:Fv);for(let o=0;o<n.length;o++){let l=n[o],c=l.endsWith("__self");c&&(l=l.slice(0,-6)),i(`const ${Gc(l,e)} = ${a}(${JSON.stringify(l)}${c?", true":""})${s?"!":""}`),o<n.length-1&&r()}}function eF(n,e){if(!n.length)return;e.pure=!0;let{push:t,newline:i,helper:r,scopeId:s,mode:a}=e,o=s!=null&&a!=="function";i(),o&&(t(`const _withScopeId = n => (${r(Wv)}("${s}"),n=n(),${r(qv)}(),n)`),i());for(let l=0;l<n.length;l++){let c=n[l];if(c){let u=o&&c.type===13;t(`const _hoisted_${l+1} = ${u?`${bp} _withScopeId(() => `:""}`),tn(c,e),u&&t(")"),i()}}e.pure=!1}function MZ(n,e){n.length&&n.forEach(t=>{e.push("import "),tn(t.exp,e),e.push(` from '${t.path}'`),e.newline()})}function CZ(n){return ot.isString(n)||n.type===4||n.type===2||n.type===5||n.type===8}function Jv(n,e){let t=n.length>3||n.some(i=>ot.isArray(i)||!CZ(i));e.push("["),t&&e.indent(),nf(n,e,t),t&&e.deindent(),e.push("]")}function nf(n,e,t=!1,i=!0){let{push:r,newline:s}=e;for(let a=0;a<n.length;a++){let o=n[a];ot.isString(o)?r(o):ot.isArray(o)?Jv(o,e):tn(o,e),a<n.length-1&&(t?(i&&r(","),s()):i&&r(", "))}}function tn(n,e){if(ot.isString(n)){e.push(n);return}if(ot.isSymbol(n)){e.push(e.helper(n));return}switch(n.type){case 1:case 9:case 11:tn(n.codegenNode,e);break;case 2:PZ(n,e);break;case 4:tF(n,e);break;case 5:IZ(n,e);break;case 12:tn(n.codegenNode,e);break;case 8:iF(n,e);break;case 3:RZ(n,e);break;case 13:LZ(n,e);break;case 14:NZ(n,e);break;case 15:kZ(n,e);break;case 17:FZ(n,e);break;case 18:BZ(n,e);break;case 19:UZ(n,e);break;case 20:zZ(n,e);break;case 21:nf(n.body,e,!0,!1);break;case 22:VZ(n,e);break;case 23:nF(n,e);break;case 24:HZ(n,e);break;case 25:GZ(n,e);break;case 26:$Z(n,e);break}}function PZ(n,e){e.push(JSON.stringify(n.content),n)}function tF(n,e){let{content:t,isStatic:i}=n;e.push(i?JSON.stringify(t):t,n)}function IZ(n,e){let{push:t,helper:i,pure:r}=e;r&&t(bp),t(`${i(Vv)}(`),tn(n.content,e),t(")")}function iF(n,e){for(let t=0;t<n.children.length;t++){let i=n.children[t];ot.isString(i)?e.push(i):tn(i,e)}}function DZ(n,e){let{push:t}=e;if(n.type===8)t("["),iF(n,e),t("]");else if(n.isStatic){let i=Ll(n.content)?n.content:JSON.stringify(n.content);t(i,n)}else t(`[${n.content}]`,n)}function RZ(n,e){let{push:t,helper:i,pure:r}=e;r&&t(bp),t(`${i(Qh)}(${JSON.stringify(n.content)})`,n)}function LZ(n,e){let{push:t,helper:i,pure:r}=e,{tag:s,props:a,children:o,patchFlag:l,dynamicProps:c,directives:u,isBlock:h,disableTracking:d,isComponent:m}=n;u&&t(i(Uv)+"("),h&&t(`(${i(Rl)}(${d?"true":""}), `),r&&t(bp);let v=h?Hc(e.inSSR,m):Vc(e.inSSR,m);t(i(v)+"(",n),nf(OZ([s,a,o,l,c]),e),t(")"),h&&t(")"),u&&(t(", "),tn(u,e),t(")"))}function OZ(n){let e=n.length;for(;e--&&n[e]==null;);return n.slice(0,e+1).map(t=>t||"null")}function NZ(n,e){let{push:t,helper:i,pure:r}=e,s=ot.isString(n.callee)?n.callee:i(n.callee);r&&t(bp),t(s+"(",n),nf(n.arguments,e),t(")")}function kZ(n,e){let{push:t,indent:i,deindent:r,newline:s}=e,{properties:a}=n;if(!a.length){t("{}",n);return}let o=a.length>1||a.some(l=>l.value.type!==4);t(o?"{":"{ "),o&&i();for(let l=0;l<a.length;l++){let{key:c,value:u}=a[l];DZ(c,e),t(": "),tn(u,e),l<a.length-1&&(t(","),s())}o&&r(),t(o?"}":" }")}function FZ(n,e){Jv(n.elements,e)}function BZ(n,e){let{push:t,indent:i,deindent:r}=e,{params:s,returns:a,body:o,newline:l,isSlot:c}=n;c&&t(`_${Br[jv]}(`),t("(",n),ot.isArray(s)?nf(s,e):s&&tn(s,e),t(") => "),(l||o)&&(t("{"),i()),a?(l&&t("return "),ot.isArray(a)?Jv(a,e):tn(a,e)):o&&tn(o,e),(l||o)&&(r(),t("}")),c&&(n.isNonScopedSlot&&t(", undefined, true"),t(")"))}function UZ(n,e){let{test:t,consequent:i,alternate:r,newline:s}=n,{push:a,indent:o,deindent:l,newline:c}=e;if(t.type===4){let h=!Ll(t.content);h&&a("("),tF(t,e),h&&a(")")}else a("("),tn(t,e),a(")");s&&o(),e.indentLevel++,s||a(" "),a("? "),tn(i,e),e.indentLevel--,s&&c(),s||a(" "),a(": ");let u=r.type===19;u||e.indentLevel++,tn(r,e),u||e.indentLevel--,s&&l(!0)}function zZ(n,e){let{push:t,helper:i,indent:r,deindent:s,newline:a}=e;t(`_cache[${n.index}] || (`),n.isVNode&&(r(),t(`${i(fp)}(-1),`),a()),t(`_cache[${n.index}] = `),tn(n.value,e),n.isVNode&&(t(","),a(),t(`${i(fp)}(1),`),a(),t(`_cache[${n.index}]`),s()),t(")")}function VZ(n,e){let{push:t,indent:i,deindent:r}=e;t("`");let s=n.elements.length,a=s>3;for(let o=0;o<s;o++){let l=n.elements[o];ot.isString(l)?t(l.replace(/(`|\$|\\)/g,"\\$1")):(t("${"),a&&i(),tn(l,e),a&&r(),t("}"))}t("`")}function nF(n,e){let{push:t,indent:i,deindent:r}=e,{test:s,consequent:a,alternate:o}=n;t("if ("),tn(s,e),t(") {"),i(),tn(a,e),r(),t("}"),o&&(t(" else "),o.type===23?nF(o,e):(t("{"),i(),tn(o,e),r(),t("}")))}function HZ(n,e){tn(n.left,e),e.push(" = "),tn(n.right,e)}function GZ(n,e){e.push("("),nf(n.expressions,e),e.push(")")}function $Z({returns:n},e){e.push("return "),ot.isArray(n)?Jv(n,e):tn(n,e)}function rF(n,e,t=!1,i=[],r=Object.create(null)){let s=n.type==="Program"&&n.body[0].type==="ExpressionStatement"&&n.body[0].expression;$J.walk(n,{enter(a,o){if(o&&i.push(o),o&&o.type.startsWith("TS")&&o.type!=="TSAsExpression"&&o.type!=="TSNonNullExpression"&&o.type!=="TSTypeAssertion")return this.skip();if(a.type==="Identifier"){let l=!!r[a.name],c=sF(a,o,i);(t||c&&!l)&&e(a,o,i,c,l)}else a.type==="ObjectProperty"&&o.type==="ObjectPattern"?a.inPattern=!0:lF(a)?aF(a,l=>Tk(a,l,r)):a.type==="BlockStatement"&&oF(a,l=>Tk(a,l,r))},leave(a,o){if(o&&i.pop(),a!==s&&a.scopeIds)for(let l of a.scopeIds)r[l]--,r[l]===0&&delete r[l]}})}function sF(n,e,t){if(!e)return!0;if(n.name==="arguments")return!1;if(WZ(n,e))return!0;switch(e.type){case"AssignmentExpression":case"AssignmentPattern":return!0;case"ObjectPattern":case"ArrayPattern":return Mw(e,t)}return!1}function Mw(n,e){if(n&&(n.type==="ObjectProperty"||n.type==="ArrayPattern")){let t=e.length;for(;t--;){let i=e[t];if(i.type==="AssignmentExpression")return!0;if(i.type!=="ObjectProperty"&&!i.type.endsWith("Pattern"))break}}return!1}function aF(n,e){for(let t of n.params)for(let i of Il(t))e(i)}function oF(n,e){for(let t of n.body)if(t.type==="VariableDeclaration"){if(t.declare)continue;for(let i of t.declarations)for(let r of Il(i.id))e(r)}else if(t.type==="FunctionDeclaration"||t.type==="ClassDeclaration"){if(t.declare||!t.id)continue;e(t.id)}}function Il(n,e=[]){switch(n.type){case"Identifier":e.push(n);break;case"MemberExpression":let t=n;for(;t.type==="MemberExpression";)t=t.object;e.push(t);break;case"ObjectPattern":for(let i of n.properties)i.type==="RestElement"?Il(i.argument,e):Il(i.value,e);break;case"ArrayPattern":n.elements.forEach(i=>{i&&Il(i,e)});break;case"RestElement":Il(n.argument,e);break;case"AssignmentPattern":Il(n.left,e);break}return e}function Tk(n,e,t){let{name:i}=e;n.scopeIds&&n.scopeIds.has(i)||(i in t?t[i]++:t[i]=1,(n.scopeIds||(n.scopeIds=new Set)).add(i))}var lF=n=>/Function(?:Expression|Declaration)$|Method$/.test(n.type),Cw=n=>n&&(n.type==="ObjectProperty"||n.type==="ObjectMethod")&&!n.computed,cF=(n,e)=>Cw(e)&&e.key===n;function WZ(n,e,t){switch(e.type){case"MemberExpression":case"OptionalMemberExpression":return e.property===n?!!e.computed:e.object===n;case"JSXMemberExpression":return e.object===n;case"VariableDeclarator":return e.init===n;case"ArrowFunctionExpression":return e.body===n;case"PrivateName":return!1;case"ClassMethod":case"ClassPrivateMethod":case"ObjectMethod":return e.key===n?!!e.computed:!1;case"ObjectProperty":return e.key===n?!!e.computed:!t||t.type!=="ObjectPattern";case"ClassProperty":return e.key===n?!!e.computed:!0;case"ClassPrivateProperty":return e.key!==n;case"ClassDeclaration":case"ClassExpression":return e.superClass===n;case"AssignmentExpression":return e.right===n;case"AssignmentPattern":return e.right===n;case"LabeledStatement":return!1;case"CatchClause":return!1;case"RestElement":return!1;case"BreakStatement":case"ContinueStatement":return!1;case"FunctionDeclaration":case"FunctionExpression":return!1;case"ExportNamespaceSpecifier":case"ExportDefaultSpecifier":return!1;case"ExportSpecifier":return t!=null&&t.source?!1:e.local===n;case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":return!1;case"ImportAttribute":return!1;case"JSXAttribute":return!1;case"ObjectPattern":case"ArrayPattern":return!1;case"MetaProperty":return!1;case"ObjectTypeProperty":return e.key!==n;case"TSEnumMember":return e.id!==n;case"TSPropertySignature":return e.key===n?!!e.computed:!0}return!0}var qZ=ot.makeMap("true,false,null,this"),uF=(n,e)=>{if(n.type===5)n.content=ss(n.content,e);else if(n.type===1)for(let t=0;t<n.props.length;t++){let i=n.props[t];if(i.type===7&&i.name!=="for"){let r=i.exp,s=i.arg;r&&r.type===4&&!(i.name==="on"&&s)&&(i.exp=ss(r,e,i.name==="slot")),s&&s.type===4&&!s.isStatic&&(i.arg=ss(s,e))}}};function ss(n,e,t=!1,i=!1,r=Object.create(e.identifiers)){if(!e.prefixIdentifiers||!n.content.trim())return n;let{inline:s,bindingMetadata:a}=e,o=(y,b,E)=>{let w=ot.hasOwn(a,y)&&a[y];if(s){let D=b&&b.type==="AssignmentExpression"&&b.left===E,P=b&&b.type==="UpdateExpression"&&b.argument===E,M=b&&Mw(b,m);if(w==="setup-const"||w==="setup-reactive-const"||r[y])return y;if(w==="setup-ref")return`${y}.value`;if(w==="setup-maybe-ref")return D||P||M?`${y}.value`:`${e.helperString(dp)}(${y})`;if(w==="setup-let")if(D){let{right:R,operator:I}=b,A=l.slice(R.start-1,R.end-1),N=hF(ss(si(A,!1),e,!1,!1,v));return`${e.helperString(pp)}(${y})${e.isTS?` //@ts-ignore
`:""} ? ${y}.value ${I} ${N} : ${y}`}else if(P){E.start=b.start,E.end=b.end;let{prefix:R,operator:I}=b,A=R?I:"",N=R?"":I;return`${e.helperString(pp)}(${y})${e.isTS?` //@ts-ignore
`:""} ? ${A}${y}.value${N} : ${A}${y}${N}`}else return M?y:`${e.helperString(dp)}(${y})`;else{if(w==="props")return ot.genPropsAccessExp(y);if(w==="props-aliased")return ot.genPropsAccessExp(a.__propsAliases[y])}}else{if(w&&w.startsWith("setup"))return`$setup.${y}`;if(w==="props-aliased")return`$props['${a.__propsAliases[y]}']`;if(w)return`$${w}.${y}`}return`_ctx.${y}`},l=n.content,c=l.indexOf("(")>-1||l.indexOf(".")>0;if(Ll(l)){let y=e.identifiers[l],b=ot.isGloballyWhitelisted(l),E=qZ(l);return!t&&!y&&!b&&!E?(a[n.content]==="setup-const"&&(n.constType=1),n.content=o(l)):y||(E?n.constType=3:n.constType=2),n}let u,h=i?` ${l} `:`(${l})${t?"=>{}":""}`;try{u=Nk.parse(h,{plugins:e.expressionPlugins}).program}catch(y){return e.onError(Zi(44,n.loc,void 0,y.message)),n}let d=[],m=[],v=Object.create(e.identifiers);rF(u,(y,b,E,w,D)=>{if(cF(y,b)||y.name.startsWith("_filter_"))return;let P=w&&jZ(y);P&&!D?(Cw(b)&&b.shorthand&&(y.prefix=`${y.name}: `),y.name=o(y.name,b,y),d.push(y)):(!(P&&D)&&!c&&(y.isConstant=!0),d.push(y))},!0,m,v);let _=[];d.sort((y,b)=>y.start-b.start),d.forEach((y,b)=>{let E=y.start-1,w=y.end-1,D=d[b-1],P=l.slice(D?D.end-1:0,E);(P.length||y.prefix)&&_.push(P+(y.prefix||""));let M=l.slice(E,w);_.push(si(y.name,!1,{source:M,start:zc(n.loc.start,M,E),end:zc(n.loc.start,M,w)},y.isConstant?3:0)),b===d.length-1&&w<l.length&&_.push(l.slice(w))});let g;return _.length?g=is(_,n.loc):(g=n,g.constType=c?0:3),g.identifiers=Object.keys(v),g}function jZ(n){return!(ot.isGloballyWhitelisted(n.name)||n.name==="require")}function hF(n){return ot.isString(n)?n:n.type===4?n.content:n.children.map(hF).join("")}var XZ=Aw(/^(if|else|else-if)$/,(n,e,t)=>fF(n,e,t,(i,r,s)=>{let a=t.parent.children,o=a.indexOf(i),l=0;for(;o-->=0;){let c=a[o];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(s)i.codegenNode=Ak(r,l,t);else{let c=KZ(i.codegenNode);c.alternate=Ak(r,l+i.branches.length-1,t)}}}));function fF(n,e,t,i){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){let r=e.exp?e.exp.loc:n.loc;t.onError(Zi(28,e.loc)),e.exp=si("true",!1,r)}if(t.prefixIdentifiers&&e.exp&&(e.exp=ss(e.exp,t)),e.name==="if"){let r=wk(n,e),s={type:9,loc:n.loc,branches:[r]};if(t.replaceNode(s),i)return i(s,r,!0)}else{let r=t.parent.children,s=r.indexOf(n);for(;s-->=-1;){let a=r[s];if(a&&a.type===2&&!a.content.trim().length){t.removeNode(a);continue}if(a&&a.type===9){e.name==="else-if"&&a.branches[a.branches.length-1].condition===void 0&&t.onError(Zi(30,n.loc)),t.removeNode();let o=wk(n,e);{let c=o.userKey;c&&a.branches.forEach(({userKey:u})=>{YZ(u,c)&&t.onError(Zi(29,o.userKey.loc))})}a.branches.push(o);let l=i&&i(a,o,!1);xp(o,t),l&&l(),t.currentNode=null}else t.onError(Zi(30,n.loc));break}}}function wk(n,e){let t=n.tagType===3;return{type:10,loc:n.loc,condition:e.name==="else"?void 0:e.exp,children:t&&!Ur(n,"for")?n.children:[n],userKey:mp(n,"key"),isTemplateIf:t}}function Ak(n,e,t){return n.condition?Iv(n.condition,Mk(n,e,t),$n(t.helper(Qh),['""',"true"])):Mk(n,e,t)}function Mk(n,e,t){let{helper:i}=t,r=In("key",si(`${e}`,!1,Dn,2)),{children:s}=n,a=s[0];if(s.length!==1||a.type!==1)if(s.length===1&&a.type===11){let l=a.codegenNode;return yp(l,r,t),l}else{let l=64;return ot.PatchFlagNames[64],Kh(t,i(Xh),ns([r]),s,l+"",void 0,void 0,!0,!1,!1,n.loc)}else{let l=a.codegenNode,c=Gk(l);return c.type===13&&Yv(c,t),yp(c,r,t),l}}function YZ(n,e){if(!n||n.type!==e.type)return!1;if(n.type===6){if(n.value.content!==e.value.content)return!1}else{let t=n.exp,i=e.exp;if(t.type!==i.type||t.type!==4||t.isStatic!==i.isStatic||t.content!==i.content)return!1}return!0}function KZ(n){for(;;)if(n.type===19)if(n.alternate.type===19)n=n.alternate;else return n;else n.type===20&&(n=n.value)}var JZ=Aw("for",(n,e,t)=>{let{helper:i,removeHelper:r}=t;return dF(n,e,t,s=>{let a=$n(i(zv),[s.source]),o=Zh(n),l=Ur(n,"memo"),c=mp(n,"key"),u=c&&(c.type===6?si(c.value.content,!0):c.exp),h=c?In("key",u):null;o&&(l&&(l.exp=ss(l.exp,t)),h&&c.type!==6&&(h.value=ss(h.value,t)));let d=s.source.type===4&&s.source.constType>0,m=d?64:c?128:256;return s.codegenNode=Kh(t,i(Xh),void 0,a,m+"",void 0,void 0,!0,!d,!1,n.loc),()=>{let v,{children:_}=s;o&&n.children.some(b=>{if(b.type===1){let E=mp(b,"key");if(E)return t.onError(Zi(33,E.loc)),!0}});let g=_.length!==1||_[0].type!==1,y=gp(n)?n:o&&n.children.length===1&&gp(n.children[0])?n.children[0]:null;if(y?(v=y.codegenNode,o&&h&&yp(v,h,t)):g?v=Kh(t,i(Xh),h?ns([h]):void 0,n.children,"64",void 0,void 0,!0,void 0,!1):(v=_[0].codegenNode,o&&h&&yp(v,h,t),v.isBlock!==!d&&(v.isBlock?(r(Rl),r(Hc(t.inSSR,v.isComponent))):r(Vc(t.inSSR,v.isComponent))),v.isBlock=!d,v.isBlock?(i(Rl),i(Hc(t.inSSR,v.isComponent))):i(Vc(t.inSSR,v.isComponent))),l){let b=Uc(Dv(s.parseResult,[si("_cached")]));b.body=zk([is(["const _memo = (",l.exp,")"]),is(["if (_cached",...u?[" && _cached.key === ",u]:[],` && ${t.helperString(xw)}(_cached, _memo)) return _cached`]),is(["const _item = ",v]),si("_item.memo = _memo"),si("return _item")]),a.arguments.push(b,si("_cache"),si(String(t.cached++)))}else a.arguments.push(Uc(Dv(s.parseResult),v,!0))}})});function dF(n,e,t,i){if(!e.exp){t.onError(Zi(31,e.loc));return}let r=Pw(e.exp,t);if(!r){t.onError(Zi(32,e.loc));return}let{addIdentifiers:s,removeIdentifiers:a,scopes:o}=t,{source:l,value:c,key:u,index:h}=r,d={type:11,loc:e.loc,source:l,valueAlias:c,keyAlias:u,objectIndexAlias:h,parseResult:r,children:Zh(n)?n.children:[n]};t.replaceNode(d),o.vFor++,t.prefixIdentifiers&&(c&&s(c),u&&s(u),h&&s(h));let m=i&&i(d);return()=>{o.vFor--,t.prefixIdentifiers&&(c&&a(c),u&&a(u),h&&a(h)),m&&m()}}var ZZ=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Ck=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,QZ=/^\(|\)$/g;function Pw(n,e){let t=n.loc,i=n.content,r=i.match(ZZ);if(!r)return;let[,s,a]=r,o={source:bv(t,a.trim(),i.indexOf(a,s.length)),value:void 0,key:void 0,index:void 0};e.prefixIdentifiers&&(o.source=ss(o.source,e));let l=s.trim().replace(QZ,"").trim(),c=s.indexOf(l),u=l.match(Ck);if(u){l=l.replace(Ck,"").trim();let h=u[1].trim(),d;if(h&&(d=i.indexOf(h,c+l.length),o.key=bv(t,h,d),e.prefixIdentifiers&&(o.key=ss(o.key,e,!0))),u[2]){let m=u[2].trim();m&&(o.index=bv(t,m,i.indexOf(m,o.key?d+h.length:c+l.length)),e.prefixIdentifiers&&(o.index=ss(o.index,e,!0)))}}return l&&(o.value=bv(t,l,c),e.prefixIdentifiers&&(o.value=ss(o.value,e,!0))),o}function bv(n,e,t){return si(e,!1,Sw(n,t,e.length))}function Dv({value:n,key:e,index:t},i=[]){return eQ([n,e,t,...i])}function eQ(n){let e=n.length;for(;e--&&!n[e];);return n.slice(0,e+1).map((t,i)=>t||si("_".repeat(i+1),!1))}var Pk=si("undefined",!1),pF=(n,e)=>{if(n.type===1&&(n.tagType===1||n.tagType===3)){let t=Ur(n,"slot");if(t){let i=t.exp;return e.prefixIdentifiers&&i&&e.addIdentifiers(i),e.scopes.vSlot++,()=>{e.prefixIdentifiers&&i&&e.removeIdentifiers(i),e.scopes.vSlot--}}}},mF=(n,e)=>{let t;if(Zh(n)&&n.props.some(Tw)&&(t=Ur(n,"for"))){let i=t.parseResult=Pw(t.exp,e);if(i){let{value:r,key:s,index:a}=i,{addIdentifiers:o,removeIdentifiers:l}=e;return r&&o(r),s&&o(s),a&&o(a),()=>{r&&l(r),s&&l(s),a&&l(a)}}}},tQ=(n,e,t)=>Uc(n,e,!1,!0,e.length?e[0].loc:t);function gF(n,e,t=tQ){e.helper(jv);let{children:i,loc:r}=n,s=[],a=[],o=e.scopes.vSlot>0||e.scopes.vFor>0;!e.ssr&&e.prefixIdentifiers&&(o=Fr(n,e.identifiers));let l=Ur(n,"slot",!0);if(l){let{arg:_,exp:g}=l;_&&!Ma(_)&&(o=!0),s.push(In(_||si("default",!0),t(g,i,r)))}let c=!1,u=!1,h=[],d=new Set;for(let _=0;_<i.length;_++){let g=i[_],y;if(!Zh(g)||!(y=Ur(g,"slot",!0))){g.type!==3&&h.push(g);continue}if(l){e.onError(Zi(37,y.loc));break}c=!0;let{children:b,loc:E}=g,{arg:w=si("default",!0),exp:D,loc:P}=y,M;Ma(w)?M=w?w.content:"default":o=!0;let R=t(D,b,E),I,A,N;if(I=Ur(g,"if"))o=!0,a.push(Iv(I.exp,Ev(w,R),Pk));else if(A=Ur(g,/^else(-if)?$/,!0)){let G=_,X;for(;G--&&(X=i[G],X.type===3););if(X&&Zh(X)&&Ur(X,"if")){i.splice(_,1),_--;let J=a[a.length-1];for(;J.alternate.type===19;)J=J.alternate;J.alternate=A.exp?Iv(A.exp,Ev(w,R),Pk):Ev(w,R)}else e.onError(Zi(30,A.loc))}else if(N=Ur(g,"for")){o=!0;let G=N.parseResult||Pw(N.exp,e);G?a.push($n(e.helper(zv),[G.source,Uc(Dv(G),Ev(w,R),!0)])):e.onError(Zi(32,N.loc))}else{if(M){if(d.has(M)){e.onError(Zi(38,P));continue}d.add(M),M==="default"&&(u=!0)}s.push(In(w,R))}}if(!l){let _=(g,y)=>{let b=t(g,y,r);return e.compatConfig&&(b.isNonScopedSlot=!0),In("default",b)};c?h.length&&h.some(g=>yF(g))&&(u?e.onError(Zi(39,h[0].loc)):s.push(_(void 0,h))):s.push(_(void 0,i))}let m=o?2:Mv(n.children)?3:1,v=ns(s.concat(In("_",si(m+"",!1))),r);return a.length&&(v=$n(e.helper(_w),[v,tf(a)])),{slots:v,hasDynamicSlots:o}}function Ev(n,e){return ns([In("name",n),In("fn",e)])}function Mv(n){for(let e=0;e<n.length;e++){let t=n[e];switch(t.type){case 1:if(t.tagType===2||Mv(t.children))return!0;break;case 9:if(Mv(t.branches))return!0;break;case 10:case 11:if(Mv(t.children))return!0;break}}return!1}function yF(n){return n.type!==2&&n.type!==12?!0:n.type===2?!!n.content.trim():yF(n.content)}var vF=new WeakMap,_F=(n,e)=>function(){if(n=e.currentNode,!(n.type===1&&(n.tagType===0||n.tagType===1)))return;let{tag:i,props:r}=n,s=n.tagType===1,a=s?xF(n,e):`"${i}"`,o=ot.isObject(a)&&a.callee===up,l,c,u,h=0,d,m,v,_=o||a===jh||a===Lv||!s&&(i==="svg"||i==="foreignObject");if(r.length>0){let g=Iw(n,e,void 0,s,o);l=g.props,h=g.patchFlag,m=g.dynamicPropNames;let y=g.directives;v=y&&y.length?tf(y.map(b=>bF(b,e))):void 0,g.shouldUseBlock&&(_=!0)}if(n.children.length>0)if(a===lp&&(_=!0,h|=1024),s&&a!==jh&&a!==lp){let{slots:y,hasDynamicSlots:b}=gF(n,e);c=y,b&&(h|=1024)}else if(n.children.length===1&&a!==jh){let y=n.children[0],b=y.type,E=b===5||b===8;E&&rs(y,e)===0&&(h|=1),E||b===2?c=y:c=n.children}else c=n.children;h!==0&&(u=String(h),m&&m.length&&(d=nQ(m))),n.codegenNode=Kh(e,a,l,c,u,d,v,!!_,!1,s,n.loc)};function xF(n,e,t=!1){let{tag:i}=n,r=fw(i),s=mp(n,"is");if(s)if(r||Bc("COMPILER_IS_ON_ELEMENT",e)){let l=s.type===6?s.value&&si(s.value.content,!0):s.exp;if(l)return $n(e.helper(up),[l])}else s.type===6&&s.value.content.startsWith("vue:")&&(i=s.value.content.slice(4));let a=!r&&Ur(n,"is");if(a&&a.exp)return $n(e.helper(up),[a.exp]);let o=bw(i)||e.isBuiltInComponent(i);if(o)return t||e.helper(o),o;{let l=hw(i,e);if(l)return l;let c=i.indexOf(".");if(c>0){let u=hw(i.slice(0,c),e);if(u)return u+i.slice(c)}}return e.selfName&&ot.capitalize(ot.camelize(i))===e.selfName?(e.helper(cp),e.components.add(i+"__self"),Gc(i,"component")):(e.helper(cp),e.components.add(i),Gc(i,"component"))}function hw(n,e){let t=e.bindingMetadata;if(!t||t.__isScriptSetup===!1)return;let i=ot.camelize(n),r=ot.capitalize(i),s=l=>{if(t[n]===l)return n;if(t[i]===l)return i;if(t[r]===l)return r},a=s("setup-const")||s("setup-reactive-const");if(a)return e.inline?a:`$setup[${JSON.stringify(a)}]`;let o=s("setup-let")||s("setup-ref")||s("setup-maybe-ref");if(o)return e.inline?`${e.helperString(dp)}(${o})`:`$setup[${JSON.stringify(o)}]`}function Iw(n,e,t=n.props,i,r,s=!1){let{tag:a,loc:o,children:l}=n,c=[],u=[],h=[],d=l.length>0,m=!1,v=0,_=!1,g=!1,y=!1,b=!1,E=!1,w=!1,D=[],P=({key:R,value:I})=>{if(Ma(R)){let A=R.content,N=ot.isOn(A);if(N&&(!i||r)&&A.toLowerCase()!=="onclick"&&A!=="onUpdate:modelValue"&&!ot.isReservedProp(A)&&(b=!0),N&&ot.isReservedProp(A)&&(w=!0),I.type===20||(I.type===4||I.type===8)&&rs(I,e)>0)return;A==="ref"?_=!0:A==="class"?g=!0:A==="style"?y=!0:A!=="key"&&!D.includes(A)&&D.push(A),i&&(A==="class"||A==="style")&&!D.includes(A)&&D.push(A)}else E=!0};for(let R=0;R<t.length;R++){let I=t[R];if(I.type===6){let{loc:A,name:N,value:G}=I,X=!0;if(N==="ref"&&(_=!0,e.scopes.vFor>0&&c.push(In(si("ref_for",!0),si("true"))),G&&e.inline&&e.bindingMetadata[G.content]&&(X=!1,c.push(In(si("ref_key",!0),si(G.content,!0,G.loc))))),N==="is"&&(fw(a)||G&&G.content.startsWith("vue:")||Bc("COMPILER_IS_ON_ELEMENT",e)))continue;c.push(In(si(N,!0,Sw(A,0,N.length)),si(G?G.content:"",X,G?G.loc:A)))}else{let{name:A,arg:N,exp:G,loc:X}=I,J=A==="bind",ge=A==="on";if(A==="slot"){i||e.onError(Zi(40,X));continue}if(A==="once"||A==="memo"||A==="is"||J&&Dl(N,"is")&&(fw(a)||Bc("COMPILER_IS_ON_ELEMENT",e))||ge&&s)continue;if((J&&Dl(N,"key")||ge&&d&&Dl(N,"vue:before-update"))&&(m=!0),J&&Dl(N,"ref")&&e.scopes.vFor>0&&c.push(In(si("ref_for",!0),si("true"))),!N&&(J||ge)){if(E=!0,G)if(c.length&&(u.push(ns(ow(c),o)),c=[]),J){if(Bc("COMPILER_V_BIND_OBJECT_ORDER",e)){u.unshift(G);continue}u.push(G)}else u.push({type:14,loc:X,callee:e.helper($v),arguments:[G]});else e.onError(Zi(J?34:35,X));continue}let te=e.directiveTransforms[A];if(te){let{props:pe,needRuntime:re}=te(I,n,e);!s&&pe.forEach(P),c.push(...pe),re&&(h.push(I),ot.isSymbol(re)&&vF.set(I,re))}else ot.isBuiltInDirective(A)||(h.push(I),d&&(m=!0))}}let M;if(u.length?(c.length&&u.push(ns(ow(c),o)),u.length>1?M=$n(e.helper(hp),u,o):M=u[0]):c.length&&(M=ns(ow(c),o)),E?v|=16:(g&&!i&&(v|=2),y&&!i&&(v|=4),D.length&&(v|=8),b&&(v|=32)),!m&&(v===0||v===32)&&(_||w||h.length>0)&&(v|=512),!e.inSSR&&M)switch(M.type){case 15:let R=-1,I=-1,A=!1;for(let X=0;X<M.properties.length;X++){let J=M.properties[X].key;Ma(J)?J.content==="class"?R=X:J.content==="style"&&(I=X):J.isHandlerKey||(A=!0)}let N=M.properties[R],G=M.properties[I];A?M=$n(e.helper(Yh),[M]):(N&&!Ma(N.value)&&(N.value=$n(e.helper(Hv),[N.value])),G&&(y||G.value.type===4&&G.value.content.trim()[0]==="["||G.value.type===17)&&(G.value=$n(e.helper(Gv),[G.value])));break;case 14:break;default:M=$n(e.helper(Yh),[$n(e.helper(ef),[M])]);break}return{props:M,directives:h,patchFlag:v,dynamicPropNames:D,shouldUseBlock:m}}function ow(n){let e=new Map,t=[];for(let i=0;i<n.length;i++){let r=n[i];if(r.key.type===8||!r.key.isStatic){t.push(r);continue}let s=r.key.content,a=e.get(s);a?(s==="style"||s==="class"||ot.isOn(s))&&iQ(a,r):(e.set(s,r),t.push(r))}return t}function iQ(n,e){n.value.type===17?n.value.elements.push(e.value):n.value=tf([n.value,e.value],n.loc)}function bF(n,e){let t=[],i=vF.get(n);if(i)t.push(e.helperString(i));else{let s=hw("v-"+n.name,e);s?t.push(s):(e.helper(Fv),e.directives.add(n.name),t.push(Gc(n.name,"directive")))}let{loc:r}=n;if(n.exp&&t.push(n.exp),n.arg&&(n.exp||t.push("void 0"),t.push(n.arg)),Object.keys(n.modifiers).length){n.arg||(n.exp||t.push("void 0"),t.push("void 0"));let s=si("true",!1,r);t.push(ns(n.modifiers.map(a=>In(a,s)),r))}return tf(t,n.loc)}function nQ(n){let e="[";for(let t=0,i=n.length;t<i;t++)e+=JSON.stringify(n[t]),t<i-1&&(e+=", ");return e+"]"}function fw(n){return n==="component"||n==="Component"}var rQ=n=>{let e=Object.create(null);return t=>e[t]||(e[t]=n(t))},sQ=/-(\w)/g,Ik=rQ(n=>n.replace(sQ,(e,t)=>t?t.toUpperCase():"")),aQ=(n,e)=>{if(gp(n)){let{children:t,loc:i}=n,{slotName:r,slotProps:s}=EF(n,e),a=[e.prefixIdentifiers?"_ctx.$slots":"$slots",r,"{}","undefined","true"],o=2;s&&(a[2]=s,o=3),t.length&&(a[3]=Uc([],t,!1,!1,i),o=4),e.scopeId&&!e.slotted&&(o=5),a.splice(o),n.codegenNode=$n(e.helper(vw),a,i)}};function EF(n,e){let t='"default"',i,r=[];for(let s=0;s<n.props.length;s++){let a=n.props[s];a.type===6?a.value&&(a.name==="name"?t=JSON.stringify(a.value.content):(a.name=Ik(a.name),r.push(a))):a.name==="bind"&&Dl(a.arg,"name")?a.exp&&(t=a.exp):(a.name==="bind"&&a.arg&&Ma(a.arg)&&(a.arg.content=Ik(a.arg.content)),r.push(a))}if(r.length>0){let{props:s,directives:a}=Iw(n,e,r,!1,!1);i=s,a.length&&e.onError(Zi(36,a[0].loc))}return{slotName:t,slotProps:i}}var oQ=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,SF=(n,e,t,i)=>{let{loc:r,modifiers:s,arg:a}=n;!n.exp&&!s.length&&t.onError(Zi(35,r));let o;if(a.type===4)if(a.isStatic){let h=a.content;h.startsWith("vue:")&&(h=`vnode-${h.slice(4)}`),o=si(ot.toHandlerKey(ot.camelize(h)),!0,a.loc)}else o=is([`${t.helperString(Pv)}(`,a,")"]);else o=a,o.children.unshift(`${t.helperString(Pv)}(`),o.children.push(")");let l=n.exp;l&&!l.content.trim()&&(l=void 0);let c=t.cacheHandlers&&!l&&!t.inVOnce;if(l){let h=Ew(l.content,t),d=!(h||oQ.test(l.content)),m=l.content.includes(";");t.prefixIdentifiers&&(d&&t.addIdentifiers("$event"),l=n.exp=ss(l,t,!1,m),d&&t.removeIdentifiers("$event"),c=t.cacheHandlers&&!t.inVOnce&&!(l.type===4&&l.constType>0)&&!(h&&e.tagType===1)&&!Fr(l,t.identifiers),c&&h&&(l.type===4?l.content=`${l.content} && ${l.content}(...args)`:l.children=[...l.children," && ",...l.children,"(...args)"])),(d||c&&h)&&(l=is([`${d?t.isTS?"($event: any)":"$event":`${t.isTS?`
//@ts-ignore
`:""}(...args)`} => ${m?"{":"("}`,l,m?"}":")"]))}let u={props:[In(o,l||si("() => {}",!1,r))]};return i&&(u=i(u)),c&&(u.props[0].value=t.cache(u.props[0].value)),u.props.forEach(h=>h.key.isHandlerKey=!0),u},TF=(n,e,t)=>{let{exp:i,modifiers:r,loc:s}=n,a=n.arg;return a.type!==4?(a.children.unshift("("),a.children.push(') || ""')):a.isStatic||(a.content=`${a.content} || ""`),r.includes("camel")&&(a.type===4?a.isStatic?a.content=ot.camelize(a.content):a.content=`${t.helperString(Cv)}(${a.content})`:(a.children.unshift(`${t.helperString(Cv)}(`),a.children.push(")"))),t.inSSR||(r.includes("prop")&&Dk(a,"."),r.includes("attr")&&Dk(a,"^")),!i||i.type===4&&!i.content.trim()?(t.onError(Zi(34,s)),{props:[In(a,si("",!0,s))]}):{props:[In(a,i)]}},Dk=(n,e)=>{n.type===4?n.isStatic?n.content=e+n.content:n.content=`\`${e}\${${n.content}}\``:(n.children.unshift(`'${e}' + (`),n.children.push(")"))},lQ=(n,e)=>{if(n.type===0||n.type===1||n.type===11||n.type===10)return()=>{let t=n.children,i,r=!1;for(let s=0;s<t.length;s++){let a=t[s];if(Tv(a)){r=!0;for(let o=s+1;o<t.length;o++){let l=t[o];if(Tv(l))i||(i=t[s]=is([a],a.loc)),i.children.push(" + ",l),t.splice(o,1),o--;else{i=void 0;break}}}}if(!(!r||t.length===1&&(n.type===0||n.type===1&&n.tagType===0&&!n.props.find(s=>s.type===7&&!e.directiveTransforms[s.name])&&n.tag!=="template")))for(let s=0;s<t.length;s++){let a=t[s];if(Tv(a)||a.type===8){let o=[];(a.type!==2||a.content!==" ")&&o.push(a),!e.ssr&&rs(a,e)===0&&o.push("1"),t[s]={type:12,content:a,loc:a.loc,codegenNode:$n(e.helper(kv),o)}}}}},Rk=new WeakSet,cQ=(n,e)=>{if(n.type===1&&Ur(n,"once",!0))return Rk.has(n)||e.inVOnce?void 0:(Rk.add(n),e.inVOnce=!0,e.helper(fp),()=>{e.inVOnce=!1;let t=e.currentNode;t.codegenNode&&(t.codegenNode=e.cache(t.codegenNode,!0))})},wF=(n,e,t)=>{let{exp:i,arg:r}=n;if(!i)return t.onError(Zi(41,n.loc)),Sv();let s=i.loc.source,a=i.type===4?i.content:s,o=t.bindingMetadata[s],l=t.inline&&o&&o!=="setup-const";if(!a.trim()||!Ew(a,t)&&!l)return t.onError(Zi(42,i.loc)),Sv();if(t.prefixIdentifiers&&Ll(a)&&t.identifiers[a])return t.onError(Zi(43,i.loc)),Sv();let c=r||si("modelValue",!0),u=r?Ma(r)?`onUpdate:${r.content}`:is(['"onUpdate:" + ',r]):"onUpdate:modelValue",h,d=t.isTS?"($event: any)":"$event";if(l)if(o==="setup-ref")h=is([`${d} => ((`,si(s,!1,i.loc),").value = $event)"]);else{let v=o==="setup-let"?`${s} = $event`:"null";h=is([`${d} => (${t.helperString(pp)}(${s}) ? (`,si(s,!1,i.loc),`).value = $event : ${v})`])}else h=is([`${d} => ((`,i,") = $event)"]);let m=[In(c,n.exp),In(u,h)];if(t.prefixIdentifiers&&!t.inVOnce&&t.cacheHandlers&&!Fr(i,t.identifiers)&&(m[1].value=t.cache(m[1].value)),n.modifiers.length&&e.tagType===1){let v=n.modifiers.map(g=>(Ll(g)?g:JSON.stringify(g))+": true").join(", "),_=r?Ma(r)?`${r.content}Modifiers`:is([r,' + "Modifiers"']):"modelModifiers";m.push(In(_,si(`{ ${v} }`,!1,n.loc,2)))}return Sv(m)};function Sv(n=[]){return{props:n}}var uQ=/[\w).+\-_$\]]/,hQ=(n,e)=>{Bc("COMPILER_FILTER",e)&&(n.type===5&&Rv(n.content,e),n.type===1&&n.props.forEach(t=>{t.type===7&&t.name!=="for"&&t.exp&&Rv(t.exp,e)}))};function Rv(n,e){if(n.type===4)Lk(n,e);else for(let t=0;t<n.children.length;t++){let i=n.children[t];typeof i=="object"&&(i.type===4?Lk(i,e):i.type===8?Rv(n,e):i.type===5&&Rv(i.content,e))}}function Lk(n,e){let t=n.content,i=!1,r=!1,s=!1,a=!1,o=0,l=0,c=0,u=0,h,d,m,v,_=[];for(m=0;m<t.length;m++)if(d=h,h=t.charCodeAt(m),i)h===39&&d!==92&&(i=!1);else if(r)h===34&&d!==92&&(r=!1);else if(s)h===96&&d!==92&&(s=!1);else if(a)h===47&&d!==92&&(a=!1);else if(h===124&&t.charCodeAt(m+1)!==124&&t.charCodeAt(m-1)!==124&&!o&&!l&&!c)v===void 0?(u=m+1,v=t.slice(0,m).trim()):g();else{switch(h){case 34:r=!0;break;case 39:i=!0;break;case 96:s=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:o++;break;case 125:o--;break}if(h===47){let y=m-1,b;for(;y>=0&&(b=t.charAt(y),b===" ");y--);(!b||!uQ.test(b))&&(a=!0)}}v===void 0?v=t.slice(0,m).trim():u!==0&&g();function g(){_.push(t.slice(u,m).trim()),u=m+1}if(_.length){for(m=0;m<_.length;m++)v=fQ(v,_[m],e);n.content=v}}function fQ(n,e,t){t.helper(Bv);let i=e.indexOf("(");if(i<0)return t.filters.add(e),`${Gc(e,"filter")}(${n})`;{let r=e.slice(0,i),s=e.slice(i+1);return t.filters.add(r),`${Gc(r,"filter")}(${n}${s!==")"?","+s:s}`}}var Ok=new WeakSet,dQ=(n,e)=>{if(n.type===1){let t=Ur(n,"memo");return!t||Ok.has(n)?void 0:(Ok.add(n),()=>{let i=n.codegenNode||e.currentNode.codegenNode;i&&i.type===13&&(n.tagType!==1&&Yv(i,e),n.codegenNode=$n(e.helper(Xv),[t.exp,Uc(void 0,i),"_cache",String(e.cached++)]))})}};function AF(n){return[[cQ,XZ,dQ,JZ,hQ,...n?[mF,uF]:[],aQ,_F,pF,lQ],{on:SF,bind:TF,model:wF}]}function pQ(n,e={}){let t=e.onError||dw,i=e.mode==="module",r=e.prefixIdentifiers===!0||i;!r&&e.cacheHandlers&&t(Zi(48)),e.scopeId&&!i&&t(Zi(49));let s=ot.isString(n)?$k(n,e):n,[a,o]=AF(r);if(e.isTS){let{expressionPlugins:l}=e;(!l||!l.includes("typescript"))&&(e.expressionPlugins=[...l||[],"typescript"])}return Zk(s,ot.extend({},e,{prefixIdentifiers:r,nodeTransforms:[...a,...e.nodeTransforms||[]],directiveTransforms:ot.extend({},o,e.directiveTransforms||{})})),Qk(s,ot.extend({},e,{prefixIdentifiers:r}))}var mQ=()=>({props:[]});Le.generateCodeFrame=ot.generateCodeFrame;Le.BASE_TRANSITION=pw;Le.CAMELIZE=Cv;Le.CAPITALIZE=Fk;Le.CREATE_BLOCK=mw;Le.CREATE_COMMENT=Qh;Le.CREATE_ELEMENT_BLOCK=gw;Le.CREATE_ELEMENT_VNODE=Nv;Le.CREATE_SLOTS=_w;Le.CREATE_STATIC=yw;Le.CREATE_TEXT=kv;Le.CREATE_VNODE=Ov;Le.FRAGMENT=Xh;Le.GUARD_REACTIVE_PROPS=ef;Le.IS_MEMO_SAME=xw;Le.IS_REF=pp;Le.KEEP_ALIVE=lp;Le.MERGE_PROPS=hp;Le.NORMALIZE_CLASS=Hv;Le.NORMALIZE_PROPS=Yh;Le.NORMALIZE_STYLE=Gv;Le.OPEN_BLOCK=Rl;Le.POP_SCOPE_ID=qv;Le.PUSH_SCOPE_ID=Wv;Le.RENDER_LIST=zv;Le.RENDER_SLOT=vw;Le.RESOLVE_COMPONENT=cp;Le.RESOLVE_DIRECTIVE=Fv;Le.RESOLVE_DYNAMIC_COMPONENT=up;Le.RESOLVE_FILTER=Bv;Le.SET_BLOCK_TRACKING=fp;Le.SUSPENSE=Lv;Le.TELEPORT=jh;Le.TO_DISPLAY_STRING=Vv;Le.TO_HANDLERS=$v;Le.TO_HANDLER_KEY=Pv;Le.UNREF=dp;Le.WITH_CTX=jv;Le.WITH_DIRECTIVES=Uv;Le.WITH_MEMO=Xv;Le.advancePositionWithClone=zc;Le.advancePositionWithMutation=Jh;Le.assert=rZ;Le.baseCompile=pQ;Le.baseParse=$k;Le.buildDirectiveArgs=bF;Le.buildProps=Iw;Le.buildSlots=gF;Le.checkCompatEnabled=vp;Le.createArrayExpression=tf;Le.createAssignmentExpression=KJ;Le.createBlockStatement=zk;Le.createCacheExpression=Uk;Le.createCallExpression=$n;Le.createCompilerError=Zi;Le.createCompoundExpression=is;Le.createConditionalExpression=Iv;Le.createForLoopParams=Dv;Le.createFunctionExpression=Uc;Le.createIfStatement=YJ;Le.createInterpolation=jJ;Le.createObjectExpression=ns;Le.createObjectProperty=In;Le.createReturnStatement=ZJ;Le.createRoot=Bk;Le.createSequenceExpression=JJ;Le.createSimpleExpression=si;Le.createStructuralDirectiveTransform=Aw;Le.createTemplateLiteral=XJ;Le.createTransformContext=Jk;Le.createVNodeCall=Kh;Le.extractIdentifiers=Il;Le.findDir=Ur;Le.findProp=mp;Le.generate=Qk;Le.getBaseTransformPreset=AF;Le.getConstantType=rs;Le.getInnerRange=Sw;Le.getMemoedVNodeCall=Gk;Le.getVNodeBlockHelper=Hc;Le.getVNodeHelper=Vc;Le.hasDynamicKeyVBind=sZ;Le.hasScopeRef=Fr;Le.helperNameMap=Br;Le.injectProp=yp;Le.isBuiltInType=ap;Le.isCoreComponent=bw;Le.isFunctionType=lF;Le.isInDestructureAssignment=Mw;Le.isMemberExpression=Ew;Le.isMemberExpressionBrowser=nZ;Le.isMemberExpressionNode=Vk;Le.isReferencedIdentifier=sF;Le.isSimpleIdentifier=Ll;Le.isSlotOutlet=gp;Le.isStaticArgOf=Dl;Le.isStaticExp=Ma;Le.isStaticProperty=Cw;Le.isStaticPropertyKey=cF;Le.isTemplateNode=Zh;Le.isText=Tv;Le.isVSlot=Tw;Le.locStub=Dn;Le.makeBlock=Yv;Le.noopDirectiveTransform=mQ;Le.processExpression=ss;Le.processFor=dF;Le.processIf=fF;Le.processSlotOutlet=EF;Le.registerRuntimeHelpers=qJ;Le.resolveComponentType=xF;Le.toValidAssetId=Gc;Le.trackSlotScopes=pF;Le.trackVForSlotScopes=mF;Le.transform=Zk;Le.transformBind=TF;Le.transformElement=_F;Le.transformExpression=uF;Le.transformModel=wF;Le.transformOn=SF;Le.traverseNode=xp;Le.walkBlockDeclarations=oF;Le.walkFunctionParams=aF;Le.walkIdentifiers=rF;Le.warnDeprecation=lZ});var PF=li((xue,CF)=>{"use strict";CF.exports=MF()});var BF=li(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});var ai=PF(),xi=dl(),Rw=Symbol(""),Lw=Symbol(""),Ow=Symbol(""),Nw=Symbol(""),Zv=Symbol(""),kw=Symbol(""),Fw=Symbol(""),Bw=Symbol(""),Uw=Symbol(""),zw=Symbol("");ai.registerRuntimeHelpers({[Rw]:"vModelRadio",[Lw]:"vModelCheckbox",[Ow]:"vModelText",[Nw]:"vModelSelect",[Zv]:"vModelDynamic",[kw]:"withModifiers",[Fw]:"withKeys",[Bw]:"vShow",[Uw]:"Transition",[zw]:"TransitionGroup"});var IF={GT:">",gt:">",LT:"<",lt:"<","ac;":"\u223E","af;":"\u2061",AMP:"&",amp:"&","ap;":"\u2248","DD;":"\u2145","dd;":"\u2146",deg:"\xB0","ee;":"\u2147","eg;":"\u2A9A","el;":"\u2A99",ETH:"\xD0",eth:"\xF0","gE;":"\u2267","ge;":"\u2265","Gg;":"\u22D9","gg;":"\u226B","gl;":"\u2277","GT;":">","Gt;":"\u226B","gt;":">","ic;":"\u2063","ii;":"\u2148","Im;":"\u2111","in;":"\u2208","it;":"\u2062","lE;":"\u2266","le;":"\u2264","lg;":"\u2276","Ll;":"\u22D8","ll;":"\u226A","LT;":"<","Lt;":"\u226A","lt;":"<","mp;":"\u2213","Mu;":"\u039C","mu;":"\u03BC","ne;":"\u2260","ni;":"\u220B",not:"\xAC","Nu;":"\u039D","nu;":"\u03BD","Or;":"\u2A54","or;":"\u2228","oS;":"\u24C8","Pi;":"\u03A0","pi;":"\u03C0","pm;":"\xB1","Pr;":"\u2ABB","pr;":"\u227A","Re;":"\u211C",REG:"\xAE",reg:"\xAE","rx;":"\u211E","Sc;":"\u2ABC","sc;":"\u227B",shy:"\xAD",uml:"\xA8","wp;":"\u2118","wr;":"\u2240","Xi;":"\u039E","xi;":"\u03BE",yen:"\xA5","acd;":"\u223F","acE;":"\u223E\u0333","Acy;":"\u0410","acy;":"\u0430","Afr;":"\u{1D504}","afr;":"\u{1D51E}","AMP;":"&","amp;":"&","And;":"\u2A53","and;":"\u2227","ang;":"\u2220","apE;":"\u2A70","ape;":"\u224A","ast;":"*",Auml:"\xC4",auml:"\xE4","Bcy;":"\u0411","bcy;":"\u0431","Bfr;":"\u{1D505}","bfr;":"\u{1D51F}","bne;":"=\u20E5","bot;":"\u22A5","Cap;":"\u22D2","cap;":"\u2229",cent:"\xA2","Cfr;":"\u212D","cfr;":"\u{1D520}","Chi;":"\u03A7","chi;":"\u03C7","cir;":"\u25CB",COPY:"\xA9",copy:"\xA9","Cup;":"\u22D3","cup;":"\u222A","Dcy;":"\u0414","dcy;":"\u0434","deg;":"\xB0","Del;":"\u2207","Dfr;":"\u{1D507}","dfr;":"\u{1D521}","die;":"\xA8","div;":"\xF7","Dot;":"\xA8","dot;":"\u02D9","Ecy;":"\u042D","ecy;":"\u044D","Efr;":"\u{1D508}","efr;":"\u{1D522}","egs;":"\u2A96","ell;":"\u2113","els;":"\u2A95","ENG;":"\u014A","eng;":"\u014B","Eta;":"\u0397","eta;":"\u03B7","ETH;":"\xD0","eth;":"\xF0",Euml:"\xCB",euml:"\xEB","Fcy;":"\u0424","fcy;":"\u0444","Ffr;":"\u{1D509}","ffr;":"\u{1D523}","gap;":"\u2A86","Gcy;":"\u0413","gcy;":"\u0433","gEl;":"\u2A8C","gel;":"\u22DB","geq;":"\u2265","ges;":"\u2A7E","Gfr;":"\u{1D50A}","gfr;":"\u{1D524}","ggg;":"\u22D9","gla;":"\u2AA5","glE;":"\u2A92","glj;":"\u2AA4","gnE;":"\u2269","gne;":"\u2A88","Hat;":"^","Hfr;":"\u210C","hfr;":"\u{1D525}","Icy;":"\u0418","icy;":"\u0438","iff;":"\u21D4","Ifr;":"\u2111","ifr;":"\u{1D526}","Int;":"\u222C","int;":"\u222B",Iuml:"\xCF",iuml:"\xEF","Jcy;":"\u0419","jcy;":"\u0439","Jfr;":"\u{1D50D}","jfr;":"\u{1D527}","Kcy;":"\u041A","kcy;":"\u043A","Kfr;":"\u{1D50E}","kfr;":"\u{1D528}","lap;":"\u2A85","lat;":"\u2AAB","Lcy;":"\u041B","lcy;":"\u043B","lEg;":"\u2A8B","leg;":"\u22DA","leq;":"\u2264","les;":"\u2A7D","Lfr;":"\u{1D50F}","lfr;":"\u{1D529}","lgE;":"\u2A91","lnE;":"\u2268","lne;":"\u2A87","loz;":"\u25CA","lrm;":"\u200E","Lsh;":"\u21B0","lsh;":"\u21B0",macr:"\xAF","Map;":"\u2905","map;":"\u21A6","Mcy;":"\u041C","mcy;":"\u043C","Mfr;":"\u{1D510}","mfr;":"\u{1D52A}","mho;":"\u2127","mid;":"\u2223","nap;":"\u2249",nbsp:"\xA0","Ncy;":"\u041D","ncy;":"\u043D","Nfr;":"\u{1D511}","nfr;":"\u{1D52B}","ngE;":"\u2267\u0338","nge;":"\u2271","nGg;":"\u22D9\u0338","nGt;":"\u226B\u20D2","ngt;":"\u226F","nis;":"\u22FC","niv;":"\u220B","nlE;":"\u2266\u0338","nle;":"\u2270","nLl;":"\u22D8\u0338","nLt;":"\u226A\u20D2","nlt;":"\u226E","Not;":"\u2AEC","not;":"\xAC","npr;":"\u2280","nsc;":"\u2281","num;":"#","Ocy;":"\u041E","ocy;":"\u043E","Ofr;":"\u{1D512}","ofr;":"\u{1D52C}","ogt;":"\u29C1","ohm;":"\u03A9","olt;":"\u29C0","ord;":"\u2A5D",ordf:"\xAA",ordm:"\xBA","orv;":"\u2A5B",Ouml:"\xD6",ouml:"\xF6","par;":"\u2225",para:"\xB6","Pcy;":"\u041F","pcy;":"\u043F","Pfr;":"\u{1D513}","pfr;":"\u{1D52D}","Phi;":"\u03A6","phi;":"\u03C6","piv;":"\u03D6","prE;":"\u2AB3","pre;":"\u2AAF","Psi;":"\u03A8","psi;":"\u03C8","Qfr;":"\u{1D514}","qfr;":"\u{1D52E}",QUOT:'"',quot:'"',"Rcy;":"\u0420","rcy;":"\u0440","REG;":"\xAE","reg;":"\xAE","Rfr;":"\u211C","rfr;":"\u{1D52F}","Rho;":"\u03A1","rho;":"\u03C1","rlm;":"\u200F","Rsh;":"\u21B1","rsh;":"\u21B1","scE;":"\u2AB4","sce;":"\u2AB0","Scy;":"\u0421","scy;":"\u0441",sect:"\xA7","Sfr;":"\u{1D516}","sfr;":"\u{1D530}","shy;":"\xAD","sim;":"\u223C","smt;":"\u2AAA","sol;":"/","squ;":"\u25A1","Sub;":"\u22D0","sub;":"\u2282","Sum;":"\u2211","sum;":"\u2211","Sup;":"\u22D1","sup;":"\u2283",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3","Tab;":"	","Tau;":"\u03A4","tau;":"\u03C4","Tcy;":"\u0422","tcy;":"\u0442","Tfr;":"\u{1D517}","tfr;":"\u{1D531}","top;":"\u22A4","Ucy;":"\u0423","ucy;":"\u0443","Ufr;":"\u{1D518}","ufr;":"\u{1D532}","uml;":"\xA8",Uuml:"\xDC",uuml:"\xFC","Vcy;":"\u0412","vcy;":"\u0432","Vee;":"\u22C1","vee;":"\u2228","Vfr;":"\u{1D519}","vfr;":"\u{1D533}","Wfr;":"\u{1D51A}","wfr;":"\u{1D534}","Xfr;":"\u{1D51B}","xfr;":"\u{1D535}","Ycy;":"\u042B","ycy;":"\u044B","yen;":"\xA5","Yfr;":"\u{1D51C}","yfr;":"\u{1D536}",yuml:"\xFF","Zcy;":"\u0417","zcy;":"\u0437","Zfr;":"\u2128","zfr;":"\u{1D537}","zwj;":"\u200D",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",AElig:"\xC6",aelig:"\xE6","andd;":"\u2A5C","andv;":"\u2A5A","ange;":"\u29A4","Aopf;":"\u{1D538}","aopf;":"\u{1D552}","apid;":"\u224B","apos;":"'",Aring:"\xC5",aring:"\xE5","Ascr;":"\u{1D49C}","ascr;":"\u{1D4B6}","Auml;":"\xC4","auml;":"\xE4","Barv;":"\u2AE7","bbrk;":"\u23B5","Beta;":"\u0392","beta;":"\u03B2","beth;":"\u2136","bNot;":"\u2AED","bnot;":"\u2310","Bopf;":"\u{1D539}","bopf;":"\u{1D553}","boxH;":"\u2550","boxh;":"\u2500","boxV;":"\u2551","boxv;":"\u2502","Bscr;":"\u212C","bscr;":"\u{1D4B7}","bsim;":"\u223D","bsol;":"\\","bull;":"\u2022","bump;":"\u224E","caps;":"\u2229\uFE00","Cdot;":"\u010A","cdot;":"\u010B",cedil:"\xB8","cent;":"\xA2","CHcy;":"\u0427","chcy;":"\u0447","circ;":"\u02C6","cirE;":"\u29C3","cire;":"\u2257","comp;":"\u2201","cong;":"\u2245","Copf;":"\u2102","copf;":"\u{1D554}","COPY;":"\xA9","copy;":"\xA9","Cscr;":"\u{1D49E}","cscr;":"\u{1D4B8}","csub;":"\u2ACF","csup;":"\u2AD0","cups;":"\u222A\uFE00","Darr;":"\u21A1","dArr;":"\u21D3","darr;":"\u2193","dash;":"\u2010","dHar;":"\u2965","diam;":"\u22C4","DJcy;":"\u0402","djcy;":"\u0452","Dopf;":"\u{1D53B}","dopf;":"\u{1D555}","Dscr;":"\u{1D49F}","dscr;":"\u{1D4B9}","DScy;":"\u0405","dscy;":"\u0455","dsol;":"\u29F6","dtri;":"\u25BF","DZcy;":"\u040F","dzcy;":"\u045F","ecir;":"\u2256",Ecirc:"\xCA",ecirc:"\xEA","Edot;":"\u0116","eDot;":"\u2251","edot;":"\u0117","emsp;":"\u2003","ensp;":"\u2002","Eopf;":"\u{1D53C}","eopf;":"\u{1D556}","epar;":"\u22D5","epsi;":"\u03B5","Escr;":"\u2130","escr;":"\u212F","Esim;":"\u2A73","esim;":"\u2242","Euml;":"\xCB","euml;":"\xEB","euro;":"\u20AC","excl;":"!","flat;":"\u266D","fnof;":"\u0192","Fopf;":"\u{1D53D}","fopf;":"\u{1D557}","fork;":"\u22D4","Fscr;":"\u2131","fscr;":"\u{1D4BB}","Gdot;":"\u0120","gdot;":"\u0121","geqq;":"\u2267","gesl;":"\u22DB\uFE00","GJcy;":"\u0403","gjcy;":"\u0453","gnap;":"\u2A8A","gneq;":"\u2A88","Gopf;":"\u{1D53E}","gopf;":"\u{1D558}","Gscr;":"\u{1D4A2}","gscr;":"\u210A","gsim;":"\u2273","gtcc;":"\u2AA7","gvnE;":"\u2269\uFE00","half;":"\xBD","hArr;":"\u21D4","harr;":"\u2194","hbar;":"\u210F","Hopf;":"\u210D","hopf;":"\u{1D559}","Hscr;":"\u210B","hscr;":"\u{1D4BD}",Icirc:"\xCE",icirc:"\xEE","Idot;":"\u0130","IEcy;":"\u0415","iecy;":"\u0435",iexcl:"\xA1","imof;":"\u22B7","IOcy;":"\u0401","iocy;":"\u0451","Iopf;":"\u{1D540}","iopf;":"\u{1D55A}","Iota;":"\u0399","iota;":"\u03B9","Iscr;":"\u2110","iscr;":"\u{1D4BE}","isin;":"\u2208","Iuml;":"\xCF","iuml;":"\xEF","Jopf;":"\u{1D541}","jopf;":"\u{1D55B}","Jscr;":"\u{1D4A5}","jscr;":"\u{1D4BF}","KHcy;":"\u0425","khcy;":"\u0445","KJcy;":"\u040C","kjcy;":"\u045C","Kopf;":"\u{1D542}","kopf;":"\u{1D55C}","Kscr;":"\u{1D4A6}","kscr;":"\u{1D4C0}","Lang;":"\u27EA","lang;":"\u27E8",laquo:"\xAB","Larr;":"\u219E","lArr;":"\u21D0","larr;":"\u2190","late;":"\u2AAD","lcub;":"{","ldca;":"\u2936","ldsh;":"\u21B2","leqq;":"\u2266","lesg;":"\u22DA\uFE00","lHar;":"\u2962","LJcy;":"\u0409","ljcy;":"\u0459","lnap;":"\u2A89","lneq;":"\u2A87","Lopf;":"\u{1D543}","lopf;":"\u{1D55D}","lozf;":"\u29EB","lpar;":"(","Lscr;":"\u2112","lscr;":"\u{1D4C1}","lsim;":"\u2272","lsqb;":"[","ltcc;":"\u2AA6","ltri;":"\u25C3","lvnE;":"\u2268\uFE00","macr;":"\xAF","male;":"\u2642","malt;":"\u2720",micro:"\xB5","mlcp;":"\u2ADB","mldr;":"\u2026","Mopf;":"\u{1D544}","mopf;":"\u{1D55E}","Mscr;":"\u2133","mscr;":"\u{1D4C2}","nang;":"\u2220\u20D2","napE;":"\u2A70\u0338","nbsp;":"\xA0","ncap;":"\u2A43","ncup;":"\u2A42","ngeq;":"\u2271","nges;":"\u2A7E\u0338","ngtr;":"\u226F","nGtv;":"\u226B\u0338","nisd;":"\u22FA","NJcy;":"\u040A","njcy;":"\u045A","nldr;":"\u2025","nleq;":"\u2270","nles;":"\u2A7D\u0338","nLtv;":"\u226A\u0338","nmid;":"\u2224","Nopf;":"\u2115","nopf;":"\u{1D55F}","npar;":"\u2226","npre;":"\u2AAF\u0338","nsce;":"\u2AB0\u0338","Nscr;":"\u{1D4A9}","nscr;":"\u{1D4C3}","nsim;":"\u2241","nsub;":"\u2284","nsup;":"\u2285","ntgl;":"\u2279","ntlg;":"\u2278","nvap;":"\u224D\u20D2","nvge;":"\u2265\u20D2","nvgt;":">\u20D2","nvle;":"\u2264\u20D2","nvlt;":"<\u20D2","oast;":"\u229B","ocir;":"\u229A",Ocirc:"\xD4",ocirc:"\xF4","odiv;":"\u2A38","odot;":"\u2299","ogon;":"\u02DB","oint;":"\u222E","omid;":"\u29B6","Oopf;":"\u{1D546}","oopf;":"\u{1D560}","opar;":"\u29B7","ordf;":"\xAA","ordm;":"\xBA","oror;":"\u2A56","Oscr;":"\u{1D4AA}","oscr;":"\u2134","osol;":"\u2298","Ouml;":"\xD6","ouml;":"\xF6","para;":"\xB6","part;":"\u2202","perp;":"\u22A5","phiv;":"\u03D5","plus;":"+","Popf;":"\u2119","popf;":"\u{1D561}",pound:"\xA3","prap;":"\u2AB7","prec;":"\u227A","prnE;":"\u2AB5","prod;":"\u220F","prop;":"\u221D","Pscr;":"\u{1D4AB}","pscr;":"\u{1D4C5}","qint;":"\u2A0C","Qopf;":"\u211A","qopf;":"\u{1D562}","Qscr;":"\u{1D4AC}","qscr;":"\u{1D4C6}","QUOT;":'"',"quot;":'"',"race;":"\u223D\u0331","Rang;":"\u27EB","rang;":"\u27E9",raquo:"\xBB","Rarr;":"\u21A0","rArr;":"\u21D2","rarr;":"\u2192","rcub;":"}","rdca;":"\u2937","rdsh;":"\u21B3","real;":"\u211C","rect;":"\u25AD","rHar;":"\u2964","rhov;":"\u03F1","ring;":"\u02DA","Ropf;":"\u211D","ropf;":"\u{1D563}","rpar;":")","Rscr;":"\u211B","rscr;":"\u{1D4C7}","rsqb;":"]","rtri;":"\u25B9","scap;":"\u2AB8","scnE;":"\u2AB6","sdot;":"\u22C5","sect;":"\xA7","semi;":";","sext;":"\u2736","SHcy;":"\u0428","shcy;":"\u0448","sime;":"\u2243","simg;":"\u2A9E","siml;":"\u2A9D","smid;":"\u2223","smte;":"\u2AAC","solb;":"\u29C4","Sopf;":"\u{1D54A}","sopf;":"\u{1D564}","spar;":"\u2225","Sqrt;":"\u221A","squf;":"\u25AA","Sscr;":"\u{1D4AE}","sscr;":"\u{1D4C8}","Star;":"\u22C6","star;":"\u2606","subE;":"\u2AC5","sube;":"\u2286","succ;":"\u227B","sung;":"\u266A","sup1;":"\xB9","sup2;":"\xB2","sup3;":"\xB3","supE;":"\u2AC6","supe;":"\u2287",szlig:"\xDF","tbrk;":"\u23B4","tdot;":"\u20DB",THORN:"\xDE",thorn:"\xFE",times:"\xD7","tint;":"\u222D","toea;":"\u2928","Topf;":"\u{1D54B}","topf;":"\u{1D565}","tosa;":"\u2929","trie;":"\u225C","Tscr;":"\u{1D4AF}","tscr;":"\u{1D4C9}","TScy;":"\u0426","tscy;":"\u0446","Uarr;":"\u219F","uArr;":"\u21D1","uarr;":"\u2191",Ucirc:"\xDB",ucirc:"\xFB","uHar;":"\u2963","Uopf;":"\u{1D54C}","uopf;":"\u{1D566}","Upsi;":"\u03D2","upsi;":"\u03C5","Uscr;":"\u{1D4B0}","uscr;":"\u{1D4CA}","utri;":"\u25B5","Uuml;":"\xDC","uuml;":"\xFC","vArr;":"\u21D5","varr;":"\u2195","Vbar;":"\u2AEB","vBar;":"\u2AE8","Vert;":"\u2016","vert;":"|","Vopf;":"\u{1D54D}","vopf;":"\u{1D567}","Vscr;":"\u{1D4B1}","vscr;":"\u{1D4CB}","Wopf;":"\u{1D54E}","wopf;":"\u{1D568}","Wscr;":"\u{1D4B2}","wscr;":"\u{1D4CC}","xcap;":"\u22C2","xcup;":"\u22C3","xmap;":"\u27FC","xnis;":"\u22FB","Xopf;":"\u{1D54F}","xopf;":"\u{1D569}","Xscr;":"\u{1D4B3}","xscr;":"\u{1D4CD}","xvee;":"\u22C1","YAcy;":"\u042F","yacy;":"\u044F","YIcy;":"\u0407","yicy;":"\u0457","Yopf;":"\u{1D550}","yopf;":"\u{1D56A}","Yscr;":"\u{1D4B4}","yscr;":"\u{1D4CE}","YUcy;":"\u042E","yucy;":"\u044E","Yuml;":"\u0178","yuml;":"\xFF","Zdot;":"\u017B","zdot;":"\u017C","Zeta;":"\u0396","zeta;":"\u03B6","ZHcy;":"\u0416","zhcy;":"\u0436","Zopf;":"\u2124","zopf;":"\u{1D56B}","Zscr;":"\u{1D4B5}","zscr;":"\u{1D4CF}","zwnj;":"\u200C",Aacute:"\xC1",aacute:"\xE1","Acirc;":"\xC2","acirc;":"\xE2","acute;":"\xB4","AElig;":"\xC6","aelig;":"\xE6",Agrave:"\xC0",agrave:"\xE0","aleph;":"\u2135","Alpha;":"\u0391","alpha;":"\u03B1","Amacr;":"\u0100","amacr;":"\u0101","amalg;":"\u2A3F","angle;":"\u2220","angrt;":"\u221F","angst;":"\xC5","Aogon;":"\u0104","aogon;":"\u0105","Aring;":"\xC5","aring;":"\xE5","asymp;":"\u2248",Atilde:"\xC3",atilde:"\xE3","awint;":"\u2A11","bcong;":"\u224C","bdquo;":"\u201E","bepsi;":"\u03F6","blank;":"\u2423","blk12;":"\u2592","blk14;":"\u2591","blk34;":"\u2593","block;":"\u2588","boxDL;":"\u2557","boxDl;":"\u2556","boxdL;":"\u2555","boxdl;":"\u2510","boxDR;":"\u2554","boxDr;":"\u2553","boxdR;":"\u2552","boxdr;":"\u250C","boxHD;":"\u2566","boxHd;":"\u2564","boxhD;":"\u2565","boxhd;":"\u252C","boxHU;":"\u2569","boxHu;":"\u2567","boxhU;":"\u2568","boxhu;":"\u2534","boxUL;":"\u255D","boxUl;":"\u255C","boxuL;":"\u255B","boxul;":"\u2518","boxUR;":"\u255A","boxUr;":"\u2559","boxuR;":"\u2558","boxur;":"\u2514","boxVH;":"\u256C","boxVh;":"\u256B","boxvH;":"\u256A","boxvh;":"\u253C","boxVL;":"\u2563","boxVl;":"\u2562","boxvL;":"\u2561","boxvl;":"\u2524","boxVR;":"\u2560","boxVr;":"\u255F","boxvR;":"\u255E","boxvr;":"\u251C","Breve;":"\u02D8","breve;":"\u02D8",brvbar:"\xA6","bsemi;":"\u204F","bsime;":"\u22CD","bsolb;":"\u29C5","bumpE;":"\u2AAE","bumpe;":"\u224F","caret;":"\u2041","caron;":"\u02C7","ccaps;":"\u2A4D",Ccedil:"\xC7",ccedil:"\xE7","Ccirc;":"\u0108","ccirc;":"\u0109","ccups;":"\u2A4C","cedil;":"\xB8","check;":"\u2713","clubs;":"\u2663","Colon;":"\u2237","colon;":":","comma;":",","crarr;":"\u21B5","Cross;":"\u2A2F","cross;":"\u2717","csube;":"\u2AD1","csupe;":"\u2AD2","ctdot;":"\u22EF","cuepr;":"\u22DE","cuesc;":"\u22DF","cupor;":"\u2A45",curren:"\xA4","cuvee;":"\u22CE","cuwed;":"\u22CF","cwint;":"\u2231","Dashv;":"\u2AE4","dashv;":"\u22A3","dblac;":"\u02DD","ddarr;":"\u21CA","Delta;":"\u0394","delta;":"\u03B4","dharl;":"\u21C3","dharr;":"\u21C2","diams;":"\u2666","disin;":"\u22F2",divide:"\xF7","doteq;":"\u2250","dtdot;":"\u22F1","dtrif;":"\u25BE","duarr;":"\u21F5","duhar;":"\u296F",Eacute:"\xC9",eacute:"\xE9","Ecirc;":"\xCA","ecirc;":"\xEA","eDDot;":"\u2A77","efDot;":"\u2252",Egrave:"\xC8",egrave:"\xE8","Emacr;":"\u0112","emacr;":"\u0113","empty;":"\u2205","Eogon;":"\u0118","eogon;":"\u0119","eplus;":"\u2A71","epsiv;":"\u03F5","eqsim;":"\u2242","Equal;":"\u2A75","equiv;":"\u2261","erarr;":"\u2971","erDot;":"\u2253","esdot;":"\u2250","exist;":"\u2203","fflig;":"\uFB00","filig;":"\uFB01","fjlig;":"fj","fllig;":"\uFB02","fltns;":"\u25B1","forkv;":"\u2AD9",frac12:"\xBD",frac14:"\xBC",frac34:"\xBE","frasl;":"\u2044","frown;":"\u2322","Gamma;":"\u0393","gamma;":"\u03B3","Gcirc;":"\u011C","gcirc;":"\u011D","gescc;":"\u2AA9","gimel;":"\u2137","gneqq;":"\u2269","gnsim;":"\u22E7","grave;":"`","gsime;":"\u2A8E","gsiml;":"\u2A90","gtcir;":"\u2A7A","gtdot;":"\u22D7","Hacek;":"\u02C7","harrw;":"\u21AD","Hcirc;":"\u0124","hcirc;":"\u0125","hoarr;":"\u21FF",Iacute:"\xCD",iacute:"\xED","Icirc;":"\xCE","icirc;":"\xEE","iexcl;":"\xA1",Igrave:"\xCC",igrave:"\xEC","iiint;":"\u222D","iiota;":"\u2129","IJlig;":"\u0132","ijlig;":"\u0133","Imacr;":"\u012A","imacr;":"\u012B","image;":"\u2111","imath;":"\u0131","imped;":"\u01B5","infin;":"\u221E","Iogon;":"\u012E","iogon;":"\u012F","iprod;":"\u2A3C",iquest:"\xBF","isinE;":"\u22F9","isins;":"\u22F4","isinv;":"\u2208","Iukcy;":"\u0406","iukcy;":"\u0456","Jcirc;":"\u0134","jcirc;":"\u0135","jmath;":"\u0237","Jukcy;":"\u0404","jukcy;":"\u0454","Kappa;":"\u039A","kappa;":"\u03BA","lAarr;":"\u21DA","langd;":"\u2991","laquo;":"\xAB","larrb;":"\u21E4","lates;":"\u2AAD\uFE00","lBarr;":"\u290E","lbarr;":"\u290C","lbbrk;":"\u2772","lbrke;":"\u298B","lceil;":"\u2308","ldquo;":"\u201C","lescc;":"\u2AA8","lhard;":"\u21BD","lharu;":"\u21BC","lhblk;":"\u2584","llarr;":"\u21C7","lltri;":"\u25FA","lneqq;":"\u2268","lnsim;":"\u22E6","loang;":"\u27EC","loarr;":"\u21FD","lobrk;":"\u27E6","lopar;":"\u2985","lrarr;":"\u21C6","lrhar;":"\u21CB","lrtri;":"\u22BF","lsime;":"\u2A8D","lsimg;":"\u2A8F","lsquo;":"\u2018","ltcir;":"\u2A79","ltdot;":"\u22D6","ltrie;":"\u22B4","ltrif;":"\u25C2","mdash;":"\u2014","mDDot;":"\u223A","micro;":"\xB5",middot:"\xB7","minus;":"\u2212","mumap;":"\u22B8","nabla;":"\u2207","napid;":"\u224B\u0338","napos;":"\u0149","natur;":"\u266E","nbump;":"\u224E\u0338","ncong;":"\u2247","ndash;":"\u2013","neArr;":"\u21D7","nearr;":"\u2197","nedot;":"\u2250\u0338","nesim;":"\u2242\u0338","ngeqq;":"\u2267\u0338","ngsim;":"\u2275","nhArr;":"\u21CE","nharr;":"\u21AE","nhpar;":"\u2AF2","nlArr;":"\u21CD","nlarr;":"\u219A","nleqq;":"\u2266\u0338","nless;":"\u226E","nlsim;":"\u2274","nltri;":"\u22EA","notin;":"\u2209","notni;":"\u220C","npart;":"\u2202\u0338","nprec;":"\u2280","nrArr;":"\u21CF","nrarr;":"\u219B","nrtri;":"\u22EB","nsime;":"\u2244","nsmid;":"\u2224","nspar;":"\u2226","nsubE;":"\u2AC5\u0338","nsube;":"\u2288","nsucc;":"\u2281","nsupE;":"\u2AC6\u0338","nsupe;":"\u2289",Ntilde:"\xD1",ntilde:"\xF1","numsp;":"\u2007","nvsim;":"\u223C\u20D2","nwArr;":"\u21D6","nwarr;":"\u2196",Oacute:"\xD3",oacute:"\xF3","Ocirc;":"\xD4","ocirc;":"\xF4","odash;":"\u229D","OElig;":"\u0152","oelig;":"\u0153","ofcir;":"\u29BF",Ograve:"\xD2",ograve:"\xF2","ohbar;":"\u29B5","olarr;":"\u21BA","olcir;":"\u29BE","oline;":"\u203E","Omacr;":"\u014C","omacr;":"\u014D","Omega;":"\u03A9","omega;":"\u03C9","operp;":"\u29B9","oplus;":"\u2295","orarr;":"\u21BB","order;":"\u2134",Oslash:"\xD8",oslash:"\xF8",Otilde:"\xD5",otilde:"\xF5","ovbar;":"\u233D","parsl;":"\u2AFD","phone;":"\u260E","plusb;":"\u229E","pluse;":"\u2A72",plusmn:"\xB1","pound;":"\xA3","prcue;":"\u227C","Prime;":"\u2033","prime;":"\u2032","prnap;":"\u2AB9","prsim;":"\u227E","quest;":"?","rAarr;":"\u21DB","radic;":"\u221A","rangd;":"\u2992","range;":"\u29A5","raquo;":"\xBB","rarrb;":"\u21E5","rarrc;":"\u2933","rarrw;":"\u219D","ratio;":"\u2236","RBarr;":"\u2910","rBarr;":"\u290F","rbarr;":"\u290D","rbbrk;":"\u2773","rbrke;":"\u298C","rceil;":"\u2309","rdquo;":"\u201D","reals;":"\u211D","rhard;":"\u21C1","rharu;":"\u21C0","rlarr;":"\u21C4","rlhar;":"\u21CC","rnmid;":"\u2AEE","roang;":"\u27ED","roarr;":"\u21FE","robrk;":"\u27E7","ropar;":"\u2986","rrarr;":"\u21C9","rsquo;":"\u2019","rtrie;":"\u22B5","rtrif;":"\u25B8","sbquo;":"\u201A","sccue;":"\u227D","Scirc;":"\u015C","scirc;":"\u015D","scnap;":"\u2ABA","scsim;":"\u227F","sdotb;":"\u22A1","sdote;":"\u2A66","seArr;":"\u21D8","searr;":"\u2198","setmn;":"\u2216","sharp;":"\u266F","Sigma;":"\u03A3","sigma;":"\u03C3","simeq;":"\u2243","simgE;":"\u2AA0","simlE;":"\u2A9F","simne;":"\u2246","slarr;":"\u2190","smile;":"\u2323","smtes;":"\u2AAC\uFE00","sqcap;":"\u2293","sqcup;":"\u2294","sqsub;":"\u228F","sqsup;":"\u2290","srarr;":"\u2192","starf;":"\u2605","strns;":"\xAF","subnE;":"\u2ACB","subne;":"\u228A","supnE;":"\u2ACC","supne;":"\u228B","swArr;":"\u21D9","swarr;":"\u2199","szlig;":"\xDF","Theta;":"\u0398","theta;":"\u03B8","thkap;":"\u2248","THORN;":"\xDE","thorn;":"\xFE","Tilde;":"\u223C","tilde;":"\u02DC","times;":"\xD7","TRADE;":"\u2122","trade;":"\u2122","trisb;":"\u29CD","TSHcy;":"\u040B","tshcy;":"\u045B","twixt;":"\u226C",Uacute:"\xDA",uacute:"\xFA","Ubrcy;":"\u040E","ubrcy;":"\u045E","Ucirc;":"\xDB","ucirc;":"\xFB","udarr;":"\u21C5","udhar;":"\u296E",Ugrave:"\xD9",ugrave:"\xF9","uharl;":"\u21BF","uharr;":"\u21BE","uhblk;":"\u2580","ultri;":"\u25F8","Umacr;":"\u016A","umacr;":"\u016B","Union;":"\u22C3","Uogon;":"\u0172","uogon;":"\u0173","uplus;":"\u228E","upsih;":"\u03D2","UpTee;":"\u22A5","Uring;":"\u016E","uring;":"\u016F","urtri;":"\u25F9","utdot;":"\u22F0","utrif;":"\u25B4","uuarr;":"\u21C8","varpi;":"\u03D6","vBarv;":"\u2AE9","VDash;":"\u22AB","Vdash;":"\u22A9","vDash;":"\u22A8","vdash;":"\u22A2","veeeq;":"\u225A","vltri;":"\u22B2","vnsub;":"\u2282\u20D2","vnsup;":"\u2283\u20D2","vprop;":"\u221D","vrtri;":"\u22B3","Wcirc;":"\u0174","wcirc;":"\u0175","Wedge;":"\u22C0","wedge;":"\u2227","xcirc;":"\u25EF","xdtri;":"\u25BD","xhArr;":"\u27FA","xharr;":"\u27F7","xlArr;":"\u27F8","xlarr;":"\u27F5","xodot;":"\u2A00","xrArr;":"\u27F9","xrarr;":"\u27F6","xutri;":"\u25B3",Yacute:"\xDD",yacute:"\xFD","Ycirc;":"\u0176","ycirc;":"\u0177","Aacute;":"\xC1","aacute;":"\xE1","Abreve;":"\u0102","abreve;":"\u0103","Agrave;":"\xC0","agrave;":"\xE0","andand;":"\u2A55","angmsd;":"\u2221","angsph;":"\u2222","apacir;":"\u2A6F","approx;":"\u2248","Assign;":"\u2254","Atilde;":"\xC3","atilde;":"\xE3","barvee;":"\u22BD","Barwed;":"\u2306","barwed;":"\u2305","becaus;":"\u2235","bernou;":"\u212C","bigcap;":"\u22C2","bigcup;":"\u22C3","bigvee;":"\u22C1","bkarow;":"\u290D","bottom;":"\u22A5","bowtie;":"\u22C8","boxbox;":"\u29C9","bprime;":"\u2035","brvbar;":"\xA6","bullet;":"\u2022","Bumpeq;":"\u224E","bumpeq;":"\u224F","Cacute;":"\u0106","cacute;":"\u0107","capand;":"\u2A44","capcap;":"\u2A4B","capcup;":"\u2A47","capdot;":"\u2A40","Ccaron;":"\u010C","ccaron;":"\u010D","Ccedil;":"\xC7","ccedil;":"\xE7","circeq;":"\u2257","cirmid;":"\u2AEF","Colone;":"\u2A74","colone;":"\u2254","commat;":"@","compfn;":"\u2218","Conint;":"\u222F","conint;":"\u222E","coprod;":"\u2210","copysr;":"\u2117","cularr;":"\u21B6","CupCap;":"\u224D","cupcap;":"\u2A46","cupcup;":"\u2A4A","cupdot;":"\u228D","curarr;":"\u21B7","curren;":"\xA4","cylcty;":"\u232D","Dagger;":"\u2021","dagger;":"\u2020","daleth;":"\u2138","Dcaron;":"\u010E","dcaron;":"\u010F","dfisht;":"\u297F","divide;":"\xF7","divonx;":"\u22C7","dlcorn;":"\u231E","dlcrop;":"\u230D","dollar;":"$","DotDot;":"\u20DC","drcorn;":"\u231F","drcrop;":"\u230C","Dstrok;":"\u0110","dstrok;":"\u0111","Eacute;":"\xC9","eacute;":"\xE9","easter;":"\u2A6E","Ecaron;":"\u011A","ecaron;":"\u011B","ecolon;":"\u2255","Egrave;":"\xC8","egrave;":"\xE8","egsdot;":"\u2A98","elsdot;":"\u2A97","emptyv;":"\u2205","emsp13;":"\u2004","emsp14;":"\u2005","eparsl;":"\u29E3","eqcirc;":"\u2256","equals;":"=","equest;":"\u225F","Exists;":"\u2203","female;":"\u2640","ffilig;":"\uFB03","ffllig;":"\uFB04","ForAll;":"\u2200","forall;":"\u2200","frac12;":"\xBD","frac13;":"\u2153","frac14;":"\xBC","frac15;":"\u2155","frac16;":"\u2159","frac18;":"\u215B","frac23;":"\u2154","frac25;":"\u2156","frac34;":"\xBE","frac35;":"\u2157","frac38;":"\u215C","frac45;":"\u2158","frac56;":"\u215A","frac58;":"\u215D","frac78;":"\u215E","gacute;":"\u01F5","Gammad;":"\u03DC","gammad;":"\u03DD","Gbreve;":"\u011E","gbreve;":"\u011F","Gcedil;":"\u0122","gesdot;":"\u2A80","gesles;":"\u2A94","gtlPar;":"\u2995","gtrarr;":"\u2978","gtrdot;":"\u22D7","gtrsim;":"\u2273","hairsp;":"\u200A","hamilt;":"\u210B","HARDcy;":"\u042A","hardcy;":"\u044A","hearts;":"\u2665","hellip;":"\u2026","hercon;":"\u22B9","homtht;":"\u223B","horbar;":"\u2015","hslash;":"\u210F","Hstrok;":"\u0126","hstrok;":"\u0127","hybull;":"\u2043","hyphen;":"\u2010","Iacute;":"\xCD","iacute;":"\xED","Igrave;":"\xCC","igrave;":"\xEC","iiiint;":"\u2A0C","iinfin;":"\u29DC","incare;":"\u2105","inodot;":"\u0131","intcal;":"\u22BA","iquest;":"\xBF","isinsv;":"\u22F3","Itilde;":"\u0128","itilde;":"\u0129","Jsercy;":"\u0408","jsercy;":"\u0458","kappav;":"\u03F0","Kcedil;":"\u0136","kcedil;":"\u0137","kgreen;":"\u0138","Lacute;":"\u0139","lacute;":"\u013A","lagran;":"\u2112","Lambda;":"\u039B","lambda;":"\u03BB","langle;":"\u27E8","larrfs;":"\u291D","larrhk;":"\u21A9","larrlp;":"\u21AB","larrpl;":"\u2939","larrtl;":"\u21A2","lAtail;":"\u291B","latail;":"\u2919","lbrace;":"{","lbrack;":"[","Lcaron;":"\u013D","lcaron;":"\u013E","Lcedil;":"\u013B","lcedil;":"\u013C","ldquor;":"\u201E","lesdot;":"\u2A7F","lesges;":"\u2A93","lfisht;":"\u297C","lfloor;":"\u230A","lharul;":"\u296A","llhard;":"\u296B","Lmidot;":"\u013F","lmidot;":"\u0140","lmoust;":"\u23B0","loplus;":"\u2A2D","lowast;":"\u2217","lowbar;":"_","lparlt;":"\u2993","lrhard;":"\u296D","lsaquo;":"\u2039","lsquor;":"\u201A","Lstrok;":"\u0141","lstrok;":"\u0142","lthree;":"\u22CB","ltimes;":"\u22C9","ltlarr;":"\u2976","ltrPar;":"\u2996","mapsto;":"\u21A6","marker;":"\u25AE","mcomma;":"\u2A29","midast;":"*","midcir;":"\u2AF0","middot;":"\xB7","minusb;":"\u229F","minusd;":"\u2238","mnplus;":"\u2213","models;":"\u22A7","mstpos;":"\u223E","Nacute;":"\u0143","nacute;":"\u0144","nbumpe;":"\u224F\u0338","Ncaron;":"\u0147","ncaron;":"\u0148","Ncedil;":"\u0145","ncedil;":"\u0146","nearhk;":"\u2924","nequiv;":"\u2262","nesear;":"\u2928","nexist;":"\u2204","nltrie;":"\u22EC","notinE;":"\u22F9\u0338","nparsl;":"\u2AFD\u20E5","nprcue;":"\u22E0","nrarrc;":"\u2933\u0338","nrarrw;":"\u219D\u0338","nrtrie;":"\u22ED","nsccue;":"\u22E1","nsimeq;":"\u2244","Ntilde;":"\xD1","ntilde;":"\xF1","numero;":"\u2116","nVDash;":"\u22AF","nVdash;":"\u22AE","nvDash;":"\u22AD","nvdash;":"\u22AC","nvHarr;":"\u2904","nvlArr;":"\u2902","nvrArr;":"\u2903","nwarhk;":"\u2923","nwnear;":"\u2927","Oacute;":"\xD3","oacute;":"\xF3","Odblac;":"\u0150","odblac;":"\u0151","odsold;":"\u29BC","Ograve;":"\xD2","ograve;":"\xF2","ominus;":"\u2296","origof;":"\u22B6","Oslash;":"\xD8","oslash;":"\xF8","Otilde;":"\xD5","otilde;":"\xF5","Otimes;":"\u2A37","otimes;":"\u2297","parsim;":"\u2AF3","percnt;":"%","period;":".","permil;":"\u2030","phmmat;":"\u2133","planck;":"\u210F","plankv;":"\u210F","plusdo;":"\u2214","plusdu;":"\u2A25","plusmn;":"\xB1","preceq;":"\u2AAF","primes;":"\u2119","prnsim;":"\u22E8","propto;":"\u221D","prurel;":"\u22B0","puncsp;":"\u2008","qprime;":"\u2057","Racute;":"\u0154","racute;":"\u0155","rangle;":"\u27E9","rarrap;":"\u2975","rarrfs;":"\u291E","rarrhk;":"\u21AA","rarrlp;":"\u21AC","rarrpl;":"\u2945","Rarrtl;":"\u2916","rarrtl;":"\u21A3","rAtail;":"\u291C","ratail;":"\u291A","rbrace;":"}","rbrack;":"]","Rcaron;":"\u0158","rcaron;":"\u0159","Rcedil;":"\u0156","rcedil;":"\u0157","rdquor;":"\u201D","rfisht;":"\u297D","rfloor;":"\u230B","rharul;":"\u296C","rmoust;":"\u23B1","roplus;":"\u2A2E","rpargt;":"\u2994","rsaquo;":"\u203A","rsquor;":"\u2019","rthree;":"\u22CC","rtimes;":"\u22CA","Sacute;":"\u015A","sacute;":"\u015B","Scaron;":"\u0160","scaron;":"\u0161","Scedil;":"\u015E","scedil;":"\u015F","scnsim;":"\u22E9","searhk;":"\u2925","seswar;":"\u2929","sfrown;":"\u2322","SHCHcy;":"\u0429","shchcy;":"\u0449","sigmaf;":"\u03C2","sigmav;":"\u03C2","simdot;":"\u2A6A","smashp;":"\u2A33","SOFTcy;":"\u042C","softcy;":"\u044C","solbar;":"\u233F","spades;":"\u2660","sqcaps;":"\u2293\uFE00","sqcups;":"\u2294\uFE00","sqsube;":"\u2291","sqsupe;":"\u2292","Square;":"\u25A1","square;":"\u25A1","squarf;":"\u25AA","ssetmn;":"\u2216","ssmile;":"\u2323","sstarf;":"\u22C6","subdot;":"\u2ABD","Subset;":"\u22D0","subset;":"\u2282","subsim;":"\u2AC7","subsub;":"\u2AD5","subsup;":"\u2AD3","succeq;":"\u2AB0","supdot;":"\u2ABE","Supset;":"\u22D1","supset;":"\u2283","supsim;":"\u2AC8","supsub;":"\u2AD4","supsup;":"\u2AD6","swarhk;":"\u2926","swnwar;":"\u292A","target;":"\u2316","Tcaron;":"\u0164","tcaron;":"\u0165","Tcedil;":"\u0162","tcedil;":"\u0163","telrec;":"\u2315","there4;":"\u2234","thetav;":"\u03D1","thinsp;":"\u2009","thksim;":"\u223C","timesb;":"\u22A0","timesd;":"\u2A30","topbot;":"\u2336","topcir;":"\u2AF1","tprime;":"\u2034","tridot;":"\u25EC","Tstrok;":"\u0166","tstrok;":"\u0167","Uacute;":"\xDA","uacute;":"\xFA","Ubreve;":"\u016C","ubreve;":"\u016D","Udblac;":"\u0170","udblac;":"\u0171","ufisht;":"\u297E","Ugrave;":"\xD9","ugrave;":"\xF9","ulcorn;":"\u231C","ulcrop;":"\u230F","urcorn;":"\u231D","urcrop;":"\u230E","Utilde;":"\u0168","utilde;":"\u0169","vangrt;":"\u299C","varphi;":"\u03D5","varrho;":"\u03F1","Vdashl;":"\u2AE6","veebar;":"\u22BB","vellip;":"\u22EE","Verbar;":"\u2016","verbar;":"|","vsubnE;":"\u2ACB\uFE00","vsubne;":"\u228A\uFE00","vsupnE;":"\u2ACC\uFE00","vsupne;":"\u228B\uFE00","Vvdash;":"\u22AA","wedbar;":"\u2A5F","wedgeq;":"\u2259","weierp;":"\u2118","wreath;":"\u2240","xoplus;":"\u2A01","xotime;":"\u2A02","xsqcup;":"\u2A06","xuplus;":"\u2A04","xwedge;":"\u22C0","Yacute;":"\xDD","yacute;":"\xFD","Zacute;":"\u0179","zacute;":"\u017A","Zcaron;":"\u017D","zcaron;":"\u017E","zeetrf;":"\u2128","alefsym;":"\u2135","angrtvb;":"\u22BE","angzarr;":"\u237C","asympeq;":"\u224D","backsim;":"\u223D","Because;":"\u2235","because;":"\u2235","bemptyv;":"\u29B0","between;":"\u226C","bigcirc;":"\u25EF","bigodot;":"\u2A00","bigstar;":"\u2605","bnequiv;":"\u2261\u20E5","boxplus;":"\u229E","Cayleys;":"\u212D","Cconint;":"\u2230","ccupssm;":"\u2A50","Cedilla;":"\xB8","cemptyv;":"\u29B2","cirscir;":"\u29C2","coloneq;":"\u2254","congdot;":"\u2A6D","cudarrl;":"\u2938","cudarrr;":"\u2935","cularrp;":"\u293D","curarrm;":"\u293C","dbkarow;":"\u290F","ddagger;":"\u2021","ddotseq;":"\u2A77","demptyv;":"\u29B1","Diamond;":"\u22C4","diamond;":"\u22C4","digamma;":"\u03DD","dotplus;":"\u2214","DownTee;":"\u22A4","dwangle;":"\u29A6","Element;":"\u2208","Epsilon;":"\u0395","epsilon;":"\u03B5","eqcolon;":"\u2255","equivDD;":"\u2A78","gesdoto;":"\u2A82","gtquest;":"\u2A7C","gtrless;":"\u2277","harrcir;":"\u2948","Implies;":"\u21D2","intprod;":"\u2A3C","isindot;":"\u22F5","larrbfs;":"\u291F","larrsim;":"\u2973","lbrksld;":"\u298F","lbrkslu;":"\u298D","ldrdhar;":"\u2967","LeftTee;":"\u22A3","lesdoto;":"\u2A81","lessdot;":"\u22D6","lessgtr;":"\u2276","lesssim;":"\u2272","lotimes;":"\u2A34","lozenge;":"\u25CA","ltquest;":"\u2A7B","luruhar;":"\u2966","maltese;":"\u2720","minusdu;":"\u2A2A","napprox;":"\u2249","natural;":"\u266E","nearrow;":"\u2197","NewLine;":`
`,"nexists;":"\u2204","NoBreak;":"\u2060","notinva;":"\u2209","notinvb;":"\u22F7","notinvc;":"\u22F6","NotLess;":"\u226E","notniva;":"\u220C","notnivb;":"\u22FE","notnivc;":"\u22FD","npolint;":"\u2A14","npreceq;":"\u2AAF\u0338","nsqsube;":"\u22E2","nsqsupe;":"\u22E3","nsubset;":"\u2282\u20D2","nsucceq;":"\u2AB0\u0338","nsupset;":"\u2283\u20D2","nvinfin;":"\u29DE","nvltrie;":"\u22B4\u20D2","nvrtrie;":"\u22B5\u20D2","nwarrow;":"\u2196","olcross;":"\u29BB","Omicron;":"\u039F","omicron;":"\u03BF","orderof;":"\u2134","orslope;":"\u2A57","OverBar;":"\u203E","pertenk;":"\u2031","planckh;":"\u210E","pluscir;":"\u2A22","plussim;":"\u2A26","plustwo;":"\u2A27","precsim;":"\u227E","Product;":"\u220F","quatint;":"\u2A16","questeq;":"\u225F","rarrbfs;":"\u2920","rarrsim;":"\u2974","rbrksld;":"\u298E","rbrkslu;":"\u2990","rdldhar;":"\u2969","realine;":"\u211B","rotimes;":"\u2A35","ruluhar;":"\u2968","searrow;":"\u2198","simplus;":"\u2A24","simrarr;":"\u2972","subedot;":"\u2AC3","submult;":"\u2AC1","subplus;":"\u2ABF","subrarr;":"\u2979","succsim;":"\u227F","supdsub;":"\u2AD8","supedot;":"\u2AC4","suphsol;":"\u27C9","suphsub;":"\u2AD7","suplarr;":"\u297B","supmult;":"\u2AC2","supplus;":"\u2AC0","swarrow;":"\u2199","topfork;":"\u2ADA","triplus;":"\u2A39","tritime;":"\u2A3B","UpArrow;":"\u2191","Uparrow;":"\u21D1","uparrow;":"\u2191","Upsilon;":"\u03A5","upsilon;":"\u03C5","uwangle;":"\u29A7","vzigzag;":"\u299A","zigrarr;":"\u21DD","andslope;":"\u2A58","angmsdaa;":"\u29A8","angmsdab;":"\u29A9","angmsdac;":"\u29AA","angmsdad;":"\u29AB","angmsdae;":"\u29AC","angmsdaf;":"\u29AD","angmsdag;":"\u29AE","angmsdah;":"\u29AF","angrtvbd;":"\u299D","approxeq;":"\u224A","awconint;":"\u2233","backcong;":"\u224C","barwedge;":"\u2305","bbrktbrk;":"\u23B6","bigoplus;":"\u2A01","bigsqcup;":"\u2A06","biguplus;":"\u2A04","bigwedge;":"\u22C0","boxminus;":"\u229F","boxtimes;":"\u22A0","bsolhsub;":"\u27C8","capbrcup;":"\u2A49","circledR;":"\xAE","circledS;":"\u24C8","cirfnint;":"\u2A10","clubsuit;":"\u2663","cupbrcap;":"\u2A48","curlyvee;":"\u22CE","cwconint;":"\u2232","DDotrahd;":"\u2911","doteqdot;":"\u2251","DotEqual;":"\u2250","dotminus;":"\u2238","drbkarow;":"\u2910","dzigrarr;":"\u27FF","elinters;":"\u23E7","emptyset;":"\u2205","eqvparsl;":"\u29E5","fpartint;":"\u2A0D","geqslant;":"\u2A7E","gesdotol;":"\u2A84","gnapprox;":"\u2A8A","hksearow;":"\u2925","hkswarow;":"\u2926","imagline;":"\u2110","imagpart;":"\u2111","infintie;":"\u29DD","integers;":"\u2124","Integral;":"\u222B","intercal;":"\u22BA","intlarhk;":"\u2A17","laemptyv;":"\u29B4","ldrushar;":"\u294B","leqslant;":"\u2A7D","lesdotor;":"\u2A83","LessLess;":"\u2AA1","llcorner;":"\u231E","lnapprox;":"\u2A89","lrcorner;":"\u231F","lurdshar;":"\u294A","mapstoup;":"\u21A5","multimap;":"\u22B8","naturals;":"\u2115","ncongdot;":"\u2A6D\u0338","NotEqual;":"\u2260","notindot;":"\u22F5\u0338","NotTilde;":"\u2241","otimesas;":"\u2A36","parallel;":"\u2225","PartialD;":"\u2202","plusacir;":"\u2A23","pointint;":"\u2A15","Precedes;":"\u227A","precneqq;":"\u2AB5","precnsim;":"\u22E8","profalar;":"\u232E","profline;":"\u2312","profsurf;":"\u2313","raemptyv;":"\u29B3","realpart;":"\u211C","RightTee;":"\u22A2","rppolint;":"\u2A12","rtriltri;":"\u29CE","scpolint;":"\u2A13","setminus;":"\u2216","shortmid;":"\u2223","smeparsl;":"\u29E4","sqsubset;":"\u228F","sqsupset;":"\u2290","subseteq;":"\u2286","Succeeds;":"\u227B","succneqq;":"\u2AB6","succnsim;":"\u22E9","SuchThat;":"\u220B","Superset;":"\u2283","supseteq;":"\u2287","thetasym;":"\u03D1","thicksim;":"\u223C","timesbar;":"\u2A31","triangle;":"\u25B5","triminus;":"\u2A3A","trpezium;":"\u23E2","Uarrocir;":"\u2949","ulcorner;":"\u231C","UnderBar;":"_","urcorner;":"\u231D","varkappa;":"\u03F0","varsigma;":"\u03C2","vartheta;":"\u03D1","backprime;":"\u2035","backsimeq;":"\u22CD","Backslash;":"\u2216","bigotimes;":"\u2A02","CenterDot;":"\xB7","centerdot;":"\xB7","checkmark;":"\u2713","CircleDot;":"\u2299","complexes;":"\u2102","Congruent;":"\u2261","Coproduct;":"\u2210","dotsquare;":"\u22A1","DoubleDot;":"\xA8","DownArrow;":"\u2193","Downarrow;":"\u21D3","downarrow;":"\u2193","DownBreve;":"\u0311","gtrapprox;":"\u2A86","gtreqless;":"\u22DB","gvertneqq;":"\u2269\uFE00","heartsuit;":"\u2665","HumpEqual;":"\u224F","LeftArrow;":"\u2190","Leftarrow;":"\u21D0","leftarrow;":"\u2190","LeftFloor;":"\u230A","lesseqgtr;":"\u22DA","LessTilde;":"\u2272","lvertneqq;":"\u2268\uFE00","Mellintrf;":"\u2133","MinusPlus;":"\u2213","ngeqslant;":"\u2A7E\u0338","nleqslant;":"\u2A7D\u0338","NotCupCap;":"\u226D","NotExists;":"\u2204","NotSubset;":"\u2282\u20D2","nparallel;":"\u2226","nshortmid;":"\u2224","nsubseteq;":"\u2288","nsupseteq;":"\u2289","OverBrace;":"\u23DE","pitchfork;":"\u22D4","PlusMinus;":"\xB1","rationals;":"\u211A","spadesuit;":"\u2660","subseteqq;":"\u2AC5","subsetneq;":"\u228A","supseteqq;":"\u2AC6","supsetneq;":"\u228B","Therefore;":"\u2234","therefore;":"\u2234","ThinSpace;":"\u2009","triangleq;":"\u225C","TripleDot;":"\u20DB","UnionPlus;":"\u228E","varpropto;":"\u221D","Bernoullis;":"\u212C","circledast;":"\u229B","CirclePlus;":"\u2295","complement;":"\u2201","curlywedge;":"\u22CF","eqslantgtr;":"\u2A96","EqualTilde;":"\u2242","Fouriertrf;":"\u2131","gtreqqless;":"\u2A8C","ImaginaryI;":"\u2148","Laplacetrf;":"\u2112","LeftVector;":"\u21BC","lessapprox;":"\u2A85","lesseqqgtr;":"\u2A8B","Lleftarrow;":"\u21DA","lmoustache;":"\u23B0","longmapsto;":"\u27FC","mapstodown;":"\u21A7","mapstoleft;":"\u21A4","nLeftarrow;":"\u21CD","nleftarrow;":"\u219A","NotElement;":"\u2209","NotGreater;":"\u226F","nsubseteqq;":"\u2AC5\u0338","nsupseteqq;":"\u2AC6\u0338","precapprox;":"\u2AB7","Proportion;":"\u2237","RightArrow;":"\u2192","Rightarrow;":"\u21D2","rightarrow;":"\u2192","RightFloor;":"\u230B","rmoustache;":"\u23B1","sqsubseteq;":"\u2291","sqsupseteq;":"\u2292","subsetneqq;":"\u2ACB","succapprox;":"\u2AB8","supsetneqq;":"\u2ACC","ThickSpace;":"\u205F\u200A","TildeEqual;":"\u2243","TildeTilde;":"\u2248","UnderBrace;":"\u23DF","UpArrowBar;":"\u2912","UpTeeArrow;":"\u21A5","upuparrows;":"\u21C8","varepsilon;":"\u03F5","varnothing;":"\u2205","backepsilon;":"\u03F6","blacksquare;":"\u25AA","circledcirc;":"\u229A","circleddash;":"\u229D","CircleMinus;":"\u2296","CircleTimes;":"\u2297","curlyeqprec;":"\u22DE","curlyeqsucc;":"\u22DF","diamondsuit;":"\u2666","eqslantless;":"\u2A95","Equilibrium;":"\u21CC","expectation;":"\u2130","GreaterLess;":"\u2277","LeftCeiling;":"\u2308","LessGreater;":"\u2276","MediumSpace;":"\u205F","NotLessLess;":"\u226A\u0338","NotPrecedes;":"\u2280","NotSucceeds;":"\u2281","NotSuperset;":"\u2283\u20D2","nRightarrow;":"\u21CF","nrightarrow;":"\u219B","OverBracket;":"\u23B4","preccurlyeq;":"\u227C","precnapprox;":"\u2AB9","quaternions;":"\u210D","RightVector;":"\u21C0","Rrightarrow;":"\u21DB","RuleDelayed;":"\u29F4","SmallCircle;":"\u2218","SquareUnion;":"\u2294","straightphi;":"\u03D5","SubsetEqual;":"\u2286","succcurlyeq;":"\u227D","succnapprox;":"\u2ABA","thickapprox;":"\u2248","UpDownArrow;":"\u2195","Updownarrow;":"\u21D5","updownarrow;":"\u2195","VerticalBar;":"\u2223","blacklozenge;":"\u29EB","DownArrowBar;":"\u2913","DownTeeArrow;":"\u21A7","ExponentialE;":"\u2147","exponentiale;":"\u2147","GreaterEqual;":"\u2265","GreaterTilde;":"\u2273","HilbertSpace;":"\u210B","HumpDownHump;":"\u224E","Intersection;":"\u22C2","LeftArrowBar;":"\u21E4","LeftTeeArrow;":"\u21A4","LeftTriangle;":"\u22B2","LeftUpVector;":"\u21BF","NotCongruent;":"\u2262","NotHumpEqual;":"\u224F\u0338","NotLessEqual;":"\u2270","NotLessTilde;":"\u2274","Proportional;":"\u221D","RightCeiling;":"\u2309","risingdotseq;":"\u2253","RoundImplies;":"\u2970","ShortUpArrow;":"\u2191","SquareSubset;":"\u228F","triangledown;":"\u25BF","triangleleft;":"\u25C3","UnderBracket;":"\u23B5","varsubsetneq;":"\u228A\uFE00","varsupsetneq;":"\u228B\uFE00","VerticalLine;":"|","ApplyFunction;":"\u2061","bigtriangleup;":"\u25B3","blacktriangle;":"\u25B4","DifferentialD;":"\u2146","divideontimes;":"\u22C7","DoubleLeftTee;":"\u2AE4","DoubleUpArrow;":"\u21D1","fallingdotseq;":"\u2252","hookleftarrow;":"\u21A9","leftarrowtail;":"\u21A2","leftharpoonup;":"\u21BC","LeftTeeVector;":"\u295A","LeftVectorBar;":"\u2952","LessFullEqual;":"\u2266","LongLeftArrow;":"\u27F5","Longleftarrow;":"\u27F8","longleftarrow;":"\u27F5","looparrowleft;":"\u21AB","measuredangle;":"\u2221","NotEqualTilde;":"\u2242\u0338","NotTildeEqual;":"\u2244","NotTildeTilde;":"\u2249","ntriangleleft;":"\u22EA","Poincareplane;":"\u210C","PrecedesEqual;":"\u2AAF","PrecedesTilde;":"\u227E","RightArrowBar;":"\u21E5","RightTeeArrow;":"\u21A6","RightTriangle;":"\u22B3","RightUpVector;":"\u21BE","shortparallel;":"\u2225","smallsetminus;":"\u2216","SucceedsEqual;":"\u2AB0","SucceedsTilde;":"\u227F","SupersetEqual;":"\u2287","triangleright;":"\u25B9","UpEquilibrium;":"\u296E","upharpoonleft;":"\u21BF","varsubsetneqq;":"\u2ACB\uFE00","varsupsetneqq;":"\u2ACC\uFE00","VerticalTilde;":"\u2240","VeryThinSpace;":"\u200A","curvearrowleft;":"\u21B6","DiacriticalDot;":"\u02D9","doublebarwedge;":"\u2306","DoubleRightTee;":"\u22A8","downdownarrows;":"\u21CA","DownLeftVector;":"\u21BD","GreaterGreater;":"\u2AA2","hookrightarrow;":"\u21AA","HorizontalLine;":"\u2500","InvisibleComma;":"\u2063","InvisibleTimes;":"\u2062","LeftDownVector;":"\u21C3","leftleftarrows;":"\u21C7","LeftRightArrow;":"\u2194","Leftrightarrow;":"\u21D4","leftrightarrow;":"\u2194","leftthreetimes;":"\u22CB","LessSlantEqual;":"\u2A7D","LongRightArrow;":"\u27F6","Longrightarrow;":"\u27F9","longrightarrow;":"\u27F6","looparrowright;":"\u21AC","LowerLeftArrow;":"\u2199","NestedLessLess;":"\u226A","NotGreaterLess;":"\u2279","NotLessGreater;":"\u2278","NotSubsetEqual;":"\u2288","NotVerticalBar;":"\u2224","nshortparallel;":"\u2226","ntriangleright;":"\u22EB","OpenCurlyQuote;":"\u2018","ReverseElement;":"\u220B","rightarrowtail;":"\u21A3","rightharpoonup;":"\u21C0","RightTeeVector;":"\u295B","RightVectorBar;":"\u2953","ShortDownArrow;":"\u2193","ShortLeftArrow;":"\u2190","SquareSuperset;":"\u2290","TildeFullEqual;":"\u2245","trianglelefteq;":"\u22B4","upharpoonright;":"\u21BE","UpperLeftArrow;":"\u2196","ZeroWidthSpace;":"\u200B","bigtriangledown;":"\u25BD","circlearrowleft;":"\u21BA","CloseCurlyQuote;":"\u2019","ContourIntegral;":"\u222E","curvearrowright;":"\u21B7","DoubleDownArrow;":"\u21D3","DoubleLeftArrow;":"\u21D0","downharpoonleft;":"\u21C3","DownRightVector;":"\u21C1","leftharpoondown;":"\u21BD","leftrightarrows;":"\u21C6","LeftRightVector;":"\u294E","LeftTriangleBar;":"\u29CF","LeftUpTeeVector;":"\u2960","LeftUpVectorBar;":"\u2958","LowerRightArrow;":"\u2198","nLeftrightarrow;":"\u21CE","nleftrightarrow;":"\u21AE","NotGreaterEqual;":"\u2271","NotGreaterTilde;":"\u2275","NotHumpDownHump;":"\u224E\u0338","NotLeftTriangle;":"\u22EA","NotSquareSubset;":"\u228F\u0338","ntrianglelefteq;":"\u22EC","OverParenthesis;":"\u23DC","RightDownVector;":"\u21C2","rightleftarrows;":"\u21C4","rightsquigarrow;":"\u219D","rightthreetimes;":"\u22CC","ShortRightArrow;":"\u2192","straightepsilon;":"\u03F5","trianglerighteq;":"\u22B5","UpperRightArrow;":"\u2197","vartriangleleft;":"\u22B2","circlearrowright;":"\u21BB","DiacriticalAcute;":"\xB4","DiacriticalGrave;":"`","DiacriticalTilde;":"\u02DC","DoubleRightArrow;":"\u21D2","DownArrowUpArrow;":"\u21F5","downharpoonright;":"\u21C2","EmptySmallSquare;":"\u25FB","GreaterEqualLess;":"\u22DB","GreaterFullEqual;":"\u2267","LeftAngleBracket;":"\u27E8","LeftUpDownVector;":"\u2951","LessEqualGreater;":"\u22DA","NonBreakingSpace;":"\xA0","NotPrecedesEqual;":"\u2AAF\u0338","NotRightTriangle;":"\u22EB","NotSucceedsEqual;":"\u2AB0\u0338","NotSucceedsTilde;":"\u227F\u0338","NotSupersetEqual;":"\u2289","ntrianglerighteq;":"\u22ED","rightharpoondown;":"\u21C1","rightrightarrows;":"\u21C9","RightTriangleBar;":"\u29D0","RightUpTeeVector;":"\u295C","RightUpVectorBar;":"\u2954","twoheadleftarrow;":"\u219E","UnderParenthesis;":"\u23DD","UpArrowDownArrow;":"\u21C5","vartriangleright;":"\u22B3","blacktriangledown;":"\u25BE","blacktriangleleft;":"\u25C2","DoubleUpDownArrow;":"\u21D5","DoubleVerticalBar;":"\u2225","DownLeftTeeVector;":"\u295E","DownLeftVectorBar;":"\u2956","FilledSmallSquare;":"\u25FC","GreaterSlantEqual;":"\u2A7E","LeftDoubleBracket;":"\u27E6","LeftDownTeeVector;":"\u2961","LeftDownVectorBar;":"\u2959","leftrightharpoons;":"\u21CB","LeftTriangleEqual;":"\u22B4","NegativeThinSpace;":"\u200B","NotGreaterGreater;":"\u226B\u0338","NotLessSlantEqual;":"\u2A7D\u0338","NotNestedLessLess;":"\u2AA1\u0338","NotReverseElement;":"\u220C","NotSquareSuperset;":"\u2290\u0338","NotTildeFullEqual;":"\u2247","RightAngleBracket;":"\u27E9","rightleftharpoons;":"\u21CC","RightUpDownVector;":"\u294F","SquareSubsetEqual;":"\u2291","twoheadrightarrow;":"\u21A0","VerticalSeparator;":"\u2758","blacktriangleright;":"\u25B8","DownRightTeeVector;":"\u295F","DownRightVectorBar;":"\u2957","LongLeftRightArrow;":"\u27F7","Longleftrightarrow;":"\u27FA","longleftrightarrow;":"\u27F7","NegativeThickSpace;":"\u200B","NotLeftTriangleBar;":"\u29CF\u0338","PrecedesSlantEqual;":"\u227C","ReverseEquilibrium;":"\u21CB","RightDoubleBracket;":"\u27E7","RightDownTeeVector;":"\u295D","RightDownVectorBar;":"\u2955","RightTriangleEqual;":"\u22B5","SquareIntersection;":"\u2293","SucceedsSlantEqual;":"\u227D","DoubleLongLeftArrow;":"\u27F8","DownLeftRightVector;":"\u2950","LeftArrowRightArrow;":"\u21C6","leftrightsquigarrow;":"\u21AD","NegativeMediumSpace;":"\u200B","NotGreaterFullEqual;":"\u2267\u0338","NotRightTriangleBar;":"\u29D0\u0338","RightArrowLeftArrow;":"\u21C4","SquareSupersetEqual;":"\u2292","CapitalDifferentialD;":"\u2145","DoubleLeftRightArrow;":"\u21D4","DoubleLongRightArrow;":"\u27F9","EmptyVerySmallSquare;":"\u25AB","NestedGreaterGreater;":"\u226B","NotDoubleVerticalBar;":"\u2226","NotGreaterSlantEqual;":"\u2A7E\u0338","NotLeftTriangleEqual;":"\u22EC","NotSquareSubsetEqual;":"\u22E2","OpenCurlyDoubleQuote;":"\u201C","ReverseUpEquilibrium;":"\u296F","CloseCurlyDoubleQuote;":"\u201D","DoubleContourIntegral;":"\u222F","FilledVerySmallSquare;":"\u25AA","NegativeVeryThinSpace;":"\u200B","NotPrecedesSlantEqual;":"\u22E0","NotRightTriangleEqual;":"\u22ED","NotSucceedsSlantEqual;":"\u22E1","DiacriticalDoubleAcute;":"\u02DD","NotSquareSupersetEqual;":"\u22E3","NotNestedGreaterGreater;":"\u2AA2\u0338","ClockwiseContourIntegral;":"\u2232","DoubleLongLeftRightArrow;":"\u27FA","CounterClockwiseContourIntegral;":"\u2233"},Dw,gQ=(n,e)=>{let t=0,i=n.length,r="";function s(a){t+=a,n=n.slice(a)}for(;t<i;){let a=/&(?:#x?)?/i.exec(n);if(!a||t+a.index>=i){let o=i-t;r+=n.slice(0,o),s(o);break}if(r+=n.slice(0,a.index),s(a.index),a[0]==="&"){let o="",l;if(/[0-9a-z]/i.test(n[1])){Dw||(Dw=Object.keys(IF).reduce((c,u)=>Math.max(c,u.length),0));for(let c=Dw;!l&&c>0;--c)o=n.slice(1,1+c),l=IF[o];if(l){let c=o.endsWith(";");e&&!c&&/[=a-z0-9]/i.test(n[o.length+1]||"")?(r+="&"+o,s(1+o.length)):(r+=l,s(1+o.length))}else r+="&"+o,s(1+o.length)}else r+="&",s(1)}else{let o=a[0]==="&#x",c=(o?/^&#x([0-9a-f]+);?/i:/^&#([0-9]+);?/).exec(n);if(!c)r+=a[0],s(a[0].length);else{let u=Number.parseInt(c[1],o?16:10);u===0||u>1114111||u>=55296&&u<=57343?u=65533:u>=64976&&u<=65007||(u&65534)===65534||(u>=1&&u<=8||u===11||u>=13&&u<=31||u>=127&&u<=159)&&(u=yQ[u]||u),r+=String.fromCodePoint(u),s(c[0].length)}}}return r},yQ={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},vQ=xi.makeMap("style,iframe,script,noscript",!0),Vw={isVoidTag:xi.isVoidTag,isNativeTag:n=>xi.isHTMLTag(n)||xi.isSVGTag(n),isPreTag:n=>n==="pre",decodeEntities:gQ,isBuiltInComponent:n=>{if(ai.isBuiltInType(n,"Transition"))return Uw;if(ai.isBuiltInType(n,"TransitionGroup"))return zw},getNamespace(n,e){let t=e?e.ns:0;if(e&&t===2)if(e.tag==="annotation-xml"){if(n==="svg")return 1;e.props.some(i=>i.type===6&&i.name==="encoding"&&i.value!=null&&(i.value.content==="text/html"||i.value.content==="application/xhtml+xml"))&&(t=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&n!=="mglyph"&&n!=="malignmark"&&(t=0);else e&&t===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(t=0);if(t===0){if(n==="svg")return 1;if(n==="math")return 2}return t},getTextMode({tag:n,ns:e}){if(e===0){if(n==="textarea"||n==="title")return 1;if(vQ(n))return 2}return 0}},OF=n=>{n.type===1&&n.props.forEach((e,t)=>{e.type===6&&e.name==="style"&&e.value&&(n.props[t]={type:7,name:"bind",arg:ai.createSimpleExpression("style",!0,e.loc),exp:_Q(e.value.content,e.loc),modifiers:[],loc:e.loc})})},_Q=(n,e)=>{let t=xi.parseStringStyle(n);return ai.createSimpleExpression(JSON.stringify(t),!1,e,3)};function Ca(n,e){return ai.createCompilerError(n,e,xQ)}var xQ={50:"v-html is missing expression.",51:"v-html will override element children.",52:"v-text is missing expression.",53:"v-text will override element children.",54:"v-model can only be used on <input>, <textarea> and <select> elements.",55:"v-model argument is not supported on plain elements.",56:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",57:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",58:"v-show is missing expression.",59:"<Transition> expects exactly one child element or component.",60:"Tags with side effect (<script> and <style>) are ignored in client component templates."},bQ=(n,e,t)=>{let{exp:i,loc:r}=n;return i||t.onError(Ca(50,r)),e.children.length&&(t.onError(Ca(51,r)),e.children.length=0),{props:[ai.createObjectProperty(ai.createSimpleExpression("innerHTML",!0,r),i||ai.createSimpleExpression("",!0))]}},EQ=(n,e,t)=>{let{exp:i,loc:r}=n;return i||t.onError(Ca(52,r)),e.children.length&&(t.onError(Ca(53,r)),e.children.length=0),{props:[ai.createObjectProperty(ai.createSimpleExpression("textContent",!0),i?ai.getConstantType(i,t)>0?i:ai.createCallExpression(t.helperString(ai.TO_DISPLAY_STRING),[i],r):ai.createSimpleExpression("",!0))]}},SQ=(n,e,t)=>{let i=ai.transformModel(n,e,t);if(!i.props.length||e.tagType===1)return i;n.arg&&t.onError(Ca(55,n.arg.loc));let{tag:r}=e,s=t.isCustomElement(r);if(r==="input"||r==="textarea"||r==="select"||s){let a=Ow,o=!1;if(r==="input"||s){let l=ai.findProp(e,"type");if(l){if(l.type===7)a=Zv;else if(l.value)switch(l.value.content){case"radio":a=Rw;break;case"checkbox":a=Lw;break;case"file":o=!0,t.onError(Ca(56,n.loc));break}}else ai.hasDynamicKeyVBind(e)&&(a=Zv)}else r==="select"&&(a=Nw);o||(i.needRuntime=t.helper(a))}else t.onError(Ca(54,n.loc));return i.props=i.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),i},TQ=xi.makeMap("passive,once,capture"),wQ=xi.makeMap("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),AQ=xi.makeMap("left,right"),NF=xi.makeMap("onkeyup,onkeydown,onkeypress",!0),MQ=(n,e,t,i)=>{let r=[],s=[],a=[];for(let o=0;o<e.length;o++){let l=e[o];l==="native"&&ai.checkCompatEnabled("COMPILER_V_ON_NATIVE",t,i)||TQ(l)?a.push(l):AQ(l)?ai.isStaticExp(n)?NF(n.content)?r.push(l):s.push(l):(r.push(l),s.push(l)):wQ(l)?s.push(l):r.push(l)}return{keyModifiers:r,nonKeyModifiers:s,eventOptionModifiers:a}},DF=(n,e)=>ai.isStaticExp(n)&&n.content.toLowerCase()==="onclick"?ai.createSimpleExpression(e,!0):n.type!==4?ai.createCompoundExpression(["(",n,`) === "onClick" ? "${e}" : (`,n,")"]):n,CQ=(n,e,t)=>ai.transformOn(n,e,t,i=>{let{modifiers:r}=n;if(!r.length)return i;let{key:s,value:a}=i.props[0],{keyModifiers:o,nonKeyModifiers:l,eventOptionModifiers:c}=MQ(s,r,t,n.loc);if(l.includes("right")&&(s=DF(s,"onContextmenu")),l.includes("middle")&&(s=DF(s,"onMouseup")),l.length&&(a=ai.createCallExpression(t.helper(kw),[a,JSON.stringify(l)])),o.length&&(!ai.isStaticExp(s)||NF(s.content))&&(a=ai.createCallExpression(t.helper(Fw),[a,JSON.stringify(o)])),c.length){let u=c.map(xi.capitalize).join("");s=ai.isStaticExp(s)?ai.createSimpleExpression(`${s.content}${u}`,!0):ai.createCompoundExpression(["(",s,`) + "${u}"`])}return{props:[ai.createObjectProperty(s,a)]}}),PQ=(n,e,t)=>{let{exp:i,loc:r}=n;return i||t.onError(Ca(58,r)),{props:[],needRuntime:t.helper(Bw)}},IQ=/__VUE_EXP_START__(.*?)__VUE_EXP_END__/g,DQ=(n,e,t)=>{if(e.scopes.vSlot>0)return;let i=0,r=0,s=[],a=l=>{if(i>=20||r>=5){let c=ai.createCallExpression(e.helper(ai.CREATE_STATIC),[JSON.stringify(s.map(u=>Hw(u,e)).join("")).replace(IQ,'" + $1 + "'),String(s.length)]);if(LF(s[0],c,e),s.length>1){for(let h=1;h<s.length;h++)LF(s[h],null,e);let u=s.length-1;return n.splice(l-s.length+1,u),u}}return 0},o=0;for(;o<n.length;o++){let l=n[o];if(RQ(l)){let u=l,h=NQ(u);if(h){i+=h[0],r+=h[1],s.push(u);continue}}o-=a(o),i=0,r=0,s.length=0}a(o)},RQ=n=>(n.type===1&&n.tagType===0||n.type==12)&&n.codegenNode&&n.codegenNode.type===4&&n.codegenNode.hoisted,LQ=/^(data|aria)-/,RF=(n,e)=>(e===0?xi.isKnownHtmlAttr(n):e===1?xi.isKnownSvgAttr(n):!1)||LQ.test(n),LF=(n,e,t)=>{let i=n.codegenNode.hoisted;t.hoists[t.hoists.indexOf(i)]=e},OQ=xi.makeMap("caption,thead,tr,th,tbody,td,tfoot,colgroup,col");function NQ(n){if(n.type===1&&OQ(n.tag))return!1;if(n.type===12)return[1,0];let e=1,t=n.props.length>0?1:0,i=!1,r=()=>(i=!0,!1);function s(a){for(let o=0;o<a.props.length;o++){let l=a.props[o];if(l.type===6&&!RF(l.name,a.ns)||l.type===7&&l.name==="bind"&&(l.arg&&(l.arg.type===8||l.arg.isStatic&&!RF(l.arg.content,a.ns))||l.exp&&(l.exp.type===8||l.exp.constType<3)))return r()}for(let o=0;o<a.children.length;o++){e++;let l=a.children[o];if(l.type===1&&(l.props.length>0&&t++,s(l),i))return!1}return!0}return s(n)?[e,t]:!1}function Hw(n,e){if(xi.isString(n))return n;if(xi.isSymbol(n))return"";switch(n.type){case 1:return kQ(n,e);case 2:return xi.escapeHtml(n.content);case 3:return`<!--${xi.escapeHtml(n.content)}-->`;case 5:return xi.escapeHtml(xi.toDisplayString($c(n.content)));case 8:return xi.escapeHtml($c(n));case 12:return Hw(n.content,e);default:return""}}function kQ(n,e){let t=`<${n.tag}`,i="";for(let r=0;r<n.props.length;r++){let s=n.props[r];if(s.type===6)t+=` ${s.name}`,s.value&&(t+=`="${xi.escapeHtml(s.value.content)}"`);else if(s.type===7)if(s.name==="bind"){let a=s.exp;if(a.content[0]==="_"){t+=` ${s.arg.content}="__VUE_EXP_START__${a.content}__VUE_EXP_END__"`;continue}let o=$c(a);if(o!=null){let l=s.arg&&s.arg.content;l==="class"?o=xi.normalizeClass(o):l==="style"&&(o=xi.stringifyStyle(xi.normalizeStyle(o))),t+=` ${s.arg.content}="${xi.escapeHtml(o)}"`}}else s.name==="html"?i=$c(s.exp):s.name==="text"&&(i=xi.escapeHtml(xi.toDisplayString($c(s.exp))))}if(e.scopeId&&(t+=` ${e.scopeId}`),t+=">",i)t+=i;else for(let r=0;r<n.children.length;r++)t+=Hw(n.children[r],e);return xi.isVoidTag(n.tag)||(t+=`</${n.tag}>`),t}function $c(n){if(n.type===4)return new Function(`return ${n.content}`)();{let e="";return n.children.forEach(t=>{xi.isString(t)||xi.isSymbol(t)||(t.type===2?e+=t.content:t.type===5?e+=xi.toDisplayString($c(t.content)):e+=$c(t))}),e}}var FQ=(n,e)=>{n.type===1&&n.tagType===0&&(n.tag==="script"||n.tag==="style")&&(e.onError(Ca(60,n.loc)),e.removeNode())},kF=[OF],FF={cloak:ai.noopDirectiveTransform,html:bQ,text:EQ,model:SQ,on:CQ,show:PQ};function BQ(n,e={}){return ai.baseCompile(n,xi.extend({},Vw,e,{nodeTransforms:[FQ,...kF,...e.nodeTransforms||[]],directiveTransforms:xi.extend({},FF,e.directiveTransforms||{}),transformHoist:DQ}))}function UQ(n,e={}){return ai.baseParse(n,xi.extend({},Vw,e))}Object.keys(ai).forEach(function(n){n!=="default"&&(Rn[n]=ai[n])});Rn.DOMDirectiveTransforms=FF;Rn.DOMNodeTransforms=kF;Rn.TRANSITION=Uw;Rn.TRANSITION_GROUP=zw;Rn.V_MODEL_CHECKBOX=Lw;Rn.V_MODEL_DYNAMIC=Zv;Rn.V_MODEL_RADIO=Rw;Rn.V_MODEL_SELECT=Nw;Rn.V_MODEL_TEXT=Ow;Rn.V_ON_WITH_KEYS=Fw;Rn.V_ON_WITH_MODIFIERS=kw;Rn.V_SHOW=Bw;Rn.compile=BQ;Rn.createDOMCompilerError=Ca;Rn.parse=UQ;Rn.parserOptions=Vw;Rn.transformStyle=OF});var Gw=li((Eue,UF)=>{"use strict";UF.exports=BF()});var jF=li(t0=>{"use strict";Object.defineProperty(t0,"__esModule",{value:!0});var VQ=Gw(),e0=Dh(),Qv=dl();function HQ(n){if(n&&n.__esModule)return n;var e=Object.create(null);return n&&Object.keys(n).forEach(function(t){e[t]=n[t]}),e.default=n,Object.freeze(e)}var GQ=HQ(e0),WF=Object.create(null);function qF(n,e){if(!Qv.isString(n))if(n.nodeType)n=n.innerHTML;else return Qv.NOOP;let t=n,i=WF[t];if(i)return i;if(n[0]==="#"){let a=document.querySelector(n);n=a?a.innerHTML:""}let{code:r}=VQ.compile(n,Qv.extend({hoistStatic:!0,onError:void 0,onWarn:Qv.NOOP},e)),s=new Function("Vue",r)(GQ);return s._rc=!0,WF[t]=s}e0.registerRuntimeCompiler(qF);Object.keys(e0).forEach(function(n){n!=="default"&&(t0[n]=e0[n])});t0.compile=qF});var YF=li((Due,XF)=>{"use strict";XF.exports=jF()});var JF=li((i0,KF)=>{(function(n,e){typeof i0=="object"&&typeof KF!="undefined"?e(i0):typeof define=="function"&&define.amd?define(["exports"],e):(n=n||self,e(n.FilePond={}))})(i0,function(n){"use strict";var e=function(f){return f instanceof HTMLElement},t=function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],S=Object.assign({},f),C=[],k=[],B=function(){return Object.assign({},S)},z=function(){var Oe=[].concat(C);return C.length=0,Oe},W=function(){var Oe=[].concat(k);k.length=0,Oe.forEach(function(Ze){var ht=Ze.type,vt=Ze.data;j(ht,vt)})},j=function(Oe,Ze,ht){if(ht&&!document.hidden){k.push({type:Oe,data:Ze});return}Ye[Oe]&&Ye[Oe](Ze),C.push({type:Oe,data:Ze})},he=function(Oe){for(var Ze,ht=arguments.length,vt=new Array(ht>1?ht-1:0),tt=1;tt<ht;tt++)vt[tt-1]=arguments[tt];return Ue[Oe]?(Ze=Ue)[Oe].apply(Ze,vt):null},de={getState:B,processActionQueue:z,processDispatchQueue:W,dispatch:j,query:he},Ue={};p.forEach(function(Je){Ue=Object.assign({},Je(S),{},Ue)});var Ye={};return x.forEach(function(Je){Ye=Object.assign({},Je(j,he,S),{},Ye)}),de},i=function(f,p,x){if(typeof x=="function"){f[p]=x;return}Object.defineProperty(f,p,Object.assign({},x))},r=function(f,p){for(var x in f)f.hasOwnProperty(x)&&p(x,f[x])},s=function(f){var p={};return r(f,function(x){i(p,x,f[x])}),p},a=function(f,p){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(x===null)return f.getAttribute(p)||f.hasAttribute(p);f.setAttribute(p,x)},o="http://www.w3.org/2000/svg",l=["svg","path"],c=function(f){return l.includes(f)},u=function(f,p){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};typeof p=="object"&&(x=p,p=null);var S=c(f)?document.createElementNS(o,f):document.createElement(f);return p&&(c(f)?a(S,"class",p):S.className=p),r(x,function(C,k){a(S,C,k)}),S},h=function(f){return function(p,x){typeof x!="undefined"&&f.children[x]?f.insertBefore(p,f.children[x]):f.appendChild(p)}},d=function(f,p){return function(x,S){return typeof S!="undefined"?p.splice(S,0,x):p.push(x),x}},m=function(f,p){return function(x){return p.splice(p.indexOf(x),1),x.element.parentNode&&f.removeChild(x.element),x}},v=function(){return typeof window!="undefined"&&typeof window.document!="undefined"}(),_=function(){return v},g=_()?u("svg"):{},y="children"in g?function(T){return T.children.length}:function(T){return T.childNodes.length},b=function(f,p,x,S){var C=x[0]||f.left,k=x[1]||f.top,B=C+f.width,z=k+f.height*(S[1]||1),W={element:Object.assign({},f),inner:{left:f.left,top:f.top,right:f.right,bottom:f.bottom},outer:{left:C,top:k,right:B,bottom:z}};return p.filter(function(j){return!j.isRectIgnored()}).map(function(j){return j.rect}).forEach(function(j){E(W.inner,Object.assign({},j.inner)),E(W.outer,Object.assign({},j.outer))}),w(W.inner),W.outer.bottom+=W.element.marginBottom,W.outer.right+=W.element.marginRight,w(W.outer),W},E=function(f,p){p.top+=f.top,p.right+=f.left,p.bottom+=f.top,p.left+=f.left,p.bottom>f.bottom&&(f.bottom=p.bottom),p.right>f.right&&(f.right=p.right)},w=function(f){f.width=f.right-f.left,f.height=f.bottom-f.top},D=function(f){return typeof f=="number"},P=function(f,p,x){var S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.001;return Math.abs(f-p)<S&&Math.abs(x)<S},M=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=f.stiffness,x=p===void 0?.5:p,S=f.damping,C=S===void 0?.75:S,k=f.mass,B=k===void 0?10:k,z=null,W=null,j=0,he=!1,de=function(Oe,Ze){if(!he){if(!(D(z)&&D(W))){he=!0,j=0;return}var ht=-(W-z)*x;j+=ht/B,W+=j,j*=C,P(W,z,j)||Ze?(W=z,j=0,he=!0,Ye.onupdate(W),Ye.oncomplete(W)):Ye.onupdate(W)}},Ue=function(Oe){if(D(Oe)&&!D(W)&&(W=Oe),z===null&&(z=Oe,W=Oe),z=Oe,W===z||typeof z=="undefined"){he=!0,j=0,Ye.onupdate(W),Ye.oncomplete(W);return}he=!1},Ye=s({interpolate:de,target:{set:Ue,get:function(){return z}},resting:{get:function(){return he}},onupdate:function(Oe){},oncomplete:function(Oe){}});return Ye},R=function(f){return f},I=function(f){return f<.5?2*f*f:-1+(4-2*f)*f},A=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=f.duration,x=p===void 0?500:p,S=f.easing,C=S===void 0?I:S,k=f.delay,B=k===void 0?0:k,z=null,W,j,he=!0,de=!1,Ue=null,Ye=function(Ze,ht){he||Ue===null||(z===null&&(z=Ze),!(Ze-z<B)&&(W=Ze-z-B,W>=x||ht?(W=1,j=de?0:1,Je.onupdate(j*Ue),Je.oncomplete(j*Ue),he=!0):(j=W/x,Je.onupdate((W>=0?C(de?1-j:j):0)*Ue))))},Je=s({interpolate:Ye,target:{get:function(){return de?0:Ue},set:function(Ze){if(Ue===null){Ue=Ze,Je.onupdate(Ze),Je.oncomplete(Ze);return}Ze<Ue?(Ue=1,de=!0):(de=!1,Ue=Ze),he=!1,z=null}},resting:{get:function(){return he}},onupdate:function(Ze){},oncomplete:function(Ze){}});return Je},N={spring:M,tween:A},G=function(f,p,x){var S=f[p]&&typeof f[p][x]=="object"?f[p][x]:f[p]||f,C=typeof S=="string"?S:S.type,k=typeof S=="object"?Object.assign({},S):{};return N[C]?N[C](k):null},X=function(f,p,x){var S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;p=Array.isArray(p)?p:[p],p.forEach(function(C){f.forEach(function(k){var B=k,z=function(){return x[k]},W=function(he){return x[k]=he};typeof k=="object"&&(B=k.key,z=k.getter||z,W=k.setter||W),!(C[B]&&!S)&&(C[B]={get:z,set:W})})})},J=function(f){var p=f.mixinConfig,x=f.viewProps,S=f.viewInternalAPI,C=f.viewExternalAPI,k=Object.assign({},x),B=[];return r(p,function(z,W){var j=G(W);if(j){j.onupdate=function(de){x[z]=de},j.target=k[z];var he={key:z,setter:function(Ue){j.target!==Ue&&(j.target=Ue)},getter:function(){return x[z]}};X([he],[S,C],x,!0),B.push(j)}}),{write:function(W){var j=document.hidden,he=!0;return B.forEach(function(de){de.resting||(he=!1),de.interpolate(W,j)}),he},destroy:function(){}}},ge=function(f){return function(p,x){f.addEventListener(p,x)}},te=function(f){return function(p,x){f.removeEventListener(p,x)}},pe=function(f){var p=f.mixinConfig,x=f.viewProps,S=f.viewInternalAPI,C=f.viewExternalAPI,k=f.viewState,B=f.view,z=[],W=ge(B.element),j=te(B.element);return C.on=function(he,de){z.push({type:he,fn:de}),W(he,de)},C.off=function(he,de){z.splice(z.findIndex(function(Ue){return Ue.type===he&&Ue.fn===de}),1),j(he,de)},{write:function(){return!0},destroy:function(){z.forEach(function(de){j(de.type,de.fn)})}}},re=function(f){var p=f.mixinConfig,x=f.viewProps,S=f.viewExternalAPI;X(p,S,x)},ne=function(f){return f!=null},qe={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},je=function(f){var p=f.mixinConfig,x=f.viewProps,S=f.viewInternalAPI,C=f.viewExternalAPI,k=f.view,B=Object.assign({},x),z={};X(p,[S,C],x);var W=function(){return[x.translateX||0,x.translateY||0]},j=function(){return[x.scaleX||0,x.scaleY||0]},he=function(){return k.rect?b(k.rect,k.childViews,W(),j()):null};return S.rect={get:he},C.rect={get:he},p.forEach(function(de){x[de]=typeof B[de]=="undefined"?qe[de]:B[de]}),{write:function(){if(et(z,x))return Ot(k.element,x),Object.assign(z,Object.assign({},x)),!0},destroy:function(){}}},et=function(f,p){if(Object.keys(f).length!==Object.keys(p).length)return!0;for(var x in p)if(p[x]!==f[x])return!0;return!1},Ot=function(f,p){var x=p.opacity,S=p.perspective,C=p.translateX,k=p.translateY,B=p.scaleX,z=p.scaleY,W=p.rotateX,j=p.rotateY,he=p.rotateZ,de=p.originX,Ue=p.originY,Ye=p.width,Je=p.height,Oe="",Ze="";(ne(de)||ne(Ue))&&(Ze+="transform-origin: "+(de||0)+"px "+(Ue||0)+"px;"),ne(S)&&(Oe+="perspective("+S+"px) "),(ne(C)||ne(k))&&(Oe+="translate3d("+(C||0)+"px, "+(k||0)+"px, 0) "),(ne(B)||ne(z))&&(Oe+="scale3d("+(ne(B)?B:1)+", "+(ne(z)?z:1)+", 1) "),ne(he)&&(Oe+="rotateZ("+he+"rad) "),ne(W)&&(Oe+="rotateX("+W+"rad) "),ne(j)&&(Oe+="rotateY("+j+"rad) "),Oe.length&&(Ze+="transform:"+Oe+";"),ne(x)&&(Ze+="opacity:"+x+";",x===0&&(Ze+="visibility:hidden;"),x<1&&(Ze+="pointer-events:none;")),ne(Je)&&(Ze+="height:"+Je+"px;"),ne(Ye)&&(Ze+="width:"+Ye+"px;");var ht=f.elementCurrentStyle||"";(Ze.length!==ht.length||Ze!==ht)&&(f.style.cssText=Ze,f.elementCurrentStyle=Ze)},Me={styles:je,listeners:pe,animations:J,apis:re},Ne=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return p.layoutCalculated||(f.paddingTop=parseInt(x.paddingTop,10)||0,f.marginTop=parseInt(x.marginTop,10)||0,f.marginRight=parseInt(x.marginRight,10)||0,f.marginBottom=parseInt(x.marginBottom,10)||0,f.marginLeft=parseInt(x.marginLeft,10)||0,p.layoutCalculated=!0),f.left=p.offsetLeft||0,f.top=p.offsetTop||0,f.width=p.offsetWidth||0,f.height=p.offsetHeight||0,f.right=f.left+f.width,f.bottom=f.top+f.height,f.scrollTop=p.scrollTop,f.hidden=p.offsetParent===null,f},Ve=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=f.tag,x=p===void 0?"div":p,S=f.name,C=S===void 0?null:S,k=f.attributes,B=k===void 0?{}:k,z=f.read,W=z===void 0?function(){}:z,j=f.write,he=j===void 0?function(){}:j,de=f.create,Ue=de===void 0?function(){}:de,Ye=f.destroy,Je=Ye===void 0?function(){}:Ye,Oe=f.filterFrameActionsForChild,Ze=Oe===void 0?function(at,ft){return ft}:Oe,ht=f.didCreateView,vt=ht===void 0?function(){}:ht,tt=f.didWriteView,Kt=tt===void 0?function(){}:tt,rt=f.ignoreRect,Ri=rt===void 0?!1:rt,Li=f.ignoreRectUpdate,lt=Li===void 0?!1:Li,wt=f.mixins,Dt=wt===void 0?[]:wt;return function(at){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Lt=u(x,"filepond--"+C,B),Ni=window.getComputedStyle(Lt,null),Ci=Ne(),kt=null,Xe=!1,Ce=[],yt=[],jt={},Jt={},hi=[he],oi=[W],vi=[Je],ru=function(){return Lt},yf=function(){return Ce.concat()},y4=function(){return jt},v4=function(fi){return function(La,Oa){return La(fi,Oa)}},AM=function(){return kt||(kt=b(Ci,Ce,[0,0],[1,1]),kt)},_4=function(){return Ni},x4=function(){kt=null,Ce.forEach(function(Oa){return Oa._read()});var fi=!(lt&&Ci.width&&Ci.height);fi&&Ne(Ci,Lt,Ni);var La={root:Lo,props:ft,rect:Ci};oi.forEach(function(Oa){return Oa(La)})},b4=function(fi,La,Oa){var su=La.length===0;return hi.forEach(function(Tr){var jl=Tr({props:ft,root:Lo,actions:La,timestamp:fi,shouldOptimize:Oa});jl===!1&&(su=!1)}),yt.forEach(function(Tr){var jl=Tr.write(fi);jl===!1&&(su=!1)}),Ce.filter(function(Tr){return!!Tr.element.parentNode}).forEach(function(Tr){var jl=Tr._write(fi,Ze(Tr,La),Oa);jl||(su=!1)}),Ce.forEach(function(Tr,jl){Tr.element.parentNode||(Lo.appendChild(Tr.element,jl),Tr._read(),Tr._write(fi,Ze(Tr,La),Oa),su=!1)}),Xe=su,Kt({props:ft,root:Lo,actions:La,timestamp:fi}),su},E4=function(){yt.forEach(function(fi){return fi.destroy()}),vi.forEach(function(fi){fi({root:Lo,props:ft})}),Ce.forEach(function(fi){return fi._destroy()})},MM={element:{get:ru},style:{get:_4},childViews:{get:yf}},CM=Object.assign({},MM,{rect:{get:AM},ref:{get:y4},is:function(fi){return C===fi},appendChild:h(Lt),createChildView:v4(at),linkView:function(fi){return Ce.push(fi),fi},unlinkView:function(fi){Ce.splice(Ce.indexOf(fi),1)},appendChildView:d(Lt,Ce),removeChildView:m(Lt,Ce),registerWriter:function(fi){return hi.push(fi)},registerReader:function(fi){return oi.push(fi)},registerDestroyer:function(fi){return vi.push(fi)},invalidateLayout:function(){return Lt.layoutCalculated=!1},dispatch:at.dispatch,query:at.query}),PM={element:{get:ru},childViews:{get:yf},rect:{get:AM},resting:{get:function(){return Xe}},isRectIgnored:function(){return Ri},_read:x4,_write:b4,_destroy:E4},S4=Object.assign({},MM,{rect:{get:function(){return Ci}}});Object.keys(Dt).sort(function(Yi,fi){return Yi==="styles"?1:fi==="styles"?-1:0}).forEach(function(Yi){var fi=Me[Yi]({mixinConfig:Dt[Yi],viewProps:ft,viewState:Jt,viewInternalAPI:CM,viewExternalAPI:PM,view:s(S4)});fi&&yt.push(fi)});var Lo=s(CM);Ue({root:Lo,props:ft});var T4=y(Lt);return Ce.forEach(function(Yi,fi){Lo.appendChild(Yi.element,T4+fi)}),vt(Lo),s(PM)}},ze=function(f,p){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:60,S="__framePainter";if(window[S]){window[S].readers.push(f),window[S].writers.push(p);return}window[S]={readers:[f],writers:[p]};var C=window[S],k=1e3/x,B=null,z=null,W=null,j=null,he=function(){document.hidden?(W=function(){return window.setTimeout(function(){return de(performance.now())},k)},j=function(){return window.clearTimeout(z)}):(W=function(){return window.requestAnimationFrame(de)},j=function(){return window.cancelAnimationFrame(z)})};document.addEventListener("visibilitychange",function(){j&&j(),he(),de(performance.now())});var de=function Ue(Ye){z=W(Ue),B||(B=Ye);var Je=Ye-B;Je<=k||(B=Ye-Je%k,C.readers.forEach(function(Oe){return Oe()}),C.writers.forEach(function(Oe){return Oe(Ye)}))};return he(),de(performance.now()),{pause:function(){j(z)}}},Ke=function(f,p){return function(x){var S=x.root,C=x.props,k=x.actions,B=k===void 0?[]:k,z=x.timestamp,W=x.shouldOptimize;B.filter(function(j){return f[j.type]}).forEach(function(j){return f[j.type]({root:S,props:C,action:j.data,timestamp:z,shouldOptimize:W})}),p&&p({root:S,props:C,actions:B,timestamp:z,shouldOptimize:W})}},gt=function(f,p){return p.parentNode.insertBefore(f,p)},Rt=function(f,p){return p.parentNode.insertBefore(f,p.nextSibling)},ie=function(f){return Array.isArray(f)},Pt=function(f){return f==null},K=function(f){return f.trim()},ee=function(f){return""+f},fe=function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return Pt(f)?[]:ie(f)?f:ee(f).split(p).map(K).filter(function(x){return x.length})},Te=function(f){return typeof f=="boolean"},Ae=function(f){return Te(f)?f:f==="true"},Pe=function(f){return typeof f=="string"},$e=function(f){return D(f)?f:Pe(f)?ee(f).replace(/[a-z]+/gi,""):0},V=function(f){return parseInt($e(f),10)},F=function(f){return parseFloat($e(f))},Q=function(f){return D(f)&&isFinite(f)&&Math.floor(f)===f},be=function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(Q(f))return f;var x=ee(f).trim();return/MB$/i.test(x)?(x=x.replace(/MB$i/,"").trim(),V(x)*p*p):/KB/i.test(x)?(x=x.replace(/KB$i/,"").trim(),V(x)*p):V(x)},ye=function(f){return typeof f=="function"},Ee=function(f){for(var p=self,x=f.split("."),S=null;S=x.shift();)if(p=p[S],!p)return null;return p},We={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},q=function(f){var p={};return p.url=Pe(f)?f:f.url||"",p.timeout=f.timeout?parseInt(f.timeout,10):0,p.headers=f.headers?f.headers:{},r(We,function(x){p[x]=$(x,f[x],We[x],p.timeout,p.headers)}),p.process=f.process||Pe(f)||f.url?p.process:null,p.remove=f.remove||null,delete p.headers,p},$=function(f,p,x,S,C){if(p===null)return null;if(typeof p=="function")return p;var k={url:x==="GET"||x==="PATCH"?"?"+f+"=":"",method:x,headers:C,withCredentials:!1,timeout:S,onload:null,ondata:null,onerror:null};if(Pe(p))return k.url=p,k;if(Object.assign(k,p),Pe(k.headers)){var B=k.headers.split(/:(.+)/);k.headers={header:B[0],value:B[1]}}return k.withCredentials=Ae(k.withCredentials),k},U=function(f){return q(f)},O=function(f){return f===null},Y=function(f){return typeof f=="object"&&f!==null},se=function(f){return Y(f)&&Pe(f.url)&&Y(f.process)&&Y(f.revert)&&Y(f.restore)&&Y(f.fetch)},ue=function(f){return ie(f)?"array":O(f)?"null":Q(f)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(f)?"bytes":se(f)?"api":typeof f},Se=function(f){return f.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')},Ge={array:fe,boolean:Ae,int:function(f){return ue(f)==="bytes"?be(f):V(f)},number:F,float:F,bytes:be,string:function(f){return ye(f)?f:ee(f)},function:function(f){return Ee(f)},serverapi:U,object:function(f){try{return JSON.parse(Se(f))}catch(p){return null}}},Ie=function(f,p){return Ge[p](f)},Be=function(f,p,x){if(f===p)return f;var S=ue(f);if(S!==x){var C=Ie(f,x);if(S=ue(C),C===null)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+x+'"';f=C}return f},L=function(f,p){var x=f;return{enumerable:!0,get:function(){return x},set:function(C){x=Be(C,f,p)}}},ce=function(f){var p={};return r(f,function(x){var S=f[x];p[x]=L(S[0],S[1])}),s(p)},le=function(f){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:ce(f)}},_e=function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-";return f.split(/(?=[A-Z])/).map(function(x){return x.toLowerCase()}).join(p)},Fe=function(f,p){var x={};return r(p,function(S){x[S]={get:function(){return f.getState().options[S]},set:function(k){f.dispatch("SET_"+_e(S,"_").toUpperCase(),{value:k})}}}),x},pt=function(f){return function(p,x,S){var C={};return r(f,function(k){var B=_e(k,"_").toUpperCase();C["SET_"+B]=function(z){try{S.options[k]=z.value}catch(W){}p("DID_SET_"+B,{value:S.options[k]})}}),C}},Tt=function(f){return function(p){var x={};return r(f,function(S){x["GET_"+_e(S,"_").toUpperCase()]=function(C){return p.options[S]}}),x}},qt={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},yi=function(){return Math.random().toString(36).substring(2,11)};function $t(T){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$t=function(f){return typeof f}:$t=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},$t(T)}var Xt;function Mi(T,f,p,x){Xt||(Xt=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103);var S=T&&T.defaultProps,C=arguments.length-3;if(!f&&C!==0&&(f={children:void 0}),f&&S)for(var k in S)f[k]===void 0&&(f[k]=S[k]);else f||(f=S||{});if(C===1)f.children=x;else if(C>1){for(var B=new Array(C),z=0;z<C;z++)B[z]=arguments[z+3];f.children=B}return{$$typeof:Xt,type:T,key:p===void 0?null:""+p,ref:null,props:f,_owner:null}}function Vn(T){var f;if(typeof Symbol!="undefined"&&(Symbol.asyncIterator&&(f=T[Symbol.asyncIterator],f!=null)||Symbol.iterator&&(f=T[Symbol.iterator],f!=null)))return f.call(T);throw new TypeError("Object is not async iterable")}function nn(T){this.wrapped=T}function En(T){var f,p;function x(k,B){return new Promise(function(z,W){var j={key:k,arg:B,resolve:z,reject:W,next:null};p?p=p.next=j:(f=p=j,S(k,B))})}function S(k,B){try{var z=T[k](B),W=z.value,j=W instanceof nn;Promise.resolve(j?W.wrapped:W).then(function(he){if(j){S("next",he);return}C(z.done?"return":"normal",he)},function(he){S("throw",he)})}catch(he){C("throw",he)}}function C(k,B){switch(k){case"return":f.resolve({value:B,done:!0});break;case"throw":f.reject(B);break;default:f.resolve({value:B,done:!1});break}f=f.next,f?S(f.key,f.arg):p=null}this._invoke=x,typeof T.return!="function"&&(this.return=void 0)}typeof Symbol=="function"&&Symbol.asyncIterator&&(En.prototype[Symbol.asyncIterator]=function(){return this}),En.prototype.next=function(T){return this._invoke("next",T)},En.prototype.throw=function(T){return this._invoke("throw",T)},En.prototype.return=function(T){return this._invoke("return",T)};function Po(T){return function(){return new En(T.apply(this,arguments))}}function Io(T){return new nn(T)}function N0(T,f){var p={},x=!1;function S(C,k){return x=!0,k=new Promise(function(B){B(T[C](k))}),{done:!1,value:f(k)}}return typeof Symbol=="function"&&Symbol.iterator&&(p[Symbol.iterator]=function(){return this}),p.next=function(C){return x?(x=!1,C):S("next",C)},typeof T.throw=="function"&&(p.throw=function(C){if(x)throw x=!1,C;return S("throw",C)}),typeof T.return=="function"&&(p.return=function(C){return S("return",C)}),p}function zl(T,f,p,x,S,C,k){try{var B=T[C](k),z=B.value}catch(W){p(W);return}B.done?f(z):Promise.resolve(z).then(x,S)}function k0(T){return function(){var f=this,p=arguments;return new Promise(function(x,S){var C=T.apply(f,p);function k(z){zl(C,x,S,k,B,"next",z)}function B(z){zl(C,x,S,k,B,"throw",z)}k(void 0)})}}function F0(T,f){if(!(T instanceof f))throw new TypeError("Cannot call a class as a function")}function Cp(T,f){for(var p=0;p<f.length;p++){var x=f[p];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(T,x.key,x)}}function lA(T,f,p){return f&&Cp(T.prototype,f),p&&Cp(T,p),T}function cA(T,f){for(var p in f){var x=f[p];x.configurable=x.enumerable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(T,p,x)}if(Object.getOwnPropertySymbols)for(var S=Object.getOwnPropertySymbols(f),C=0;C<S.length;C++){var k=S[C],x=f[k];x.configurable=x.enumerable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(T,k,x)}return T}function H(T,f){for(var p=Object.getOwnPropertyNames(f),x=0;x<p.length;x++){var S=p[x],C=Object.getOwnPropertyDescriptor(f,S);C&&C.configurable&&T[S]===void 0&&Object.defineProperty(T,S,C)}return T}function me(T,f,p){return f in T?Object.defineProperty(T,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):T[f]=p,T}function we(){return we=Object.assign||function(T){for(var f=1;f<arguments.length;f++){var p=arguments[f];for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(T[x]=p[x])}return T},we.apply(this,arguments)}function De(T){for(var f=1;f<arguments.length;f++){var p=arguments[f]!=null?arguments[f]:{},x=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(x=x.concat(Object.getOwnPropertySymbols(p).filter(function(S){return Object.getOwnPropertyDescriptor(p,S).enumerable}))),x.forEach(function(S){me(T,S,p[S])})}return T}function ve(T,f){var p=Object.keys(T);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(T);f&&(x=x.filter(function(S){return Object.getOwnPropertyDescriptor(T,S).enumerable})),p.push.apply(p,x)}return p}function Qe(T){for(var f=1;f<arguments.length;f++){var p=arguments[f]!=null?arguments[f]:{};f%2?ve(p,!0).forEach(function(x){me(T,x,p[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(p)):ve(p).forEach(function(x){Object.defineProperty(T,x,Object.getOwnPropertyDescriptor(p,x))})}return T}function ct(T,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(f&&f.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),f&&zt(T,f)}function xt(T,f){T.prototype=Object.create(f.prototype),T.prototype.constructor=T,T.__proto__=f}function bt(T){return bt=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)},bt(T)}function zt(T,f){return zt=Object.setPrototypeOf||function(x,S){return x.__proto__=S,x},zt(T,f)}function Ht(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}function Nt(T,f,p){return Ht()?Nt=Reflect.construct:Nt=function(S,C,k){var B=[null];B.push.apply(B,C);var z=Function.bind.apply(S,B),W=new z;return k&&zt(W,k.prototype),W},Nt.apply(null,arguments)}function Si(T){return Function.toString.call(T).indexOf("[native code]")!==-1}function ji(T){var f=typeof Map=="function"?new Map:void 0;return ji=function(x){if(x===null||!Si(x))return x;if(typeof x!="function")throw new TypeError("Super expression must either be null or a function");if(typeof f!="undefined"){if(f.has(x))return f.get(x);f.set(x,S)}function S(){return Nt(x,arguments,bt(this).constructor)}return S.prototype=Object.create(x.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),zt(S,x)},ji(T)}function rn(T,f){return f!=null&&typeof Symbol!="undefined"&&f[Symbol.hasInstance]?!!f[Symbol.hasInstance](T):T instanceof f}function Er(T){return T&&T.__esModule?T:{default:T}}function Ii(T){if(T&&T.__esModule)return T;var f={};if(T!=null){for(var p in T)if(Object.prototype.hasOwnProperty.call(T,p)){var x=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(T,p):{};x.get||x.set?Object.defineProperty(f,p,x):f[p]=T[p]}}return f.default=T,f}function Ft(T,f){if(T!==f)throw new TypeError("Cannot instantiate an arrow function")}function Qn(T){if(T==null)throw new TypeError("Cannot destructure undefined")}function Di(T,f){if(T==null)return{};var p={},x=Object.keys(T),S,C;for(C=0;C<x.length;C++)S=x[C],!(f.indexOf(S)>=0)&&(p[S]=T[S]);return p}function Is(T,f){if(T==null)return{};var p=Di(T,f),x,S;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(T);for(S=0;S<C.length;S++)x=C[S],!(f.indexOf(x)>=0)&&Object.prototype.propertyIsEnumerable.call(T,x)&&(p[x]=T[x])}return p}function Kc(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function Do(T,f){return f&&(typeof f=="object"||typeof f=="function")?f:Kc(T)}function Jc(T,f){for(;!Object.prototype.hasOwnProperty.call(T,f)&&(T=bt(T),T!==null););return T}function hn(T,f,p){return typeof Reflect!="undefined"&&Reflect.get?hn=Reflect.get:hn=function(S,C,k){var B=Jc(S,C);if(B){var z=Object.getOwnPropertyDescriptor(B,C);return z.get?z.get.call(k):z.value}},hn(T,f,p||T)}function Vr(T,f,p,x){return typeof Reflect!="undefined"&&Reflect.set?Vr=Reflect.set:Vr=function(C,k,B,z){var W=Jc(C,k),j;if(W){if(j=Object.getOwnPropertyDescriptor(W,k),j.set)return j.set.call(z,B),!0;if(!j.writable)return!1}if(j=Object.getOwnPropertyDescriptor(z,k),j){if(!j.writable)return!1;j.value=B,Object.defineProperty(z,k,j)}else me(z,k,B);return!0},Vr(T,f,p,x)}function Pp(T,f,p,x,S){var C=Vr(T,f,p,x||T);if(!C&&S)throw new Error("failed to set property");return p}function Hr(T,f){return f||(f=T.slice(0)),Object.freeze(Object.defineProperties(T,{raw:{value:Object.freeze(f)}}))}function Ip(T,f){return f||(f=T.slice(0)),T.raw=f,T}function uA(T,f){if(T===G3)throw new ReferenceError(f+" is not defined - temporal dead zone");return T}function B0(T){throw new Error('"'+T+'" is read-only')}function Dee(T){throw new Error('Class "'+T+'" cannot be referenced in computed property keys.')}var G3={};function Ree(T,f){return U0(T)||q3(T,f)||z0()}function Lee(T,f){return U0(T)||j3(T,f)||z0()}function $3(T){return U0(T)||hA(T)||z0()}function Dp(T){return W3(T)||hA(T)||X3()}function W3(T){if(Array.isArray(T)){for(var f=0,p=new Array(T.length);f<T.length;f++)p[f]=T[f];return p}}function U0(T){if(Array.isArray(T))return T}function hA(T){if(Symbol.iterator in Object(T)||Object.prototype.toString.call(T)==="[object Arguments]")return Array.from(T)}function q3(T,f){var p=[],x=!0,S=!1,C=void 0;try{for(var k=T[Symbol.iterator](),B;!(x=(B=k.next()).done)&&(p.push(B.value),!(f&&p.length===f));x=!0);}catch(z){S=!0,C=z}finally{try{!x&&k.return!=null&&k.return()}finally{if(S)throw C}}return p}function j3(T,f){for(var p=[],x=T[Symbol.iterator](),S;!(S=x.next()).done&&(p.push(S.value),!(f&&p.length===f)););return p}function X3(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function z0(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Oee(T){return function(){var f=T.apply(this,arguments);return f.next(),f}}function Y3(T,f){if(typeof T!="object"||T===null)return T;var p=T[Symbol.toPrimitive];if(p!==void 0){var x=p.call(T,f||"default");if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(T)}function fA(T){var f=Y3(T,"string");return typeof f=="symbol"?f:String(f)}function Nee(T,f){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")}function kee(T,f,p,x){p&&Object.defineProperty(T,f,{enumerable:p.enumerable,configurable:p.configurable,writable:p.writable,value:p.initializer?p.initializer.call(x):void 0})}function Fee(T,f,p,x,S){var C={};return Object.keys(x).forEach(function(k){C[k]=x[k]}),C.enumerable=!!C.enumerable,C.configurable=!!C.configurable,("value"in C||C.initializer)&&(C.writable=!0),C=p.slice().reverse().reduce(function(k,B){return B(T,f,k)||k},C),S&&C.initializer!==void 0&&(C.value=C.initializer?C.initializer.call(S):void 0,C.initializer=void 0),C.initializer===void 0&&(Object.defineProperty(T,f,C),C=null),C}var K3=0;function Bee(T){return"__private_"+K3+++"_"+T}function Uee(T,f){if(!Object.prototype.hasOwnProperty.call(T,f))throw new TypeError("attempted to use private field on non-instance");return T}function zee(T,f){var p=f.get(T);if(!p)throw new TypeError("attempted to get private field on non-instance");return p.get?p.get.call(T):p.value}function Vee(T,f,p){var x=f.get(T);if(!x)throw new TypeError("attempted to set private field on non-instance");if(x.set)x.set.call(T,p);else{if(!x.writable)throw new TypeError("attempted to set read only private field");x.value=p}return p}function Hee(T,f){if(!f.has(T))throw new TypeError("attempted to set private field on non-instance");var p=f.get(T);if(p.set)return"__destrObj"in p||(p.__destrObj={set value(x){p.set.call(T,x)}}),p.__destrObj;if(!p.writable)throw new TypeError("attempted to set read only private field");return p}function Gee(T,f,p){if(T!==f)throw new TypeError("Private static access of wrong provenance");return p.value}function $ee(T,f,p,x){if(T!==f)throw new TypeError("Private static access of wrong provenance");if(!p.writable)throw new TypeError("attempted to set read only private field");return p.value=x,x}function Wee(T,f,p){if(T!==f)throw new TypeError("Private static access of wrong provenance");return p}function qee(){throw new TypeError("attempted to set read only static private field")}function jee(T,f,p,x){var S=dA();if(x)for(var C=0;C<x.length;C++)S=x[C](S);var k=f(function(W){S.initializeInstanceElements(W,B.elements)},p),B=S.decorateClass(Q3(k.d.map(J3)),T);return S.initializeClassElements(k.F,B.elements),S.runClassFinishers(k.F,B.finishers)}function dA(){dA=function(){return T};var T={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(f,p){["method","field"].forEach(function(x){p.forEach(function(S){S.kind===x&&S.placement==="own"&&this.defineClassElement(f,S)},this)},this)},initializeClassElements:function(f,p){var x=f.prototype;["method","field"].forEach(function(S){p.forEach(function(C){var k=C.placement;if(C.kind===S&&(k==="static"||k==="prototype")){var B=k==="static"?f:x;this.defineClassElement(B,C)}},this)},this)},defineClassElement:function(f,p){var x=p.descriptor;if(p.kind==="field"){var S=p.initializer;x={enumerable:x.enumerable,writable:x.writable,configurable:x.configurable,value:S===void 0?void 0:S.call(f)}}Object.defineProperty(f,p.key,x)},decorateClass:function(f,p){var x=[],S=[],C={static:[],prototype:[],own:[]};if(f.forEach(function(B){this.addElementPlacement(B,C)},this),f.forEach(function(B){if(!hf(B))return x.push(B);var z=this.decorateElement(B,C);x.push(z.element),x.push.apply(x,z.extras),S.push.apply(S,z.finishers)},this),!p)return{elements:x,finishers:S};var k=this.decorateConstructor(x,p);return S.push.apply(S,k.finishers),k.finishers=S,k},addElementPlacement:function(f,p,x){var S=p[f.placement];if(!x&&S.indexOf(f.key)!==-1)throw new TypeError("Duplicated element ("+f.key+")");S.push(f.key)},decorateElement:function(f,p){for(var x=[],S=[],C=f.decorators,k=C.length-1;k>=0;k--){var B=p[f.placement];B.splice(B.indexOf(f.key),1);var z=this.fromElementDescriptor(f),W=this.toElementFinisherExtras((0,C[k])(z)||z);f=W.element,this.addElementPlacement(f,p),W.finisher&&S.push(W.finisher);var j=W.extras;if(j){for(var he=0;he<j.length;he++)this.addElementPlacement(j[he],p);x.push.apply(x,j)}}return{element:f,finishers:S,extras:x}},decorateConstructor:function(f,p){for(var x=[],S=p.length-1;S>=0;S--){var C=this.fromClassDescriptor(f),k=this.toClassDescriptor((0,p[S])(C)||C);if(k.finisher!==void 0&&x.push(k.finisher),k.elements!==void 0){f=k.elements;for(var B=0;B<f.length-1;B++)for(var z=B+1;z<f.length;z++)if(f[B].key===f[z].key&&f[B].placement===f[z].placement)throw new TypeError("Duplicated element ("+f[B].key+")")}}return{elements:f,finishers:x}},fromElementDescriptor:function(f){var p={kind:f.kind,key:f.key,placement:f.placement,descriptor:f.descriptor},x={value:"Descriptor",configurable:!0};return Object.defineProperty(p,Symbol.toStringTag,x),f.kind==="field"&&(p.initializer=f.initializer),p},toElementDescriptors:function(f){if(f!==void 0)return $3(f).map(function(p){var x=this.toElementDescriptor(p);return this.disallowProperty(p,"finisher","An element descriptor"),this.disallowProperty(p,"extras","An element descriptor"),x},this)},toElementDescriptor:function(f){var p=String(f.kind);if(p!=="method"&&p!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+p+'"');var x=fA(f.key),S=String(f.placement);if(S!=="static"&&S!=="prototype"&&S!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+S+'"');var C=f.descriptor;this.disallowProperty(f,"elements","An element descriptor");var k={kind:p,key:x,placement:S,descriptor:Object.assign({},C)};return p!=="field"?this.disallowProperty(f,"initializer","A method descriptor"):(this.disallowProperty(C,"get","The property descriptor of a field descriptor"),this.disallowProperty(C,"set","The property descriptor of a field descriptor"),this.disallowProperty(C,"value","The property descriptor of a field descriptor"),k.initializer=f.initializer),k},toElementFinisherExtras:function(f){var p=this.toElementDescriptor(f),x=mA(f,"finisher"),S=this.toElementDescriptors(f.extras);return{element:p,finisher:x,extras:S}},fromClassDescriptor:function(f){var p={kind:"class",elements:f.map(this.fromElementDescriptor,this)},x={value:"Descriptor",configurable:!0};return Object.defineProperty(p,Symbol.toStringTag,x),p},toClassDescriptor:function(f){var p=String(f.kind);if(p!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+p+'"');this.disallowProperty(f,"key","A class descriptor"),this.disallowProperty(f,"placement","A class descriptor"),this.disallowProperty(f,"descriptor","A class descriptor"),this.disallowProperty(f,"initializer","A class descriptor"),this.disallowProperty(f,"extras","A class descriptor");var x=mA(f,"finisher"),S=this.toElementDescriptors(f.elements);return{elements:S,finisher:x}},runClassFinishers:function(f,p){for(var x=0;x<p.length;x++){var S=(0,p[x])(f);if(S!==void 0){if(typeof S!="function")throw new TypeError("Finishers must return a constructor.");f=S}}return f},disallowProperty:function(f,p,x){if(f[p]!==void 0)throw new TypeError(x+" can't have a ."+p+" property.")}};return T}function J3(T){var f=fA(T.key),p;T.kind==="method"?p={value:T.value,writable:!0,configurable:!0,enumerable:!1}:T.kind==="get"?p={get:T.value,configurable:!0,enumerable:!1}:T.kind==="set"?p={set:T.value,configurable:!0,enumerable:!1}:T.kind==="field"&&(p={configurable:!0,writable:!0,enumerable:!0});var x={kind:T.kind==="field"?"field":"method",key:f,placement:T.static?"static":T.kind==="field"?"own":"prototype",descriptor:p};return T.decorators&&(x.decorators=T.decorators),T.kind==="field"&&(x.initializer=T.value),x}function Z3(T,f){T.descriptor.get!==void 0?f.descriptor.get=T.descriptor.get:f.descriptor.set=T.descriptor.set}function Q3(T){for(var f=[],p=function(k){return k.kind==="method"&&k.key===S.key&&k.placement===S.placement},x=0;x<T.length;x++){var S=T[x],C;if(S.kind==="method"&&(C=f.find(p)))if(pA(S.descriptor)||pA(C.descriptor)){if(hf(S)||hf(C))throw new ReferenceError("Duplicated methods ("+S.key+") can't be decorated.");C.descriptor=S.descriptor}else{if(hf(S)){if(hf(C))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+S.key+").");C.decorators=S.decorators}Z3(S,C)}else f.push(S)}return f}function hf(T){return T.decorators&&T.decorators.length}function pA(T){return T!==void 0&&!(T.value===void 0&&T.writable===void 0)}function mA(T,f){var p=T[f];if(p!==void 0&&typeof p!="function")throw new TypeError("Expected '"+f+"' to be a function");return p}function Xee(T,f,p){if(!f.has(T))throw new TypeError("attempted to get private field on non-instance");return p}function Yee(){throw new TypeError("attempted to reassign private method")}function gA(T,f){gA=function(B,z){return new C(B,z)};var p=ji(RegExp),x=RegExp.prototype,S=new WeakMap;function C(B,z){var W=p.call(this,B);return S.set(W,z),W}ct(C,p),C.prototype.exec=function(B){var z=x.exec.call(this,B);return z&&(z.groups=k(z,this)),z},C.prototype[Symbol.replace]=function(B,z){if(typeof z=="string"){var W=S.get(this);return x[Symbol.replace].call(this,B,z.replace(/\$<([^>]+)>/g,function(he,de){return"$"+W[de]}))}else if(typeof z=="function"){var j=this;return x[Symbol.replace].call(this,B,function(){var he=[];return he.push.apply(he,arguments),typeof he[he.length-1]!="object"&&he.push(k(he,j)),z.apply(this,he)})}else return x[Symbol.replace].call(this,B,z)};function k(B,z){var W=S.get(z);return Object.keys(W).reduce(function(j,he){return j[he]=B[W[he]],j},Object.create(null))}return gA.apply(this,arguments)}var V0=function(f,p){return f.splice(p,1)},eB=function(f,p){p?f():document.hidden?Promise.resolve(1).then(f):setTimeout(f,0)},Rp=function(){var f=[],p=function(C,k){V0(f,f.findIndex(function(B){return B.event===C&&(B.cb===k||!k)}))},x=function(C,k,B){f.filter(function(z){return z.event===C}).map(function(z){return z.cb}).forEach(function(z){return eB(function(){return z.apply(void 0,Dp(k))},B)})};return{fireSync:function(C){for(var k=arguments.length,B=new Array(k>1?k-1:0),z=1;z<k;z++)B[z-1]=arguments[z];x(C,B,!0)},fire:function(C){for(var k=arguments.length,B=new Array(k>1?k-1:0),z=1;z<k;z++)B[z-1]=arguments[z];x(C,B,!1)},on:function(C,k){f.push({event:C,cb:k})},onOnce:function(C,k){f.push({event:C,cb:function(){p(C,k),k.apply(void 0,arguments)}})},off:p}},yA=function(f,p,x){Object.getOwnPropertyNames(f).filter(function(S){return!x.includes(S)}).forEach(function(S){return Object.defineProperty(p,S,Object.getOwnPropertyDescriptor(f,S))})},tB=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Sr=function(f){var p={};return yA(f,p,tB),p},iB=function(f){f.forEach(function(p,x){p.released&&V0(f,x)})},Yt={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Nn={INPUT:1,LIMBO:2,LOCAL:3},vA=function(f){return/[^0-9]+/.exec(f)},_A=function(){return vA(1.1.toLocaleString())[0]},nB=function(){var f=_A(),p=1e3.toLocaleString(),x="1000";return p!==x?vA(p)[0]:f==="."?",":"."},He={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},H0=[],Ds=function(f,p,x){return new Promise(function(S,C){var k=H0.filter(function(z){return z.key===f}).map(function(z){return z.cb});if(k.length===0){S(p);return}var B=k.shift();k.reduce(function(z,W){return z.then(function(j){return W(j,x)})},B(p,x)).then(function(z){return S(z)}).catch(function(z){return C(z)})})},Vl=function(f,p,x){return H0.filter(function(S){return S.key===f}).map(function(S){return S.cb(p,x)})},rB=function(f,p){return H0.push({key:f,cb:p})},sB=function(f){return Object.assign(Zc,f)},Lp=function(){return Object.assign({},Zc)},aB=function(f){r(f,function(p,x){Zc[p]&&(Zc[p][0]=Be(x,Zc[p][0],Zc[p][1]))})},Zc={id:[null,He.STRING],name:["filepond",He.STRING],disabled:[!1,He.BOOLEAN],className:[null,He.STRING],required:[!1,He.BOOLEAN],captureMethod:[null,He.STRING],allowSyncAcceptAttribute:[!0,He.BOOLEAN],allowDrop:[!0,He.BOOLEAN],allowBrowse:[!0,He.BOOLEAN],allowPaste:[!0,He.BOOLEAN],allowMultiple:[!1,He.BOOLEAN],allowReplace:[!0,He.BOOLEAN],allowRevert:[!0,He.BOOLEAN],allowRemove:[!0,He.BOOLEAN],allowProcess:[!0,He.BOOLEAN],allowReorder:[!1,He.BOOLEAN],allowDirectoriesOnly:[!1,He.BOOLEAN],storeAsFile:[!1,He.BOOLEAN],forceRevert:[!1,He.BOOLEAN],maxFiles:[null,He.INT],checkValidity:[!1,He.BOOLEAN],itemInsertLocationFreedom:[!0,He.BOOLEAN],itemInsertLocation:["before",He.STRING],itemInsertInterval:[75,He.INT],dropOnPage:[!1,He.BOOLEAN],dropOnElement:[!0,He.BOOLEAN],dropValidation:[!1,He.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],He.ARRAY],instantUpload:[!0,He.BOOLEAN],maxParallelUploads:[2,He.INT],allowMinimumUploadDuration:[!0,He.BOOLEAN],chunkUploads:[!1,He.BOOLEAN],chunkForce:[!1,He.BOOLEAN],chunkSize:[5e6,He.INT],chunkRetryDelays:[[500,1e3,3e3],He.ARRAY],server:[null,He.SERVER_API],fileSizeBase:[1e3,He.INT],labelFileSizeBytes:["bytes",He.STRING],labelFileSizeKilobytes:["KB",He.STRING],labelFileSizeMegabytes:["MB",He.STRING],labelFileSizeGigabytes:["GB",He.STRING],labelDecimalSeparator:[_A(),He.STRING],labelThousandsSeparator:[nB(),He.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',He.STRING],labelInvalidField:["Field contains invalid files",He.STRING],labelFileWaitingForSize:["Waiting for size",He.STRING],labelFileSizeNotAvailable:["Size not available",He.STRING],labelFileCountSingular:["file in list",He.STRING],labelFileCountPlural:["files in list",He.STRING],labelFileLoading:["Loading",He.STRING],labelFileAdded:["Added",He.STRING],labelFileLoadError:["Error during load",He.STRING],labelFileRemoved:["Removed",He.STRING],labelFileRemoveError:["Error during remove",He.STRING],labelFileProcessing:["Uploading",He.STRING],labelFileProcessingComplete:["Upload complete",He.STRING],labelFileProcessingAborted:["Upload cancelled",He.STRING],labelFileProcessingError:["Error during upload",He.STRING],labelFileProcessingRevertError:["Error during revert",He.STRING],labelTapToCancel:["tap to cancel",He.STRING],labelTapToRetry:["tap to retry",He.STRING],labelTapToUndo:["tap to undo",He.STRING],labelButtonRemoveItem:["Remove",He.STRING],labelButtonAbortItemLoad:["Abort",He.STRING],labelButtonRetryItemLoad:["Retry",He.STRING],labelButtonAbortItemProcessing:["Cancel",He.STRING],labelButtonUndoItemProcessing:["Undo",He.STRING],labelButtonRetryItemProcessing:["Retry",He.STRING],labelButtonProcessItem:["Upload",He.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',He.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',He.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',He.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',He.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',He.STRING],oninit:[null,He.FUNCTION],onwarning:[null,He.FUNCTION],onerror:[null,He.FUNCTION],onactivatefile:[null,He.FUNCTION],oninitfile:[null,He.FUNCTION],onaddfilestart:[null,He.FUNCTION],onaddfileprogress:[null,He.FUNCTION],onaddfile:[null,He.FUNCTION],onprocessfilestart:[null,He.FUNCTION],onprocessfileprogress:[null,He.FUNCTION],onprocessfileabort:[null,He.FUNCTION],onprocessfilerevert:[null,He.FUNCTION],onprocessfile:[null,He.FUNCTION],onprocessfiles:[null,He.FUNCTION],onremovefile:[null,He.FUNCTION],onpreparefile:[null,He.FUNCTION],onupdatefiles:[null,He.FUNCTION],onreorderfiles:[null,He.FUNCTION],beforeDropFile:[null,He.FUNCTION],beforeAddFile:[null,He.FUNCTION],beforeRemoveFile:[null,He.FUNCTION],beforePrepareFile:[null,He.FUNCTION],stylePanelLayout:[null,He.STRING],stylePanelAspectRatio:[null,He.STRING],styleItemPanelAspectRatio:[null,He.STRING],styleButtonRemoveItemPosition:["left",He.STRING],styleButtonProcessItemPosition:["right",He.STRING],styleLoadIndicatorPosition:["right",He.STRING],styleProgressIndicatorPosition:["right",He.STRING],styleButtonRemoveItemAlign:[!1,He.BOOLEAN],files:[[],He.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],He.ARRAY]},Hl=function(f,p){return Pt(p)?f[0]||null:Q(p)?f[p]||null:(typeof p=="object"&&(p=p.id),f.find(function(x){return x.id===p})||null)},xA=function(f){if(Pt(f))return f;if(/:/.test(f)){var p=f.split(":");return p[1]/p[0]}return parseFloat(f)},Rs=function(f){return f.filter(function(p){return!p.archived})},Qc={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},Op=null,oB=function(){if(Op===null)try{var f=new DataTransfer;f.items.add(new File(["hello world"],"This_Works.txt"));var p=document.createElement("input");p.setAttribute("type","file"),p.files=f.files,Op=p.files.length===1}catch(x){Op=!1}return Op},lB=[Yt.LOAD_ERROR,Yt.PROCESSING_ERROR,Yt.PROCESSING_REVERT_ERROR],cB=[Yt.LOADING,Yt.PROCESSING,Yt.PROCESSING_QUEUED,Yt.INIT],uB=[Yt.PROCESSING_COMPLETE],hB=function(f){return lB.includes(f.status)},fB=function(f){return cB.includes(f.status)},dB=function(f){return uB.includes(f.status)},bA=function(f){return Y(f.options.server)&&(Y(f.options.server.process)||ye(f.options.server.process))},pB=function(f){return{GET_STATUS:function(){var x=Rs(f.items),S=Qc.EMPTY,C=Qc.ERROR,k=Qc.BUSY,B=Qc.IDLE,z=Qc.READY;return x.length===0?S:x.some(hB)?C:x.some(fB)?k:x.some(dB)?z:B},GET_ITEM:function(x){return Hl(f.items,x)},GET_ACTIVE_ITEM:function(x){return Hl(Rs(f.items),x)},GET_ACTIVE_ITEMS:function(){return Rs(f.items)},GET_ITEMS:function(){return f.items},GET_ITEM_NAME:function(x){var S=Hl(f.items,x);return S?S.filename:null},GET_ITEM_SIZE:function(x){var S=Hl(f.items,x);return S?S.fileSize:null},GET_STYLES:function(){return Object.keys(f.options).filter(function(x){return/^style/.test(x)}).map(function(x){return{name:x,value:f.options[x]}})},GET_PANEL_ASPECT_RATIO:function(){var x=/circle/.test(f.options.stylePanelLayout),S=x?1:xA(f.options.stylePanelAspectRatio);return S},GET_ITEM_PANEL_ASPECT_RATIO:function(){return f.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(x){return Rs(f.items).filter(function(S){return S.status===x})},GET_TOTAL_ITEMS:function(){return Rs(f.items).length},SHOULD_UPDATE_FILE_INPUT:function(){return f.options.storeAsFile&&oB()&&!bA(f)},IS_ASYNC:function(){return bA(f)},GET_FILE_SIZE_LABELS:function(x){return{labelBytes:x("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:x("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:x("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:x("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0}}}},mB=function(f){var p=Rs(f.items).length;if(!f.options.allowMultiple)return p===0;var x=f.options.maxFiles;return x===null||p<x},EA=function(f,p,x){return Math.max(Math.min(x,f),p)},gB=function(f,p,x){return f.splice(p,0,x)},yB=function(f,p,x){return Pt(p)?null:typeof x=="undefined"?(f.push(p),p):(x=EA(x,0,f.length),gB(f,x,p),p)},G0=function(f){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(f)},ff=function(f){return f.split("/").pop().split("?").shift()},Np=function(f){return f.split(".").pop()},vB=function(f){if(typeof f!="string")return"";var p=f.split("/").pop();return/svg/.test(p)?"svg":/zip|compressed/.test(p)?"zip":/plain/.test(p)?"txt":/msword/.test(p)?"doc":/[a-z]+/.test(p)?p==="jpeg"?"jpg":p:""},df=function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(p+f).slice(-p.length)},SA=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return f.getFullYear()+"-"+df(f.getMonth()+1,"00")+"-"+df(f.getDate(),"00")+"_"+df(f.getHours(),"00")+"-"+df(f.getMinutes(),"00")+"-"+df(f.getSeconds(),"00")},eu=function(f,p){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,C=typeof x=="string"?f.slice(0,f.size,x):f.slice(0,f.size,f.type);return C.lastModifiedDate=new Date,f._relativePath&&(C._relativePath=f._relativePath),Pe(p)||(p=SA()),p&&S===null&&Np(p)?C.name=p:(S=S||vB(C.type),C.name=p+(S?"."+S:"")),C},_B=function(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},TA=function(f,p){var x=_B();if(x){var S=new x;return S.append(f),S.getBlob(p)}return new Blob([f],{type:p})},xB=function(f,p){for(var x=new ArrayBuffer(f.length),S=new Uint8Array(x),C=0;C<f.length;C++)S[C]=f.charCodeAt(C);return TA(x,p)},wA=function(f){return(/^data:(.+);/.exec(f)||[])[1]||null},bB=function(f){var p=f.split(",")[1];return p.replace(/\s/g,"")},EB=function(f){return atob(bB(f))},SB=function(f){var p=wA(f),x=EB(f);return xB(x,p)},TB=function(f,p,x){return eu(SB(f),p,null,x)},wB=function(f){if(!/^content-disposition:/i.test(f))return null;var p=f.split(/filename=|filename\*=.+''/).splice(1).map(function(x){return x.trim().replace(/^["']|[;"']{0,2}$/g,"")}).filter(function(x){return x.length});return p.length?decodeURI(p[p.length-1]):null},AB=function(f){if(/content-length:/i.test(f)){var p=f.match(/[0-9]+/)[0];return p?parseInt(p,10):null}return null},MB=function(f){if(/x-content-transfer-id:/i.test(f)){var p=(f.split(":")[1]||"").trim();return p||null}return null},$0=function(f){var p={source:null,name:null,size:null},x=f.split(`
`),S=!0,C=!1,k=void 0;try{for(var B=x[Symbol.iterator](),z;!(S=(z=B.next()).done);S=!0){var W=z.value,j=wB(W);if(j){p.name=j;continue}var he=AB(W);if(he){p.size=he;continue}var de=MB(W);if(de){p.source=de;continue}}}catch(Ue){C=!0,k=Ue}finally{try{!S&&B.return!=null&&B.return()}finally{if(C)throw k}}return p},CB=function(f){var p={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},x=function(){return p.progress},S=function(){p.request&&p.request.abort&&p.request.abort()},C=function(){var W=p.source;B.fire("init",W),W instanceof File?B.fire("load",W):W instanceof Blob?B.fire("load",eu(W,W.name)):G0(W)?B.fire("load",TB(W)):k(W)},k=function(W){if(!f){B.fire("error",{type:"error",body:"Can't load URL",code:400});return}p.timestamp=Date.now(),p.request=f(W,function(j){p.duration=Date.now()-p.timestamp,p.complete=!0,j instanceof Blob&&(j=eu(j,j.name||ff(W))),B.fire("load",j instanceof Blob?j:j?j.body:null)},function(j){B.fire("error",typeof j=="string"?{type:"error",code:0,body:j}:j)},function(j,he,de){if(de&&(p.size=de),p.duration=Date.now()-p.timestamp,!j){p.progress=null;return}p.progress=he/de,B.fire("progress",p.progress)},function(){B.fire("abort")},function(j){var he=$0(typeof j=="string"?j:j.headers);B.fire("meta",{size:p.size||he.size,filename:he.name,source:he.source})})},B=Object.assign({},Rp(),{setSource:function(W){return p.source=W},getProgress:x,abort:S,load:C});return B},AA=function(f){return/GET|HEAD/.test(f)},Gl=function(f,p,x){var S={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){C=!0,B.abort()}},C=!1,k=!1;x=Object.assign({method:"POST",headers:{},withCredentials:!1},x),p=encodeURI(p),AA(x.method)&&f&&(p=""+p+encodeURIComponent(typeof f=="string"?f:JSON.stringify(f)));var B=new XMLHttpRequest,z=AA(x.method)?B:B.upload;return z.onprogress=function(W){C||S.onprogress(W.lengthComputable,W.loaded,W.total)},B.onreadystatechange=function(){B.readyState<2||B.readyState===4&&B.status===0||k||(k=!0,S.onheaders(B))},B.onload=function(){B.status>=200&&B.status<300?S.onload(B):S.onerror(B)},B.onerror=function(){return S.onerror(B)},B.onabort=function(){C=!0,S.onabort()},B.ontimeout=function(){return S.ontimeout(B)},B.open(x.method,p,!0),Q(x.timeout)&&(B.timeout=x.timeout),Object.keys(x.headers).forEach(function(W){var j=unescape(encodeURIComponent(x.headers[W]));B.setRequestHeader(W,j)}),x.responseType&&(B.responseType=x.responseType),x.withCredentials&&(B.withCredentials=!0),B.send(f),S},yn=function(f,p,x,S){return{type:f,code:p,body:x,headers:S}},$l=function(f){return function(p){f(yn("error",0,"Timeout",p.getAllResponseHeaders()))}},MA=function(f){return/\?/.test(f)},pf=function(){for(var f="",p=arguments.length,x=new Array(p),S=0;S<p;S++)x[S]=arguments[S];return x.forEach(function(C){f+=MA(f)&&MA(C)?C.replace(/\?/,"&"):C}),f},W0=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",p=arguments.length>1?arguments[1]:void 0;if(typeof p=="function")return p;if(!p||!Pe(p.url))return null;var x=p.onload||function(C){return C},S=p.onerror||function(C){return null};return function(C,k,B,z,W,j){var he=Gl(C,pf(f,p.url),Object.assign({},p,{responseType:"blob"}));return he.onload=function(de){var Ue=de.getAllResponseHeaders(),Ye=$0(Ue).name||ff(C);k(yn("load",de.status,p.method==="HEAD"?null:eu(x(de.response),Ye),Ue))},he.onerror=function(de){B(yn("error",de.status,S(de.response)||de.statusText,de.getAllResponseHeaders()))},he.onheaders=function(de){j(yn("headers",de.status,null,de.getAllResponseHeaders()))},he.ontimeout=$l(B),he.onprogress=z,he.onabort=W,he}},cs={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},PB=function(f,p,x,S,C,k,B,z,W,j,he){for(var de=[],Ue=he.chunkTransferId,Ye=he.chunkServer,Je=he.chunkSize,Oe=he.chunkRetryDelays,Ze={serverId:Ue,aborted:!1},ht=p.ondata||function(Xe){return Xe},vt=p.onload||function(Xe,Ce){return Ce==="HEAD"?Xe.getResponseHeader("Upload-Offset"):Xe.response},tt=p.onerror||function(Xe){return null},Kt=function(Ce){var yt=new FormData;Y(C)&&yt.append(x,JSON.stringify(C));var jt=typeof p.headers=="function"?p.headers(S,C):Object.assign({},p.headers,{"Upload-Length":S.size}),Jt=Object.assign({},p,{headers:jt}),hi=Gl(ht(yt),pf(f,p.url),Jt);hi.onload=function(oi){return Ce(vt(oi,Jt.method))},hi.onerror=function(oi){return B(yn("error",oi.status,tt(oi.response)||oi.statusText,oi.getAllResponseHeaders()))},hi.ontimeout=$l(B)},rt=function(Ce){var yt=pf(f,Ye.url,Ze.serverId),jt=typeof p.headers=="function"?p.headers(Ze.serverId):Object.assign({},p.headers),Jt={headers:jt,method:"HEAD"},hi=Gl(null,yt,Jt);hi.onload=function(oi){return Ce(vt(oi,Jt.method))},hi.onerror=function(oi){return B(yn("error",oi.status,tt(oi.response)||oi.statusText,oi.getAllResponseHeaders()))},hi.ontimeout=$l(B)},Ri=Math.floor(S.size/Je),Li=0;Li<=Ri;Li++){var lt=Li*Je,wt=S.slice(lt,lt+Je,"application/offset+octet-stream");de[Li]={index:Li,size:wt.size,offset:lt,data:wt,file:S,progress:0,retries:Dp(Oe),status:cs.QUEUED,error:null,request:null,timeout:null}}var Dt=function(){return k(Ze.serverId)},at=function(Ce){return Ce.status===cs.QUEUED||Ce.status===cs.ERROR},ft=function(Ce){if(!Ze.aborted){if(Ce=Ce||de.find(at),!Ce){de.every(function(vi){return vi.status===cs.COMPLETE})&&Dt();return}Ce.status=cs.PROCESSING,Ce.progress=null;var yt=Ye.ondata||function(vi){return vi},jt=Ye.onerror||function(vi){return null},Jt=pf(f,Ye.url,Ze.serverId),hi=typeof Ye.headers=="function"?Ye.headers(Ce):Object.assign({},Ye.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":Ce.offset,"Upload-Length":S.size,"Upload-Name":S.name}),oi=Ce.request=Gl(yt(Ce.data),Jt,Object.assign({},Ye,{headers:hi}));oi.onload=function(){Ce.status=cs.COMPLETE,Ce.request=null,Ci()},oi.onprogress=function(vi,ru,yf){Ce.progress=vi?ru:null,Ni()},oi.onerror=function(vi){Ce.status=cs.ERROR,Ce.request=null,Ce.error=jt(vi.response)||vi.statusText,Lt(Ce)||B(yn("error",vi.status,jt(vi.response)||vi.statusText,vi.getAllResponseHeaders()))},oi.ontimeout=function(vi){Ce.status=cs.ERROR,Ce.request=null,Lt(Ce)||$l(B)(vi)},oi.onabort=function(){Ce.status=cs.QUEUED,Ce.request=null,W()}}},Lt=function(Ce){return Ce.retries.length===0?!1:(Ce.status=cs.WAITING,clearTimeout(Ce.timeout),Ce.timeout=setTimeout(function(){ft(Ce)},Ce.retries.shift()),!0)},Ni=function(){var Ce=de.reduce(function(jt,Jt){return jt===null||Jt.progress===null?null:jt+Jt.progress},0);if(Ce===null)return z(!1,0,0);var yt=de.reduce(function(jt,Jt){return jt+Jt.size},0);z(!0,Ce,yt)},Ci=function(){var Ce=de.filter(function(yt){return yt.status===cs.PROCESSING}).length;Ce>=1||ft()},kt=function(){de.forEach(function(Ce){clearTimeout(Ce.timeout),Ce.request&&Ce.request.abort()})};return Ze.serverId?rt(function(Xe){Ze.aborted||(de.filter(function(Ce){return Ce.offset<Xe}).forEach(function(Ce){Ce.status=cs.COMPLETE,Ce.progress=Ce.size}),Ci())}):Kt(function(Xe){Ze.aborted||(j(Xe),Ze.serverId=Xe,Ci())}),{abort:function(){Ze.aborted=!0,kt()}}},IB=function(f,p,x,S){return function(C,k,B,z,W,j,he){if(C){var de=S.chunkUploads,Ue=de&&C.size>S.chunkSize,Ye=de&&(Ue||S.chunkForce);if(C instanceof Blob&&Ye)return PB(f,p,x,C,k,B,z,W,j,he,S);var Je=p.ondata||function(rt){return rt},Oe=p.onload||function(rt){return rt},Ze=p.onerror||function(rt){return null},ht=typeof p.headers=="function"?p.headers(C,k)||{}:Object.assign({},p.headers),vt=Object.assign({},p,{headers:ht}),tt=new FormData;Y(k)&&tt.append(x,JSON.stringify(k)),(C instanceof Blob?[{name:null,file:C}]:C).forEach(function(rt){tt.append(x,rt.file,rt.name===null?rt.file.name:""+rt.name+rt.file.name)});var Kt=Gl(Je(tt),pf(f,p.url),vt);return Kt.onload=function(rt){B(yn("load",rt.status,Oe(rt.response),rt.getAllResponseHeaders()))},Kt.onerror=function(rt){z(yn("error",rt.status,Ze(rt.response)||rt.statusText,rt.getAllResponseHeaders()))},Kt.ontimeout=$l(z),Kt.onprogress=W,Kt.onabort=j,Kt}}},DB=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",p=arguments.length>1?arguments[1]:void 0,x=arguments.length>2?arguments[2]:void 0,S=arguments.length>3?arguments[3]:void 0;return typeof p=="function"?function(){for(var C=arguments.length,k=new Array(C),B=0;B<C;B++)k[B]=arguments[B];return p.apply(void 0,[x].concat(k,[S]))}:!p||!Pe(p.url)?null:IB(f,p,x,S)},mf=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",p=arguments.length>1?arguments[1]:void 0;if(typeof p=="function")return p;if(!p||!Pe(p.url))return function(C,k){return k()};var x=p.onload||function(C){return C},S=p.onerror||function(C){return null};return function(C,k,B){var z=Gl(C,f+p.url,p);return z.onload=function(W){k(yn("load",W.status,x(W.response),W.getAllResponseHeaders()))},z.onerror=function(W){B(yn("error",W.status,S(W.response)||W.statusText,W.getAllResponseHeaders()))},z.ontimeout=$l(B),z}},CA=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return f+Math.random()*(p-f)},RB=function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:25,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:250,k=null,B=Date.now(),z=function W(){var j=Date.now()-B,he=CA(S,C);j+he>p&&(he=j+he-p);var de=j/p;if(de>=1||document.hidden){f(1);return}f(de),k=setTimeout(W,he)};return p>0&&z(),{clear:function(){clearTimeout(k)}}},LB=function(f,p){var x={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},S=p.allowMinimumUploadDuration,C=function(de,Ue){var Ye=function(){x.duration===0||x.progress===null||j.fire("progress",j.getProgress())},Je=function(){x.complete=!0,j.fire("load-perceived",x.response.body)};j.fire("start"),x.timestamp=Date.now(),x.perceivedPerformanceUpdater=RB(function(Oe){x.perceivedProgress=Oe,x.perceivedDuration=Date.now()-x.timestamp,Ye(),x.response&&x.perceivedProgress===1&&!x.complete&&Je()},S?CA(750,1500):0),x.request=f(de,Ue,function(Oe){x.response=Y(Oe)?Oe:{type:"load",code:200,body:""+Oe,headers:{}},x.duration=Date.now()-x.timestamp,x.progress=1,j.fire("load",x.response.body),(!S||S&&x.perceivedProgress===1)&&Je()},function(Oe){x.perceivedPerformanceUpdater.clear(),j.fire("error",Y(Oe)?Oe:{type:"error",code:0,body:""+Oe})},function(Oe,Ze,ht){x.duration=Date.now()-x.timestamp,x.progress=Oe?Ze/ht:null,Ye()},function(){x.perceivedPerformanceUpdater.clear(),j.fire("abort",x.response?x.response.body:null)},function(Oe){j.fire("transfer",Oe)})},k=function(){x.request&&(x.perceivedPerformanceUpdater.clear(),x.request.abort&&x.request.abort(),x.complete=!0)},B=function(){k(),x.complete=!1,x.perceivedProgress=0,x.progress=0,x.timestamp=null,x.perceivedDuration=0,x.duration=0,x.request=null,x.response=null},z=S?function(){return x.progress?Math.min(x.progress,x.perceivedProgress):null}:function(){return x.progress||null},W=S?function(){return Math.min(x.duration,x.perceivedDuration)}:function(){return x.duration},j=Object.assign({},Rp(),{process:C,abort:k,getProgress:z,getDuration:W,reset:B});return j},PA=function(f){return f.substring(0,f.lastIndexOf("."))||f},OB=function(f){var p=[f.name,f.size,f.type];return f instanceof Blob||G0(f)?p[0]=f.name||SA():G0(f)?(p[1]=f.length,p[2]=wA(f)):Pe(f)&&(p[0]=ff(f),p[1]=0,p[2]="application/octet-stream"),{name:p[0],size:p[1],type:p[2]}},tu=function(f){return!!(f instanceof File||f instanceof Blob&&f.name)},NB=function T(f){if(!Y(f))return f;var p=ie(f)?[]:{};for(var x in f)if(f.hasOwnProperty(x)){var S=f[x];p[x]=S&&Y(S)?T(S):S}return p},kB=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,S=yi(),C={archived:!1,frozen:!1,released:!1,source:null,file:x,serverFileReference:p,transferId:null,processingAborted:!1,status:p?Yt.PROCESSING_COMPLETE:Yt.INIT,activeLoader:null,activeProcessor:null},k=null,B={},z=function(wt){return C.status=wt},W=function(wt){if(!(C.released||C.frozen)){for(var Dt=arguments.length,at=new Array(Dt>1?Dt-1:0),ft=1;ft<Dt;ft++)at[ft-1]=arguments[ft];Ri.fire.apply(Ri,[wt].concat(at))}},j=function(){return Np(C.file.name)},he=function(){return C.file.type},de=function(){return C.file.size},Ue=function(){return C.file},Ye=function(wt,Dt,at){if(C.source=wt,Ri.fireSync("init"),C.file){Ri.fireSync("load-skip");return}C.file=OB(wt),Dt.on("init",function(){W("load-init")}),Dt.on("meta",function(ft){C.file.size=ft.size,C.file.filename=ft.filename,ft.source&&(f=Nn.LIMBO,C.serverFileReference=ft.source,C.status=Yt.PROCESSING_COMPLETE),W("load-meta")}),Dt.on("progress",function(ft){z(Yt.LOADING),W("load-progress",ft)}),Dt.on("error",function(ft){z(Yt.LOAD_ERROR),W("load-request-error",ft)}),Dt.on("abort",function(){z(Yt.INIT),W("load-abort")}),Dt.on("load",function(ft){C.activeLoader=null;var Lt=function(kt){C.file=tu(kt)?kt:C.file,f===Nn.LIMBO&&C.serverFileReference?z(Yt.PROCESSING_COMPLETE):z(Yt.IDLE),W("load")},Ni=function(kt){C.file=ft,W("load-meta"),z(Yt.LOAD_ERROR),W("load-file-error",kt)};if(C.serverFileReference){Lt(ft);return}at(ft,Lt,Ni)}),Dt.setSource(wt),C.activeLoader=Dt,Dt.load()},Je=function(){C.activeLoader&&C.activeLoader.load()},Oe=function(){if(C.activeLoader){C.activeLoader.abort();return}z(Yt.INIT),W("load-abort")},Ze=function lt(wt,Dt){if(C.processingAborted){C.processingAborted=!1;return}if(z(Yt.PROCESSING),k=null,!(C.file instanceof Blob)){Ri.on("load",function(){lt(wt,Dt)});return}wt.on("load",function(Lt){C.transferId=null,C.serverFileReference=Lt}),wt.on("transfer",function(Lt){C.transferId=Lt}),wt.on("load-perceived",function(Lt){C.activeProcessor=null,C.transferId=null,C.serverFileReference=Lt,z(Yt.PROCESSING_COMPLETE),W("process-complete",Lt)}),wt.on("start",function(){W("process-start")}),wt.on("error",function(Lt){C.activeProcessor=null,z(Yt.PROCESSING_ERROR),W("process-error",Lt)}),wt.on("abort",function(Lt){C.activeProcessor=null,C.serverFileReference=Lt,z(Yt.IDLE),W("process-abort"),k&&k()}),wt.on("progress",function(Lt){W("process-progress",Lt)});var at=function(Ni){C.archived||wt.process(Ni,Object.assign({},B))},ft=console.error;Dt(C.file,at,ft),C.activeProcessor=wt},ht=function(){C.processingAborted=!1,z(Yt.PROCESSING_QUEUED)},vt=function(){return new Promise(function(wt){if(!C.activeProcessor){C.processingAborted=!0,z(Yt.IDLE),W("process-abort"),wt();return}k=function(){wt()},C.activeProcessor.abort()})},tt=function(wt,Dt){return new Promise(function(at,ft){var Lt=C.serverFileReference!==null?C.serverFileReference:C.transferId;if(Lt===null){at();return}wt(Lt,function(){C.serverFileReference=null,C.transferId=null,at()},function(Ni){if(!Dt){at();return}z(Yt.PROCESSING_REVERT_ERROR),W("process-revert-error"),ft(Ni)}),z(Yt.IDLE),W("process-revert")})},Kt=function(wt,Dt,at){var ft=wt.split("."),Lt=ft[0],Ni=ft.pop(),Ci=B;ft.forEach(function(kt){return Ci=Ci[kt]}),JSON.stringify(Ci[Ni])!==JSON.stringify(Dt)&&(Ci[Ni]=Dt,W("metadata-update",{key:Lt,value:B[Lt],silent:at}))},rt=function(wt){return NB(wt?B[wt]:B)},Ri=Object.assign({id:{get:function(){return S}},origin:{get:function(){return f},set:function(wt){return f=wt}},serverId:{get:function(){return C.serverFileReference}},transferId:{get:function(){return C.transferId}},status:{get:function(){return C.status}},filename:{get:function(){return C.file.name}},filenameWithoutExtension:{get:function(){return PA(C.file.name)}},fileExtension:{get:j},fileType:{get:he},fileSize:{get:de},file:{get:Ue},relativePath:{get:function(){return C.file._relativePath}},source:{get:function(){return C.source}},getMetadata:rt,setMetadata:function(wt,Dt,at){if(Y(wt)){var ft=wt;return Object.keys(ft).forEach(function(Lt){Kt(Lt,ft[Lt],Dt)}),wt}return Kt(wt,Dt,at),Dt},extend:function(wt,Dt){return Li[wt]=Dt},abortLoad:Oe,retryLoad:Je,requestProcessing:ht,abortProcessing:vt,load:Ye,process:Ze,revert:tt},Rp(),{freeze:function(){return C.frozen=!0},release:function(){return C.released=!0},released:{get:function(){return C.released}},archive:function(){return C.archived=!0},archived:{get:function(){return C.archived}}}),Li=s(Ri);return Li},FB=function(f,p){return Pt(p)?0:Pe(p)?f.findIndex(function(x){return x.id===p}):-1},IA=function(f,p){var x=FB(f,p);if(!(x<0))return f[x]||null},DA=function(f,p,x,S,C,k){var B=Gl(null,f,{method:"GET",responseType:"blob"});return B.onload=function(z){var W=z.getAllResponseHeaders(),j=$0(W).name||ff(f);p(yn("load",z.status,eu(z.response,j),W))},B.onerror=function(z){x(yn("error",z.status,z.statusText,z.getAllResponseHeaders()))},B.onheaders=function(z){k(yn("headers",z.status,null,z.getAllResponseHeaders()))},B.ontimeout=$l(x),B.onprogress=S,B.onabort=C,B},RA=function(f){return f.indexOf("//")===0&&(f=location.protocol+f),f.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},BB=function(f){return(f.indexOf(":")>-1||f.indexOf("//")>-1)&&RA(location.href)!==RA(f)},kp=function(f){return function(){return ye(f)?f.apply(void 0,arguments):f}},UB=function(f){return!tu(f.file)},q0=function(f,p){clearTimeout(p.listUpdateTimeout),p.listUpdateTimeout=setTimeout(function(){f("DID_UPDATE_ITEMS",{items:Rs(p.items)})},0)},LA=function(f){for(var p=arguments.length,x=new Array(p>1?p-1:0),S=1;S<p;S++)x[S-1]=arguments[S];return new Promise(function(C){if(!f)return C(!0);var k=f.apply(void 0,x);if(k==null)return C(!0);if(typeof k=="boolean")return C(k);typeof k.then=="function"&&k.then(C)})},j0=function(f,p){f.items.sort(function(x,S){return p(Sr(x),Sr(S))})},us=function(f,p){return function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=x.query,C=x.success,k=C===void 0?function(){}:C,B=x.failure,z=B===void 0?function(){}:B,W=Is(x,["query","success","failure"]),j=Hl(f.items,S);if(!j){z({error:yn("error",0,"Item not found"),file:null});return}p(j,k,z,W||{})}},zB=function(f,p,x){return{ABORT_ALL:function(){Rs(x.items).forEach(function(C){C.freeze(),C.abortLoad(),C.abortProcessing()})},DID_SET_FILES:function(C){var k=C.value,B=k===void 0?[]:k,z=B.map(function(j){return{source:j.source?j.source:j,options:j.options}}),W=Rs(x.items);W.forEach(function(j){z.find(function(he){return he.source===j.source||he.source===j.file})||f("REMOVE_ITEM",{query:j,remove:!1})}),W=Rs(x.items),z.forEach(function(j,he){W.find(function(de){return de.source===j.source||de.file===j.source})||f("ADD_ITEM",Object.assign({},j,{interactionMethod:qt.NONE,index:he}))})},DID_UPDATE_ITEM_METADATA:function(C){var k=C.id,B=C.action,z=C.change;z.silent||(clearTimeout(x.itemUpdateTimeout),x.itemUpdateTimeout=setTimeout(function(){var W=IA(x.items,k);if(!p("IS_ASYNC")){Ds("SHOULD_PREPARE_OUTPUT",!1,{item:W,query:p,action:B,change:z}).then(function(Ue){var Ye=p("GET_BEFORE_PREPARE_FILE");Ye&&(Ue=Ye(W,Ue)),Ue&&f("REQUEST_PREPARE_OUTPUT",{query:k,item:W,success:function(Oe){f("DID_PREPARE_OUTPUT",{id:k,file:Oe})}},!0)});return}W.origin===Nn.LOCAL&&f("DID_LOAD_ITEM",{id:W.id,error:null,serverFileReference:W.source});var j=function(){setTimeout(function(){f("REQUEST_ITEM_PROCESSING",{query:k})},32)},he=function(Ye){W.revert(mf(x.options.server.url,x.options.server.revert),p("GET_FORCE_REVERT")).then(Ye?j:function(){}).catch(function(){})},de=function(Ye){W.abortProcessing().then(Ye?j:function(){})};if(W.status===Yt.PROCESSING_COMPLETE)return he(x.options.instantUpload);if(W.status===Yt.PROCESSING)return de(x.options.instantUpload);x.options.instantUpload&&j()},0))},MOVE_ITEM:function(C){var k=C.query,B=C.index,z=Hl(x.items,k);if(z){var W=x.items.indexOf(z);B=EA(B,0,x.items.length-1),W!==B&&x.items.splice(B,0,x.items.splice(W,1)[0])}},SORT:function(C){var k=C.compare;j0(x,k),f("DID_SORT_ITEMS",{items:p("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function(C){var k=C.items,B=C.index,z=C.interactionMethod,W=C.success,j=W===void 0?function(){}:W,he=C.failure,de=he===void 0?function(){}:he,Ue=B;if(B===-1||typeof B=="undefined"){var Ye=p("GET_ITEM_INSERT_LOCATION"),Je=p("GET_TOTAL_ITEMS");Ue=Ye==="before"?0:Je}var Oe=p("GET_IGNORED_FILES"),Ze=function(Kt){return tu(Kt)?!Oe.includes(Kt.name.toLowerCase()):!Pt(Kt)},ht=k.filter(Ze),vt=ht.map(function(tt){return new Promise(function(Kt,rt){f("ADD_ITEM",{interactionMethod:z,source:tt.source||tt,success:Kt,failure:rt,index:Ue++,options:tt.options||{}})})});Promise.all(vt).then(j).catch(de)},ADD_ITEM:function(C){var k=C.source,B=C.index,z=B===void 0?-1:B,W=C.interactionMethod,j=C.success,he=j===void 0?function(){}:j,de=C.failure,Ue=de===void 0?function(){}:de,Ye=C.options,Je=Ye===void 0?{}:Ye;if(Pt(k)){Ue({error:yn("error",0,"No source"),file:null});return}if(!(tu(k)&&x.options.ignoredFiles.includes(k.name.toLowerCase()))){if(!mB(x)){if(x.options.allowMultiple||!x.options.allowMultiple&&!x.options.allowReplace){var Oe=yn("warning",0,"Max files");f("DID_THROW_MAX_FILES",{source:k,error:Oe}),Ue({error:Oe,file:null});return}var Ze=Rs(x.items)[0];if(Ze.status===Yt.PROCESSING_COMPLETE||Ze.status===Yt.PROCESSING_REVERT_ERROR){var ht=p("GET_FORCE_REVERT");if(Ze.revert(mf(x.options.server.url,x.options.server.revert),ht).then(function(){ht&&f("ADD_ITEM",{source:k,index:z,interactionMethod:W,success:he,failure:Ue,options:Je})}).catch(function(){}),ht)return}f("REMOVE_ITEM",{query:Ze.id})}var vt=Je.type==="local"?Nn.LOCAL:Je.type==="limbo"?Nn.LIMBO:Nn.INPUT,tt=kB(vt,vt===Nn.INPUT?null:k,Je.file);Object.keys(Je.metadata||{}).forEach(function(at){tt.setMetadata(at,Je.metadata[at])}),Vl("DID_CREATE_ITEM",tt,{query:p,dispatch:f});var Kt=p("GET_ITEM_INSERT_LOCATION");x.options.itemInsertLocationFreedom||(z=Kt==="before"?-1:x.items.length),yB(x.items,tt,z),ye(Kt)&&k&&j0(x,Kt);var rt=tt.id;tt.on("init",function(){f("DID_INIT_ITEM",{id:rt})}),tt.on("load-init",function(){f("DID_START_ITEM_LOAD",{id:rt})}),tt.on("load-meta",function(){f("DID_UPDATE_ITEM_META",{id:rt})}),tt.on("load-progress",function(at){f("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:rt,progress:at})}),tt.on("load-request-error",function(at){var ft=kp(x.options.labelFileLoadError)(at);if(at.code>=400&&at.code<500){f("DID_THROW_ITEM_INVALID",{id:rt,error:at,status:{main:ft,sub:at.code+" ("+at.body+")"}}),Ue({error:at,file:Sr(tt)});return}f("DID_THROW_ITEM_LOAD_ERROR",{id:rt,error:at,status:{main:ft,sub:x.options.labelTapToRetry}})}),tt.on("load-file-error",function(at){f("DID_THROW_ITEM_INVALID",{id:rt,error:at.status,status:at.status}),Ue({error:at.status,file:Sr(tt)})}),tt.on("load-abort",function(){f("REMOVE_ITEM",{query:rt})}),tt.on("load-skip",function(){f("COMPLETE_LOAD_ITEM",{query:rt,item:tt,data:{source:k,success:he}})}),tt.on("load",function(){var at=function(Lt){if(!Lt){f("REMOVE_ITEM",{query:rt});return}tt.on("metadata-update",function(Ni){f("DID_UPDATE_ITEM_METADATA",{id:rt,change:Ni})}),Ds("SHOULD_PREPARE_OUTPUT",!1,{item:tt,query:p}).then(function(Ni){var Ci=p("GET_BEFORE_PREPARE_FILE");Ci&&(Ni=Ci(tt,Ni));var kt=function(){f("COMPLETE_LOAD_ITEM",{query:rt,item:tt,data:{source:k,success:he}}),q0(f,x)};if(Ni){f("REQUEST_PREPARE_OUTPUT",{query:rt,item:tt,success:function(Ce){f("DID_PREPARE_OUTPUT",{id:rt,file:Ce}),kt()}},!0);return}kt()})};Ds("DID_LOAD_ITEM",tt,{query:p,dispatch:f}).then(function(){LA(p("GET_BEFORE_ADD_FILE"),Sr(tt)).then(at)}).catch(function(ft){if(!ft||!ft.error||!ft.status)return at(!1);f("DID_THROW_ITEM_INVALID",{id:rt,error:ft.error,status:ft.status})})}),tt.on("process-start",function(){f("DID_START_ITEM_PROCESSING",{id:rt})}),tt.on("process-progress",function(at){f("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:rt,progress:at})}),tt.on("process-error",function(at){f("DID_THROW_ITEM_PROCESSING_ERROR",{id:rt,error:at,status:{main:kp(x.options.labelFileProcessingError)(at),sub:x.options.labelTapToRetry}})}),tt.on("process-revert-error",function(at){f("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:rt,error:at,status:{main:kp(x.options.labelFileProcessingRevertError)(at),sub:x.options.labelTapToRetry}})}),tt.on("process-complete",function(at){f("DID_COMPLETE_ITEM_PROCESSING",{id:rt,error:null,serverFileReference:at}),f("DID_DEFINE_VALUE",{id:rt,value:at})}),tt.on("process-abort",function(){f("DID_ABORT_ITEM_PROCESSING",{id:rt})}),tt.on("process-revert",function(){f("DID_REVERT_ITEM_PROCESSING",{id:rt}),f("DID_DEFINE_VALUE",{id:rt,value:null})}),f("DID_ADD_ITEM",{id:rt,index:z,interactionMethod:W}),q0(f,x);var Ri=x.options.server||{},Li=Ri.url,lt=Ri.load,wt=Ri.restore,Dt=Ri.fetch;tt.load(k,CB(vt===Nn.INPUT?Pe(k)&&BB(k)&&Dt?W0(Li,Dt):DA:vt===Nn.LIMBO?W0(Li,wt):W0(Li,lt)),function(at,ft,Lt){Ds("LOAD_FILE",at,{query:p}).then(ft).catch(Lt)})}},REQUEST_PREPARE_OUTPUT:function(C){var k=C.item,B=C.success,z=C.failure,W=z===void 0?function(){}:z,j={error:yn("error",0,"Item not found"),file:null};if(k.archived)return W(j);Ds("PREPARE_OUTPUT",k.file,{query:p,item:k}).then(function(he){Ds("COMPLETE_PREPARE_OUTPUT",he,{query:p,item:k}).then(function(de){if(k.archived)return W(j);B(de)})})},COMPLETE_LOAD_ITEM:function(C){var k=C.item,B=C.data,z=B.success,W=B.source,j=p("GET_ITEM_INSERT_LOCATION");if(ye(j)&&W&&j0(x,j),f("DID_LOAD_ITEM",{id:k.id,error:null,serverFileReference:k.origin===Nn.INPUT?null:W}),z(Sr(k)),k.origin===Nn.LOCAL){f("DID_LOAD_LOCAL_ITEM",{id:k.id});return}if(k.origin===Nn.LIMBO){f("DID_COMPLETE_ITEM_PROCESSING",{id:k.id,error:null,serverFileReference:W}),f("DID_DEFINE_VALUE",{id:k.id,value:k.serverId||W});return}p("IS_ASYNC")&&x.options.instantUpload&&f("REQUEST_ITEM_PROCESSING",{query:k.id})},RETRY_ITEM_LOAD:us(x,function(S){S.retryLoad()}),REQUEST_ITEM_PREPARE:us(x,function(S,C,k){f("REQUEST_PREPARE_OUTPUT",{query:S.id,item:S,success:function(z){f("DID_PREPARE_OUTPUT",{id:S.id,file:z}),C({file:S,output:z})},failure:k},!0)}),REQUEST_ITEM_PROCESSING:us(x,function(S,C,k){var B=S.status===Yt.IDLE||S.status===Yt.PROCESSING_ERROR;if(!B){var z=function(){return f("REQUEST_ITEM_PROCESSING",{query:S,success:C,failure:k})},W=function(){return document.hidden?z():setTimeout(z,32)};S.status===Yt.PROCESSING_COMPLETE||S.status===Yt.PROCESSING_REVERT_ERROR?S.revert(mf(x.options.server.url,x.options.server.revert),p("GET_FORCE_REVERT")).then(W).catch(function(){}):S.status===Yt.PROCESSING&&S.abortProcessing().then(W);return}S.status!==Yt.PROCESSING_QUEUED&&(S.requestProcessing(),f("DID_REQUEST_ITEM_PROCESSING",{id:S.id}),f("PROCESS_ITEM",{query:S,success:C,failure:k},!0))}),PROCESS_ITEM:us(x,function(S,C,k){var B=p("GET_MAX_PARALLEL_UPLOADS"),z=p("GET_ITEMS_BY_STATUS",Yt.PROCESSING).length;if(z===B){x.processingQueue.push({id:S.id,success:C,failure:k});return}if(S.status!==Yt.PROCESSING){var W=function he(){var de=x.processingQueue.shift();if(de){var Ue=de.id,Ye=de.success,Je=de.failure,Oe=Hl(x.items,Ue);if(!Oe||Oe.archived){he();return}f("PROCESS_ITEM",{query:Ue,success:Ye,failure:Je},!0)}};S.onOnce("process-complete",function(){C(Sr(S)),W();var he=x.options.server,de=x.options.instantUpload;if(de&&S.origin===Nn.LOCAL&&ye(he.remove)){var Ue=function(){};S.origin=Nn.LIMBO,x.options.server.remove(S.source,Ue,Ue)}var Ye=p("GET_ITEMS_BY_STATUS",Yt.PROCESSING_COMPLETE).length===x.items.length;Ye&&f("DID_COMPLETE_ITEM_PROCESSING_ALL")}),S.onOnce("process-error",function(he){k({error:he,file:Sr(S)}),W()});var j=x.options;S.process(LB(DB(j.server.url,j.server.process,j.name,{chunkTransferId:S.transferId,chunkServer:j.server.patch,chunkUploads:j.chunkUploads,chunkForce:j.chunkForce,chunkSize:j.chunkSize,chunkRetryDelays:j.chunkRetryDelays}),{allowMinimumUploadDuration:p("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),function(he,de,Ue){Ds("PREPARE_OUTPUT",he,{query:p,item:S}).then(function(Ye){f("DID_PREPARE_OUTPUT",{id:S.id,file:Ye}),de(Ye)}).catch(Ue)})}}),RETRY_ITEM_PROCESSING:us(x,function(S){f("REQUEST_ITEM_PROCESSING",{query:S})}),REQUEST_REMOVE_ITEM:us(x,function(S){LA(p("GET_BEFORE_REMOVE_FILE"),Sr(S)).then(function(C){C&&f("REMOVE_ITEM",{query:S})})}),RELEASE_ITEM:us(x,function(S){S.release()}),REMOVE_ITEM:us(x,function(S,C,k,B){var z=function(){var he=S.id;IA(x.items,he).archive(),f("DID_REMOVE_ITEM",{error:null,id:he,item:S}),q0(f,x),C(Sr(S))},W=x.options.server;S.origin===Nn.LOCAL&&W&&ye(W.remove)&&B.remove!==!1?(f("DID_START_ITEM_REMOVE",{id:S.id}),W.remove(S.source,function(){return z()},function(j){f("DID_THROW_ITEM_REMOVE_ERROR",{id:S.id,error:yn("error",0,j,null),status:{main:kp(x.options.labelFileRemoveError)(j),sub:x.options.labelTapToRetry}})})):((B.revert&&S.origin!==Nn.LOCAL&&S.serverId!==null||x.options.chunkUploads&&S.file.size>x.options.chunkSize||x.options.chunkUploads&&x.options.chunkForce)&&S.revert(mf(x.options.server.url,x.options.server.revert),p("GET_FORCE_REVERT")),z())}),ABORT_ITEM_LOAD:us(x,function(S){S.abortLoad()}),ABORT_ITEM_PROCESSING:us(x,function(S){if(S.serverId){f("REVERT_ITEM_PROCESSING",{id:S.id});return}S.abortProcessing().then(function(){var C=x.options.instantUpload;C&&f("REMOVE_ITEM",{query:S.id})})}),REQUEST_REVERT_ITEM_PROCESSING:us(x,function(S){if(!x.options.instantUpload){f("REVERT_ITEM_PROCESSING",{query:S});return}var C=function(W){W&&f("REVERT_ITEM_PROCESSING",{query:S})},k=p("GET_BEFORE_REMOVE_FILE");if(!k)return C(!0);var B=k(Sr(S));if(B==null)return C(!0);if(typeof B=="boolean")return C(B);typeof B.then=="function"&&B.then(C)}),REVERT_ITEM_PROCESSING:us(x,function(S){S.revert(mf(x.options.server.url,x.options.server.revert),p("GET_FORCE_REVERT")).then(function(){var C=x.options.instantUpload||UB(S);C&&f("REMOVE_ITEM",{query:S.id})}).catch(function(){})}),SET_OPTIONS:function(C){var k=C.options,B=Object.keys(k),z=VB.filter(function(j){return B.includes(j)}),W=[].concat(Dp(z),Dp(Object.keys(k).filter(function(j){return!z.includes(j)})));W.forEach(function(j){f("SET_"+_e(j,"_").toUpperCase(),{value:k[j]})})}}},VB=["server"],X0=function(f){return f},Ra=function(f){return document.createElement(f)},vn=function(f,p){var x=f.childNodes[0];x?p!==x.nodeValue&&(x.nodeValue=p):(x=document.createTextNode(p),f.appendChild(x))},OA=function(f,p,x,S){var C=(S%360-90)*Math.PI/180;return{x:f+x*Math.cos(C),y:p+x*Math.sin(C)}},HB=function(f,p,x,S,C,k){var B=OA(f,p,x,C),z=OA(f,p,x,S);return["M",B.x,B.y,"A",x,x,0,k,0,z.x,z.y].join(" ")},GB=function(f,p,x,S,C){var k=1;return C>S&&C-S<=.5&&(k=0),S>C&&S-C>=.5&&(k=0),HB(f,p,x,Math.min(.9999,S)*360,Math.min(.9999,C)*360,k)},$B=function(f){var p=f.root,x=f.props;x.spin=!1,x.progress=0,x.opacity=0;var S=u("svg");p.ref.path=u("path",{"stroke-width":2,"stroke-linecap":"round"}),S.appendChild(p.ref.path),p.ref.svg=S,p.appendChild(S)},WB=function(f){var p=f.root,x=f.props;if(x.opacity!==0){x.align&&(p.element.dataset.align=x.align);var S=parseInt(a(p.ref.path,"stroke-width"),10),C=p.rect.element.width*.5,k=0,B=0;x.spin?(k=0,B=.5):(k=0,B=x.progress);var z=GB(C,C,C-S,k,B);a(p.ref.path,"d",z),a(p.ref.path,"stroke-opacity",x.spin||x.progress>0?1:0)}},NA=Ve({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:$B,write:WB,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),qB=function(f){var p=f.root,x=f.props;p.element.innerHTML=(x.icon||"")+("<span>"+x.label+"</span>"),x.isDisabled=!1},jB=function(f){var p=f.root,x=f.props,S=x.isDisabled,C=p.query("GET_DISABLED")||x.opacity===0;C&&!S?(x.isDisabled=!0,a(p.element,"disabled","disabled")):!C&&S&&(x.isDisabled=!1,p.element.removeAttribute("disabled"))},kA=Ve({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:qB,write:jB}),FA=function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".",x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},C=S.labelBytes,k=C===void 0?"bytes":C,B=S.labelKilobytes,z=B===void 0?"KB":B,W=S.labelMegabytes,j=W===void 0?"MB":W,he=S.labelGigabytes,de=he===void 0?"GB":he;f=Math.round(Math.abs(f));var Ue=x,Ye=x*x,Je=x*x*x;return f<Ue?f+" "+k:f<Ye?Math.floor(f/Ue)+" "+z:f<Je?BA(f/Ye,1,p)+" "+j:BA(f/Je,2,p)+" "+de},BA=function(f,p,x){return f.toFixed(p).split(".").filter(function(S){return S!=="0"}).join(x)},XB=function(f){var p=f.root,x=f.props,S=Ra("span");S.className="filepond--file-info-main",a(S,"aria-hidden","true"),p.appendChild(S),p.ref.fileName=S;var C=Ra("span");C.className="filepond--file-info-sub",p.appendChild(C),p.ref.fileSize=C,vn(C,p.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),vn(S,X0(p.query("GET_ITEM_NAME",x.id)))},Y0=function(f){var p=f.root,x=f.props;vn(p.ref.fileSize,FA(p.query("GET_ITEM_SIZE",x.id),".",p.query("GET_FILE_SIZE_BASE"),p.query("GET_FILE_SIZE_LABELS",p.query))),vn(p.ref.fileName,X0(p.query("GET_ITEM_NAME",x.id)))},UA=function(f){var p=f.root,x=f.props;if(Q(p.query("GET_ITEM_SIZE",x.id))){Y0({root:p,props:x});return}vn(p.ref.fileSize,p.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},YB=Ve({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Ke({DID_LOAD_ITEM:Y0,DID_UPDATE_ITEM_META:Y0,DID_THROW_ITEM_LOAD_ERROR:UA,DID_THROW_ITEM_INVALID:UA}),didCreateView:function(f){Vl("CREATE_VIEW",Object.assign({},f,{view:f}))},create:XB,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),zA=function(f){return Math.round(f*100)},KB=function(f){var p=f.root,x=Ra("span");x.className="filepond--file-status-main",p.appendChild(x),p.ref.main=x;var S=Ra("span");S.className="filepond--file-status-sub",p.appendChild(S),p.ref.sub=S,VA({root:p,action:{progress:null}})},VA=function(f){var p=f.root,x=f.action,S=x.progress===null?p.query("GET_LABEL_FILE_LOADING"):p.query("GET_LABEL_FILE_LOADING")+" "+zA(x.progress)+"%";vn(p.ref.main,S),vn(p.ref.sub,p.query("GET_LABEL_TAP_TO_CANCEL"))},JB=function(f){var p=f.root,x=f.action,S=x.progress===null?p.query("GET_LABEL_FILE_PROCESSING"):p.query("GET_LABEL_FILE_PROCESSING")+" "+zA(x.progress)+"%";vn(p.ref.main,S),vn(p.ref.sub,p.query("GET_LABEL_TAP_TO_CANCEL"))},ZB=function(f){var p=f.root;vn(p.ref.main,p.query("GET_LABEL_FILE_PROCESSING")),vn(p.ref.sub,p.query("GET_LABEL_TAP_TO_CANCEL"))},QB=function(f){var p=f.root;vn(p.ref.main,p.query("GET_LABEL_FILE_PROCESSING_ABORTED")),vn(p.ref.sub,p.query("GET_LABEL_TAP_TO_RETRY"))},eU=function(f){var p=f.root;vn(p.ref.main,p.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),vn(p.ref.sub,p.query("GET_LABEL_TAP_TO_UNDO"))},HA=function(f){var p=f.root;vn(p.ref.main,""),vn(p.ref.sub,"")},gf=function(f){var p=f.root,x=f.action;vn(p.ref.main,x.status.main),vn(p.ref.sub,x.status.sub)},tU=Ve({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Ke({DID_LOAD_ITEM:HA,DID_REVERT_ITEM_PROCESSING:HA,DID_REQUEST_ITEM_PROCESSING:ZB,DID_ABORT_ITEM_PROCESSING:QB,DID_COMPLETE_ITEM_PROCESSING:eU,DID_UPDATE_ITEM_PROCESS_PROGRESS:JB,DID_UPDATE_ITEM_LOAD_PROGRESS:VA,DID_THROW_ITEM_LOAD_ERROR:gf,DID_THROW_ITEM_INVALID:gf,DID_THROW_ITEM_PROCESSING_ERROR:gf,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:gf,DID_THROW_ITEM_REMOVE_ERROR:gf}),didCreateView:function(f){Vl("CREATE_VIEW",Object.assign({},f,{view:f}))},create:KB,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),K0={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},J0=[];r(K0,function(T){J0.push(T)});var Gr=function(f){if(Z0(f)==="right")return 0;var p=f.ref.buttonRemoveItem.rect.element;return p.hidden?null:p.width+p.left},iU=function(f){var p=f.ref.buttonAbortItemLoad.rect.element;return p.width},Fp=function(f){return Math.floor(f.ref.buttonRemoveItem.rect.element.height/4)},nU=function(f){return Math.floor(f.ref.buttonRemoveItem.rect.element.left/2)},rU=function(f){return f.query("GET_STYLE_LOAD_INDICATOR_POSITION")},sU=function(f){return f.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")},Z0=function(f){return f.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},aU={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:rU},processProgressIndicator:{opacity:0,align:sU},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},GA={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Gr},status:{translateX:Gr}},Q0={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},iu={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Gr},status:{translateX:Gr,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Gr},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Z0},info:{translateX:Gr},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Z0},buttonRemoveItem:{opacity:1},info:{translateX:Gr},status:{opacity:1,translateX:Gr}},DID_LOAD_ITEM:GA,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Gr},status:{translateX:Gr}},DID_START_ITEM_PROCESSING:Q0,DID_REQUEST_ITEM_PROCESSING:Q0,DID_UPDATE_ITEM_PROCESS_PROGRESS:Q0,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Gr}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Gr},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:GA},oU=Ve({create:function(f){var p=f.root;p.element.innerHTML=p.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),lU=function(f){var p=f.root,x=f.props,S=Object.keys(K0).reduce(function(ht,vt){return ht[vt]=Object.assign({},K0[vt]),ht},{}),C=x.id,k=p.query("GET_ALLOW_REVERT"),B=p.query("GET_ALLOW_REMOVE"),z=p.query("GET_ALLOW_PROCESS"),W=p.query("GET_INSTANT_UPLOAD"),j=p.query("IS_ASYNC"),he=p.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN"),de;j?z&&!k?de=function(vt){return!/RevertItemProcessing/.test(vt)}:!z&&k?de=function(vt){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(vt)}:!z&&!k&&(de=function(vt){return!/Process/.test(vt)}):de=function(vt){return!/Process/.test(vt)};var Ue=de?J0.filter(de):J0.concat();if(W&&k&&(S.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",S.RevertItemProcessing.icon="GET_ICON_REMOVE"),j&&!k){var Ye=iu.DID_COMPLETE_ITEM_PROCESSING;Ye.info.translateX=nU,Ye.info.translateY=Fp,Ye.status.translateY=Fp,Ye.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(j&&!z&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(function(ht){iu[ht].status.translateY=Fp}),iu.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=iU),he&&k){S.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var Je=iu.DID_COMPLETE_ITEM_PROCESSING;Je.info.translateX=Gr,Je.status.translateY=Fp,Je.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}B||(S.RemoveItem.disabled=!0),r(S,function(ht,vt){var tt=p.createChildView(kA,{label:p.query(vt.label),icon:p.query(vt.icon),opacity:0});Ue.includes(ht)&&p.appendChildView(tt),vt.disabled&&(tt.element.setAttribute("disabled","disabled"),tt.element.setAttribute("hidden","hidden")),tt.element.dataset.align=p.query("GET_STYLE_"+vt.align),tt.element.classList.add(vt.className),tt.on("click",function(Kt){Kt.stopPropagation(),!vt.disabled&&p.dispatch(vt.action,{query:C})}),p.ref["button"+ht]=tt}),p.ref.processingCompleteIndicator=p.appendChildView(p.createChildView(oU)),p.ref.processingCompleteIndicator.element.dataset.align=p.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),p.ref.info=p.appendChildView(p.createChildView(YB,{id:C})),p.ref.status=p.appendChildView(p.createChildView(tU,{id:C}));var Oe=p.appendChildView(p.createChildView(NA,{opacity:0,align:p.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));Oe.element.classList.add("filepond--load-indicator"),p.ref.loadProgressIndicator=Oe;var Ze=p.appendChildView(p.createChildView(NA,{opacity:0,align:p.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));Ze.element.classList.add("filepond--process-indicator"),p.ref.processProgressIndicator=Ze,p.ref.activeStyles=[]},cU=function(f){var p=f.root,x=f.actions,S=f.props;uU({root:p,actions:x,props:S});var C=x.concat().filter(function(B){return/^DID_/.test(B.type)}).reverse().find(function(B){return iu[B.type]});if(C){p.ref.activeStyles=[];var k=iu[C.type];r(aU,function(B,z){var W=p.ref[B];r(z,function(j,he){var de=k[B]&&typeof k[B][j]!="undefined"?k[B][j]:he;p.ref.activeStyles.push({control:W,key:j,value:de})})})}p.ref.activeStyles.forEach(function(B){var z=B.control,W=B.key,j=B.value;z[W]=typeof j=="function"?j(p):j})},uU=Ke({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(f){var p=f.root,x=f.action;p.ref.buttonAbortItemProcessing.label=x.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(f){var p=f.root,x=f.action;p.ref.buttonAbortItemLoad.label=x.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(f){var p=f.root,x=f.action;p.ref.buttonAbortItemRemoval.label=x.value},DID_REQUEST_ITEM_PROCESSING:function(f){var p=f.root;p.ref.processProgressIndicator.spin=!0,p.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(f){var p=f.root;p.ref.loadProgressIndicator.spin=!0,p.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(f){var p=f.root;p.ref.processProgressIndicator.spin=!0,p.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(f){var p=f.root,x=f.action;p.ref.loadProgressIndicator.spin=!1,p.ref.loadProgressIndicator.progress=x.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(f){var p=f.root,x=f.action;p.ref.processProgressIndicator.spin=!1,p.ref.processProgressIndicator.progress=x.progress}}),hU=Ve({create:lU,write:cU,didCreateView:function(f){Vl("CREATE_VIEW",Object.assign({},f,{view:f}))},name:"file"}),fU=function(f){var p=f.root,x=f.props;p.ref.fileName=Ra("legend"),p.appendChild(p.ref.fileName),p.ref.file=p.appendChildView(p.createChildView(hU,{id:x.id})),p.ref.data=!1},dU=function(f){var p=f.root,x=f.props;vn(p.ref.fileName,X0(p.query("GET_ITEM_NAME",x.id)))},pU=Ve({create:fU,ignoreRect:!0,write:Ke({DID_LOAD_ITEM:dU}),didCreateView:function(f){Vl("CREATE_VIEW",Object.assign({},f,{view:f}))},tag:"fieldset",name:"file-wrapper"}),$A={type:"spring",damping:.6,mass:7},mU=function(f){var p=f.root,x=f.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:$A},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:$A},styles:["translateY"]}}].forEach(function(S){gU(p,S,x.name)}),p.element.classList.add("filepond--"+x.name),p.ref.scalable=null},gU=function(f,p,x){var S=Ve({name:"panel-"+p.name+" filepond--"+x,mixins:p.mixins,ignoreRectUpdate:!0}),C=f.createChildView(S,p.props);f.ref[p.name]=f.appendChildView(C)},yU=function(f){var p=f.root,x=f.props;if((p.ref.scalable===null||x.scalable!==p.ref.scalable)&&(p.ref.scalable=Te(x.scalable)?x.scalable:!0,p.element.dataset.scalable=p.ref.scalable),!!x.height){var S=p.ref.top.rect.element,C=p.ref.bottom.rect.element,k=Math.max(S.height+C.height,x.height);p.ref.center.translateY=S.height,p.ref.center.scaleY=(k-S.height-C.height)/100,p.ref.bottom.translateY=k-C.height}},WA=Ve({name:"panel",read:function(f){var p=f.root,x=f.props;return x.heightCurrent=p.ref.bottom.translateY},write:yU,create:mU,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),vU=function(f){var p=f.map(function(S){return S.id}),x=void 0;return{setIndex:function(C){x=C},getIndex:function(){return x},getItemIndex:function(C){return p.indexOf(C.id)}}},qA={type:"spring",stiffness:.75,damping:.45,mass:10},jA="spring",XA={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},_U=function(f){var p=f.root,x=f.props;if(p.ref.handleClick=function(C){return p.dispatch("DID_ACTIVATE_ITEM",{id:x.id})},p.element.id="filepond--item-"+x.id,p.element.addEventListener("click",p.ref.handleClick),p.ref.container=p.appendChildView(p.createChildView(pU,{id:x.id})),p.ref.panel=p.appendChildView(p.createChildView(WA,{name:"item-panel"})),p.ref.panel.height=null,x.markedForRemoval=!1,!!p.query("GET_ALLOW_REORDER")){p.element.dataset.dragState="idle";var S=function(k){if(k.isPrimary){var B=!1,z={x:k.pageX,y:k.pageY};x.dragOrigin={x:p.translateX,y:p.translateY},x.dragCenter={x:k.offsetX,y:k.offsetY};var W=vU(p.query("GET_ACTIVE_ITEMS"));p.dispatch("DID_GRAB_ITEM",{id:x.id,dragState:W});var j=function(Ue){if(Ue.isPrimary){Ue.stopPropagation(),Ue.preventDefault(),x.dragOffset={x:Ue.pageX-z.x,y:Ue.pageY-z.y};var Ye=x.dragOffset.x*x.dragOffset.x+x.dragOffset.y*x.dragOffset.y;Ye>16&&!B&&(B=!0,p.element.removeEventListener("click",p.ref.handleClick)),p.dispatch("DID_DRAG_ITEM",{id:x.id,dragState:W})}},he=function de(Ue){Ue.isPrimary&&(document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",de),x.dragOffset={x:Ue.pageX-z.x,y:Ue.pageY-z.y},p.dispatch("DID_DROP_ITEM",{id:x.id,dragState:W}),B&&setTimeout(function(){return p.element.addEventListener("click",p.ref.handleClick)},0))};document.addEventListener("pointermove",j),document.addEventListener("pointerup",he)}};p.element.addEventListener("pointerdown",S)}},xU=Ke({DID_UPDATE_PANEL_HEIGHT:function(f){var p=f.root,x=f.action;p.height=x.height}}),bU=Ke({DID_GRAB_ITEM:function(f){var p=f.root,x=f.props;x.dragOrigin={x:p.translateX,y:p.translateY}},DID_DRAG_ITEM:function(f){var p=f.root;p.element.dataset.dragState="drag"},DID_DROP_ITEM:function(f){var p=f.root,x=f.props;x.dragOffset=null,x.dragOrigin=null,p.element.dataset.dragState="drop"}},function(T){var f=T.root,p=T.actions,x=T.props,S=T.shouldOptimize;f.element.dataset.dragState==="drop"&&f.scaleX<=1&&(f.element.dataset.dragState="idle");var C=p.concat().filter(function(B){return/^DID_/.test(B.type)}).reverse().find(function(B){return XA[B.type]});C&&C.type!==x.currentState&&(x.currentState=C.type,f.element.dataset.filepondItemState=XA[x.currentState]||"");var k=f.query("GET_ITEM_PANEL_ASPECT_RATIO")||f.query("GET_PANEL_ASPECT_RATIO");k?S||(f.height=f.rect.element.width*k):(xU({root:f,actions:p,props:x}),!f.height&&f.ref.container.rect.element.height>0&&(f.height=f.ref.container.rect.element.height)),S&&(f.ref.panel.height=null),f.ref.panel.height=f.height}),EU=Ve({create:_U,write:bU,destroy:function(f){var p=f.root,x=f.props;p.element.removeEventListener("click",p.ref.handleClick),p.dispatch("RELEASE_ITEM",{query:x.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:jA,scaleY:jA,translateX:qA,translateY:qA,opacity:{type:"tween",duration:150}}}}),e_=function(T,f){return Math.max(1,Math.floor((T+1)/f))},t_=function(f,p,x){if(x){var S=f.rect.element.width,C=p.length,k=null;if(C===0||x.top<p[0].rect.element.top)return-1;var B=p[0],z=B.rect.element,W=z.marginLeft+z.marginRight,j=z.width+W,he=e_(S,j);if(he===1){for(var de=0;de<C;de++){var Ue=p[de],Ye=Ue.rect.outer.top+Ue.rect.element.height*.5;if(x.top<Ye)return de}return C}for(var Je=z.marginTop+z.marginBottom,Oe=z.height+Je,Ze=0;Ze<C;Ze++){var ht=Ze%he,vt=Math.floor(Ze/he),tt=ht*j,Kt=vt*Oe,rt=Kt-z.marginTop,Ri=tt+j,Li=Kt+Oe+z.marginBottom;if(x.top<Li&&x.top>rt){if(x.left<Ri)return Ze;Ze!==C-1?k=Ze:k=null}}return k!==null?k:C}},Bp={height:0,width:0,get getHeight(){return this.height},set setHeight(T){(this.height===0||T===0)&&(this.height=T)},get getWidth(){return this.width},set setWidth(T){(this.width===0||T===0)&&(this.width=T)},setDimensions:function(f,p){(this.height===0||f===0)&&(this.height=f),(this.width===0||p===0)&&(this.width=p)}},SU=function(f){var p=f.root;a(p.element,"role","list"),p.ref.lastItemSpanwDate=Date.now()},TU=function(f){var p=f.root,x=f.action,S=x.id,C=x.index,k=x.interactionMethod;p.ref.addIndex=C;var B=Date.now(),z=B,W=1;if(k!==qt.NONE){W=0;var j=p.query("GET_ITEM_INSERT_INTERVAL"),he=B-p.ref.lastItemSpanwDate;z=he<j?B+(j-he):B}p.ref.lastItemSpanwDate=z,p.appendChildView(p.createChildView(EU,{spawnDate:z,id:S,opacity:W,interactionMethod:k}),C)},YA=function(f,p,x){var S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;f.dragOffset?(f.translateX=null,f.translateY=null,f.translateX=f.dragOrigin.x+f.dragOffset.x,f.translateY=f.dragOrigin.y+f.dragOffset.y,f.scaleX=1.025,f.scaleY=1.025):(f.translateX=p,f.translateY=x,Date.now()>f.spawnDate&&(f.opacity===0&&wU(f,p,x,S,C),f.scaleX=1,f.scaleY=1,f.opacity=1))},wU=function(f,p,x,S,C){f.interactionMethod===qt.NONE?(f.translateX=null,f.translateX=p,f.translateY=null,f.translateY=x):f.interactionMethod===qt.DROP?(f.translateX=null,f.translateX=p-S*20,f.translateY=null,f.translateY=x-C*10,f.scaleX=.8,f.scaleY=.8):f.interactionMethod===qt.BROWSE?(f.translateY=null,f.translateY=x-30):f.interactionMethod===qt.API&&(f.translateX=null,f.translateX=p-30,f.translateY=null)},AU=function(f){var p=f.root,x=f.action,S=x.id,C=p.childViews.find(function(k){return k.id===S});C&&(C.scaleX=.9,C.scaleY=.9,C.opacity=0,C.markedForRemoval=!0)},i_=function(f){return f.rect.element.height+f.rect.element.marginBottom*.5+f.rect.element.marginTop*.5},MU=function(f){return f.rect.element.width+f.rect.element.marginLeft*.5+f.rect.element.marginRight*.5},CU=function(f){var p=f.root,x=f.action,S=x.id,C=x.dragState,k=p.query("GET_ITEM",{id:S}),B=p.childViews.find(function(ht){return ht.id===S}),z=p.childViews.length,W=C.getItemIndex(k);if(B){var j={x:B.dragOrigin.x+B.dragOffset.x+B.dragCenter.x,y:B.dragOrigin.y+B.dragOffset.y+B.dragCenter.y},he=i_(B),de=MU(B),Ue=Math.floor(p.rect.outer.width/de);Ue>z&&(Ue=z);var Ye=Math.floor(z/Ue+1);Bp.setHeight=he*Ye,Bp.setWidth=de*Ue;var Je={y:Math.floor(j.y/he),x:Math.floor(j.x/de),getGridIndex:function(){return j.y>Bp.getHeight||j.y<0||j.x>Bp.getWidth||j.x<0?W:this.y*Ue+this.x},getColIndex:function(){for(var vt=p.query("GET_ACTIVE_ITEMS"),tt=p.childViews.filter(function(Lt){return Lt.rect.element.height}),Kt=vt.map(function(Lt){return tt.find(function(Ni){return Ni.id===Lt.id})}),rt=Kt.findIndex(function(Lt){return Lt===B}),Ri=i_(B),Li=Kt.length,lt=Li,wt=0,Dt=0,at=0,ft=0;ft<Li;ft++)if(wt=i_(Kt[ft]),at=Dt,Dt=at+wt,j.y<Dt){if(rt>ft){if(j.y<at+Ri){lt=ft;break}continue}lt=ft;break}return lt}},Oe=Ue>1?Je.getGridIndex():Je.getColIndex();p.dispatch("MOVE_ITEM",{query:B,index:Oe});var Ze=C.getIndex();if(Ze===void 0||Ze!==Oe){if(C.setIndex(Oe),Ze===void 0)return;p.dispatch("DID_REORDER_ITEMS",{items:p.query("GET_ACTIVE_ITEMS"),origin:W,target:Oe})}}},PU=Ke({DID_ADD_ITEM:TU,DID_REMOVE_ITEM:AU,DID_DRAG_ITEM:CU}),IU=function(f){var p=f.root,x=f.props,S=f.actions,C=f.shouldOptimize;PU({root:p,props:x,actions:S});var k=x.dragCoordinates,B=p.rect.element.width,z=p.childViews.filter(function(lt){return lt.rect.element.height}),W=p.query("GET_ACTIVE_ITEMS").map(function(lt){return z.find(function(wt){return wt.id===lt.id})}).filter(function(lt){return lt}),j=k?t_(p,W,k):null,he=p.ref.addIndex||null;p.ref.addIndex=null;var de=0,Ue=0,Ye=0;if(W.length!==0){var Je=W[0].rect.element,Oe=Je.marginTop+Je.marginBottom,Ze=Je.marginLeft+Je.marginRight,ht=Je.width+Ze,vt=Je.height+Oe,tt=e_(B,ht);if(tt===1){var Kt=0,rt=0;W.forEach(function(lt,wt){if(j){var Dt=wt-j;Dt===-2?rt=-Oe*.25:Dt===-1?rt=-Oe*.75:Dt===0?rt=Oe*.75:Dt===1?rt=Oe*.25:rt=0}C&&(lt.translateX=null,lt.translateY=null),lt.markedForRemoval||YA(lt,0,Kt+rt);var at=lt.rect.element.height+Oe,ft=at*(lt.markedForRemoval?lt.opacity:1);Kt+=ft})}else{var Ri=0,Li=0;W.forEach(function(lt,wt){wt===j&&(de=1),wt===he&&(Ye+=1),lt.markedForRemoval&&lt.opacity<.5&&(Ue-=1);var Dt=wt+Ye+de+Ue,at=Dt%tt,ft=Math.floor(Dt/tt),Lt=at*ht,Ni=ft*vt,Ci=Math.sign(Lt-Ri),kt=Math.sign(Ni-Li);Ri=Lt,Li=Ni,!lt.markedForRemoval&&(C&&(lt.translateX=null,lt.translateY=null),YA(lt,Lt,Ni,Ci,kt))})}}},DU=function(f,p){return p.filter(function(x){return x.data&&x.data.id?f.id===x.data.id:!0})},RU=Ve({create:SU,write:IU,tag:"ul",name:"list",didWriteView:function(f){var p=f.root;p.childViews.filter(function(x){return x.markedForRemoval&&x.opacity===0&&x.resting}).forEach(function(x){x._destroy(),p.removeChildView(x)})},filterFrameActionsForChild:DU,mixins:{apis:["dragCoordinates"]}}),LU=function(f){var p=f.root,x=f.props;p.ref.list=p.appendChildView(p.createChildView(RU)),x.dragCoordinates=null,x.overflowing=!1},OU=function(f){var p=f.root,x=f.props,S=f.action;p.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(x.dragCoordinates={left:S.position.scopeLeft-p.ref.list.rect.element.left,top:S.position.scopeTop-(p.rect.outer.top+p.rect.element.marginTop+p.rect.element.scrollTop)})},NU=function(f){var p=f.props;p.dragCoordinates=null},kU=Ke({DID_DRAG:OU,DID_END_DRAG:NU}),FU=function(f){var p=f.root,x=f.props,S=f.actions;if(kU({root:p,props:x,actions:S}),p.ref.list.dragCoordinates=x.dragCoordinates,x.overflowing&&!x.overflow&&(x.overflowing=!1,p.element.dataset.state="",p.height=null),x.overflow){var C=Math.round(x.overflow);C!==p.height&&(x.overflowing=!0,p.element.dataset.state="overflow",p.height=C)}},BU=Ve({create:LU,write:FU,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Ls=function(f,p,x){var S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"";x?a(f,p,S):f.removeAttribute(p)},UU=function(f){if(!(!f||f.value==="")){try{f.value=""}catch(C){}if(f.value){var p=Ra("form"),x=f.parentNode,S=f.nextSibling;p.appendChild(f),p.reset(),S?x.insertBefore(f,S):x.appendChild(f)}}},zU=function(f){var p=f.root,x=f.props;p.element.id="filepond--browser-"+x.id,a(p.element,"name",p.query("GET_NAME")),a(p.element,"aria-controls","filepond--assistant-"+x.id),a(p.element,"aria-labelledby","filepond--drop-label-"+x.id),KA({root:p,action:{value:p.query("GET_ACCEPTED_FILE_TYPES")}}),JA({root:p,action:{value:p.query("GET_ALLOW_MULTIPLE")}}),ZA({root:p,action:{value:p.query("GET_ALLOW_DIRECTORIES_ONLY")}}),n_({root:p}),QA({root:p,action:{value:p.query("GET_REQUIRED")}}),eM({root:p,action:{value:p.query("GET_CAPTURE_METHOD")}}),p.ref.handleChange=function(S){if(p.element.value){var C=Array.from(p.element.files).map(function(k){return k._relativePath=k.webkitRelativePath,k});setTimeout(function(){x.onload(C),UU(p.element)},250)}},p.element.addEventListener("change",p.ref.handleChange)},KA=function(f){var p=f.root,x=f.action;p.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&Ls(p.element,"accept",!!x.value,x.value?x.value.join(","):"")},JA=function(f){var p=f.root,x=f.action;Ls(p.element,"multiple",x.value)},ZA=function(f){var p=f.root,x=f.action;Ls(p.element,"webkitdirectory",x.value)},n_=function(f){var p=f.root,x=p.query("GET_DISABLED"),S=p.query("GET_ALLOW_BROWSE"),C=x||!S;Ls(p.element,"disabled",C)},QA=function(f){var p=f.root,x=f.action;x.value?p.query("GET_TOTAL_ITEMS")===0&&Ls(p.element,"required",!0):Ls(p.element,"required",!1)},eM=function(f){var p=f.root,x=f.action;Ls(p.element,"capture",!!x.value,x.value===!0?"":x.value)},tM=function(f){var p=f.root,x=p.element;if(p.query("GET_TOTAL_ITEMS")>0)Ls(x,"required",!1),Ls(x,"name",!1);else{Ls(x,"name",!0,p.query("GET_NAME"));var S=p.query("GET_CHECK_VALIDITY");S&&x.setCustomValidity(""),p.query("GET_REQUIRED")&&Ls(x,"required",!0)}},VU=function(f){var p=f.root,x=p.query("GET_CHECK_VALIDITY");x&&p.element.setCustomValidity(p.query("GET_LABEL_INVALID_FIELD"))},HU=Ve({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:zU,destroy:function(f){var p=f.root;p.element.removeEventListener("change",p.ref.handleChange)},write:Ke({DID_LOAD_ITEM:tM,DID_REMOVE_ITEM:tM,DID_THROW_ITEM_INVALID:VU,DID_SET_DISABLED:n_,DID_SET_ALLOW_BROWSE:n_,DID_SET_ALLOW_DIRECTORIES_ONLY:ZA,DID_SET_ALLOW_MULTIPLE:JA,DID_SET_ACCEPTED_FILE_TYPES:KA,DID_SET_CAPTURE_METHOD:eM,DID_SET_REQUIRED:QA})}),iM={ENTER:13,SPACE:32},GU=function(f){var p=f.root,x=f.props,S=Ra("label");a(S,"for","filepond--browser-"+x.id),a(S,"id","filepond--drop-label-"+x.id),a(S,"aria-hidden","true"),p.ref.handleKeyDown=function(C){var k=C.keyCode===iM.ENTER||C.keyCode===iM.SPACE;k&&(C.preventDefault(),p.ref.label.click())},p.ref.handleClick=function(C){var k=C.target===S||S.contains(C.target);k||p.ref.label.click()},S.addEventListener("keydown",p.ref.handleKeyDown),p.element.addEventListener("click",p.ref.handleClick),nM(S,x.caption),p.appendChild(S),p.ref.label=S},nM=function(f,p){f.innerHTML=p;var x=f.querySelector(".filepond--label-action");return x&&a(x,"tabindex","0"),p},$U=Ve({name:"drop-label",ignoreRect:!0,create:GU,destroy:function(f){var p=f.root;p.ref.label.addEventListener("keydown",p.ref.handleKeyDown),p.element.removeEventListener("click",p.ref.handleClick)},write:Ke({DID_SET_LABEL_IDLE:function(f){var p=f.root,x=f.action;nM(p.ref.label,x.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),WU=Ve({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),qU=function(f){var p=f.root,x=p.rect.element.width*.5,S=p.rect.element.height*.5;p.ref.blob=p.appendChildView(p.createChildView(WU,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:x,translateY:S}))},jU=function(f){var p=f.root,x=f.action;if(!p.ref.blob){qU({root:p});return}p.ref.blob.translateX=x.position.scopeLeft,p.ref.blob.translateY=x.position.scopeTop,p.ref.blob.scaleX=1,p.ref.blob.scaleY=1,p.ref.blob.opacity=1},XU=function(f){var p=f.root;p.ref.blob&&(p.ref.blob.opacity=0)},YU=function(f){var p=f.root;p.ref.blob&&(p.ref.blob.scaleX=2.5,p.ref.blob.scaleY=2.5,p.ref.blob.opacity=0)},KU=function(f){var p=f.root,x=f.props,S=f.actions;JU({root:p,props:x,actions:S});var C=p.ref.blob;S.length===0&&C&&C.opacity===0&&(p.removeChildView(C),p.ref.blob=null)},JU=Ke({DID_DRAG:jU,DID_DROP:YU,DID_END_DRAG:XU}),ZU=Ve({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:KU}),rM=function(f,p){try{var x=new DataTransfer;p.forEach(function(S){S instanceof File?x.items.add(S):x.items.add(new File([S],S.name,{type:S.type}))}),f.files=x.files}catch(S){return!1}return!0},QU=function(f){var p=f.root;return p.ref.fields={}},Up=function(f,p){return f.ref.fields[p]},r_=function(f){f.query("GET_ACTIVE_ITEMS").forEach(function(p){f.ref.fields[p.id]&&f.element.appendChild(f.ref.fields[p.id])})},sM=function(f){var p=f.root;return r_(p)},ez=function(f){var p=f.root,x=f.action,S=p.query("GET_ITEM",x.id),C=S.origin===Nn.LOCAL,k=!C&&p.query("SHOULD_UPDATE_FILE_INPUT"),B=Ra("input");B.type=k?"file":"hidden",B.name=p.query("GET_NAME"),B.disabled=p.query("GET_DISABLED"),p.ref.fields[x.id]=B,r_(p)},tz=function(f){var p=f.root,x=f.action,S=Up(p,x.id);if(S&&(x.serverFileReference!==null&&(S.value=x.serverFileReference),!!p.query("SHOULD_UPDATE_FILE_INPUT"))){var C=p.query("GET_ITEM",x.id);rM(S,[C.file])}},iz=function(f){var p=f.root,x=f.action;p.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(function(){var S=Up(p,x.id);S&&rM(S,[x.file])},0)},nz=function(f){var p=f.root;p.element.disabled=p.query("GET_DISABLED")},rz=function(f){var p=f.root,x=f.action,S=Up(p,x.id);S&&(S.parentNode&&S.parentNode.removeChild(S),delete p.ref.fields[x.id])},sz=function(f){var p=f.root,x=f.action,S=Up(p,x.id);S&&(x.value===null?S.removeAttribute("value"):S.value=x.value,r_(p))},az=Ke({DID_SET_DISABLED:nz,DID_ADD_ITEM:ez,DID_LOAD_ITEM:tz,DID_REMOVE_ITEM:rz,DID_DEFINE_VALUE:sz,DID_PREPARE_OUTPUT:iz,DID_REORDER_ITEMS:sM,DID_SORT_ITEMS:sM}),oz=Ve({tag:"fieldset",name:"data",create:QU,write:az,ignoreRect:!0}),lz=function(f){return"getRootNode"in f?f.getRootNode():document},cz=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],uz=["css","csv","html","txt"],hz={zip:"zip|compressed",epub:"application/epub+zip"},aM=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return f=f.toLowerCase(),cz.includes(f)?"image/"+(f==="jpg"?"jpeg":f==="svg"?"svg+xml":f):uz.includes(f)?"text/"+f:hz[f]||""},s_=function(f){return new Promise(function(p,x){var S=_z(f);if(S.length&&!fz(f))return p(S);dz(f).then(p)})},fz=function(f){return f.files?f.files.length>0:!1},dz=function(f){return new Promise(function(p,x){var S=(f.items?Array.from(f.items):[]).filter(function(C){return pz(C)}).map(function(C){return mz(C)});if(!S.length){p(f.files?Array.from(f.files):[]);return}Promise.all(S).then(function(C){var k=[];C.forEach(function(B){k.push.apply(k,B)}),p(k.filter(function(B){return B}).map(function(B){return B._relativePath||(B._relativePath=B.webkitRelativePath),B}))}).catch(console.error)})},pz=function(f){if(oM(f)){var p=a_(f);if(p)return p.isFile||p.isDirectory}return f.kind==="file"},mz=function(f){return new Promise(function(p,x){if(vz(f)){gz(a_(f)).then(p).catch(x);return}p([f.getAsFile()])})},gz=function(f){return new Promise(function(p,x){var S=[],C=0,k=0,B=function(){k===0&&C===0&&p(S)},z=function W(j){C++;var he=j.createReader(),de=function Ue(){he.readEntries(function(Ye){if(Ye.length===0){C--,B();return}Ye.forEach(function(Je){Je.isDirectory?W(Je):(k++,Je.file(function(Oe){var Ze=yz(Oe);Je.fullPath&&(Ze._relativePath=Je.fullPath),S.push(Ze),k--,B()}))}),Ue()},x)};de()};z(f)})},yz=function(f){if(f.type.length)return f;var p=f.lastModifiedDate,x=f.name,S=aM(Np(f.name));return S.length&&(f=f.slice(0,f.size,S),f.name=x,f.lastModifiedDate=p),f},vz=function(f){return oM(f)&&(a_(f)||{}).isDirectory},oM=function(f){return"webkitGetAsEntry"in f},a_=function(f){return f.webkitGetAsEntry()},_z=function(f){var p=[];try{if(p=bz(f),p.length)return p;p=xz(f)}catch(x){}return p},xz=function(f){var p=f.getData("url");return typeof p=="string"&&p.length?[p]:[]},bz=function(f){var p=f.getData("text/html");if(typeof p=="string"&&p.length){var x=p.match(/src\s*=\s*"(.+?)"/);if(x)return[x[1]]}return[]},zp=[],Wl=function(f){return{pageLeft:f.pageX,pageTop:f.pageY,scopeLeft:f.offsetX||f.layerX,scopeTop:f.offsetY||f.layerY}},Ez=function(f,p,x){var S=Sz(p),C={element:f,filterElement:x,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return C.destroy=S.addListener(C),C},Sz=function(f){var p=zp.find(function(S){return S.element===f});if(p)return p;var x=Tz(f);return zp.push(x),x},Tz=function(f){var p=[],x={dragenter:Az,dragover:Mz,dragleave:Pz,drop:Cz},S={};r(x,function(k,B){S[k]=B(f,p),f.addEventListener(k,S[k],!1)});var C={element:f,addListener:function(B){return p.push(B),function(){p.splice(p.indexOf(B),1),p.length===0&&(zp.splice(zp.indexOf(C),1),r(x,function(z){f.removeEventListener(z,S[z],!1)}))}}};return C},wz=function(f,p){return"elementFromPoint"in f||(f=document),f.elementFromPoint(p.x,p.y)},o_=function(f,p){var x=lz(p),S=wz(x,{x:f.pageX-window.pageXOffset,y:f.pageY-window.pageYOffset});return S===p||p.contains(S)},lM=null,Vp=function(f,p){try{f.dropEffect=p}catch(x){}},Az=function(f,p){return function(x){x.preventDefault(),lM=x.target,p.forEach(function(S){var C=S.element,k=S.onenter;o_(x,C)&&(S.state="enter",k(Wl(x)))})}},Mz=function(f,p){return function(x){x.preventDefault();var S=x.dataTransfer;s_(S).then(function(C){var k=!1;p.some(function(B){var z=B.filterElement,W=B.element,j=B.onenter,he=B.onexit,de=B.ondrag,Ue=B.allowdrop;Vp(S,"copy");var Ye=Ue(C);if(!Ye){Vp(S,"none");return}if(o_(x,W)){if(k=!0,B.state===null){B.state="enter",j(Wl(x));return}if(B.state="over",z&&!Ye){Vp(S,"none");return}de(Wl(x))}else z&&!k&&Vp(S,"none"),B.state&&(B.state=null,he(Wl(x)))})})}},Cz=function(f,p){return function(x){x.preventDefault();var S=x.dataTransfer;s_(S).then(function(C){p.forEach(function(k){var B=k.filterElement,z=k.element,W=k.ondrop,j=k.onexit,he=k.allowdrop;if(k.state=null,!(B&&!o_(x,z))){if(!he(C))return j(Wl(x));W(Wl(x),C)}})})}},Pz=function(f,p){return function(x){lM===x.target&&p.forEach(function(S){var C=S.onexit;S.state=null,C(Wl(x))})}},Iz=function(f,p,x){f.classList.add("filepond--hopper");var S=x.catchesDropsOnPage,C=x.requiresDropOnElement,k=x.filterItems,B=k===void 0?function(de){return de}:k,z=Ez(f,S?document.documentElement:f,C),W="",j="";z.allowdrop=function(de){return p(B(de))},z.ondrop=function(de,Ue){var Ye=B(Ue);if(!p(Ye)){he.ondragend(de);return}j="drag-drop",he.onload(Ye,de)},z.ondrag=function(de){he.ondrag(de)},z.onenter=function(de){j="drag-over",he.ondragstart(de)},z.onexit=function(de){j="drag-exit",he.ondragend(de)};var he={updateHopperState:function(){W!==j&&(f.dataset.hopperState=j,W=j)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){z.destroy()}};return he},l_=!1,nu=[],cM=function(f){var p=document.activeElement;if(p&&/textarea|input/i.test(p.nodeName)){for(var x=!1,S=p;S!==document.body;){if(S.classList.contains("filepond--root")){x=!0;break}S=S.parentNode}if(!x)return}s_(f.clipboardData).then(function(C){C.length&&nu.forEach(function(k){return k(C)})})},Dz=function(f){nu.includes(f)||(nu.push(f),!l_&&(l_=!0,document.addEventListener("paste",cM)))},Rz=function(f){V0(nu,nu.indexOf(f)),nu.length===0&&(document.removeEventListener("paste",cM),l_=!1)},Lz=function(){var f=function(S){p.onload(S)},p={destroy:function(){Rz(f)},onload:function(){}};return Dz(f),p},Oz=function(f){var p=f.root,x=f.props;p.element.id="filepond--assistant-"+x.id,a(p.element,"role","status"),a(p.element,"aria-live","polite"),a(p.element,"aria-relevant","additions")},uM=null,hM=null,c_=[],Hp=function(f,p){f.element.textContent=p},Nz=function(f){f.element.textContent=""},fM=function(f,p,x){var S=f.query("GET_TOTAL_ITEMS");Hp(f,x+" "+p+", "+S+" "+(S===1?f.query("GET_LABEL_FILE_COUNT_SINGULAR"):f.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(hM),hM=setTimeout(function(){Nz(f)},1500)},dM=function(f){return f.element.parentNode.contains(document.activeElement)},kz=function(f){var p=f.root,x=f.action;if(dM(p)){p.element.textContent="";var S=p.query("GET_ITEM",x.id);c_.push(S.filename),clearTimeout(uM),uM=setTimeout(function(){fM(p,c_.join(", "),p.query("GET_LABEL_FILE_ADDED")),c_.length=0},750)}},Fz=function(f){var p=f.root,x=f.action;if(dM(p)){var S=x.item;fM(p,S.filename,p.query("GET_LABEL_FILE_REMOVED"))}},Bz=function(f){var p=f.root,x=f.action,S=p.query("GET_ITEM",x.id),C=S.filename,k=p.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Hp(p,C+" "+k)},pM=function(f){var p=f.root,x=f.action,S=p.query("GET_ITEM",x.id),C=S.filename,k=p.query("GET_LABEL_FILE_PROCESSING_ABORTED");Hp(p,C+" "+k)},Gp=function(f){var p=f.root,x=f.action,S=p.query("GET_ITEM",x.id),C=S.filename;Hp(p,x.status.main+" "+C+" "+x.status.sub)},Uz=Ve({create:Oz,ignoreRect:!0,ignoreRectUpdate:!0,write:Ke({DID_LOAD_ITEM:kz,DID_REMOVE_ITEM:Fz,DID_COMPLETE_ITEM_PROCESSING:Bz,DID_ABORT_ITEM_PROCESSING:pM,DID_REVERT_ITEM_PROCESSING:pM,DID_THROW_ITEM_REMOVE_ERROR:Gp,DID_THROW_ITEM_LOAD_ERROR:Gp,DID_THROW_ITEM_INVALID:Gp,DID_THROW_ITEM_PROCESSING_ERROR:Gp}),tag:"span",name:"assistant"}),mM=function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-";return f.replace(new RegExp(p+".","g"),function(x){return x.charAt(1).toUpperCase()})},gM=function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,S=Date.now(),C=null;return function(){for(var k=arguments.length,B=new Array(k),z=0;z<k;z++)B[z]=arguments[z];clearTimeout(C);var W=Date.now()-S,j=function(){S=Date.now(),f.apply(void 0,B)};W<p?x||(C=setTimeout(j,p-W)):j()}},zz=1e6,$p=function(f){return f.preventDefault()},Vz=function(f){var p=f.root,x=f.props,S=p.query("GET_ID");S&&(p.element.id=S);var C=p.query("GET_CLASS_NAME");C&&C.split(" ").filter(function(he){return he.length}).forEach(function(he){p.element.classList.add(he)}),p.ref.label=p.appendChildView(p.createChildView($U,Object.assign({},x,{translateY:null,caption:p.query("GET_LABEL_IDLE")}))),p.ref.list=p.appendChildView(p.createChildView(BU,{translateY:null})),p.ref.panel=p.appendChildView(p.createChildView(WA,{name:"panel-root"})),p.ref.assistant=p.appendChildView(p.createChildView(Uz,Object.assign({},x))),p.ref.data=p.appendChildView(p.createChildView(oz,Object.assign({},x))),p.ref.measure=Ra("div"),p.ref.measure.style.height="100%",p.element.appendChild(p.ref.measure),p.ref.bounds=null,p.query("GET_STYLES").filter(function(he){return!Pt(he.value)}).map(function(he){var de=he.name,Ue=he.value;p.element.dataset[de]=Ue}),p.ref.widthPrevious=null,p.ref.widthUpdated=gM(function(){p.ref.updateHistory=[],p.dispatch("DID_RESIZE_ROOT")},250),p.ref.previousAspectRatio=null,p.ref.updateHistory=[];var k=window.matchMedia("(pointer: fine) and (hover: hover)").matches,B="PointerEvent"in window;p.query("GET_ALLOW_REORDER")&&B&&!k&&(p.element.addEventListener("touchmove",$p,{passive:!1}),p.element.addEventListener("gesturestart",$p));var z=p.query("GET_CREDITS"),W=z.length===2;if(W){var j=document.createElement("a");j.className="filepond--credits",j.setAttribute("aria-hidden","true"),j.href=z[0],j.tabindex=-1,j.target="_blank",j.rel="noopener noreferrer",j.textContent=z[1],p.element.appendChild(j),p.ref.credits=j}},Hz=function(f){var p=f.root,x=f.props,S=f.actions;if(jz({root:p,props:x,actions:S}),S.filter(function(oi){return/^DID_SET_STYLE_/.test(oi.type)}).filter(function(oi){return!Pt(oi.data.value)}).map(function(oi){var vi=oi.type,ru=oi.data,yf=mM(vi.substring(8).toLowerCase(),"_");p.element.dataset[yf]=ru.value,p.invalidateLayout()}),!p.rect.element.hidden){p.rect.element.width!==p.ref.widthPrevious&&(p.ref.widthPrevious=p.rect.element.width,p.ref.widthUpdated());var C=p.ref.bounds;C||(C=p.ref.bounds=Wz(p),p.element.removeChild(p.ref.measure),p.ref.measure=null);var k=p.ref,B=k.hopper,z=k.label,W=k.list,j=k.panel;B&&B.updateHopperState();var he=p.query("GET_PANEL_ASPECT_RATIO"),de=p.query("GET_ALLOW_MULTIPLE"),Ue=p.query("GET_TOTAL_ITEMS"),Ye=de?p.query("GET_MAX_FILES")||zz:1,Je=Ue===Ye,Oe=S.find(function(oi){return oi.type==="DID_ADD_ITEM"});if(Je&&Oe){var Ze=Oe.data.interactionMethod;z.opacity=0,de?z.translateY=-40:Ze===qt.API?z.translateX=40:Ze===qt.BROWSE?z.translateY=40:z.translateY=30}else Je||(z.opacity=1,z.translateX=0,z.translateY=0);var ht=Gz(p),vt=$z(p),tt=z.rect.element.height,Kt=!de||Je?0:tt,rt=Je?W.rect.element.marginTop:0,Ri=Ue===0?0:W.rect.element.marginBottom,Li=Kt+rt+vt.visual+Ri,lt=Kt+rt+vt.bounds+Ri;if(W.translateY=Math.max(0,Kt-W.rect.element.marginTop)-ht.top,he){var wt=p.rect.element.width,Dt=wt*he;he!==p.ref.previousAspectRatio&&(p.ref.previousAspectRatio=he,p.ref.updateHistory=[]);var at=p.ref.updateHistory;at.push(wt);var ft=2;if(at.length>ft*2){for(var Lt=at.length,Ni=Lt-10,Ci=0,kt=Lt;kt>=Ni;kt--)if(at[kt]===at[kt-2]&&Ci++,Ci>=ft)return}j.scalable=!1,j.height=Dt;var Xe=Dt-Kt-(Ri-ht.bottom)-(Je?rt:0);vt.visual>Xe?W.overflow=Xe:W.overflow=null,p.height=Dt}else if(C.fixedHeight){j.scalable=!1;var Ce=C.fixedHeight-Kt-(Ri-ht.bottom)-(Je?rt:0);vt.visual>Ce?W.overflow=Ce:W.overflow=null}else if(C.cappedHeight){var yt=Li>=C.cappedHeight,jt=Math.min(C.cappedHeight,Li);j.scalable=!0,j.height=yt?jt:jt-ht.top-ht.bottom;var Jt=jt-Kt-(Ri-ht.bottom)-(Je?rt:0);Li>C.cappedHeight&&vt.visual>Jt?W.overflow=Jt:W.overflow=null,p.height=Math.min(C.cappedHeight,lt-ht.top-ht.bottom)}else{var hi=Ue>0?ht.top+ht.bottom:0;j.scalable=!0,j.height=Math.max(tt,Li-hi),p.height=Math.max(tt,lt-hi)}p.ref.credits&&j.heightCurrent&&(p.ref.credits.style.transform="translateY("+j.heightCurrent+"px)")}},Gz=function(f){var p=f.ref.list.childViews[0].childViews[0];return p?{top:p.rect.element.marginTop,bottom:p.rect.element.marginBottom}:{top:0,bottom:0}},$z=function(f){var p=0,x=0,S=f.ref.list,C=S.childViews[0],k=C.childViews.filter(function(vt){return vt.rect.element.height}),B=f.query("GET_ACTIVE_ITEMS").map(function(vt){return k.find(function(tt){return tt.id===vt.id})}).filter(function(vt){return vt});if(B.length===0)return{visual:p,bounds:x};var z=C.rect.element.width,W=t_(C,B,S.dragCoordinates),j=B[0].rect.element,he=j.marginTop+j.marginBottom,de=j.marginLeft+j.marginRight,Ue=j.width+de,Ye=j.height+he,Je=typeof W!="undefined"&&W>=0?1:0,Oe=B.find(function(vt){return vt.markedForRemoval&&vt.opacity<.45})?-1:0,Ze=B.length+Je+Oe,ht=e_(z,Ue);return ht===1?B.forEach(function(vt){var tt=vt.rect.element.height+he;x+=tt,p+=tt*vt.opacity}):(x=Math.ceil(Ze/ht)*Ye,p=x),{visual:p,bounds:x}},Wz=function(f){var p=f.ref.measureHeight||null,x=parseInt(f.style.maxHeight,10)||null,S=p===0?null:p;return{cappedHeight:x,fixedHeight:S}},u_=function(f,p){var x=f.query("GET_ALLOW_REPLACE"),S=f.query("GET_ALLOW_MULTIPLE"),C=f.query("GET_TOTAL_ITEMS"),k=f.query("GET_MAX_FILES"),B=p.length;if(!S&&B>1)return f.dispatch("DID_THROW_MAX_FILES",{source:p,error:yn("warning",0,"Max files")}),!0;if(k=S?k:1,!S&&x)return!1;var z=Q(k);return z&&C+B>k?(f.dispatch("DID_THROW_MAX_FILES",{source:p,error:yn("warning",0,"Max files")}),!0):!1},qz=function(f,p,x){var S=f.childViews[0];return t_(S,p,{left:x.scopeLeft-S.rect.element.left,top:x.scopeTop-(f.rect.outer.top+f.rect.element.marginTop+f.rect.element.scrollTop)})},yM=function(f){var p=f.query("GET_ALLOW_DROP"),x=f.query("GET_DISABLED"),S=p&&!x;if(S&&!f.ref.hopper){var C=Iz(f.element,function(k){var B=f.query("GET_BEFORE_DROP_FILE")||function(){return!0},z=f.query("GET_DROP_VALIDATION");return z?k.every(function(W){return Vl("ALLOW_HOPPER_ITEM",W,{query:f.query}).every(function(j){return j===!0})&&B(W)}):!0},{filterItems:function(B){var z=f.query("GET_IGNORED_FILES");return B.filter(function(W){return tu(W)?!z.includes(W.name.toLowerCase()):!0})},catchesDropsOnPage:f.query("GET_DROP_ON_PAGE"),requiresDropOnElement:f.query("GET_DROP_ON_ELEMENT")});C.onload=function(k,B){var z=f.ref.list.childViews[0],W=z.childViews.filter(function(he){return he.rect.element.height}),j=f.query("GET_ACTIVE_ITEMS").map(function(he){return W.find(function(de){return de.id===he.id})}).filter(function(he){return he});Ds("ADD_ITEMS",k,{dispatch:f.dispatch}).then(function(he){if(u_(f,he))return!1;f.dispatch("ADD_ITEMS",{items:he,index:qz(f.ref.list,j,B),interactionMethod:qt.DROP})}),f.dispatch("DID_DROP",{position:B}),f.dispatch("DID_END_DRAG",{position:B})},C.ondragstart=function(k){f.dispatch("DID_START_DRAG",{position:k})},C.ondrag=gM(function(k){f.dispatch("DID_DRAG",{position:k})}),C.ondragend=function(k){f.dispatch("DID_END_DRAG",{position:k})},f.ref.hopper=C,f.ref.drip=f.appendChildView(f.createChildView(ZU))}else!S&&f.ref.hopper&&(f.ref.hopper.destroy(),f.ref.hopper=null,f.removeChildView(f.ref.drip))},vM=function(f,p){var x=f.query("GET_ALLOW_BROWSE"),S=f.query("GET_DISABLED"),C=x&&!S;C&&!f.ref.browser?f.ref.browser=f.appendChildView(f.createChildView(HU,Object.assign({},p,{onload:function(B){Ds("ADD_ITEMS",B,{dispatch:f.dispatch}).then(function(z){if(u_(f,z))return!1;f.dispatch("ADD_ITEMS",{items:z,index:-1,interactionMethod:qt.BROWSE})})}})),0):!C&&f.ref.browser&&(f.removeChildView(f.ref.browser),f.ref.browser=null)},_M=function(f){var p=f.query("GET_ALLOW_PASTE"),x=f.query("GET_DISABLED"),S=p&&!x;S&&!f.ref.paster?(f.ref.paster=Lz(),f.ref.paster.onload=function(C){Ds("ADD_ITEMS",C,{dispatch:f.dispatch}).then(function(k){if(u_(f,k))return!1;f.dispatch("ADD_ITEMS",{items:k,index:-1,interactionMethod:qt.PASTE})})}):!S&&f.ref.paster&&(f.ref.paster.destroy(),f.ref.paster=null)},jz=Ke({DID_SET_ALLOW_BROWSE:function(f){var p=f.root,x=f.props;vM(p,x)},DID_SET_ALLOW_DROP:function(f){var p=f.root;yM(p)},DID_SET_ALLOW_PASTE:function(f){var p=f.root;_M(p)},DID_SET_DISABLED:function(f){var p=f.root,x=f.props;yM(p),_M(p),vM(p,x);var S=p.query("GET_DISABLED");S?p.element.dataset.disabled="disabled":p.element.removeAttribute("data-disabled")}}),Xz=Ve({name:"root",read:function(f){var p=f.root;p.ref.measure&&(p.ref.measureHeight=p.ref.measure.offsetHeight)},create:Vz,write:Hz,destroy:function(f){var p=f.root;p.ref.paster&&p.ref.paster.destroy(),p.ref.hopper&&p.ref.hopper.destroy(),p.element.removeEventListener("touchmove",$p),p.element.removeEventListener("gesturestart",$p)},mixins:{styles:["height"]}}),Yz=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=null,x=Lp(),S=t(le(x),[pB,Tt(x)],[zB,pt(x)]);S.dispatch("SET_OPTIONS",{options:f});var C=function(){document.hidden||S.dispatch("KICK")};document.addEventListener("visibilitychange",C);var k=null,B=!1,z=!1,W=null,j=null,he=function(){B||(B=!0),clearTimeout(k),k=setTimeout(function(){B=!1,W=null,j=null,z&&(z=!1,S.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",he);var de=Xz(S,{id:yi()}),Ue=!1,Ye=!1,Je={_read:function(){B&&(j=window.innerWidth,W||(W=j),!z&&j!==W&&(S.dispatch("DID_START_RESIZE"),z=!0)),Ye&&Ue&&(Ue=de.element.offsetParent===null),!Ue&&(de._read(),Ye=de.rect.element.hidden)},_write:function(Xe){var Ce=S.processActionQueue().filter(function(yt){return!/^SET_/.test(yt.type)});Ue&&!Ce.length||(vt(Ce),Ue=de._write(Xe,Ce,z),iB(S.query("GET_ITEMS")),Ue&&S.processDispatchQueue())}},Oe=function(Xe){return function(Ce){var yt={type:Xe};if(!Ce)return yt;if(Ce.hasOwnProperty("error")&&(yt.error=Ce.error?Object.assign({},Ce.error):null),Ce.status&&(yt.status=Object.assign({},Ce.status)),Ce.file&&(yt.output=Ce.file),Ce.source)yt.file=Ce.source;else if(Ce.item||Ce.id){var jt=Ce.item?Ce.item:S.query("GET_ITEM",Ce.id);yt.file=jt?Sr(jt):null}return Ce.items&&(yt.items=Ce.items.map(Sr)),/progress/.test(Xe)&&(yt.progress=Ce.progress),Ce.hasOwnProperty("origin")&&Ce.hasOwnProperty("target")&&(yt.origin=Ce.origin,yt.target=Ce.target),yt}},Ze={DID_DESTROY:Oe("destroy"),DID_INIT:Oe("init"),DID_THROW_MAX_FILES:Oe("warning"),DID_INIT_ITEM:Oe("initfile"),DID_START_ITEM_LOAD:Oe("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:Oe("addfileprogress"),DID_LOAD_ITEM:Oe("addfile"),DID_THROW_ITEM_INVALID:[Oe("error"),Oe("addfile")],DID_THROW_ITEM_LOAD_ERROR:[Oe("error"),Oe("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[Oe("error"),Oe("removefile")],DID_PREPARE_OUTPUT:Oe("preparefile"),DID_START_ITEM_PROCESSING:Oe("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:Oe("processfileprogress"),DID_ABORT_ITEM_PROCESSING:Oe("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:Oe("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:Oe("processfiles"),DID_REVERT_ITEM_PROCESSING:Oe("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[Oe("error"),Oe("processfile")],DID_REMOVE_ITEM:Oe("removefile"),DID_UPDATE_ITEMS:Oe("updatefiles"),DID_ACTIVATE_ITEM:Oe("activatefile"),DID_REORDER_ITEMS:Oe("reorderfiles")},ht=function(Xe){var Ce=Object.assign({pond:Ci},Xe);delete Ce.type,de.element.dispatchEvent(new CustomEvent("FilePond:"+Xe.type,{detail:Ce,bubbles:!0,cancelable:!0,composed:!0}));var yt=[];Xe.hasOwnProperty("error")&&yt.push(Xe.error),Xe.hasOwnProperty("file")&&yt.push(Xe.file);var jt=["type","error","file"];Object.keys(Xe).filter(function(hi){return!jt.includes(hi)}).forEach(function(hi){return yt.push(Xe[hi])}),Ci.fire.apply(Ci,[Xe.type].concat(yt));var Jt=S.query("GET_ON"+Xe.type.toUpperCase());Jt&&Jt.apply(void 0,yt)},vt=function(Xe){Xe.length&&Xe.filter(function(Ce){return Ze[Ce.type]}).forEach(function(Ce){var yt=Ze[Ce.type];(Array.isArray(yt)?yt:[yt]).forEach(function(jt){Ce.type==="DID_INIT_ITEM"?ht(jt(Ce.data)):setTimeout(function(){ht(jt(Ce.data))},0)})})},tt=function(Xe){return S.dispatch("SET_OPTIONS",{options:Xe})},Kt=function(Xe){return S.query("GET_ACTIVE_ITEM",Xe)},rt=function(Xe){return new Promise(function(Ce,yt){S.dispatch("REQUEST_ITEM_PREPARE",{query:Xe,success:function(Jt){Ce(Jt)},failure:function(Jt){yt(Jt)}})})},Ri=function(Xe){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(yt,jt){wt([{source:Xe,options:Ce}],{index:Ce.index}).then(function(Jt){return yt(Jt&&Jt[0])}).catch(jt)})},Li=function(Xe){return Xe.file&&Xe.id},lt=function(Xe,Ce){return typeof Xe=="object"&&!Li(Xe)&&!Ce&&(Ce=Xe,Xe=void 0),S.dispatch("REMOVE_ITEM",Object.assign({},Ce,{query:Xe})),S.query("GET_ACTIVE_ITEM",Xe)===null},wt=function(){for(var Xe=arguments.length,Ce=new Array(Xe),yt=0;yt<Xe;yt++)Ce[yt]=arguments[yt];return new Promise(function(jt,Jt){var hi=[],oi={};if(ie(Ce[0]))hi.push.apply(hi,Ce[0]),Object.assign(oi,Ce[1]||{});else{var vi=Ce[Ce.length-1];typeof vi=="object"&&!(vi instanceof Blob)&&Object.assign(oi,Ce.pop()),hi.push.apply(hi,Ce)}S.dispatch("ADD_ITEMS",{items:hi,index:oi.index,interactionMethod:qt.API,success:jt,failure:Jt})})},Dt=function(){return S.query("GET_ACTIVE_ITEMS")},at=function(Xe){return new Promise(function(Ce,yt){S.dispatch("REQUEST_ITEM_PROCESSING",{query:Xe,success:function(Jt){Ce(Jt)},failure:function(Jt){yt(Jt)}})})},ft=function(){for(var Xe=arguments.length,Ce=new Array(Xe),yt=0;yt<Xe;yt++)Ce[yt]=arguments[yt];var jt=Array.isArray(Ce[0])?Ce[0]:Ce,Jt=jt.length?jt:Dt();return Promise.all(Jt.map(rt))},Lt=function(){for(var Xe=arguments.length,Ce=new Array(Xe),yt=0;yt<Xe;yt++)Ce[yt]=arguments[yt];var jt=Array.isArray(Ce[0])?Ce[0]:Ce;if(!jt.length){var Jt=Dt().filter(function(hi){return!(hi.status===Yt.IDLE&&hi.origin===Nn.LOCAL)&&hi.status!==Yt.PROCESSING&&hi.status!==Yt.PROCESSING_COMPLETE&&hi.status!==Yt.PROCESSING_REVERT_ERROR});return Promise.all(Jt.map(at))}return Promise.all(jt.map(at))},Ni=function(){for(var Xe=arguments.length,Ce=new Array(Xe),yt=0;yt<Xe;yt++)Ce[yt]=arguments[yt];var jt=Array.isArray(Ce[0])?Ce[0]:Ce,Jt;typeof jt[jt.length-1]=="object"?Jt=jt.pop():Array.isArray(Ce[0])&&(Jt=Ce[1]);var hi=Dt();if(!jt.length)return Promise.all(hi.map(function(vi){return lt(vi,Jt)}));var oi=jt.map(function(vi){return D(vi)?hi[vi]?hi[vi].id:null:vi}).filter(function(vi){return vi});return oi.map(function(vi){return lt(vi,Jt)})},Ci=Object.assign({},Rp(),{},Je,{},Fe(S,x),{setOptions:tt,addFile:Ri,addFiles:wt,getFile:Kt,processFile:at,prepareFile:rt,removeFile:lt,moveFile:function(Xe,Ce){return S.dispatch("MOVE_ITEM",{query:Xe,index:Ce})},getFiles:Dt,processFiles:Lt,removeFiles:Ni,prepareFiles:ft,sort:function(Xe){return S.dispatch("SORT",{compare:Xe})},browse:function(){var Xe=de.element.querySelector("input[type=file]");Xe&&Xe.click()},destroy:function(){Ci.fire("destroy",de.element),S.dispatch("ABORT_ALL"),de._destroy(),window.removeEventListener("resize",he),document.removeEventListener("visibilitychange",C),S.dispatch("DID_DESTROY")},insertBefore:function(Xe){return gt(de.element,Xe)},insertAfter:function(Xe){return Rt(de.element,Xe)},appendTo:function(Xe){return Xe.appendChild(de.element)},replaceElement:function(Xe){gt(de.element,Xe),Xe.parentNode.removeChild(Xe),p=Xe},restoreElement:function(){p&&(Rt(p,de.element),de.element.parentNode.removeChild(de.element),p=null)},isAttachedTo:function(Xe){return de.element===Xe||p===Xe},element:{get:function(){return de.element}},status:{get:function(){return S.query("GET_STATUS")}}});return S.dispatch("DID_INIT"),s(Ci)},xM=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p={};r(Lp(),function(S,C){p[S]=C[0]});var x=Yz(Object.assign({},p,{},f));return x},Kz=function(f){return f.charAt(0).toLowerCase()+f.slice(1)},Jz=function(f){return mM(f.replace(/^data-/,""))},Zz=function T(f,p){r(p,function(x,S){r(f,function(C,k){var B=new RegExp(x),z=B.test(C);if(z&&(delete f[C],S!==!1)){if(Pe(S)){f[S]=k;return}var W=S.group;Y(S)&&!f[W]&&(f[W]={}),f[W][Kz(C.replace(B,""))]=k}}),S.mapping&&T(f[S.group],S.mapping)})},Qz=function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=[];r(f.attributes,function(C){x.push(f.attributes[C])});var S=x.filter(function(C){return C.name}).reduce(function(C,k){var B=a(f,k.name);return C[Jz(k.name)]=B===k.name?!0:B,C},{});return Zz(S,p),S},e4=function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Vl("SET_ATTRIBUTE_TO_OPTION_MAP",x);var S=Object.assign({},p),C=Qz(f.nodeName==="FIELDSET"?f.querySelector("input[type=file]"):f,x);Object.keys(C).forEach(function(B){Y(C[B])?(Y(S[B])||(S[B]={}),Object.assign(S[B],C[B])):S[B]=C[B]}),S.files=(p.files||[]).concat(Array.from(f.querySelectorAll("input:not([type=file])")).map(function(B){return{source:B.value,options:{type:B.dataset.type}}}));var k=xM(S);return f.files&&Array.from(f.files).forEach(function(B){k.addFile(B)}),k.replaceElement(f),k},t4=function(){return e(arguments.length<=0?void 0:arguments[0])?e4.apply(void 0,arguments):xM.apply(void 0,arguments)},i4=["fire","_read","_write"],bM=function(f){var p={};return yA(f,p,i4),p},n4=function(f,p){return f.replace(/(?:{([a-zA-Z]+)})/g,function(x,S){return p[S]})},r4=function(f){var p=new Blob(["(",f.toString(),")()"],{type:"application/javascript"}),x=URL.createObjectURL(p),S=new Worker(x);return{transfer:function(k,B){},post:function(k,B,z){var W=yi();S.onmessage=function(j){j.data.id===W&&B(j.data.message)},S.postMessage({id:W,message:k},z)},terminate:function(){S.terminate(),URL.revokeObjectURL(x)}}},s4=function(f){return new Promise(function(p,x){var S=new Image;S.onload=function(){p(S)},S.onerror=function(C){x(C)},S.src=f})},EM=function(f,p){var x=f.slice(0,f.size,f.type);return x.lastModifiedDate=f.lastModifiedDate,x.name=p,x},a4=function(f){return EM(f,f.name)},SM=[],o4=function(f){if(!SM.includes(f)){SM.push(f);var p=f({addFilter:rB,utils:{Type:He,forin:r,isString:Pe,isFile:tu,toNaturalFileSize:FA,replaceInString:n4,getExtensionFromFilename:Np,getFilenameWithoutExtension:PA,guesstimateMimeType:aM,getFileFromBlob:eu,getFilenameFromURL:ff,createRoute:Ke,createWorker:r4,createView:Ve,createItemAPI:Sr,loadImage:s4,copyFile:a4,renameFile:EM,createBlob:TA,applyFilterChain:Ds,text:vn,getNumericAspectRatioFromString:xA},views:{fileActionButton:kA}});sB(p.options)}},l4=function(){return Object.prototype.toString.call(window.operamini)==="[object OperaMini]"},c4=function(){return"Promise"in window},u4=function(){return"slice"in Blob.prototype},h4=function(){return"URL"in window&&"createObjectURL"in window.URL},f4=function(){return"visibilityState"in document},d4=function(){return"performance"in window},p4=function(){return"supports"in(window.CSS||{})},m4=function(){return/MSIE|Trident/.test(window.navigator.userAgent)},h_=function(){var T=_()&&!l4()&&f4()&&c4()&&u4()&&h4()&&d4()&&(p4()||m4());return function(){return T}}(),Ro={apps:[]},g4="filepond",ql=function(){};if(n.Status={},n.FileStatus={},n.FileOrigin={},n.OptionTypes={},n.create=ql,n.destroy=ql,n.parse=ql,n.find=ql,n.registerPlugin=ql,n.getOptions=ql,n.setOptions=ql,h_()){ze(function(){Ro.apps.forEach(function(T){return T._read()})},function(T){Ro.apps.forEach(function(f){return f._write(T)})});var TM=function T(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:h_,create:n.create,destroy:n.destroy,parse:n.parse,find:n.find,registerPlugin:n.registerPlugin,setOptions:n.setOptions}})),document.removeEventListener("DOMContentLoaded",T)};document.readyState!=="loading"?setTimeout(function(){return TM()},0):document.addEventListener("DOMContentLoaded",TM);var wM=function(){return r(Lp(),function(f,p){n.OptionTypes[f]=p[1]})};n.Status=Object.assign({},Qc),n.FileOrigin=Object.assign({},Nn),n.FileStatus=Object.assign({},Yt),n.OptionTypes={},wM(),n.create=function(){var f=t4.apply(void 0,arguments);return f.on("destroy",n.destroy),Ro.apps.push(f),bM(f)},n.destroy=function(f){var p=Ro.apps.findIndex(function(S){return S.isAttachedTo(f)});if(p>=0){var x=Ro.apps.splice(p,1)[0];return x.restoreElement(),!0}return!1},n.parse=function(f){var p=Array.from(f.querySelectorAll("."+g4)),x=p.filter(function(S){return!Ro.apps.find(function(C){return C.isAttachedTo(S)})});return x.map(function(S){return n.create(S)})},n.find=function(f){var p=Ro.apps.find(function(x){return x.isAttachedTo(f)});return p?bM(p):null},n.registerPlugin=function(){for(var f=arguments.length,p=new Array(f),x=0;x<f;x++)p[x]=arguments[x];p.forEach(o4),wM()},n.getOptions=function(){var f={};return r(Lp(),function(p,x){f[p]=x[0]}),f},n.setOptions=function(f){return Y(f)&&(Ro.apps.forEach(function(p){p.setOptions(f)}),aB(f)),n.getOptions()}}n.supported=h_,Object.defineProperty(n,"__esModule",{value:!0})})});var ZF=li(n0=>{(function(n,e){if(typeof define=="function"&&define.amd)define("vueFilePond",["exports","vue","filepond"],e);else if(typeof n0!="undefined")e(n0,YF(),JF());else{var t={exports:{}};e(t.exports,n.Vue,n.FilePond),n.vueFilePond=t.exports}})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:n0,function(n,e,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.setOptions=void 0;function i(g,y){return a(g)||s(g,y)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(g,y){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]"){var b=[],E=!0,w=!1,D=void 0;try{for(var P=g[Symbol.iterator](),M;!(E=(M=P.next()).done)&&(b.push(M.value),!(y&&b.length===y));E=!0);}catch(R){w=!0,D=R}finally{try{!E&&P.return!=null&&P.return()}finally{if(w)throw D}}return b}}function a(g){if(Array.isArray(g))return g}var o=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],l=(0,t.supported)(),c=function(y){return{string:String,boolean:Boolean,array:Array,function:Function,int:Number,serverapi:Object,object:Object}[y]},u={},h=[],d=[],m={},v=function(y){m=Object.assign(m,y),d.forEach(function(b){b.setOptions(m)})};n.setOptions=v;var _=function(){t.registerPlugin.apply(void 0,arguments),h.length=0;for(var y in t.OptionTypes){if(/^on/.test(y)){h.push(y);continue}var b=[String,c(t.OptionTypes[y])];y=="labelFileProcessingError"&&b.push(Function),u[y]={type:b,default:void 0}}return{name:"FilePond",props:u,render:function(){var w=Object.entries({id:this.id,name:this.name,type:"file",class:this.className,required:this.required,multiple:this.allowMultiple,accept:this.acceptedFileTypes,capture:this.captureMethod}).reduce(function(D,P){var M=i(P,2),R=M[0],I=M[1];return I!==void 0&&(D[R]=I),D},{});return(0,e.h)("div",{class:{"filepond--wrapper":!0}},[(0,e.h)("input",w)])},created:function(){var w=this;this.watchers=Object.keys(u).map(function(D){return w.$watch(D,function(P){w._pond[D]=P})})},mounted:function(){var w=this;if(l){this._element=this.$el.querySelector("input");var D=h.reduce(function(M,R){return M[R]=function(){w.$emit("input",w._pond?w._pond.getFiles():[]);for(var I=arguments.length,A=new Array(I),N=0;N<I;N++)A[N]=arguments[N];w.$emit.apply(w,[R.substr(2)].concat(A))},M},{}),P={};Object.keys(u).forEach(function(M){w[M]!==void 0&&(P[M]=w[M])}),this._pond=(0,t.create)(this._element,Object.assign({},m,D,P)),Object.keys(this._pond).filter(function(M){return!o.includes(M)}).forEach(function(M){w[M]=w._pond[M]}),d.push(this._pond)}},beforeUnmount:function(){var w=this,D=this.$options.detached;if(!this.$el.offsetParent){D.call(this);return}var P=function(I,A){var N=(I[0]||{}).removedNodes||[],G=N[0];!G||!G.contains(w.$el)||(A.disconnect(),D.call(w))},M=new MutationObserver(P);M.observe(document.documentElement,{childList:!0,subtree:!0})},detached:function(){if(this.watchers.forEach(function(D){return D()}),!!this._pond){this._pond.destroy();var w=d.indexOf(this._pond);w>=0&&d.splice(w,1),this._pond=null}}}};n.default=_})});var QF=li(($w,Ww)=>{(function(n,e){typeof $w=="object"&&typeof Ww!="undefined"?Ww.exports=e():typeof define=="function"&&define.amd?define(e):(n=n||self,n.FilePondPluginFileValidateType=e())})($w,function(){"use strict";var n=function(i){var r=i.addFilter,s=i.utils,a=s.Type,o=s.isString,l=s.replaceInString,c=s.guesstimateMimeType,u=s.getExtensionFromFilename,h=s.getFilenameFromURL,d=function(b,E){var w=(/^[^/]+/.exec(b)||[]).pop(),D=E.slice(0,-2);return w===D},m=function(b,E){return b.some(function(w){return/\*$/.test(w)?d(E,w):w===E})},v=function(b){var E="";if(o(b)){var w=h(b),D=u(w);D&&(E=c(D))}else E=b.type;return E},_=function(b,E,w){if(E.length===0)return!0;var D=v(b);return w?new Promise(function(P,M){w(b,D).then(function(R){m(E,R)?P():M()}).catch(M)}):m(E,D)},g=function(b){return function(E){return b[E]===null?!1:b[E]||E}};return r("SET_ATTRIBUTE_TO_OPTION_MAP",function(y){return Object.assign(y,{accept:"acceptedFileTypes"})}),r("ALLOW_HOPPER_ITEM",function(y,b){var E=b.query;return E("GET_ALLOW_FILE_TYPE_VALIDATION")?_(y,E("GET_ACCEPTED_FILE_TYPES")):!0}),r("LOAD_FILE",function(y,b){var E=b.query;return new Promise(function(w,D){if(!E("GET_ALLOW_FILE_TYPE_VALIDATION")){w(y);return}var P=E("GET_ACCEPTED_FILE_TYPES"),M=E("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),R=_(y,P,M),I=function(){var N=P.map(g(E("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(function(X){return X!==!1}),G=N.filter(function(X,J){return N.indexOf(X)===J});D({status:{main:E("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:l(E("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:G.join(", "),allButLastType:G.slice(0,-1).join(", "),lastType:G[N.length-1]})}})};if(typeof R=="boolean")return R?w(y):I();R.then(function(){w(y)}).catch(I)})}),{options:{allowFileTypeValidation:[!0,a.BOOLEAN],acceptedFileTypes:[[],a.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",a.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",a.STRING],fileValidateTypeLabelExpectedTypesMap:[{},a.OBJECT],fileValidateTypeDetectType:[null,a.FUNCTION]}}},e=typeof window!="undefined"&&typeof window.document!="undefined";return e&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:n})),n})});var e3=li((qw,jw)=>{(function(n,e){typeof qw=="object"&&typeof jw!="undefined"?jw.exports=e():typeof define=="function"&&define.amd?define(e):(n=n||self,n.FilePondPluginFileValidateSize=e())})(qw,function(){"use strict";var n=function(i){var r=i.addFilter,s=i.utils,a=s.Type,o=s.replaceInString,l=s.toNaturalFileSize;return r("ALLOW_HOPPER_ITEM",function(c,u){var h=u.query;if(!h("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;var d=h("GET_MAX_FILE_SIZE");if(d!==null&&c.size>d)return!1;var m=h("GET_MIN_FILE_SIZE");return!(m!==null&&c.size<m)}),r("LOAD_FILE",function(c,u){var h=u.query;return new Promise(function(d,m){if(!h("GET_ALLOW_FILE_SIZE_VALIDATION"))return d(c);var v=h("GET_FILE_VALIDATE_SIZE_FILTER");if(v&&!v(c))return d(c);var _=h("GET_MAX_FILE_SIZE");if(_!==null&&c.size>_){m({status:{main:h("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:o(h("GET_LABEL_MAX_FILE_SIZE"),{filesize:l(_,".",h("GET_FILE_SIZE_BASE"),h("GET_FILE_SIZE_LABELS",h))})}});return}var g=h("GET_MIN_FILE_SIZE");if(g!==null&&c.size<g){m({status:{main:h("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:o(h("GET_LABEL_MIN_FILE_SIZE"),{filesize:l(g,".",h("GET_FILE_SIZE_BASE"),h("GET_FILE_SIZE_LABELS",h))})}});return}var y=h("GET_MAX_TOTAL_FILE_SIZE");if(y!==null){var b=h("GET_ACTIVE_ITEMS").reduce(function(E,w){return E+w.fileSize},0);if(b>y){m({status:{main:h("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:o(h("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:l(y,".",h("GET_FILE_SIZE_BASE"),h("GET_FILE_SIZE_LABELS",h))})}});return}}d(c)})}),{options:{allowFileSizeValidation:[!0,a.BOOLEAN],maxFileSize:[null,a.INT],minFileSize:[null,a.INT],maxTotalFileSize:[null,a.INT],fileValidateSizeFilter:[null,a.FUNCTION],labelMinFileSizeExceeded:["File is too small",a.STRING],labelMinFileSize:["Minimum file size is {filesize}",a.STRING],labelMaxFileSizeExceeded:["File is too large",a.STRING],labelMaxFileSize:["Maximum file size is {filesize}",a.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",a.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",a.STRING]}}},e=typeof window!="undefined"&&typeof window.document!="undefined";return e&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:n})),n})});var u3=li((Hue,c3)=>{c3.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}});var f3=li((Gue,h3)=>{function QQ(n,e,t){return n*(1-t)+e*t}h3.exports=QQ});var m3=li(($ue,p3)=>{"use strict";var d3=u3(),r0=f3();p3.exports=eee;function eee(n){var e,t,i,r,s,a,o,l,d,c,u;if(n||(n={}),l=(n.nshades||72)-1,o=n.format||"hex",a=n.colormap,a||(a="jet"),typeof a=="string"){if(a=a.toLowerCase(),!d3[a])throw Error(a+" not a supported colorscale");s=d3[a]}else if(Array.isArray(a))s=a.slice();else throw Error("unsupported colormap option",a);if(s.length>l+1)throw new Error(a+" map requires nshades to be at least size "+s.length);Array.isArray(n.alpha)?n.alpha.length!==2?c=[1,1]:c=n.alpha.slice():typeof n.alpha=="number"?c=[n.alpha,n.alpha]:c=[1,1],e=s.map(function(_){return Math.round(_.index*l)}),c[0]=Math.min(Math.max(c[0],0),1),c[1]=Math.min(Math.max(c[1],0),1);var h=s.map(function(_,g){var y=s[g].index,b=s[g].rgb.slice();return b.length===4&&b[3]>=0&&b[3]<=1||(b[3]=c[0]+(c[1]-c[0])*y),b}),d=[];for(u=0;u<e.length-1;++u){r=e[u+1]-e[u],t=h[u],i=h[u+1];for(var m=0;m<r;m++){var v=m/r;d.push([Math.round(r0(t[0],i[0],v)),Math.round(r0(t[1],i[1],v)),Math.round(r0(t[2],i[2],v)),r0(t[3],i[3],v)])}}return d.push(s[s.length-1].rgb.concat(c[1])),o==="hex"?d=d.map(iee):o==="rgbaString"?d=d.map(nee):o==="float"&&(d=d.map(tee)),d}function tee(n){return[n[0]/255,n[1]/255,n[2]/255,n[3]]}function iee(n){for(var e,t="#",i=0;i<3;++i)e=n[i],e=e.toString(16),t+=("00"+e).substr(e.length);return t}function nee(n){return"rgba("+n.join(",")+")"}});var A3=li((Bhe,w3)=>{var see=4,aee=.001,oee=1e-7,lee=10,wp=11,f0=1/(wp-1),cee=typeof Float32Array=="function";function b3(n,e){return 1-3*e+3*n}function E3(n,e){return 3*e-6*n}function S3(n){return 3*n}function d0(n,e,t){return((b3(e,t)*n+E3(e,t))*n+S3(e))*n}function T3(n,e,t){return 3*b3(e,t)*n*n+2*E3(e,t)*n+S3(e)}function uee(n,e,t,i,r){var s,a,o=0;do a=e+(t-e)/2,s=d0(a,i,r)-n,s>0?t=a:e=a;while(Math.abs(s)>oee&&++o<lee);return a}function hee(n,e,t,i){for(var r=0;r<see;++r){var s=T3(e,t,i);if(s===0)return e;var a=d0(e,t,i)-n;e-=a/s}return e}function fee(n){return n}w3.exports=function(e,t,i,r){if(!(0<=e&&e<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&i===r)return fee;for(var s=cee?new Float32Array(wp):new Array(wp),a=0;a<wp;++a)s[a]=d0(a*f0,e,i);function o(l){for(var c=0,u=1,h=wp-1;u!==h&&s[u]<=l;++u)c+=f0;--u;var d=(l-s[u])/(s[u+1]-s[u]),m=c+d*f0,v=T3(m,e,i);return v>=aee?hee(l,m,e,i):v===0?m:uee(l,c,c+f0,e,i)}return function(c){return c===0?0:c===1?1:d0(o(c),t,r)}}});var F3=li((k3,O0)=>{(function(n,e){typeof define=="function"&&define.amd?define([],function(){return n.svg4everybody=e()}):typeof O0=="object"&&O0.exports?O0.exports=e():n.svg4everybody=e()})(k3,function(){function n(r,s,a){if(a){var o=document.createDocumentFragment(),l=!s.hasAttribute("viewBox")&&a.getAttribute("viewBox");l&&s.setAttribute("viewBox",l);for(var c=a.cloneNode(!0);c.childNodes.length;)o.appendChild(c.firstChild);r.appendChild(o)}}function e(r){r.onreadystatechange=function(){if(r.readyState===4){var s=r._cachedDocument;s||(s=r._cachedDocument=document.implementation.createHTMLDocument(""),s.body.innerHTML=r.responseText,r._cachedTarget={}),r._embeds.splice(0).map(function(a){var o=r._cachedTarget[a.id];o||(o=r._cachedTarget[a.id]=s.getElementById(a.id)),n(a.parent,a.svg,o)})}},r.onreadystatechange()}function t(r){function s(){for(var y=0;y<_.length;){var b=_[y],E=b.parentNode,w=i(E),D=b.getAttribute("xlink:href")||b.getAttribute("href");if(!D&&o.attributeName&&(D=b.getAttribute(o.attributeName)),w&&D){if(a)if(!o.validate||o.validate(D,w,b)){E.removeChild(b);var P=D.split("#"),M=P.shift(),R=P.join("#");if(M.length){var I=m[M];I||(I=m[M]=new XMLHttpRequest,I.open("GET",M),I.send(),I._embeds=[]),I._embeds.push({parent:E,svg:w,id:R}),e(I)}else n(E,w,document.getElementById(R))}else++y,++g}else++y}(!_.length||_.length-g>0)&&v(s,67)}var a,o=Object(r),l=/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/,c=/\bAppleWebKit\/(\d+)\b/,u=/\bEdge\/12\.(\d+)\b/,h=/\bEdge\/.(\d+)\b/,d=window.top!==window.self;a="polyfill"in o?o.polyfill:l.test(navigator.userAgent)||(navigator.userAgent.match(u)||[])[1]<10547||(navigator.userAgent.match(c)||[])[1]<537||h.test(navigator.userAgent)&&d;var m={},v=window.requestAnimationFrame||setTimeout,_=document.getElementsByTagName("use"),g=0;a&&s()}function i(r){for(var s=r;s.nodeName.toLowerCase()!=="svg"&&(s=s.parentNode););return s}return t})});function jp(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jp=function(e){return typeof e}:jp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(n)}function kM(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function OM(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function FM(n,e,t){return e&&OM(n.prototype,e),t&&OM(n,t),n}function NM(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qp(n,e){return O4(n)||k4(n,e)||BM(n,e)||B4()}function R4(n){return L4(n)||N4(n)||BM(n)||F4()}function L4(n){if(Array.isArray(n))return p_(n)}function O4(n){if(Array.isArray(n))return n}function N4(n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n))return Array.from(n)}function k4(n,e){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(n)))){var t=[],i=!0,r=!1,s=void 0;try{for(var a=n[Symbol.iterator](),o;!(i=(o=a.next()).done)&&(t.push(o.value),!(e&&t.length===e));i=!0);}catch(l){r=!0,s=l}finally{try{!i&&a.return!=null&&a.return()}finally{if(r)throw s}}return t}}function BM(n,e){if(n){if(typeof n=="string")return p_(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p_(n,e)}}function p_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function F4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ct=function(){function n(e){kM(this,n),this.mAttr="data-"+e.dataName,this.mCaptureEvents=["mouseenter","mouseleave"],this.el=e.el}return FM(n,[{key:"mInit",value:function(t){var i=this;this.modules=t,this.mCheckEventTarget=this.mCheckEventTarget.bind(this),this.events&&Object.keys(this.events).forEach(function(r){return i.mAddEvent(r)})}},{key:"mUpdate",value:function(t){this.modules=t}},{key:"mDestroy",value:function(){var t=this;this.events&&Object.keys(this.events).forEach(function(i){return t.mRemoveEvent(i)})}},{key:"mAddEvent",value:function(t){var i=!!this.mCaptureEvents.includes(t);this.el.addEventListener(t,this.mCheckEventTarget,i)}},{key:"mRemoveEvent",value:function(t){var i=!!this.mCaptureEvents.includes(t);this.el.removeEventListener(t,this.mCheckEventTarget,i)}},{key:"mCheckEventTarget",value:function(t){var i=this.events[t.type];if(typeof i=="string")this[i](t);else{var r="["+this.mAttr+"]",s=t.target;if(this.mCaptureEvents.includes(t.type))s.matches(r)&&this.mCallEventMethod(t,i,s);else for(;s&&s!==document&&!(s.matches(r)&&this.mCallEventMethod(t,i,s)!="undefined");)s=s.parentNode}}},{key:"mCallEventMethod",value:function(t,i,r){var s=r.getAttribute(this.mAttr);if(i.hasOwnProperty(s)){var a=i[s];t.hasOwnProperty("currentTarget")||Object.defineProperty(t,"currentTarget",{value:r}),t.hasOwnProperty("curTarget")||Object.defineProperty(t,"curTarget",{value:r}),this[a](t)}}},{key:"$",value:function(t,i){var r=t.indexOf("."),s=t.indexOf("#"),a=t.indexOf("["),o=[r,s,a].filter(function(d){return d!=-1}),l=!1,c=t,u="",h=this.el;return o.length&&(l=Math.min.apply(Math,R4(o)),c=t.slice(0,l),u=t.slice(l)),jp(i)=="object"&&(h=i),h.querySelectorAll("["+this.mAttr+"="+c+"]"+u)}},{key:"parent",value:function(t,i){for(var r="["+this.mAttr+"="+t+"]",s=i.parentNode;s&&s!==document;){if(s.matches(r))return s;s=s.parentNode}}},{key:"getData",value:function(t,i){var r=i||this.el;return r.getAttribute(this.mAttr+"-"+t)}},{key:"setData",value:function(t,i,r){var s=r||this.el;return s.setAttribute(this.mAttr+"-"+t,i)}},{key:"call",value:function(t,i,r,s){var a=this;i&&!r&&(r=i,i=!1),this.modules[r]&&(s?this.modules[r][s]&&this.modules[r][s][t](i):Object.keys(this.modules[r]).forEach(function(o){a.modules[r][o][t](i)}))}},{key:"on",value:function(t,i,r,s){var a=this;this.modules[i]&&(s?this.modules[i][s].el.addEventListener(t,function(o){return r(o)}):Object.keys(this.modules[i]).forEach(function(o){a.modules[i][o].el.addEventListener(t,function(l){return r(l)})}))}},{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),n}(),U4=function(){function n(e){kM(this,n),this.app,this.modules=e.modules,this.currentModules={},this.activeModules={},this.newModules={},this.moduleId=0}return FM(n,[{key:"init",value:function(t,i){var r=this,s=i||document,a=s.querySelectorAll("*");t&&!this.app&&(this.app=t),this.activeModules.app={app:this.app},a.forEach(function(o){Array.from(o.attributes).forEach(function(l){if(l.name.startsWith("data-module")){var c=!1,u=l.name.split("-").splice(2),h=r.toCamel(u);if(r.modules[h]?c=!0:r.modules[r.toUpper(h)]&&(h=r.toUpper(h),c=!0),c){var d={el:o,name:h,dataName:u.join("-")},m=new r.modules[h](d),v=l.value;v||(r.moduleId++,v="m"+r.moduleId,o.setAttribute(l.name,v)),r.addActiveModule(h,v,m);var _=h+"-"+v;i?r.newModules[_]=m:r.currentModules[_]=m}}})}),Object.entries(this.currentModules).forEach(function(o){var l=qp(o,2),c=l[0],u=l[1];if(i){var h=c.split("-"),d=h.shift(),m=h.pop();r.addActiveModule(d,m,u)}else r.initModule(u)})}},{key:"initModule",value:function(t){t.mInit(this.activeModules),t.init()}},{key:"addActiveModule",value:function(t,i,r){this.activeModules[t]?Object.assign(this.activeModules[t],NM({},i,r)):this.activeModules[t]=NM({},i,r)}},{key:"update",value:function(t){var i=this;this.init(this.app,t),Object.entries(this.currentModules).forEach(function(r){var s=qp(r,2),a=s[0],o=s[1];o.mUpdate(i.activeModules)}),Object.entries(this.newModules).forEach(function(r){var s=qp(r,2),a=s[0],o=s[1];i.initModule(o)}),Object.assign(this.currentModules,this.newModules)}},{key:"destroy",value:function(t){t?this.destroyScope(t):this.destroyModules()}},{key:"destroyScope",value:function(t){var i=this,r=t.querySelectorAll("*");r.forEach(function(s){Array.from(s.attributes).forEach(function(a){if(a.name.startsWith("data-module")){var o=a.value,l=a.name.split("-").splice(2),c=i.toCamel(l)+"-"+o,u=!1;i.currentModules[c]?u=!0:i.currentModules[i.toUpper(c)]&&(c=i.toUpper(c),u=!0),u&&(i.destroyModule(i.currentModules[c]),delete i.currentModules[c])}})}),this.activeModules={},this.newModules={}}},{key:"destroyModules",value:function(){var t=this;Object.entries(this.currentModules).forEach(function(i){var r=qp(i,2),s=r[0],a=r[1];t.destroyModule(a)}),this.currentModules=[]}},{key:"destroyModule",value:function(t){t.mDestroy(),t.destroy()}},{key:"toCamel",value:function(t){var i=this;return t.reduce(function(r,s){return r+i.toUpper(s)})}},{key:"toUpper",value:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}]),n}(),UM=U4;var oA={};vf(oA,{CookieConsent:()=>sm,CopyToClipboard:()=>om,FancyGallery:()=>Am,FancyTexts:()=>Mm,FeaturedLinks:()=>Cm,Gallery:()=>Fm,GridHelper:()=>Gf,Header:()=>Gm,HomeHero:()=>$m,Hovers:()=>Wm,ImagesSequence:()=>qm,Lisa:()=>o0,Load:()=>jm,LostScene:()=>cy,ModelViewer:()=>Pa,NewsletterModal:()=>l0,NewsletterToggler:()=>c0,Rail:()=>u0,Ring:()=>p0,Scroll:()=>x0,TeamCanvas:()=>b0,TeamList:()=>E0,TeamListCanvas:()=>S0,TeamModal:()=>T0,TeamModalCanvas:()=>w0,VideoInview:()=>A0,VideoModal:()=>M0,VideoModalToggler:()=>C0,WorkFilters:()=>P0,WorkGallery:()=>I0,WorkListItem:()=>D0,WorkNext:()=>R0,WorkSingleHero:()=>L0});var wf={};vf(wf,{acceptCategory:()=>N_,acceptService:()=>W4,acceptedCategory:()=>uC,acceptedService:()=>hC,eraseCookies:()=>fC,getConfig:()=>J4,getCookie:()=>dC,getUserPreferences:()=>X4,hide:()=>im,hidePreferences:()=>rm,loadScript:()=>Y4,reset:()=>Z4,run:()=>F_,setCookieData:()=>K4,setLanguage:()=>j4,show:()=>Tf,showPreferences:()=>nm,validConsent:()=>k_,validCookie:()=>q4});var jM="opt-in",xf="opt-out",S_="show--consent",T_="show--preferences",__="disable--interaction",Zp="data-category",Ei="div",Os="button",Ns="aria-hidden",bf="btn-group",tr="click",lu="data-role",w_="consentModal",A_="preferencesModal",Qp=class{constructor(){this.t={mode:jM,revision:0,autoShow:!0,lazyHtmlGeneration:!0,autoClearCookies:!0,manageScriptTags:!0,hideFromBots:!0,cookie:{name:"cc_cookie",expiresAfterDays:182,domain:"",path:"/",sameSite:"Lax"}},this.o={i:{},l:"",_:{},u:{},p:{},m:[],v:!1,h:null,C:null,S:null,M:"",D:!0,T:!1,k:!1,A:!1,N:!1,H:[],V:!1,I:!0,j:[],F:!1,P:"",L:!1,O:[],R:[],B:[],G:[],J:!1,U:!1,$:!1,q:[],K:[],W:[],X:{},Y:{},Z:{},ee:{},te:{},ne:[]},this.oe={se:{},ae:{}},this.ce={},this.re={ie:"cc:onFirstConsent",le:"cc:onConsent",de:"cc:onChange",fe:"cc:onModalShow",_e:"cc:onModalHide",ue:"cc:onModalReady"}}},ke=new Qp,XM=(n,e)=>n.indexOf(e),Ti=(n,e)=>XM(n,e)!==-1,uu=n=>Array.isArray(n),Ba=n=>typeof n=="string",em=n=>!!n&&typeof n=="object"&&!uu(n),ka=n=>typeof n=="function",ia=n=>Object.keys(n),M_=n=>Array.from(new Set(n)),tm=()=>document.activeElement,ou=n=>n.preventDefault(),C_=(n,e)=>n.querySelectorAll(e),Xp=n=>n.dispatchEvent(new Event("change")),mt=n=>{let e=document.createElement(n);return n===Os&&(e.type=n),e},Wt=(n,e,t)=>n.setAttribute(e,t),m_=(n,e,t)=>{n.removeAttribute(t?"data-"+e:e)},Yp=(n,e,t)=>n.getAttribute(t?"data-"+e:e),dt=(n,e)=>n.appendChild(e),Hi=(n,e)=>n.classList.add(e),fr=(n,e)=>Hi(n,"cm__"+e),_i=(n,e)=>Hi(n,"pm__"+e),Oo=(n,e)=>n.classList.remove(e),Fa=n=>{if(typeof n!="object")return n;if(n instanceof Date)return new Date(n.getTime());let e=Array.isArray(n)?[]:{};for(let t in n){let i=n[t];e[t]=Fa(i)}return e},z4=()=>{let n={},{O:e,X:t,Y:i}=ke.o;for(let r of e)n[r]=Kp(i[r],ia(t[r]));return n},zM=(n,e)=>dispatchEvent(new CustomEvent(n,{detail:e})),sn=(n,e,t,i)=>{n.addEventListener(e,t),i&&ke.o.m.push({pe:n,me:e,ge:t})},VM=()=>{let n=ke.t.cookie.expiresAfterDays;return ka(n)?n(ke.o.P):n},Kp=(n,e)=>{let t=n||[],i=e||[];return t.filter(r=>!Ti(i,r)).concat(i.filter(r=>!Ti(t,r)))},YM=n=>{ke.o.R=M_(n),ke.o.P=(()=>{let e="custom",{R:t,O:i,B:r}=ke.o,s=t.length;return s===i.length?e="all":s===r.length&&(e="necessary"),e})()},KM=(n,e,t,i)=>{let r="accept-",{show:s,showPreferences:a,hide:o,hidePreferences:l,acceptCategory:c}=e,u=n||document,h=E=>C_(u,`[data-cc="${E}"]`),d=(E,w)=>{ou(E),c(w),l(),o()},m=h("show-preferencesModal"),v=h("show-consentModal"),_=h(r+"all"),g=h(r+"necessary"),y=h(r+"custom"),b=ke.t.lazyHtmlGeneration;for(let E of m)Wt(E,"aria-haspopup","dialog"),sn(E,tr,w=>{ou(w),a()}),b&&(sn(E,"mouseenter",w=>{ou(w),ke.o.N||t(e,i)},!0),sn(E,"focus",()=>{ke.o.N||t(e,i)}));for(let E of v)Wt(E,"aria-haspopup","dialog"),sn(E,tr,w=>{ou(w),s(!0)},!0);for(let E of _)sn(E,tr,w=>{d(w,"all")},!0);for(let E of y)sn(E,tr,w=>{d(w)},!0);for(let E of g)sn(E,tr,w=>{d(w,[])},!0)},na=(n,e)=>{n&&(e&&(n.tabIndex=-1),n.focus(),e&&n.removeAttribute("tabindex"))},JM=(n,e)=>{let t=i=>{i.target.removeEventListener("transitionend",t),i.propertyName==="opacity"&&getComputedStyle(n).opacity==="1"&&na((r=>r===1?ke.oe.be:ke.oe.ve)(e))};sn(n,"transitionend",t)},HM,ZM=n=>{clearTimeout(HM),n?Hi(ke.oe.ye,__):HM=setTimeout(()=>{Oo(ke.oe.ye,__)},500)},V4=["M 19.5 4.5 L 4.5 19.5 M 4.5 4.501 L 19.5 19.5","M 3.572 13.406 L 8.281 18.115 L 20.428 5.885","M 21.999 6.94 L 11.639 17.18 L 2.001 6.82 "],Ef=(n=0,e=1.5)=>`<svg viewBox="0 0 24 24" stroke-width="${e}"><path d="${V4[n]}"/></svg>`,QM=n=>{let e=ke.oe,t=ke.o;(i=>{let r=i===e.he,s=t.i.disablePageInteraction?e.ye:r?e.Ce:e.ye;sn(s,"keydown",a=>{if(a.key!=="Tab"||!(r?t.k&&!t.A:t.A))return;let o=tm(),l=r?t.q:t.K;l.length!==0&&(a.shiftKey?o!==l[0]&&i.contains(o)||(ou(a),na(l[1])):o!==l[1]&&i.contains(o)||(ou(a),na(l[0])))},!0)})(n)},H4=["[href]",Os,"input","details","[tabindex]"].map(n=>n+':not([tabindex="-1"])').join(","),eC=n=>{let{o:e,oe:t}=ke,i=(r,s)=>{let a=C_(r,H4);s[0]=a[0],s[1]=a[a.length-1]};n===1&&e.T&&i(t.he,e.q),n===2&&e.N&&i(t.we,e.K)},ra=(n,e,t)=>{let{de:i,le:r,ie:s,_e:a,ue:o,fe:l}=ke.ce,c=ke.re;if(e){let h={modalName:e};return n===c.fe?ka(l)&&l(h):n===c._e?ka(a)&&a(h):(h.modal=t,ka(o)&&o(h)),zM(n,h)}let u={cookie:ke.o.p};n===c.ie?ka(s)&&s(Fa(u)):n===c.le?ka(r)&&r(Fa(u)):(u.changedCategories=ke.o.j,u.changedServices=ke.o.ee,ka(i)&&i(Fa(u))),zM(n,Fa(u))},x_=n=>{let{Y:e,ee:t,O:i,X:r,ne:s,p:a,j:o}=ke.o;for(let h of i){let d=t[h]||e[h]||[];for(let m of d){let v=r[h][m];if(!v)continue;let{onAccept:_,onReject:g}=v;!v.Se&&Ti(e[h],m)&&ka(_)?(v.Se=!0,_()):v.Se&&!Ti(e[h],m)&&ka(g)&&(v.Se=!1,g())}}if(!ke.t.manageScriptTags)return;let l=s,c=n||a.categories||[],u=(h,d)=>{if(d>=h.length)return;let m=s[d];if(m.xe)return u(h,d+1);let v=m.Me,_=m.De,g=m.Te,y=Ti(c,_),b=!!g&&Ti(e[_],g);if(!g&&!m.ke&&y||!g&&m.ke&&!y&&Ti(o,_)||g&&!m.ke&&b||g&&m.ke&&!b&&Ti(t[_]||[],g)){m.xe=!0;let E=Yp(v,"type",!0);m_(v,"type",!!E),m_(v,Zp);let w=Yp(v,"src",!0);w&&m_(v,"src",!0);let D=mt("script");D.textContent=v.innerHTML;for(let{nodeName:M}of v.attributes)Wt(D,M,v[M]||Yp(v,M));E&&(D.type=E),w?D.src=w:w=v.src;let P=!!w&&(!E||["text/javascript","module"].includes(E));if(P&&(D.onload=D.onerror=()=>{u(h,++d)}),v.replaceWith(D),P)return}u(h,++d)};u(l,0)},Jp="bottom",b_="left",tC="center",P_="right",g_="inline",iC="wide",nC="pm--",y_=["middle","top",Jp],GM=[b_,tC,P_],G4={box:{Ae:[iC,g_],Ee:y_,Ne:GM,He:Jp,Ve:P_},cloud:{Ae:[g_],Ee:y_,Ne:GM,He:Jp,Ve:tC},bar:{Ae:[g_],Ee:y_.slice(1),Ne:[],He:Jp,Ve:""}},$4={box:{Ae:[],Ee:[],Ne:[],He:"",Ve:""},bar:{Ae:[iC],Ee:[],Ne:[b_,P_],He:"",Ve:b_}},rC=n=>{let e=ke.o.i.guiOptions,t=e&&e.consentModal,i=e&&e.preferencesModal;n===0&&$M(ke.oe.he,G4,t,"cm--","box","cm"),n===1&&$M(ke.oe.we,$4,i,nC,"box","pm")},$M=(n,e,t,i,r,s)=>{n.className=s;let a=t&&t.layout,o=t&&t.position,l=t&&t.flipButtons,c=!t||t.equalWeightButtons!==!1,u=a&&a.split(" ")||[],h=u[0],d=u[1],m=h in e?h:r,v=e[m],_=Ti(v.Ae,d)&&d,g=o&&o.split(" ")||[],y=g[0],b=i===nC?g[0]:g[1],E=Ti(v.Ee,y)?y:v.He,w=Ti(v.Ne,b)?b:v.Ve,D=M=>{M&&Hi(n,i+M)};D(m),D(_),D(E),D(w),l&&D("flip");let P=s+"__btn--secondary";if(s==="cm"){let{Ie:M,je:R}=ke.oe;M&&(c?Oo(M,P):Hi(M,P)),R&&(c?Oo(R,P):Hi(R,P))}else{let{Fe:M}=ke.oe;M&&(c?Oo(M,P):Hi(M,P))}},cu=(n,e)=>{let t=ke.o,i=ke.oe,{hide:r,hidePreferences:s,acceptCategory:a}=n,o=w=>{a(w),s(),r()},l=t.u&&t.u.preferencesModal;if(!l)return;let c=l.title,u=l.closeIconLabel,h=l.acceptAllBtn,d=l.acceptNecessaryBtn,m=l.savePreferencesBtn,v=l.sections||[],_=h||d||m;if(i.Pe)i.Le=mt(Ei),_i(i.Le,"body");else{i.Pe=mt(Ei),Hi(i.Pe,"pm-wrapper");let w=mt("div");Hi(w,"pm-overlay"),dt(i.Pe,w),sn(w,tr,s),i.we=mt(Ei),Hi(i.we,"pm"),Wt(i.we,"role","dialog"),Wt(i.we,Ns,!0),Wt(i.we,"aria-modal",!0),Wt(i.we,"aria-labelledby","pm__title"),sn(i.ye,"keydown",D=>{D.keyCode===27&&s()},!0),i.Oe=mt(Ei),_i(i.Oe,"header"),i.Re=mt("h2"),_i(i.Re,"title"),i.Re.id="pm__title",i.Be=mt(Os),_i(i.Be,"close-btn"),Wt(i.Be,"aria-label",l.closeIconLabel||""),sn(i.Be,tr,s),i.Ge=mt("span"),i.Ge.innerHTML=Ef(),dt(i.Be,i.Ge),i.Je=mt(Ei),_i(i.Je,"body"),i.Ue=mt(Ei),_i(i.Ue,"footer");var g=mt(Ei);Hi(g,"btns");var y=mt(Ei),b=mt(Ei);_i(y,bf),_i(b,bf),dt(i.Ue,y),dt(i.Ue,b),dt(i.Oe,i.Re),dt(i.Oe,i.Be),i.ve=mt(Ei),Wt(i.ve,"tabIndex",-1),dt(i.we,i.ve),dt(i.we,i.Oe),dt(i.we,i.Je),_&&dt(i.we,i.Ue),dt(i.Pe,i.we)}let E;c&&(i.Re.innerHTML=c,u&&Wt(i.Be,"aria-label",u)),v.forEach((w,D)=>{let P=w.title,M=w.description,R=w.linkedCategory,I=R&&t.L[R],A=w.cookieTable,N=A&&A.body,G=A&&A.caption,X=N&&N.length>0,J=!!I,ge=J&&t.X[R],te=em(ge)&&ia(ge)||[],pe=J&&(!!M||!!X||ia(ge).length>0);var re=mt(Ei);if(_i(re,"section"),pe||M){var ne=mt(Ei);_i(ne,"section-desc-wrapper")}let qe=te.length;if(pe&&qe>0){let Ve=mt(Ei);_i(Ve,"section-services");for(let ze of te){let Ke=ge[ze],gt=Ke&&Ke.label||ze,Rt=mt(Ei),ie=mt(Ei),Pt=mt(Ei),K=mt(Ei);_i(Rt,"service"),_i(K,"service-title"),_i(ie,"service-header"),_i(Pt,"service-icon");let ee=WM(gt,ze,I,!0,R);K.innerHTML=gt,dt(ie,Pt),dt(ie,K),dt(Rt,ie),dt(Rt,ee),dt(Ve,Rt)}dt(ne,Ve)}if(P){var je=mt(Ei),et=mt(J?Os:Ei);if(_i(je,"section-title-wrapper"),_i(et,"section-title"),et.innerHTML=P,dt(je,et),J){let Ve=mt("span");Ve.innerHTML=Ef(2,3.5),_i(Ve,"section-arrow"),dt(je,Ve),re.className+="--toggle";let ze=WM(P,R,I),Ke=l.serviceCounterLabel;if(qe>0&&Ba(Ke)){let gt=mt("span");_i(gt,"badge"),_i(gt,"service-counter"),Wt(gt,Ns,!0),Wt(gt,"data-servicecounter",qe),Ke&&(Ke=Ke.split("|"),Ke=Ke.length>1&&qe>1?Ke[1]:Ke[0],Wt(gt,"data-counterlabel",Ke)),gt.innerHTML=qe+(Ke?" "+Ke:""),dt(et,gt)}if(pe){_i(re,"section--expandable");var Ot=R+"-desc";Wt(et,"aria-expanded",!1),Wt(et,"aria-controls",Ot)}dt(je,ze)}else Wt(et,"role","heading"),Wt(et,"aria-level","3");dt(re,je)}if(M){var Me=mt("p");_i(Me,"section-desc"),Me.innerHTML=M,dt(ne,Me)}if(pe&&(Wt(ne,Ns,"true"),ne.id=Ot,((Ve,ze,Ke)=>{sn(et,tr,()=>{ze.classList.contains("is-expanded")?(Oo(ze,"is-expanded"),Wt(Ke,"aria-expanded","false"),Wt(Ve,Ns,"true")):(Hi(ze,"is-expanded"),Wt(Ke,"aria-expanded","true"),Wt(Ve,Ns,"false"))})})(ne,re,et),X)){let Ve=mt("table"),ze=mt("thead"),Ke=mt("tbody");if(G){let ee=mt("caption");_i(ee,"table-caption"),ee.innerHTML=G,Ve.appendChild(ee)}_i(Ve,"section-table"),_i(ze,"table-head"),_i(Ke,"table-body");let gt=A.headers,Rt=ia(gt),ie=i.$e.createDocumentFragment(),Pt=mt("tr");for(let ee of Rt){let fe=gt[ee],Te=mt("th");Te.id="cc__row-"+fe+D,Wt(Te,"scope","col"),_i(Te,"table-th"),Te.innerHTML=fe,dt(ie,Te)}dt(Pt,ie),dt(ze,Pt);let K=i.$e.createDocumentFragment();for(let ee of N){let fe=mt("tr");_i(fe,"table-tr");for(let Te of Rt){let Ae=gt[Te],Pe=ee[Te],$e=mt("td"),V=mt(Ei);_i($e,"table-td"),Wt($e,"data-column",Ae),Wt($e,"headers","cc__row-"+Ae+D),V.insertAdjacentHTML("beforeend",Pe),dt($e,V),dt(fe,$e)}dt(K,fe)}dt(Ke,K),dt(Ve,ze),dt(Ve,Ke),dt(ne,Ve)}(pe||M)&&dt(re,ne);let Ne=i.Le||i.Je;J?(E||(E=mt(Ei),_i(E,"section-toggles")),E.appendChild(re)):E=null,dt(Ne,E||re)}),h&&(i.ze||(i.ze=mt(Os),_i(i.ze,"btn"),Wt(i.ze,lu,"all"),dt(y,i.ze),sn(i.ze,tr,()=>o("all"))),i.ze.innerHTML=h),d&&(i.Fe||(i.Fe=mt(Os),_i(i.Fe,"btn"),Wt(i.Fe,lu,"necessary"),dt(y,i.Fe),sn(i.Fe,tr,()=>o([]))),i.Fe.innerHTML=d),m&&(i.qe||(i.qe=mt(Os),_i(i.qe,"btn"),_i(i.qe,"btn--secondary"),Wt(i.qe,lu,"save"),dt(b,i.qe),sn(i.qe,tr,()=>o())),i.qe.innerHTML=m),i.Le&&(i.we.replaceChild(i.Le,i.Je),i.Je=i.Le),rC(1),t.N||(t.N=!0,ra(ke.re.ue,A_,i.we),e(n),dt(i.Ce,i.Pe),QM(i.we),setTimeout(()=>Hi(i.Pe,"cc--anim"),100)),eC(2)};function WM(n,e,t,i,r){let s=ke.o,a=ke.oe,o=mt("label"),l=mt("input"),c=mt("span"),u=mt("span"),h=mt("span"),d=mt("span"),m=mt("span");if(d.innerHTML=Ef(1,3),m.innerHTML=Ef(0,3),l.type="checkbox",Hi(o,"section__toggle-wrapper"),Hi(l,"section__toggle"),Hi(d,"toggle__icon-on"),Hi(m,"toggle__icon-off"),Hi(c,"toggle__icon"),Hi(u,"toggle__icon-circle"),Hi(h,"toggle__label"),Wt(c,Ns,"true"),i?(Hi(o,"toggle-service"),Wt(l,Zp,r),a.ae[r][e]=l):a.se[e]=l,i?(v=>{sn(l,"change",()=>{let _=a.ae[v],g=a.se[v];s.Z[v]=[];for(let y in _){let b=_[y];b.checked&&s.Z[v].push(b.value)}g.checked=s.Z[v].length>0})})(r):(v=>{sn(l,tr,()=>{let _=a.ae[v],g=l.checked;s.Z[v]=[];for(let y in _)_[y].checked=g,g&&s.Z[v].push(y)})})(e),l.value=e,h.textContent=n.replace(/<.*>.*<\/.*>/gm,""),dt(u,m),dt(u,d),dt(c,u),s.D)(t.readOnly||t.enabled)&&(l.checked=!0);else if(i){let v=s.Y[r];l.checked=t.readOnly||Ti(v,e)}else Ti(s.R,e)&&(l.checked=!0);return t.readOnly&&(l.disabled=!0),dt(o,l),dt(o,c),dt(o,h),o}var v_=()=>{let n=mt("span");return ke.oe.Ke||(ke.oe.Ke=n),n},I_=(n,e)=>{let t=ke.o,i=ke.oe,{hide:r,showPreferences:s,acceptCategory:a}=n,o=t.u&&t.u.consentModal;if(!o)return;let l=o.acceptAllBtn,c=o.acceptNecessaryBtn,u=o.showPreferencesBtn,h=o.closeIconLabel,d=o.footer,m=o.label,v=o.title,_=y=>{r(),a(y)};if(!i.Qe){i.Qe=mt(Ei),i.he=mt(Ei),i.We=mt(Ei),i.Xe=mt(Ei),i.Ye=mt(Ei),Hi(i.Qe,"cm-wrapper"),Hi(i.he,"cm"),fr(i.We,"body"),fr(i.Xe,"texts"),fr(i.Ye,"btns"),Wt(i.he,"role","dialog"),Wt(i.he,"aria-modal","true"),Wt(i.he,Ns,"false"),Wt(i.he,"aria-describedby","cm__desc"),m?Wt(i.he,"aria-label",m):v&&Wt(i.he,"aria-labelledby","cm__title");let y="box",b=t.i.guiOptions,E=b&&b.consentModal,w=(E&&E.layout||y).split(" ")[0]===y;v&&h&&w&&(i.je||(i.je=mt(Os),i.je.innerHTML=Ef(),fr(i.je,"btn"),fr(i.je,"btn--close"),sn(i.je,tr,()=>{_([])}),dt(i.We,i.je)),Wt(i.je,"aria-label",h)),dt(i.We,i.Xe),(l||c||u)&&dt(i.We,i.Ye),i.be=mt(Ei),Wt(i.be,"tabIndex",-1),dt(i.he,i.be),dt(i.he,i.We),dt(i.Qe,i.he)}v&&(i.Ze||(i.Ze=mt("h2"),i.Ze.className=i.Ze.id="cm__title",dt(i.Xe,i.Ze)),i.Ze.innerHTML=v);let g=o.description;if(g&&(t.V&&(g=g.replace("{{revisionMessage}}",t.I?"":o.revisionMessage||"")),i.et||(i.et=mt("p"),i.et.className=i.et.id="cm__desc",dt(i.Xe,i.et)),i.et.innerHTML=g),l&&(i.tt||(i.tt=mt(Os),dt(i.tt,v_()),fr(i.tt,"btn"),Wt(i.tt,lu,"all"),sn(i.tt,tr,()=>{_("all")})),i.tt.firstElementChild.innerHTML=l),c&&(i.Ie||(i.Ie=mt(Os),dt(i.Ie,v_()),fr(i.Ie,"btn"),Wt(i.Ie,lu,"necessary"),sn(i.Ie,tr,()=>{_([])})),i.Ie.firstElementChild.innerHTML=c),u&&(i.nt||(i.nt=mt(Os),dt(i.nt,v_()),fr(i.nt,"btn"),fr(i.nt,"btn--secondary"),Wt(i.nt,lu,"show"),sn(i.nt,"mouseenter",()=>{t.N||cu(n,e)}),sn(i.nt,tr,s)),i.nt.firstElementChild.innerHTML=u),i.ot||(i.ot=mt(Ei),fr(i.ot,bf),l&&dt(i.ot,i.tt),c&&dt(i.ot,i.Ie),(l||c)&&dt(i.We,i.ot),dt(i.Ye,i.ot)),i.nt&&!i.st&&(i.st=mt(Ei),i.Ie&&i.tt?(fr(i.st,bf),dt(i.st,i.nt),dt(i.Ye,i.st)):(dt(i.ot,i.nt),fr(i.ot,bf+"--uneven"))),d){if(!i.ct){let y=mt(Ei),b=mt(Ei);i.ct=mt(Ei),fr(y,"footer"),fr(b,"links"),fr(i.ct,"link-group"),dt(b,i.ct),dt(y,b),dt(i.he,y)}i.ct.innerHTML=d}rC(0),t.T||(t.T=!0,ra(ke.re.ue,w_,i.he),e(n),dt(i.Ce,i.Qe),QM(i.he),setTimeout(()=>Hi(i.Qe,"cc--anim"),100)),eC(1),KM(i.We,n,cu,e)},D_=n=>{if(!Ba(n))return null;if(n in ke.o._)return n;let e=n.slice(0,2);return e in ke.o._?e:null},R_=()=>ke.o.l||ke.o.i.language.default,L_=n=>{n&&(ke.o.l=n)},sC=n=>Sn(void 0,null,function*(){let e=ke.o,t=D_(n)?n:R_(),i=e._[t];if(!i)return!1;if(Ba(i)){let r=yield(s=>Sn(void 0,null,function*(){try{let a=yield fetch(s);return!(!a||!a.ok)&&(yield a.json())}catch(a){return!1}}))(i);if(!r)return!1;i=r}return e.u=i,L_(t),!0}),aC=()=>{let n=ke.o.i.language.rtl,e=ke.oe.Ce;n&&e&&(uu(n)||(n=[n]),Ti(n,ke.o.l)?Hi(e,"cc--rtl"):Oo(e,"cc--rtl"))},Xl=()=>{let n=ke.oe;if(n.Ce)return;n.Ce=mt(Ei),n.Ce.id="cc-main",aC();let e=ke.o.i.root;e&&Ba(e)&&(e=document.querySelector(e)),(e||n.$e.body).appendChild(n.Ce)},qM=(n,e)=>{if(e instanceof RegExp)return n.filter(t=>e.test(t));{let t=XM(n,e);return t>-1?[n[t]]:[]}},oC=n=>{let{hostname:e,protocol:t}=location,{name:i,path:r,domain:s,sameSite:a}=ke.t.cookie,o=encodeURIComponent(JSON.stringify(ke.o.p)),l=n?(()=>{let h=ke.o.S,d=h?new Date-h:0;return 864e5*VM()-d})():864e5*VM(),c=new Date;c.setTime(c.getTime()+l);let u=i+"="+o+(l!==0?"; expires="+c.toUTCString():"")+"; Path="+r+"; SameSite="+a;Ti(e,".")&&(u+="; Domain="+s),t==="https:"&&(u+="; Secure"),document.cookie=u,ke.o.p},E_=(n,e,t)=>{if(n.length===0)return;let i=t||ke.t.cookie.domain,r=e||ke.t.cookie.path,s=i.slice(0,4)==="www.",a=s&&i.substring(4),o=(l,c)=>{document.cookie=l+"=; path="+r+(c?"; domain=."+c:"")+"; expires=Thu, 01 Jan 1970 00:00:01 GMT;"};for(let l of n)o(l),o(l,i),s&&o(l,a)},lC=n=>(e=>{let t;try{t=JSON.parse(decodeURIComponent(e))}catch(i){t={}}return t})(O_(n||ke.t.cookie.name,!0)),O_=(n,e)=>{let t=document.cookie.match("(^|;)\\s*"+n+"\\s*=\\s*([^;]+)");return t?e?t.pop():n:""},cC=n=>{let e=document.cookie.split(/;\s*/),t=[];for(let i of e){let r=i.split("=")[0];if(n)try{n.test(r)&&t.push(r)}catch(s){}else t.push(r)}return t},N_=(n,e=[])=>{((t,i)=>{let{O:r,R:s,B:a,N:o,Z:l,X:c}=ke.o,u=[];if(t){uu(t)?u.push(...t):Ba(t)&&(u=t==="all"?r:[t]);for(let h of r)l[h]=Ti(u,h)?ia(c[h]):[]}else u=s,u=o&&(()=>{let h=ke.oe.se;if(!h)return[];let d=[];for(let m in h)h[m].checked&&d.push(m);return d})();u=u.filter(h=>!Ti(r,h)||!Ti(i,h)),u.push(...a),YM(u)})(n,e),(t=>{let i=ke.o,{Z:r,B:s,Y:a,X:o,O:l}=i,c=l;i.te=Fa(a);for(let u of c){let h=o[u],d=ia(h),m=r[u]&&r[u].length>0,v=Ti(s,u);if(d.length!==0){if(a[u]=[],v)a[u].push(...d);else if(m){let _=r[u];a[u].push(..._)}else a[u]=[];a[u]=M_(a[u])}}})(),(()=>{let t=ke.o;t.j=ke.t.mode===xf&&t.D?Kp(t.G,t.R):Kp(t.R,t.p.categories);let i=t.j.length>0,r=!1;for(let l of t.O)t.ee[l]=Kp(t.Y[l],t.te[l]),t.ee[l].length>0&&(r=!0);let s=ke.oe.se;for(let l in s)s[l].checked=Ti(t.R,l);for(let l of t.O){let c=ke.oe.ae[l],u=t.Y[l];for(let h in c)c[h].checked=Ti(u,h)}t.C||(t.C=new Date),t.M||(t.M=("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,l=>(l^crypto.getRandomValues(new Uint8Array(1))[0]&15>>l/4).toString(16))),t.p={categories:Fa(t.R),revision:ke.t.revision,data:t.h,consentTimestamp:t.C.toISOString(),consentId:t.M,services:Fa(t.Y)};let a=!1,o=i||r;(t.D||o)&&(t.D&&(t.D=!1,a=!0),t.S=t.S?new Date:t.C,t.p.lastConsentTimestamp=t.S.toISOString(),oC(),ke.t.autoClearCookies&&(a||o)&&(l=>{let c=ke.o,u=cC(),h=(d=>{let m=ke.o;return(d?m.O:m.j).filter(v=>{let _=m.L[v];return!!_&&!_.readOnly&&!!_.autoClear})})(l);for(let d in c.ee)for(let m of c.ee[d]){let v=c.X[d][m].cookies;if(!Ti(c.Y[d],m)&&v)for(let _ of v){let g=qM(u,_.name);E_(g,_.path,_.domain)}}for(let d of h){let m=c.L[d].autoClear,v=m&&m.cookies||[],_=Ti(c.j,d),g=!Ti(c.R,d),y=_&&g;if(l?g:y){m.reloadPage&&y&&(c.F=!0);for(let b of v){let E=qM(u,b.name);E_(E,b.path,b.domain)}}}})(a),x_()),a&&(ra(ke.re.ie),ra(ke.re.le),ke.t.mode===jM)||(o&&ra(ke.re.de),t.F&&(t.F=!1,location.reload()))})()},uC=n=>{let e=ke.o.D?[]:ke.o.R;return Ti(e,n)},W4=(n,e)=>{let{O:t,X:i}=ke.o;if(!(n&&e&&Ba(e)&&Ti(t,e)&&ia(i[e]).length!==0))return!1;((r,s)=>{let a=ke.o,{X:o,Z:l,N:c}=a,u=ke.oe.ae[s]||{},h=ke.oe.se[s]||{},d=ia(o[s]);if(l[s]=[],Ba(r)){if(r==="all"){if(l[s].push(...d),c)for(let v in u)u[v].checked=!0,Xp(u[v])}else if(Ti(d,r)&&l[s].push(r),c)for(let v in u)u[v].checked=r===v,Xp(u[v])}else if(uu(r))for(let v of d){let _=Ti(r,v);_&&l[s].push(v),c&&(u[v].checked=_,Xp(u[v]))}let m=l[s].length===0;a.R=m?a.R.filter(v=>v!==s):M_([...a.R,s]),c&&(h.checked=!m,Xp(h))})(n,e),N_()},hC=(n,e)=>{let t=ke.o.D?[]:ke.o.Y[e];return Ti(t,n)},q4=n=>O_(n,!0)!=="",fC=(n,e,t)=>{let i=[],r=s=>{if(Ba(s)){let a=O_(s);a!==""&&i.push(a)}else i.push(...cC(s))};if(uu(n))for(let s of n)r(s);else r(n);E_(i,e,t)},Tf=n=>{let{oe:e,o:t}=ke;if(!t.k){if(!t.T){if(!n)return;I_(Sf,Xl)}t.k=!0,t.U=tm(),t.v&&ZM(!0),JM(e.he,1),Hi(e.ye,S_),Wt(e.he,Ns,"false"),setTimeout(()=>{na(ke.oe.be)},100),ra(ke.re.fe,w_)}},im=()=>{let{oe:n,o:e,re:t}=ke;e.k&&(e.k=!1,e.v&&ZM(),na(n.Ke,!0),Oo(n.ye,S_),Wt(n.he,Ns,"true"),na(e.U),e.U=null,ra(t._e,w_))},nm=()=>{let n=ke.o;n.A||(n.N||cu(Sf,Xl),n.A=!0,n.k?n.$=tm():n.U=tm(),JM(ke.oe.we,2),Hi(ke.oe.ye,T_),Wt(ke.oe.we,Ns,"false"),setTimeout(()=>{na(ke.oe.ve)},100),ra(ke.re.fe,A_))},rm=()=>{let n=ke.o;n.A&&(n.A=!1,(()=>{let e=k_(),t=ke.o.L,i=ke.oe.se,r=ke.oe.ae,s=a=>Ti(ke.o.G,a);for(let a in i){let o=!!t[a].readOnly;i[a].checked=o||(e?uC(a):s(a));for(let l in r[a])r[a][l].checked=o||(e?hC(l,a):s(a))}})(),na(ke.oe.Ge,!0),Oo(ke.oe.ye,T_),Wt(ke.oe.we,Ns,"true"),n.k?(na(n.$),n.$=null):(na(n.U),n.U=null),ra(ke.re._e,A_))},Sf={show:Tf,hide:im,showPreferences:nm,hidePreferences:rm,acceptCategory:N_},j4=(n,e)=>Sn(void 0,null,function*(){if(!D_(n))return!1;let t=ke.o;return!(n===R_()&&e!==!0||!(yield sC(n))||(L_(n),t.T&&I_(Sf,Xl),t.N&&cu(Sf,Xl),aC(),0))}),X4=()=>{let{P:n,Y:e}=ke.o,{accepted:t,rejected:i}=(()=>{let{D:r,R:s,O:a}=ke.o;return{accepted:s,rejected:r?[]:a.filter(o=>!Ti(s,o))}})();return Fa({acceptType:n,acceptedCategories:t,rejectedCategories:i,acceptedServices:e,rejectedServices:z4()})},Y4=(n,e)=>{let t=document.querySelector('script[src="'+n+'"]');return new Promise(i=>{if(t)return i(!0);if(t=mt("script"),em(e))for(let r in e)Wt(t,r,e[r]);t.onload=()=>i(!0),t.onerror=()=>{t.remove(),i(!1)},t.src=n,dt(document.head,t)})},K4=n=>{let e,t=n.value,i=n.mode,r=!1,s=ke.o;if(i==="update"){s.h=e=dC("data");let a=typeof e==typeof t;if(a&&typeof e=="object"){!e&&(e={});for(let o in t)e[o]!==t[o]&&(e[o]=t[o],r=!0)}else!a&&e||e===t||(e=t,r=!0)}else e=t,r=!0;return r&&(s.h=e,s.p.data=e,oC(!0)),r},dC=(n,e)=>{let t=lC(e);return n?t[n]:t},J4=n=>{let e=ke.t,t=ke.o.i;return n?e[n]||t[n]:au(Vi(Vi({},e),t),{cookie:Vi({},e.cookie)})},k_=()=>!ke.o.D,F_=n=>Sn(void 0,null,function*(){let{o:e,t,re:i}=ke,r=window;if(!r._ccRun){if(r._ccRun=!0,(o=>{let{oe:l,t:c,o:u}=ke,h=c,d=u,{cookie:m}=h,v=ke.ce,_=o.cookie,g=o.categories,y=ia(g)||[],b=navigator,E=document;l.$e=E,l.ye=E.documentElement,m.domain=location.hostname,d.i=o,d.L=g,d.O=y,d._=o.language.translations,d.v=!!o.disablePageInteraction,v.ie=o.onFirstConsent,v.le=o.onConsent,v.de=o.onChange,v._e=o.onModalHide,v.fe=o.onModalShow,v.ue=o.onModalReady;let{mode:w,autoShow:D,lazyHtmlGeneration:P,autoClearCookies:M,revision:R,manageScriptTags:I,hideFromBots:A}=o;w===xf&&(h.mode=w),typeof M=="boolean"&&(h.autoClearCookies=M),typeof I=="boolean"&&(h.manageScriptTags=I),typeof R=="number"&&R>=0&&(h.revision=R,d.V=!0),typeof D=="boolean"&&(h.autoShow=D),typeof P=="boolean"&&(h.lazyHtmlGeneration=P),A===!1&&(h.hideFromBots=!1),h.hideFromBots===!0&&b&&(d.J=b.userAgent&&/bot|crawl|spider|slurp|teoma/i.test(b.userAgent)||b.webdriver),em(_)&&(h.cookie=Vi(Vi({},m),_)),h.autoClearCookies,d.V,h.manageScriptTags,(N=>{let{L:G,X,Y:J,Z:ge,B:te}=ke.o;for(let pe of N){let re=G[pe],ne=re.services||{},qe=em(ne)&&ia(ne)||[];X[pe]={},J[pe]=[],ge[pe]=[],re.readOnly&&(te.push(pe),J[pe]=qe),ke.oe.ae[pe]={};for(let je of qe){let et=ne[je];et.Se=!1,X[pe][je]=et}}})(y),(()=>{if(!ke.t.manageScriptTags)return;let N=ke.o,G=C_(document,"script["+Zp+"]");for(let X of G){let J=Yp(X,Zp),ge=X.dataset.service||"",te=!1;if(J&&J.charAt(0)==="!"&&(J=J.slice(1),te=!0),ge.charAt(0)==="!"&&(ge=ge.slice(1),te=!0),Ti(N.O,J)&&(N.ne.push({Me:X,xe:!1,ke:te,De:J,Te:ge}),ge)){let pe=N.X[J];pe[ge]||(pe[ge]={Se:!1})}}})(),L_((()=>{let N=ke.o.i.language.autoDetect;if(N){let G={browser:navigator.language,document:document.documentElement.lang},X=D_(G[N]);if(X)return X}return R_()})())})(n),e.J)return;(()=>{let o=ke.o,l=ke.t,c=lC(),{categories:u,services:h,consentId:d,consentTimestamp:m,lastConsentTimestamp:v,data:_,revision:g}=c,y=uu(u);o.p=c,o.M=d;let b=!!d&&Ba(d);o.C=m,o.C&&(o.C=new Date(m)),o.S=v,o.S&&(o.S=new Date(v)),o.h=_!==void 0?_:null,o.V&&b&&g!==l.revision&&(o.I=!1),o.D=!(b&&o.I&&o.C&&o.S&&y),o.D,(()=>{let E=ke.o;for(let w of E.O){let D=E.L[w];if(D.readOnly||D.enabled&&E.i.mode===xf){E.G.push(w);let P=E.X[w]||{};for(let M in P)E.Y[w].push(M)}}})(),o.D?l.mode===xf&&(o.R=[...o.G]):(o.Y=Vi(Vi({},o.Y),h),YM([...o.B,...u])),o.Z=Vi({},o.Y)})();let a=k_();if(!(yield sC()))return!1;if(KM(null,s=Sf,cu,Xl),ke.o.D&&I_(s,Xl),ke.t.lazyHtmlGeneration||cu(s,Xl),t.autoShow&&!a&&Tf(!0),a)return x_(),ra(i.le);t.mode===xf&&x_(e.G)}var s}),Z4=n=>{let{Ce:e,ye:t}=ke.oe,{name:i,path:r,domain:s}=ke.t.cookie;n&&fC(i,r,s);for(let{pe:o,me:l,ge:c}of ke.o.m)o.removeEventListener(l,c);e&&e.remove(),t&&t.classList.remove(__,T_,S_);let a=new Qp;for(let o in ke)ke[o]=a[o];window._ccRun=!1};var sm=class extends Ct{constructor(n){super(n);try{this.config=JSON.parse(this.getData("config"))}catch(e){console.warn(e.message)}this.events={click:{hide:"hideModal","show-preferences":"showPreferences"}}}init(){if(!this.config.categories||Object.keys(this.config.categories).length===0){console.warn("[CookieConsent]","No categories configured.");return}this.config.categories=this.prepareCategories(this.config.categories),this.config.cookie={name:"cc_cookie_locomotive"},F_(Object.assign({autoShow:!1,onConsent:()=>{this.toggleCategoryAnalytics()},onChange:({changedCategories:n})=>{n.includes("analytics")&&this.toggleCategoryAnalytics()}},this.config)),setTimeout(Tf,1e3)}showPreferences(){nm()}hideModal(){rm(),im()}prepareCategories(n){var e;for(let[t,i]of Object.entries(n))(e=i==null?void 0:i.autoClear)!=null&&e.cookies&&Array.isArray(i.autoClear.cookies)&&i.autoClear.cookies.length>0&&(i.autoClear.cookies.map(r=>{if(r!=null&&r.name&&typeof r.name=="string"){let s=r.name.match(/^\/(.+)\/([a-z]+)?$/);s&&(r.name=new RegExp(s[1],s[2]))}return r}),n[t].autoClear.cookies=i.autoClear.cookies);return n}toggleCategoryAnalytics(){var e;let n=wf==null?void 0:wf.acceptedCategory("analytics");(e=window.dataLayer)==null||e.push(["consent","update",{analytics_storage:n?"granted":"denied"}])}};var Q4=new RegExp("\\p{Extended_Pictographic}|\\r|\\n|.","gu");function No(n,e){if((!n.children.length||n.dataset.allowShuffle!=null)&&n.innerText){n.querySelectorAll(".u-screen-reader-text").forEach(i=>i.remove());let t=n.innerText.replace(`
`,` 
 `).split(" ");for(let i=0;i<t.length;i++){let r=[...t[i].matchAll(Q4)].map(s=>s[0]);t[i]=e(r)}n.innerText=t.join(" ")}}function pC(n,e){n.querySelectorAll("*").forEach(t=>{No(t,e)})}function am(n){window.copyToClipboard(n.dataset.toCopy),alert(n.dataset.confirmation)}var om=class extends Ct{constructor(n){super(n),this.events={click:"onClick"}}onClick(n){n.preventDefault(),n.stopPropagation(),am(n.target)}};function Ua(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function EC(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var Pr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},fu={duration:.5,overwrite:!1,delay:0},ix,Mr,wn,ds=1e8,Ui=1/ds,W_=Math.PI*2,e5=W_/4,t5=0,SC=Math.sqrt,i5=Math.cos,n5=Math.sin,kn=function(e){return typeof e=="string"},fn=function(e){return typeof e=="function"},Va=function(e){return typeof e=="number"},vm=function(e){return typeof e=="undefined"},aa=function(e){return typeof e=="object"},Cr=function(e){return e!==!1},TC=function(){return typeof window!="undefined"},lm=function(e){return fn(e)||kn(e)},wC=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},nr=Array.isArray,q_=/(?:-?\.?\d|\.)+/gi,nx=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Zl=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,B_=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,rx=/[+-]=-?[.\d]+/,AC=/[^,'"\[\]\s]+/gi,r5=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,an,fs,j_,sx,$r={},fm={},MC,CC=function(e){return(fm=Jl(e,$r))&&dr},_m=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},dm=function(e,t){return!t&&console.warn(e)},PC=function(e,t){return e&&($r[e]=t)&&fm&&(fm[e]=t)||$r},Df=function(){return 0},s5={suppressEvents:!0,isStart:!0,kill:!1},cm={suppressEvents:!0,kill:!1},a5={suppressEvents:!0},ax={},Fo=[],X_={},IC,wr={},U_={},mC=30,um=[],ox="",lx=function(e){var t=e[0],i,r;if(aa(t)||fn(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=um.length;r--&&!um[r].targetTest(t););i=um[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new hx(e[r],i)))||e.splice(r,1);return e},Bo=function(e){return e._gsap||lx(ps(e))[0]._gsap},cx=function(e,t,i){return(i=e[t])&&fn(i)?e[t]():vm(i)&&e.getAttribute&&e.getAttribute(t)||i},pr=function(e,t){return(e=e.split(",")).forEach(t)||e},dn=function(e){return Math.round(e*1e5)/1e5||0},Wn=function(e){return Math.round(e*1e7)/1e7||0},Ql=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+r:i==="-"?e-r:i==="*"?e*r:e/r},o5=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},pm=function(){var e=Fo.length,t=Fo.slice(0),i,r;for(X_={},Fo.length=0,i=0;i<e;i++)r=t[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},DC=function(e,t,i,r){Fo.length&&pm(),e.render(t,i,r||Mr&&t<0&&(e._initted||e._startAt)),Fo.length&&pm()},RC=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(AC).length<2?t:kn(e)?e.trim():e},LC=function(e){return e},gs=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},l5=function(e){return function(t,i){for(var r in i)r in t||r==="duration"&&e||r==="ease"||(t[r]=i[r])}},Jl=function(e,t){for(var i in t)e[i]=t[i];return e},gC=function n(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=aa(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},mm=function(e,t){var i={},r;for(r in e)r in t||(i[r]=e[r]);return i},Cf=function(e){var t=e.parent||an,i=e.keyframes?l5(nr(e.keyframes)):gs;if(Cr(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},c5=function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0},OC=function(e,t,i,r,s){i===void 0&&(i="_first"),r===void 0&&(r="_last");var a=e[r],o;if(s)for(o=t[s];a&&a[s]>o;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e,t},xm=function(e,t,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var s=t._prev,a=t._next;s?s._next=a:e[i]===t&&(e[i]=a),a?a._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},Uo=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Yl=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},u5=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Y_=function(e,t,i,r){return e._startAt&&(Mr?e._startAt.revert(cm):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},h5=function n(e){return!e||e._ts&&n(e.parent)},yC=function(e){return e._repeat?du(e._tTime,e=e.duration()+e._rDelay)*e:0},du=function(e,t){var i=Math.floor(e/=t);return e&&i===e?i-1:i},gm=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},bm=function(e){return e._end=Wn(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ui)||0))},Em=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Wn(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),bm(e),i._dirty||Yl(i,e)),e},NC=function(e,t){var i;if((t._time||t._initted&&!t._dur)&&(i=gm(e.rawTime(),t),(!t._dur||Lf(0,t.totalDuration(),i)-t._tTime>Ui)&&t.render(i,!0)),Yl(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-Ui}},sa=function(e,t,i,r){return t.parent&&Uo(t),t._start=Wn((Va(i)?i:i||e!==an?hs(e,i,t):e._time)+t._delay),t._end=Wn(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),OC(e,t,"_first","_last",e._sort?"_start":0),K_(t)||(e._recent=t),r||NC(e,t),e._ts<0&&Em(e,e._tTime),e},kC=function(e,t){return($r.ScrollTrigger||_m("scrollTrigger",t))&&$r.ScrollTrigger.create(t,e)},FC=function(e,t,i,r,s){if(px(e,t,s),!e._initted)return 1;if(!i&&e._pt&&!Mr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&IC!==Ar.frame)return Fo.push(e),e._lazy=[s,r],1},f5=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},K_=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},d5=function(e,t,i,r){var s=e.ratio,a=t<0||!t&&(!e._start&&f5(e)&&!(!e._initted&&K_(e))||(e._ts<0||e._dp._ts<0)&&!K_(e))?0:1,o=e._rDelay,l=0,c,u,h;if(o&&e._repeat&&(l=Lf(0,e._tDur,t),u=du(l,o),e._yoyo&&u&1&&(a=1-a),u!==du(e._tTime,o)&&(s=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==s||Mr||r||e._zTime===Ui||!t&&e._zTime){if(!e._initted&&FC(e,t,r,i,l))return;for(h=e._zTime,e._zTime=t||(i?Ui:0),i||(i=t&&!h),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=l,c=e._pt;c;)c.r(a,c.d),c=c._next;t<0&&Y_(e,t,i,!0),e._onUpdate&&!i&&ms(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&ms(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&Uo(e,1),!i&&!Mr&&(ms(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},p5=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},pu=function(e,t,i,r){var s=e._repeat,a=Wn(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=s?s<0?1e10:Wn(a*(s+1)+e._rDelay*s):a,o>0&&!r&&Em(e,e._tTime=e._tDur*o),e.parent&&bm(e),i||Yl(e.parent,e),e},vC=function(e){return e instanceof ir?Yl(e):pu(e,e._dur)},m5={_start:0,endTime:Df,totalDuration:Df},hs=function n(e,t,i){var r=e.labels,s=e._recent||m5,a=e.duration()>=ds?s.endTime(!1):e._dur,o,l,c;return kn(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),c=t.substr(-1)==="%",o=t.indexOf("="),l==="<"||l===">"?(o>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(o<0?s:i).totalDuration()/100:1)):o<0?(t in r||(r[t]=a),r[t]):(l=parseFloat(t.charAt(o-1)+t.substr(o+1)),c&&i&&(l=l/100*(nr(i)?i[0]:i).totalDuration()),o>1?n(e,t.substr(0,o-1),i)+l:a+l)):t==null?a:+t},Pf=function(e,t,i){var r=Va(t[1]),s=(r?2:1)+(e<2?0:1),a=t[s],o,l;if(r&&(a.duration=t[1]),a.parent=i,e){for(o=a,l=i;l&&!("immediateRender"in o);)o=l.vars.defaults||{},l=Cr(l.vars.inherit)&&l.parent;a.immediateRender=Cr(o.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new Tn(t[0],a,t[s+1])},zo=function(e,t){return e||e===0?t(e):t},Lf=function(e,t,i){return i<e?e:i>t?t:i},qn=function(e,t){return!kn(e)||!(t=r5.exec(e))?"":t[1]},g5=function(e,t,i){return zo(i,function(r){return Lf(e,t,r)})},J_=[].slice,BC=function(e,t){return e&&aa(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&aa(e[0]))&&!e.nodeType&&e!==fs},y5=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(r){var s;return kn(r)&&!t||BC(r,1)?(s=i).push.apply(s,ps(r)):i.push(r)})||i},ps=function(e,t,i){return wn&&!t&&wn.selector?wn.selector(e):kn(e)&&!i&&(j_||!mu())?J_.call((t||sx).querySelectorAll(e),0):nr(e)?y5(e,i):BC(e)?J_.call(e,0):e?[e]:[]},Z_=function(e){return e=ps(e)[0]||dm("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return ps(t,i.querySelectorAll?i:i===e?dm("Invalid scope")||sx.createElement("div"):e)}},UC=function(e){return e.sort(function(){return .5-Math.random()})},zC=function(e){if(fn(e))return e;var t=aa(e)?e:{each:e},i=Kl(t.ease),r=t.from||0,s=parseFloat(t.base)||0,a={},o=r>0&&r<1,l=isNaN(r)||o,c=t.axis,u=r,h=r;return kn(r)?u=h={center:.5,edges:.5,end:1}[r]||0:!o&&l&&(u=r[0],h=r[1]),function(d,m,v){var _=(v||t).length,g=a[_],y,b,E,w,D,P,M,R,I;if(!g){if(I=t.grid==="auto"?0:(t.grid||[1,ds])[1],!I){for(M=-ds;M<(M=v[I++].getBoundingClientRect().left)&&I<_;);I--}for(g=a[_]=[],y=l?Math.min(I,_)*u-.5:r%I,b=I===ds?0:l?_*h/I-.5:r/I|0,M=0,R=ds,P=0;P<_;P++)E=P%I-y,w=b-(P/I|0),g[P]=D=c?Math.abs(c==="y"?w:E):SC(E*E+w*w),D>M&&(M=D),D<R&&(R=D);r==="random"&&UC(g),g.max=M-R,g.min=R,g.v=_=(parseFloat(t.amount)||parseFloat(t.each)*(I>_?_-1:c?c==="y"?_/I:I:Math.max(I,_/I))||0)*(r==="edges"?-1:1),g.b=_<0?s-_:s,g.u=qn(t.amount||t.each)||0,i=i&&_<0?jC(i):i}return _=(g[d]-g.min)/g.max||0,Wn(g.b+(i?i(_):_)*g.v)+g.u}},Q_=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=Wn(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+(Va(i)?0:qn(i))}},VC=function(e,t){var i=nr(e),r,s;return!i&&aa(e)&&(r=i=e.radius||ds,e.values?(e=ps(e.values),(s=!Va(e[0]))&&(r*=r)):e=Q_(e.increment)),zo(t,i?fn(e)?function(a){return s=e(a),Math.abs(s-a)<=r?s:a}:function(a){for(var o=parseFloat(s?a.x:a),l=parseFloat(s?a.y:0),c=ds,u=0,h=e.length,d,m;h--;)s?(d=e[h].x-o,m=e[h].y-l,d=d*d+m*m):d=Math.abs(e[h]-o),d<c&&(c=d,u=h);return u=!r||c<=r?e[u]:a,s||u===a||Va(a)?u:u+qn(a)}:Q_(e))},HC=function(e,t,i,r){return zo(nr(e)?!t:i===!0?!!(i=0):!r,function(){return nr(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*r)/r})},v5=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(s,a){return a(s)},r)}},_5=function(e,t){return function(i){return e(parseFloat(i))+(t||qn(i))}},x5=function(e,t,i){return $C(e,t,0,1,i)},GC=function(e,t,i){return zo(i,function(r){return e[~~t(r)]})},b5=function n(e,t,i){var r=t-e;return nr(e)?GC(e,n(0,e.length),t):zo(i,function(s){return(r+(s-e)%r)%r+e})},E5=function n(e,t,i){var r=t-e,s=r*2;return nr(e)?GC(e,n(0,e.length-1),t):zo(i,function(a){return a=(s+(a-e)%s)%s||0,e+(a>r?s-a:a)})},vu=function(e){for(var t=0,i="",r,s,a,o;~(r=e.indexOf("random(",t));)a=e.indexOf(")",r),o=e.charAt(r+7)==="[",s=e.substr(r+7,a-r-7).match(o?AC:q_),i+=e.substr(t,r-t)+HC(o?s:+s[0],o?0:+s[1],+s[2]||1e-5),t=a+1;return i+e.substr(t,e.length-t)},$C=function(e,t,i,r,s){var a=t-e,o=r-i;return zo(s,function(l){return i+((l-e)/a*o||0)})},S5=function n(e,t,i,r){var s=isNaN(e+t)?0:function(m){return(1-m)*e+m*t};if(!s){var a=kn(e),o={},l,c,u,h,d;if(i===!0&&(r=1)&&(i=null),a)e={p:e},t={p:t};else if(nr(e)&&!nr(t)){for(u=[],h=e.length,d=h-2,c=1;c<h;c++)u.push(n(e[c-1],e[c]));h--,s=function(v){v*=h;var _=Math.min(d,~~v);return u[_](v-_)},i=t}else r||(e=Jl(nr(e)?[]:{},e));if(!u){for(l in t)fx.call(o,e,l,"get",t[l]);s=function(v){return yx(v,o)||(a?e.p:e)}}}return zo(i,s)},_C=function(e,t,i){var r=e.labels,s=ds,a,o,l;for(a in r)o=r[a]-t,o<0==!!i&&o&&s>(o=Math.abs(o))&&(l=a,s=o);return l},ms=function(e,t,i){var r=e.vars,s=r[t],a=wn,o=e._ctx,l,c,u;if(s)return l=r[t+"Params"],c=r.callbackScope||e,i&&Fo.length&&pm(),o&&(wn=o),u=l?s.apply(c,l):s.call(c),wn=a,u},Af=function(e){return Uo(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Mr),e.progress()<1&&ms(e,"onInterrupt"),e},hu,T5=function(e){e=!e.name&&e.default||e;var t=e.name,i=fn(e),r=t&&!i&&e.init?function(){this._props=[]}:e,s={init:Df,render:yx,add:fx,kill:z5,modifier:U5,rawVars:0},a={targetTest:0,get:0,getSetter:Sm,aliases:{},register:0};if(mu(),e!==r){if(wr[t])return;gs(r,gs(mm(e,s),a)),Jl(r.prototype,Jl(s,mm(e,a))),wr[r.prop=t]=r,e.targetTest&&(um.push(r),ax[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}PC(t,r),e.register&&e.register(dr,r,mr)},Gi=255,Mf={aqua:[0,Gi,Gi],lime:[0,Gi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Gi],navy:[0,0,128],white:[Gi,Gi,Gi],olive:[128,128,0],yellow:[Gi,Gi,0],orange:[Gi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Gi,0,0],pink:[Gi,192,203],cyan:[0,Gi,Gi],transparent:[Gi,Gi,Gi,0]},z_=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*Gi+.5|0},WC=function(e,t,i){var r=e?Va(e)?[e>>16,e>>8&Gi,e&Gi]:0:Mf.black,s,a,o,l,c,u,h,d,m,v;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Mf[e])r=Mf[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),a=e.charAt(2),o=e.charAt(3),e="#"+s+s+a+a+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&Gi,r&Gi,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&Gi,e&Gi]}else if(e.substr(0,3)==="hsl"){if(r=v=e.match(q_),!t)l=+r[0]%360/360,c=+r[1]/100,u=+r[2]/100,a=u<=.5?u*(c+1):u+c-u*c,s=u*2-a,r.length>3&&(r[3]*=1),r[0]=z_(l+1/3,s,a),r[1]=z_(l,s,a),r[2]=z_(l-1/3,s,a);else if(~e.indexOf("="))return r=e.match(nx),i&&r.length<4&&(r[3]=1),r}else r=e.match(q_)||Mf.transparent;r=r.map(Number)}return t&&!v&&(s=r[0]/Gi,a=r[1]/Gi,o=r[2]/Gi,h=Math.max(s,a,o),d=Math.min(s,a,o),u=(h+d)/2,h===d?l=c=0:(m=h-d,c=u>.5?m/(2-h-d):m/(h+d),l=h===s?(a-o)/m+(a<o?6:0):h===a?(o-s)/m+2:(s-a)/m+4,l*=60),r[0]=~~(l+.5),r[1]=~~(c*100+.5),r[2]=~~(u*100+.5)),i&&r.length<4&&(r[3]=1),r},qC=function(e){var t=[],i=[],r=-1;return e.split(za).forEach(function(s){var a=s.match(Zl)||[];t.push.apply(t,a),i.push(r+=a.length+1)}),t.c=i,t},xC=function(e,t,i){var r="",s=(e+r).match(za),a=t?"hsla(":"rgba(",o=0,l,c,u,h;if(!s)return e;if(s=s.map(function(d){return(d=WC(d,t,1))&&a+(t?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),i&&(u=qC(e),l=i.c,l.join(r)!==u.c.join(r)))for(c=e.replace(za,"1").split(Zl),h=c.length-1;o<h;o++)r+=c[o]+(~l.indexOf(o)?s.shift()||a+"0,0,0,0)":(u.length?u:s.length?s:i).shift());if(!c)for(c=e.split(za),h=c.length-1;o<h;o++)r+=c[o]+s[o];return r+c[h]},za=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Mf)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),w5=/hsl[a]?\(/,ux=function(e){var t=e.join(" "),i;if(za.lastIndex=0,za.test(t))return i=w5.test(t),e[1]=xC(e[1],i),e[0]=xC(e[0],i,qC(e[1])),!0},Rf,Ar=function(){var n=Date.now,e=500,t=33,i=n(),r=i,s=1e3/240,a=s,o=[],l,c,u,h,d,m,v=function _(g){var y=n()-r,b=g===!0,E,w,D,P;if(y>e&&(i+=y-t),r+=y,D=r-i,E=D-a,(E>0||b)&&(P=++h.frame,d=D-h.time*1e3,h.time=D=D/1e3,a+=E+(E>=s?4:s-E),w=1),b||(l=c(_)),w)for(m=0;m<o.length;m++)o[m](D,d,P,g)};return h={time:0,frame:0,tick:function(){v(!0)},deltaRatio:function(g){return d/(1e3/(g||60))},wake:function(){MC&&(!j_&&TC()&&(fs=j_=window,sx=fs.document||{},$r.gsap=dr,(fs.gsapVersions||(fs.gsapVersions=[])).push(dr.version),CC(fm||fs.GreenSockGlobals||!fs.gsap&&fs||{}),u=fs.requestAnimationFrame),l&&h.sleep(),c=u||function(g){return setTimeout(g,a-h.time*1e3+1|0)},Rf=1,v(2))},sleep:function(){(u?fs.cancelAnimationFrame:clearTimeout)(l),Rf=0,c=Df},lagSmoothing:function(g,y){e=g||1/Ui,t=Math.min(y,e,0)},fps:function(g){s=1e3/(g||240),a=h.time*1e3+s},add:function(g,y,b){var E=y?function(w,D,P,M){g(w,D,P,M),h.remove(E)}:g;return h.remove(g),o[b?"unshift":"push"](E),mu(),E},remove:function(g,y){~(y=o.indexOf(g))&&o.splice(y,1)&&m>=y&&m--},_listeners:o},h}(),mu=function(){return!Rf&&Ar.wake()},di={},A5=/^[\d.\-M][\d.\-,\s]/,M5=/["']/g,C5=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),r=i[0],s=1,a=i.length,o,l,c;s<a;s++)l=i[s],o=s!==a-1?l.lastIndexOf(","):l.length,c=l.substr(0,o),t[r]=isNaN(c)?c.replace(M5,"").trim():+c,r=l.substr(o+1).trim();return t},P5=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)},I5=function(e){var t=(e+"").split("("),i=di[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[C5(t[1])]:P5(e).split(",").map(RC)):di._CE&&A5.test(e)?di._CE("",e):i},jC=function(e){return function(t){return 1-e(1-t)}},XC=function n(e,t){for(var i=e._first,r;i;)i instanceof ir?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},Kl=function(e,t){return e&&(fn(e)?e:di[e]||I5(e))||t},ec=function(e,t,i,r){i===void 0&&(i=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:i,easeInOut:r},a;return pr(e,function(o){di[o]=$r[o]=s,di[a=o.toLowerCase()]=i;for(var l in s)di[a+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=di[o+"."+l]=s[l]}),s},YC=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},V_=function n(e,t,i){var r=t>=1?t:1,s=(i||(e?.3:.45))/(t<1?t:1),a=s/W_*(Math.asin(1/r)||0),o=function(u){return u===1?1:r*Math.pow(2,-10*u)*n5((u-a)*s)+1},l=e==="out"?o:e==="in"?function(c){return 1-o(1-c)}:YC(o);return s=W_/s,l.config=function(c,u){return n(e,c,u)},l},H_=function n(e,t){t===void 0&&(t=1.70158);var i=function(a){return a?--a*a*((t+1)*a+t)+1:0},r=e==="out"?i:e==="in"?function(s){return 1-i(1-s)}:YC(i);return r.config=function(s){return n(e,s)},r};pr("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;ec(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});di.Linear.easeNone=di.none=di.Linear.easeIn;ec("Elastic",V_("in"),V_("out"),V_());(function(n,e){var t=1/e,i=2*t,r=2.5*t,s=function(o){return o<t?n*o*o:o<i?n*Math.pow(o-1.5/e,2)+.75:o<r?n*(o-=2.25/e)*o+.9375:n*Math.pow(o-2.625/e,2)+.984375};ec("Bounce",function(a){return 1-s(1-a)},s)})(7.5625,2.75);ec("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});ec("Circ",function(n){return-(SC(1-n*n)-1)});ec("Sine",function(n){return n===1?1:-i5(n*e5)+1});ec("Back",H_("in"),H_("out"),H_());di.SteppedEase=di.steps=$r.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,r=e+(t?0:1),s=t?1:0,a=1-Ui;return function(o){return((r*Lf(0,a,o)|0)+s)*i}}};fu.ease=di["quad.out"];pr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return ox+=n+","+n+"Params,"});var hx=function(e,t){this.id=t5++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:cx,this.set=t?t.getSetter:Sm},gu=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,pu(this,+t.duration,1,1),this.data=t.data,wn&&(this._ctx=wn,wn.data.push(this)),Rf||Ar.wake()}var e=n.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,pu(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(mu(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Em(this,i),!s._dp||s.parent||NC(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&sa(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Ui||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),DC(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+yC(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+yC(this),r):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?du(this._tTime,s)+1:1},e.timeScale=function(i){if(!arguments.length)return this._rts===-Ui?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?gm(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-Ui?0:this._rts,this.totalTime(Lf(-this._delay,this._tDur,r),!0),bm(this),u5(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(mu(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ui&&(this._tTime-=Ui)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&sa(r,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Cr(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?gm(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=a5);var r=Mr;return Mr=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),Mr=r,this},e.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(r._ts||1),r=r._dp;return!this.parent&&this.vars.immediateRender?-1:s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,vC(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,vC(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(hs(this,i),Cr(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,Cr(r))},e.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-Ui:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ui,this},e.isActive=function(){var i=this.parent||this._dp,r=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-Ui)},e.eventCallback=function(i,r,s){var a=this.vars;return arguments.length>1?(r?(a[i]=r,s&&(a[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=r)):delete a[i],this):a[i]},e.then=function(i){var r=this;return new Promise(function(s){var a=fn(i)?i:LC,o=function(){var c=r.then;r.then=null,fn(a)&&(a=a(r))&&(a.then||a===r)&&(r.then=c),s(a),r.then=c};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?o():r._prom=o})},e.kill=function(){Af(this)},n}();gs(gu.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ui,_prom:0,_ps:!1,_rts:1});var ir=function(n){EC(e,n);function e(i,r){var s;return i===void 0&&(i={}),s=n.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=Cr(i.sortChildren),an&&sa(i.parent||an,Ua(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&kC(Ua(s),i.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,a){return Pf(0,arguments,this),this},t.from=function(r,s,a){return Pf(1,arguments,this),this},t.fromTo=function(r,s,a,o){return Pf(2,arguments,this),this},t.set=function(r,s,a){return s.duration=0,s.parent=this,Cf(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Tn(r,s,hs(this,a),1),this},t.call=function(r,s,a){return sa(this,Tn.delayedCall(0,r,s),a)},t.staggerTo=function(r,s,a,o,l,c,u){return a.duration=s,a.stagger=a.stagger||o,a.onComplete=c,a.onCompleteParams=u,a.parent=this,new Tn(r,a,hs(this,l)),this},t.staggerFrom=function(r,s,a,o,l,c,u){return a.runBackwards=1,Cf(a).immediateRender=Cr(a.immediateRender),this.staggerTo(r,s,a,o,l,c,u)},t.staggerFromTo=function(r,s,a,o,l,c,u,h){return o.startAt=a,Cf(o).immediateRender=Cr(o.immediateRender),this.staggerTo(r,s,o,l,c,u,h)},t.render=function(r,s,a){var o=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=r<=0?0:Wn(r),h=this._zTime<0!=r<0&&(this._initted||!c),d,m,v,_,g,y,b,E,w,D,P,M;if(this!==an&&u>l&&r>=0&&(u=l),u!==this._tTime||a||h){if(o!==this._time&&c&&(u+=this._time-o,r+=this._time-o),d=u,w=this._start,E=this._ts,y=!E,h&&(c||(o=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(P=this._yoyo,g=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(g*100+r,s,a);if(d=Wn(u%g),u===l?(_=this._repeat,d=c):(_=~~(u/g),_&&_===u/g&&(d=c,_--),d>c&&(d=c)),D=du(this._tTime,g),!o&&this._tTime&&D!==_&&(D=_),P&&_&1&&(d=c-d,M=1),_!==D&&!this._lock){var R=P&&D&1,I=R===(P&&_&1);if(_<D&&(R=!R),o=R?0:c,this._lock=1,this.render(o||(M?0:Wn(_*g)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&ms(this,"onRepeat"),this.vars.repeatRefresh&&!M&&(this.invalidate()._lock=1),o&&o!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,I&&(this._lock=2,o=R?c:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!M&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;XC(this,M)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(b=p5(this,Wn(o),Wn(d)),b&&(u-=d-(d=b._start))),this._tTime=u,this._time=d,this._act=!E,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,o=0),!o&&d&&!s&&(ms(this,"onStart"),this._tTime!==u))return this;if(d>=o&&r>=0)for(m=this._first;m;){if(v=m._next,(m._act||d>=m._start)&&m._ts&&b!==m){if(m.parent!==this)return this.render(r,s,a);if(m.render(m._ts>0?(d-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(d-m._start)*m._ts,s,a),d!==this._time||!this._ts&&!y){b=0,v&&(u+=this._zTime=-Ui);break}}m=v}else{m=this._last;for(var A=r<0?r:d;m;){if(v=m._prev,(m._act||A<=m._end)&&m._ts&&b!==m){if(m.parent!==this)return this.render(r,s,a);if(m.render(m._ts>0?(A-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(A-m._start)*m._ts,s,a||Mr&&(m._initted||m._startAt)),d!==this._time||!this._ts&&!y){b=0,v&&(u+=this._zTime=A?-Ui:Ui);break}}m=v}}if(b&&!s&&(this.pause(),b.render(d>=o?0:-Ui)._zTime=d>=o?1:-1,this._ts))return this._start=w,bm(this),this.render(r,s,a);this._onUpdate&&!s&&ms(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&o)&&(w===this._start||Math.abs(E)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&Uo(this,1),!s&&!(r<0&&!o)&&(u||o||!l)&&(ms(this,u===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var a=this;if(Va(s)||(s=hs(this,s,r)),!(r instanceof gu)){if(nr(r))return r.forEach(function(o){return a.add(o,s)}),this;if(kn(r))return this.addLabel(r,s);if(fn(r))r=Tn.delayedCall(0,r);else return this}return this!==r?sa(this,r,s):this},t.getChildren=function(r,s,a,o){r===void 0&&(r=!0),s===void 0&&(s=!0),a===void 0&&(a=!0),o===void 0&&(o=-ds);for(var l=[],c=this._first;c;)c._start>=o&&(c instanceof Tn?s&&l.push(c):(a&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,s,a)))),c=c._next;return l},t.getById=function(r){for(var s=this.getChildren(1,1,1),a=s.length;a--;)if(s[a].vars.id===r)return s[a]},t.remove=function(r){return kn(r)?this.removeLabel(r):fn(r)?this.killTweensOf(r):(xm(this,r),r===this._recent&&(this._recent=this._last),Yl(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Wn(Ar.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=hs(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,a){var o=Tn.delayedCall(0,s||Df,a);return o.data="isPause",this._hasPause=1,sa(this,o,hs(this,r))},t.removePause=function(r){var s=this._first;for(r=hs(this,r);s;)s._start===r&&s.data==="isPause"&&Uo(s),s=s._next},t.killTweensOf=function(r,s,a){for(var o=this.getTweensOf(r,a),l=o.length;l--;)ko!==o[l]&&o[l].kill(r,s);return this},t.getTweensOf=function(r,s){for(var a=[],o=ps(r),l=this._first,c=Va(s),u;l;)l instanceof Tn?o5(l._targets,o)&&(c?(!ko||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&a.push(l):(u=l.getTweensOf(o,s)).length&&a.push.apply(a,u),l=l._next;return a},t.tweenTo=function(r,s){s=s||{};var a=this,o=hs(a,r),l=s,c=l.startAt,u=l.onStart,h=l.onStartParams,d=l.immediateRender,m,v=Tn.to(a,gs({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:s.duration||Math.abs((o-(c&&"time"in c?c.time:a._time))/a.timeScale())||Ui,onStart:function(){if(a.pause(),!m){var g=s.duration||Math.abs((o-(c&&"time"in c?c.time:a._time))/a.timeScale());v._dur!==g&&pu(v,g,0,1).render(v._time,!0,!0),m=1}u&&u.apply(v,h||[])}},s));return d?v.render(0):v},t.tweenFromTo=function(r,s,a){return this.tweenTo(s,gs({startAt:{time:hs(this,r)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),_C(this,hs(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),_C(this,hs(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Ui)},t.shiftChildren=function(r,s,a){a===void 0&&(a=0);for(var o=this._first,l=this.labels,c;o;)o._start>=a&&(o._start+=r,o._end+=r),o=o._next;if(s)for(c in l)l[c]>=a&&(l[c]+=r);return Yl(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return n.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,a;s;)a=s._next,this.remove(s),s=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Yl(this)},t.totalDuration=function(r){var s=0,a=this,o=a._last,l=ds,c,u,h;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(h=a.parent;o;)c=o._prev,o._dirty&&o.totalDuration(),u=o._start,u>l&&a._sort&&o._ts&&!a._lock?(a._lock=1,sa(a,o,u-o._delay,1)._lock=0):l=u,u<0&&o._ts&&(s-=u,(!h&&!a._dp||h&&h.smoothChildTiming)&&(a._start+=u/a._ts,a._time-=u,a._tTime-=u),a.shiftChildren(-u,!1,-1/0),l=0),o._end>s&&o._ts&&(s=o._end),o=c;pu(a,a===an&&a._time>s?a._time:s,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(r){if(an._ts&&(DC(an,gm(r,an)),IC=Ar.frame),Ar.frame>=mC){mC+=Pr.autoSleep||120;var s=an._first;if((!s||!s._ts)&&Pr.autoSleep&&Ar._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Ar.sleep()}}},e}(gu);gs(ir.prototype,{_lock:0,_hasPause:0,_forcing:0});var D5=function(e,t,i,r,s,a,o){var l=new mr(this._pt,e,t,0,1,gx,null,s),c=0,u=0,h,d,m,v,_,g,y,b;for(l.b=i,l.e=r,i+="",r+="",(y=~r.indexOf("random("))&&(r=vu(r)),a&&(b=[i,r],a(b,e,t),i=b[0],r=b[1]),d=i.match(B_)||[];h=B_.exec(r);)v=h[0],_=r.substring(c,h.index),m?m=(m+1)%5:_.substr(-5)==="rgba("&&(m=1),v!==d[u++]&&(g=parseFloat(d[u-1])||0,l._pt={_next:l._pt,p:_||u===1?_:",",s:g,c:v.charAt(1)==="="?Ql(g,v)-g:parseFloat(v)-g,m:m&&m<4?Math.round:0},c=B_.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=o,(rx.test(r)||y)&&(l.e=0),this._pt=l,l},fx=function(e,t,i,r,s,a,o,l,c,u){fn(r)&&(r=r(s||0,e,a));var h=e[t],d=i!=="get"?i:fn(h)?c?e[t.indexOf("set")||!fn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():h,m=fn(h)?c?k5:ZC:mx,v;if(kn(r)&&(~r.indexOf("random(")&&(r=vu(r)),r.charAt(1)==="="&&(v=Ql(d,r)+(qn(d)||0),(v||v===0)&&(r=v))),!u||d!==r||ex)return!isNaN(d*r)&&r!==""?(v=new mr(this._pt,e,t,+d||0,r-(d||0),typeof h=="boolean"?B5:QC,0,m),c&&(v.fp=c),o&&v.modifier(o,this,e),this._pt=v):(!h&&!(t in e)&&_m(t,r),D5.call(this,e,t,d,r,m,l||Pr.stringFilter,c))},R5=function(e,t,i,r,s){if(fn(e)&&(e=If(e,s,t,i,r)),!aa(e)||e.style&&e.nodeType||nr(e)||wC(e))return kn(e)?If(e,s,t,i,r):e;var a={},o;for(o in e)a[o]=If(e[o],s,t,i,r);return a},dx=function(e,t,i,r,s,a){var o,l,c,u;if(wr[e]&&(o=new wr[e]).init(s,o.rawVars?t[e]:R5(t[e],r,s,a,i),i,r,a)!==!1&&(i._pt=l=new mr(i._pt,s,e,0,1,o.render,o,0,o.priority),i!==hu))for(c=i._ptLookup[i._targets.indexOf(s)],u=o._props.length;u--;)c[o._props[u]]=l;return o},ko,ex,px=function n(e,t,i){var r=e.vars,s=r.ease,a=r.startAt,o=r.immediateRender,l=r.lazy,c=r.onUpdate,u=r.onUpdateParams,h=r.callbackScope,d=r.runBackwards,m=r.yoyoEase,v=r.keyframes,_=r.autoRevert,g=e._dur,y=e._startAt,b=e._targets,E=e.parent,w=E&&E.data==="nested"?E.vars.targets:b,D=e._overwrite==="auto"&&!ix,P=e.timeline,M,R,I,A,N,G,X,J,ge,te,pe,re,ne;if(P&&(!v||!s)&&(s="none"),e._ease=Kl(s,fu.ease),e._yEase=m?jC(Kl(m===!0?s:m,fu.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!P&&!!r.runBackwards,!P||v&&!r.stagger){if(J=b[0]?Bo(b[0]).harness:0,re=J&&r[J.prop],M=mm(r,ax),y&&(y._zTime<0&&y.progress(1),t<0&&d&&o&&!_?y.render(-1,!0):y.revert(d&&g?cm:s5),y._lazy=0),a){if(Uo(e._startAt=Tn.set(b,gs({data:"isStart",overwrite:!1,parent:E,immediateRender:!0,lazy:Cr(l),startAt:null,delay:0,onUpdate:c,onUpdateParams:u,callbackScope:h,stagger:0},a))),e._startAt._dp=0,t<0&&(Mr||!o&&!_)&&e._startAt.revert(cm),o&&g&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(d&&g&&!y){if(t&&(o=!1),I=gs({overwrite:!1,data:"isFromStart",lazy:o&&Cr(l),immediateRender:o,stagger:0,parent:E},M),re&&(I[J.prop]=re),Uo(e._startAt=Tn.set(b,I)),e._startAt._dp=0,t<0&&(Mr?e._startAt.revert(cm):e._startAt.render(-1,!0)),e._zTime=t,!o)n(e._startAt,Ui,Ui);else if(!t)return}for(e._pt=e._ptCache=0,l=g&&Cr(l)||l&&!g,R=0;R<b.length;R++){if(N=b[R],X=N._gsap||lx(b)[R]._gsap,e._ptLookup[R]=te={},X_[X.id]&&Fo.length&&pm(),pe=w===b?R:w.indexOf(N),J&&(ge=new J).init(N,re||M,e,pe,w)!==!1&&(e._pt=A=new mr(e._pt,N,ge.name,0,1,ge.render,ge,0,ge.priority),ge._props.forEach(function(qe){te[qe]=A}),ge.priority&&(G=1)),!J||re)for(I in M)wr[I]&&(ge=dx(I,M,e,pe,N,w))?ge.priority&&(G=1):te[I]=A=fx.call(e,N,I,"get",M[I],pe,w,0,r.stringFilter);e._op&&e._op[R]&&e.kill(N,e._op[R]),D&&e._pt&&(ko=e,an.killTweensOf(N,te,e.globalTime(t)),ne=!e.parent,ko=0),e._pt&&l&&(X_[X.id]=1)}G&&vx(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!ne,v&&t<=0&&P.render(ds,!0,!0)},L5=function(e,t,i,r,s,a,o){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,u,h,d;if(!l)for(l=e._ptCache[t]=[],h=e._ptLookup,d=e._targets.length;d--;){if(c=h[d][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return ex=1,e.vars[t]="+=0",px(e,o),ex=0,1;l.push(c)}for(d=l.length;d--;)u=l[d],c=u._pt||u,c.s=(r||r===0)&&!s?r:c.s+(r||0)+a*c.c,c.c=i-c.s,u.e&&(u.e=dn(i)+qn(u.e)),u.b&&(u.b=c.s+qn(u.b))},O5=function(e,t){var i=e[0]?Bo(e[0]).harness:0,r=i&&i.aliases,s,a,o,l;if(!r)return t;s=Jl({},t);for(a in r)if(a in s)for(l=r[a].split(","),o=l.length;o--;)s[l[o]]=s[a];return s},N5=function(e,t,i,r){var s=t.ease||r||"power1.inOut",a,o;if(nr(t))o=i[e]||(i[e]=[]),t.forEach(function(l,c){return o.push({t:c/(t.length-1)*100,v:l,e:s})});else for(a in t)o=i[a]||(i[a]=[]),a==="ease"||o.push({t:parseFloat(e),v:t[a],e:s})},If=function(e,t,i,r,s){return fn(e)?e.call(t,i,r,s):kn(e)&&~e.indexOf("random(")?vu(e):e},KC=ox+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",JC={};pr(KC+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return JC[n]=1});var Tn=function(n){EC(e,n);function e(i,r,s,a){var o;typeof r=="number"&&(s.duration=r,r=s,s=null),o=n.call(this,a?r:Cf(r))||this;var l=o.vars,c=l.duration,u=l.delay,h=l.immediateRender,d=l.stagger,m=l.overwrite,v=l.keyframes,_=l.defaults,g=l.scrollTrigger,y=l.yoyoEase,b=r.parent||an,E=(nr(i)||wC(i)?Va(i[0]):"length"in r)?[i]:ps(i),w,D,P,M,R,I,A,N;if(o._targets=E.length?lx(E):dm("GSAP target "+i+" not found. https://greensock.com",!Pr.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=m,v||d||lm(c)||lm(u)){if(r=o.vars,w=o.timeline=new ir({data:"nested",defaults:_||{},targets:b&&b.data==="nested"?b.vars.targets:E}),w.kill(),w.parent=w._dp=Ua(o),w._start=0,d||lm(c)||lm(u)){if(M=E.length,A=d&&zC(d),aa(d))for(R in d)~KC.indexOf(R)&&(N||(N={}),N[R]=d[R]);for(D=0;D<M;D++)P=mm(r,JC),P.stagger=0,y&&(P.yoyoEase=y),N&&Jl(P,N),I=E[D],P.duration=+If(c,Ua(o),D,I,E),P.delay=(+If(u,Ua(o),D,I,E)||0)-o._delay,!d&&M===1&&P.delay&&(o._delay=u=P.delay,o._start+=u,P.delay=0),w.to(I,P,A?A(D,I,E):0),w._ease=di.none;w.duration()?c=u=0:o.timeline=0}else if(v){Cf(gs(w.vars.defaults,{ease:"none"})),w._ease=Kl(v.ease||r.ease||"none");var G=0,X,J,ge;if(nr(v))v.forEach(function(te){return w.to(E,te,">")}),w.duration();else{P={};for(R in v)R==="ease"||R==="easeEach"||N5(R,v[R],P,v.easeEach);for(R in P)for(X=P[R].sort(function(te,pe){return te.t-pe.t}),G=0,D=0;D<X.length;D++)J=X[D],ge={ease:J.e,duration:(J.t-(D?X[D-1].t:0))/100*c},ge[R]=J.v,w.to(E,ge,G),G+=ge.duration;w.duration()<c&&w.to({},{duration:c-w.duration()})}}c||o.duration(c=w.duration())}else o.timeline=0;return m===!0&&!ix&&(ko=Ua(o),an.killTweensOf(E),ko=0),sa(b,Ua(o),s),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(h||!c&&!v&&o._start===Wn(b._time)&&Cr(h)&&h5(Ua(o))&&b.data!=="nested")&&(o._tTime=-Ui,o.render(Math.max(0,-u)||0)),g&&kC(Ua(o),g),o}var t=e.prototype;return t.render=function(r,s,a){var o=this._time,l=this._tDur,c=this._dur,u=r<0,h=r>l-Ui&&!u?l:r<Ui?0:r,d,m,v,_,g,y,b,E,w;if(!c)d5(this,r,s,a);else if(h!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(d=h,E=this.timeline,this._repeat){if(_=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(_*100+r,s,a);if(d=Wn(h%_),h===l?(v=this._repeat,d=c):(v=~~(h/_),v&&v===h/_&&(d=c,v--),d>c&&(d=c)),y=this._yoyo&&v&1,y&&(w=this._yEase,d=c-d),g=du(this._tTime,_),d===o&&!a&&this._initted)return this._tTime=h,this;v!==g&&(E&&this._yEase&&XC(E,y),this.vars.repeatRefresh&&!y&&!this._lock&&(this._lock=a=1,this.render(Wn(_*v),!0).invalidate()._lock=0))}if(!this._initted){if(FC(this,u?r:d,a,s,h))return this._tTime=0,this;if(o!==this._time)return this;if(c!==this._dur)return this.render(r,s,a)}if(this._tTime=h,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=b=(w||this._ease)(d/c),this._from&&(this.ratio=b=1-b),d&&!o&&!s&&(ms(this,"onStart"),this._tTime!==h))return this;for(m=this._pt;m;)m.r(b,m.d),m=m._next;E&&E.render(r<0?r:!d&&y?-Ui:E._dur*E._ease(d/this._dur),s,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(u&&Y_(this,r,s,a),ms(this,"onUpdate")),this._repeat&&v!==g&&this.vars.onRepeat&&!s&&this.parent&&ms(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(u&&!this._onUpdate&&Y_(this,r,!0,!0),(r||!c)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&Uo(this,1),!s&&!(u&&!o)&&(h||o||y)&&(ms(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),n.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,a,o){Rf||Ar.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||px(this,l),c=this._ease(l/this._dur),L5(this,r,s,a,o,c,l)?this.resetTo(r,s,a,o):(Em(this,0),this.parent||OC(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Af(this):this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,ko&&ko.vars.overwrite!==!0)._first||Af(this),this.parent&&a!==this.timeline.totalDuration()&&pu(this,this._dur*this.timeline._tDur/a,0,1),this}var o=this._targets,l=r?ps(r):o,c=this._ptLookup,u=this._pt,h,d,m,v,_,g,y;if((!s||s==="all")&&c5(o,l))return s==="all"&&(this._pt=0),Af(this);for(h=this._op=this._op||[],s!=="all"&&(kn(s)&&(_={},pr(s,function(b){return _[b]=1}),s=_),s=O5(o,s)),y=o.length;y--;)if(~l.indexOf(o[y])){d=c[y],s==="all"?(h[y]=s,v=d,m={}):(m=h[y]=h[y]||{},v=s);for(_ in v)g=d&&d[_],g&&((!("kill"in g.d)||g.d.kill(_)===!0)&&xm(this,g,"_pt"),delete d[_]),m!=="all"&&(m[_]=1)}return this._initted&&!this._pt&&u&&Af(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return Pf(1,arguments)},e.delayedCall=function(r,s,a,o){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},e.fromTo=function(r,s,a){return Pf(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,a){return an.killTweensOf(r,s,a)},e}(gu);gs(Tn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});pr("staggerTo,staggerFrom,staggerFromTo",function(n){Tn[n]=function(){var e=new ir,t=J_.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var mx=function(e,t,i){return e[t]=i},ZC=function(e,t,i){return e[t](i)},k5=function(e,t,i,r){return e[t](r.fp,i)},F5=function(e,t,i){return e.setAttribute(t,i)},Sm=function(e,t){return fn(e[t])?ZC:vm(e[t])&&e.setAttribute?F5:mx},QC=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},B5=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},gx=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},yx=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},U5=function(e,t,i,r){for(var s=this._pt,a;s;)a=s._next,s.p===r&&s.modifier(e,t,i),s=a},z5=function(e){for(var t=this._pt,i,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?xm(this,t,"_pt"):t.dep||(i=1),t=r;return!i},V5=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},vx=function(e){for(var t=e._pt,i,r,s,a;t;){for(i=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:a)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:a=t,t=i}e._pt=s},mr=function(){function n(t,i,r,s,a,o,l,c,u){this.t=i,this.s=s,this.c=a,this.p=r,this.r=o||QC,this.d=l||this,this.set=c||mx,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=V5,this.m=i,this.mt=s,this.tween=r},n}();pr(ox+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return ax[n]=1});$r.TweenMax=$r.TweenLite=Tn;$r.TimelineLite=$r.TimelineMax=ir;an=new ir({sortChildren:!1,defaults:fu,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Pr.stringFilter=ux;var yu=[],hm={},H5=[],bC=0,G_=function(e){return(hm[e]||H5).map(function(t){return t()})},tx=function(){var e=Date.now(),t=[];e-bC>2&&(G_("matchMediaInit"),yu.forEach(function(i){var r=i.queries,s=i.conditions,a,o,l,c;for(o in r)a=fs.matchMedia(r[o]).matches,a&&(l=1),a!==s[o]&&(s[o]=a,c=1);c&&(i.revert(),l&&t.push(i))}),G_("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i)}),bC=e,G_("matchMedia"))},eP=function(){function n(t,i){this.selector=i&&Z_(i),this.data=[],this._r=[],this.isReverted=!1,t&&this.add(t)}var e=n.prototype;return e.add=function(i,r,s){fn(i)&&(s=r,r=i,i=fn);var a=this,o=function(){var c=wn,u=a.selector,h;return c&&c!==a&&c.data.push(a),s&&(a.selector=Z_(s)),wn=a,h=r.apply(a,arguments),fn(h)&&a._r.push(h),wn=c,a.selector=u,a.isReverted=!1,h};return a.last=o,i===fn?o(a):i?a[i]=o:o},e.ignore=function(i){var r=wn;wn=null,i(this),wn=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof n?i.push.apply(i,r.getTweens()):r instanceof Tn&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var s=this;if(i){var a=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return a.splice(a.indexOf(c),1)}))}),a.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,c){return c.g-l.g||-1}).forEach(function(l){return l.t.revert(i)}),this.data.forEach(function(l){return!(l instanceof gu)&&l.revert&&l.revert(i)}),this._r.forEach(function(l){return l(i,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),r){var o=yu.indexOf(this);~o&&yu.splice(o,1)}},e.revert=function(i){this.kill(i||{})},n}(),G5=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(i,r,s){aa(i)||(i={matches:i});var a=new eP(0,s||this.scope),o=a.conditions={},l,c,u;this.contexts.push(a),r=a.add("onMatch",r),a.queries=i;for(c in i)c==="all"?u=1:(l=fs.matchMedia(i[c]),l&&(yu.indexOf(a)<0&&yu.push(a),(o[c]=l.matches)&&(u=1),l.addListener?l.addListener(tx):l.addEventListener("change",tx)));return u&&r(a),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},n}(),ym={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return T5(r)})},timeline:function(e){return new ir(e)},getTweensOf:function(e,t){return an.getTweensOf(e,t)},getProperty:function(e,t,i,r){kn(e)&&(e=ps(e)[0]);var s=Bo(e||{}).get,a=i?LC:RC;return i==="native"&&(i=""),e&&(t?a((wr[t]&&wr[t].get||s)(e,t,i,r)):function(o,l,c){return a((wr[o]&&wr[o].get||s)(e,o,l,c))})},quickSetter:function(e,t,i){if(e=ps(e),e.length>1){var r=e.map(function(u){return dr.quickSetter(u,t,i)}),s=r.length;return function(u){for(var h=s;h--;)r[h](u)}}e=e[0]||{};var a=wr[t],o=Bo(e),l=o.harness&&(o.harness.aliases||{})[t]||t,c=a?function(u){var h=new a;hu._pt=0,h.init(e,i?u+i:u,hu,0,[e]),h.render(1,h),hu._pt&&yx(1,hu)}:o.set(e,l);return a?c:function(u){return c(e,l,i?u+i:u,o,1)}},quickTo:function(e,t,i){var r,s=dr.to(e,Jl((r={},r[t]="+=0.1",r.paused=!0,r),i||{})),a=function(l,c,u){return s.resetTo(t,l,c,u)};return a.tween=s,a},isTweening:function(e){return an.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Kl(e.ease,fu.ease)),gC(fu,e||{})},config:function(e){return gC(Pr,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,r=e.plugins,s=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach(function(o){return o&&!wr[o]&&!$r[o]&&dm(t+" effect requires "+o+" plugin.")}),U_[t]=function(o,l,c){return i(ps(o),gs(l||{},s),c)},a&&(ir.prototype[t]=function(o,l,c){return this.add(U_[t](o,aa(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){di[e]=Kl(t)},parseEase:function(e,t){return arguments.length?Kl(e,t):di},getById:function(e){return an.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new ir(e),r,s;for(i.smoothChildTiming=Cr(e.smoothChildTiming),an.remove(i),i._dp=0,i._time=i._tTime=an._time,r=an._first;r;)s=r._next,(t||!(!r._dur&&r instanceof Tn&&r.vars.onComplete===r._targets[0]))&&sa(i,r,r._start-r._delay),r=s;return sa(an,i,0),i},context:function(e,t){return e?new eP(e,t):wn},matchMedia:function(e){return new G5(e)},matchMediaRefresh:function(){return yu.forEach(function(e){var t=e.conditions,i,r;for(r in t)t[r]&&(t[r]=!1,i=1);i&&e.revert()})||tx()},addEventListener:function(e,t){var i=hm[e]||(hm[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=hm[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:b5,wrapYoyo:E5,distribute:zC,random:HC,snap:VC,normalize:x5,getUnit:qn,clamp:g5,splitColor:WC,toArray:ps,selector:Z_,mapRange:$C,pipe:v5,unitize:_5,interpolate:S5,shuffle:UC},install:CC,effects:U_,ticker:Ar,updateRoot:ir.updateRoot,plugins:wr,globalTimeline:an,core:{PropTween:mr,globals:PC,Tween:Tn,Timeline:ir,Animation:gu,getCache:Bo,_removeLinkedListItem:xm,reverting:function(){return Mr},context:function(e){return e&&wn&&(wn.data.push(e),e._ctx=wn),wn},suppressOverwrites:function(e){return ix=e}}};pr("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return ym[n]=Tn[n]});Ar.add(ir.updateRoot);hu=ym.to({},{duration:0});var $5=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},W5=function(e,t){var i=e._targets,r,s,a;for(r in t)for(s=i.length;s--;)a=e._ptLookup[s][r],a&&(a=a.d)&&(a._pt&&(a=$5(a,r)),a&&a.modifier&&a.modifier(t[r],e,i[s],r))},$_=function(e,t){return{name:e,rawVars:1,init:function(r,s,a){a._onInit=function(o){var l,c;if(kn(s)&&(l={},pr(s,function(u){return l[u]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}W5(o,s)}}}},dr=ym.registerPlugin({name:"attr",init:function(e,t,i,r,s){var a,o,l;this.tween=i;for(a in t)l=e.getAttribute(a)||"",o=this.add(e,"setAttribute",(l||0)+"",t[a],r,s,0,0,a),o.op=a,o.b=l,this._props.push(a)},render:function(e,t){for(var i=t._pt;i;)Mr?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},$_("roundProps",Q_),$_("modifiers"),$_("snap",VC))||ym;Tn.version=ir.version=dr.version="3.11.3";MC=1;TC()&&mu();var q5=di.Power0,j5=di.Power1,X5=di.Power2,Y5=di.Power3,K5=di.Power4,J5=di.Linear,Z5=di.Quad,Q5=di.Cubic,eV=di.Quart,tV=di.Quint,iV=di.Strong,nV=di.Elastic,rV=di.Back,sV=di.SteppedEase,aV=di.Bounce,oV=di.Sine,lV=di.Expo,cV=di.Circ;var tP,Vo,xu,wx,rc,uV,iP,Ax,hV=function(){return typeof window!="undefined"},$a={},nc=180/Math.PI,bu=Math.PI/180,_u=Math.atan2,nP=1e8,Mx=/([A-Z])/g,fV=/(left|right|width|margin|padding|x)/i,dV=/[\s,\(]\S/,Ga={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},bx=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},pV=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},mV=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},gV=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},uP=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},hP=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},yV=function(e,t,i){return e.style[t]=i},vV=function(e,t,i){return e.style.setProperty(t,i)},_V=function(e,t,i){return e._gsap[t]=i},xV=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},bV=function(e,t,i,r,s){var a=e._gsap;a.scaleX=a.scaleY=i,a.renderTransform(s,a)},EV=function(e,t,i,r,s){var a=e._gsap;a[t]=i,a.renderTransform(s,a)},on="transform",ks=on+"Origin",SV=function(e,t){var i=this,r=this.target,s=r.style;if(e in $a){if(this.tfm=this.tfm||{},e!=="transform"&&(e=Ga[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return i.tfm[a]=Ha(r,a)}):this.tfm[e]=r._gsap.x?r._gsap[e]:Ha(r,e)),this.props.indexOf(on)>=0)return;r._gsap.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(ks,t,"")),e=on}(s||t)&&this.props.push(e,t,s[e])},fP=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},TV=function(){var e=this.props,t=this.target,i=t.style,r=t._gsap,s,a;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty(e[s].replace(Mx,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=Ax(),s&&!s.isStart&&!i[on]&&(fP(i),r.uncache=1)}},dP=function(e,t){var i={target:e,props:[],revert:TV,save:SV};return t&&t.split(",").forEach(function(r){return i.save(r)}),i},pP,Ex=function(e,t){var i=Vo.createElementNS?Vo.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Vo.createElement(e);return i.style?i:Vo.createElement(e)},oa=function n(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(Mx,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&n(e,Eu(t)||t,1)||""},rP="O,Moz,ms,Ms,Webkit".split(","),Eu=function(e,t,i){var r=t||rc,s=r.style,a=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(rP[a]+e in s););return a<0?null:(a===3?"ms":a>=0?rP[a]:"")+e},Sx=function(){hV()&&window.document&&(tP=window,Vo=tP.document,xu=Vo.documentElement,rc=Ex("div")||{style:{}},uV=Ex("div"),on=Eu(on),ks=on+"Origin",rc.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",pP=!!Eu("perspective"),Ax=dr.core.reverting,wx=1)},_x=function n(e){var t=Ex("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,s=this.style.cssText,a;if(xu.appendChild(t),t.appendChild(this),this.style.display="block",e)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch(o){}else this._gsapBBox&&(a=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),xu.removeChild(t),this.style.cssText=s,a},sP=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},mP=function(e){var t;try{t=e.getBBox()}catch(i){t=_x.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===_x||(t=_x.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+sP(e,["x","cx","x1"])||0,y:+sP(e,["y","cy","y1"])||0,width:0,height:0}:t},gP=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&mP(e))},Nf=function(e,t){if(t){var i=e.style;t in $a&&t!==ks&&(t=on),i.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(t.replace(Mx,"-$1").toLowerCase())):i.removeAttribute(t)}},Ho=function(e,t,i,r,s,a){var o=new mr(e._pt,t,i,0,1,a?hP:uP);return e._pt=o,o.b=r,o.e=s,e._props.push(i),o},aP={deg:1,rad:1,turn:1},wV={grid:1,flex:1},Go=function n(e,t,i,r){var s=parseFloat(i)||0,a=(i+"").trim().substr((s+"").length)||"px",o=rc.style,l=fV.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),h=100,d=r==="px",m=r==="%",v,_,g,y;return r===a||!s||aP[r]||aP[a]?s:(a!=="px"&&!d&&(s=n(e,t,i,"px")),y=e.getCTM&&gP(e),(m||a==="%")&&($a[t]||~t.indexOf("adius"))?(v=y?e.getBBox()[l?"width":"height"]:e[u],dn(m?s/v*h:s/100*v)):(o[l?"width":"height"]=h+(d?a:r),_=~t.indexOf("adius")||r==="em"&&e.appendChild&&!c?e:e.parentNode,y&&(_=(e.ownerSVGElement||{}).parentNode),(!_||_===Vo||!_.appendChild)&&(_=Vo.body),g=_._gsap,g&&m&&g.width&&l&&g.time===Ar.time&&!g.uncache?dn(s/g.width*h):((m||a==="%")&&!wV[oa(_,"display")]&&(o.position=oa(e,"position")),_===e&&(o.position="static"),_.appendChild(rc),v=rc[u],_.removeChild(rc),o.position="absolute",l&&m&&(g=Bo(_),g.time=Ar.time,g.width=_[u]),dn(d?v*s/h:v&&s?h/v*s:0))))},Ha=function(e,t,i,r){var s;return wx||Sx(),t in Ga&&t!=="transform"&&(t=Ga[t],~t.indexOf(",")&&(t=t.split(",")[0])),$a[t]&&t!=="transform"?(s=Ff(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:wm(oa(e,ks))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=Tm[t]&&Tm[t](e,t,i)||oa(e,t)||cx(e,t)||(t==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?Go(e,t,s,i)+i:s},AV=function(e,t,i,r){if(!i||i==="none"){var s=Eu(t,e,1),a=s&&oa(e,s,1);a&&a!==i?(t=s,i=a):t==="borderColor"&&(i=oa(e,"borderTopColor"))}var o=new mr(this._pt,e.style,t,0,1,gx),l=0,c=0,u,h,d,m,v,_,g,y,b,E,w,D;if(o.b=i,o.e=r,i+="",r+="",r==="auto"&&(e.style[t]=r,r=oa(e,t)||r,e.style[t]=i),u=[i,r],ux(u),i=u[0],r=u[1],d=i.match(Zl)||[],D=r.match(Zl)||[],D.length){for(;h=Zl.exec(r);)g=h[0],b=r.substring(l,h.index),v?v=(v+1)%5:(b.substr(-5)==="rgba("||b.substr(-5)==="hsla(")&&(v=1),g!==(_=d[c++]||"")&&(m=parseFloat(_)||0,w=_.substr((m+"").length),g.charAt(1)==="="&&(g=Ql(m,g)+w),y=parseFloat(g),E=g.substr((y+"").length),l=Zl.lastIndex-E.length,E||(E=E||Pr.units[t]||w,l===r.length&&(r+=E,o.e+=E)),w!==E&&(m=Go(e,t,_,E)||0),o._pt={_next:o._pt,p:b||c===1?b:",",s:m,c:y-m,m:v&&v<4||t==="zIndex"?Math.round:0});o.c=l<r.length?r.substring(l,r.length):""}else o.r=t==="display"&&r==="none"?hP:uP;return rx.test(r)&&(o.e=0),this._pt=o,o},oP={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},MV=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(e=i,i=r,r=e),t[0]=oP[i]||i,t[1]=oP[r]||r,t.join(" ")},CV=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,r=i.style,s=t.u,a=i._gsap,o,l,c;if(s==="all"||s===!0)r.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)o=s[c],$a[o]&&(l=1,o=o==="transformOrigin"?ks:on),Nf(i,o);l&&(Nf(i,on),a&&(a.svg&&i.removeAttribute("transform"),Ff(i,1),a.uncache=1,fP(r)))}},Tm={clearProps:function(e,t,i,r,s){if(s.data!=="isFromStart"){var a=e._pt=new mr(e._pt,t,i,0,0,CV);return a.u=r,a.pr=-10,a.tween=s,e._props.push(i),1}}},kf=[1,0,0,1,0,0],yP={},vP=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},lP=function(e){var t=oa(e,on);return vP(t)?kf:t.substr(7).match(nx).map(dn)},Cx=function(e,t){var i=e._gsap||Bo(e),r=e.style,s=lP(e),a,o,l,c;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?kf:s):(s===kf&&!e.offsetParent&&e!==xu&&!i.svg&&(l=r.display,r.display="block",a=e.parentNode,(!a||!e.offsetParent)&&(c=1,o=e.nextElementSibling,xu.appendChild(e)),s=lP(e),l?r.display=l:Nf(e,"display"),c&&(o?a.insertBefore(e,o):a?a.appendChild(e):xu.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Tx=function(e,t,i,r,s,a){var o=e._gsap,l=s||Cx(e,!0),c=o.xOrigin||0,u=o.yOrigin||0,h=o.xOffset||0,d=o.yOffset||0,m=l[0],v=l[1],_=l[2],g=l[3],y=l[4],b=l[5],E=t.split(" "),w=parseFloat(E[0])||0,D=parseFloat(E[1])||0,P,M,R,I;i?l!==kf&&(M=m*g-v*_)&&(R=w*(g/M)+D*(-_/M)+(_*b-g*y)/M,I=w*(-v/M)+D*(m/M)-(m*b-v*y)/M,w=R,D=I):(P=mP(e),w=P.x+(~E[0].indexOf("%")?w/100*P.width:w),D=P.y+(~(E[1]||E[0]).indexOf("%")?D/100*P.height:D)),r||r!==!1&&o.smooth?(y=w-c,b=D-u,o.xOffset=h+(y*m+b*_)-y,o.yOffset=d+(y*v+b*g)-b):o.xOffset=o.yOffset=0,o.xOrigin=w,o.yOrigin=D,o.smooth=!!r,o.origin=t,o.originIsAbsolute=!!i,e.style[ks]="0px 0px",a&&(Ho(a,o,"xOrigin",c,w),Ho(a,o,"yOrigin",u,D),Ho(a,o,"xOffset",h,o.xOffset),Ho(a,o,"yOffset",d,o.yOffset)),e.setAttribute("data-svg-origin",w+" "+D)},Ff=function(e,t){var i=e._gsap||new hx(e);if("x"in i&&!t&&!i.uncache)return i;var r=e.style,s=i.scaleX<0,a="px",o="deg",l=getComputedStyle(e),c=oa(e,ks)||"0",u,h,d,m,v,_,g,y,b,E,w,D,P,M,R,I,A,N,G,X,J,ge,te,pe,re,ne,qe,je,et,Ot,Me,Ne;return u=h=d=_=g=y=b=E=w=0,m=v=1,i.svg=!!(e.getCTM&&gP(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[on]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[on]!=="none"?l[on]:"")),r.scale=r.rotate=r.translate="none"),M=Cx(e,i.svg),i.svg&&(i.uncache?(re=e.getBBox(),c=i.xOrigin-re.x+"px "+(i.yOrigin-re.y)+"px",pe=""):pe=!t&&e.getAttribute("data-svg-origin"),Tx(e,pe||c,!!pe||i.originIsAbsolute,i.smooth!==!1,M)),D=i.xOrigin||0,P=i.yOrigin||0,M!==kf&&(N=M[0],G=M[1],X=M[2],J=M[3],u=ge=M[4],h=te=M[5],M.length===6?(m=Math.sqrt(N*N+G*G),v=Math.sqrt(J*J+X*X),_=N||G?_u(G,N)*nc:0,b=X||J?_u(X,J)*nc+_:0,b&&(v*=Math.abs(Math.cos(b*bu))),i.svg&&(u-=D-(D*N+P*X),h-=P-(D*G+P*J))):(Ne=M[6],Ot=M[7],qe=M[8],je=M[9],et=M[10],Me=M[11],u=M[12],h=M[13],d=M[14],R=_u(Ne,et),g=R*nc,R&&(I=Math.cos(-R),A=Math.sin(-R),pe=ge*I+qe*A,re=te*I+je*A,ne=Ne*I+et*A,qe=ge*-A+qe*I,je=te*-A+je*I,et=Ne*-A+et*I,Me=Ot*-A+Me*I,ge=pe,te=re,Ne=ne),R=_u(-X,et),y=R*nc,R&&(I=Math.cos(-R),A=Math.sin(-R),pe=N*I-qe*A,re=G*I-je*A,ne=X*I-et*A,Me=J*A+Me*I,N=pe,G=re,X=ne),R=_u(G,N),_=R*nc,R&&(I=Math.cos(R),A=Math.sin(R),pe=N*I+G*A,re=ge*I+te*A,G=G*I-N*A,te=te*I-ge*A,N=pe,ge=re),g&&Math.abs(g)+Math.abs(_)>359.9&&(g=_=0,y=180-y),m=dn(Math.sqrt(N*N+G*G+X*X)),v=dn(Math.sqrt(te*te+Ne*Ne)),R=_u(ge,te),b=Math.abs(R)>2e-4?R*nc:0,w=Me?1/(Me<0?-Me:Me):0),i.svg&&(pe=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!vP(oa(e,on)),pe&&e.setAttribute("transform",pe))),Math.abs(b)>90&&Math.abs(b)<270&&(s?(m*=-1,b+=_<=0?180:-180,_+=_<=0?180:-180):(v*=-1,b+=b<=0?180:-180)),t=t||i.uncache,i.x=u-((i.xPercent=u&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+a,i.y=h-((i.yPercent=h&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+a,i.z=d+a,i.scaleX=dn(m),i.scaleY=dn(v),i.rotation=dn(_)+o,i.rotationX=dn(g)+o,i.rotationY=dn(y)+o,i.skewX=b+o,i.skewY=E+o,i.transformPerspective=w+a,(i.zOrigin=parseFloat(c.split(" ")[2])||0)&&(r[ks]=wm(c)),i.xOffset=i.yOffset=0,i.force3D=Pr.force3D,i.renderTransform=i.svg?IV:pP?_P:PV,i.uncache=0,i},wm=function(e){return(e=e.split(" "))[0]+" "+e[1]},xx=function(e,t,i){var r=qn(t);return dn(parseFloat(t)+parseFloat(Go(e,"x",i+"px",r)))+r},PV=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,_P(e,t)},tc="0deg",Of="0px",ic=") ",_P=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,a=i.x,o=i.y,l=i.z,c=i.rotation,u=i.rotationY,h=i.rotationX,d=i.skewX,m=i.skewY,v=i.scaleX,_=i.scaleY,g=i.transformPerspective,y=i.force3D,b=i.target,E=i.zOrigin,w="",D=y==="auto"&&e&&e!==1||y===!0;if(E&&(h!==tc||u!==tc)){var P=parseFloat(u)*bu,M=Math.sin(P),R=Math.cos(P),I;P=parseFloat(h)*bu,I=Math.cos(P),a=xx(b,a,M*I*-E),o=xx(b,o,-Math.sin(P)*-E),l=xx(b,l,R*I*-E+E)}g!==Of&&(w+="perspective("+g+ic),(r||s)&&(w+="translate("+r+"%, "+s+"%) "),(D||a!==Of||o!==Of||l!==Of)&&(w+=l!==Of||D?"translate3d("+a+", "+o+", "+l+") ":"translate("+a+", "+o+ic),c!==tc&&(w+="rotate("+c+ic),u!==tc&&(w+="rotateY("+u+ic),h!==tc&&(w+="rotateX("+h+ic),(d!==tc||m!==tc)&&(w+="skew("+d+", "+m+ic),(v!==1||_!==1)&&(w+="scale("+v+", "+_+ic),b.style[on]=w||"translate(0, 0)"},IV=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,a=i.x,o=i.y,l=i.rotation,c=i.skewX,u=i.skewY,h=i.scaleX,d=i.scaleY,m=i.target,v=i.xOrigin,_=i.yOrigin,g=i.xOffset,y=i.yOffset,b=i.forceCSS,E=parseFloat(a),w=parseFloat(o),D,P,M,R,I;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=bu,c*=bu,D=Math.cos(l)*h,P=Math.sin(l)*h,M=Math.sin(l-c)*-d,R=Math.cos(l-c)*d,c&&(u*=bu,I=Math.tan(c-u),I=Math.sqrt(1+I*I),M*=I,R*=I,u&&(I=Math.tan(u),I=Math.sqrt(1+I*I),D*=I,P*=I)),D=dn(D),P=dn(P),M=dn(M),R=dn(R)):(D=h,R=d,P=M=0),(E&&!~(a+"").indexOf("px")||w&&!~(o+"").indexOf("px"))&&(E=Go(m,"x",a,"px"),w=Go(m,"y",o,"px")),(v||_||g||y)&&(E=dn(E+v-(v*D+_*M)+g),w=dn(w+_-(v*P+_*R)+y)),(r||s)&&(I=m.getBBox(),E=dn(E+r/100*I.width),w=dn(w+s/100*I.height)),I="matrix("+D+","+P+","+M+","+R+","+E+","+w+")",m.setAttribute("transform",I),b&&(m.style[on]=I)},DV=function(e,t,i,r,s){var a=360,o=kn(s),l=parseFloat(s)*(o&&~s.indexOf("rad")?nc:1),c=l-r,u=r+c+"deg",h,d;return o&&(h=s.split("_")[1],h==="short"&&(c%=a,c!==c%(a/2)&&(c+=c<0?a:-a)),h==="cw"&&c<0?c=(c+a*nP)%a-~~(c/a)*a:h==="ccw"&&c>0&&(c=(c-a*nP)%a-~~(c/a)*a)),e._pt=d=new mr(e._pt,t,i,r,c,pV),d.e=u,d.u="deg",e._props.push(i),d},cP=function(e,t){for(var i in t)e[i]=t[i];return e},RV=function(e,t,i){var r=cP({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",a=i.style,o,l,c,u,h,d,m,v;r.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),a[on]=t,o=Ff(i,1),Nf(i,on),i.setAttribute("transform",c)):(c=getComputedStyle(i)[on],a[on]=t,o=Ff(i,1),a[on]=c);for(l in $a)c=r[l],u=o[l],c!==u&&s.indexOf(l)<0&&(m=qn(c),v=qn(u),h=m!==v?Go(i,l,c,v):parseFloat(c),d=parseFloat(u),e._pt=new mr(e._pt,o,l,h,d-h,bx),e._pt.u=v||0,e._props.push(l));cP(o,r)};pr("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",r="Bottom",s="Left",a=(e<3?[t,i,r,s]:[t+s,t+i,r+i,r+s]).map(function(o){return e<2?n+o:"border"+o+n});Tm[e>1?"border"+n:n]=function(o,l,c,u,h){var d,m;if(arguments.length<4)return d=a.map(function(v){return Ha(o,v,c)}),m=d.join(" "),m.split(d[0]).length===5?d[0]:m;d=(u+"").split(" "),m={},a.forEach(function(v,_){return m[v]=d[_]=d[_]||d[(_-1)/2|0]}),o.init(l,m,h)}});var Px={name:"css",register:Sx,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,s){var a=this._props,o=e.style,l=i.vars.startAt,c,u,h,d,m,v,_,g,y,b,E,w,D,P,M,R;wx||Sx(),this.styles=this.styles||dP(e),R=this.styles.props,this.tween=i;for(_ in t)if(_!=="autoRound"&&(u=t[_],!(wr[_]&&dx(_,t,i,r,e,s)))){if(m=typeof u,v=Tm[_],m==="function"&&(u=u.call(i,r,e,s),m=typeof u),m==="string"&&~u.indexOf("random(")&&(u=vu(u)),v)v(this,e,_,u,i)&&(M=1);else if(_.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(_)+"").trim(),u+="",za.lastIndex=0,za.test(c)||(g=qn(c),y=qn(u)),y?g!==y&&(c=Go(e,_,c,y)+y):g&&(u+=g),this.add(o,"setProperty",c,u,r,s,0,0,_),a.push(_),R.push(_,0,o[_]);else if(m!=="undefined"){if(l&&_ in l?(c=typeof l[_]=="function"?l[_].call(i,r,e,s):l[_],kn(c)&&~c.indexOf("random(")&&(c=vu(c)),qn(c+"")||(c+=Pr.units[_]||qn(Ha(e,_))||""),(c+"").charAt(1)==="="&&(c=Ha(e,_))):c=Ha(e,_),d=parseFloat(c),b=m==="string"&&u.charAt(1)==="="&&u.substr(0,2),b&&(u=u.substr(2)),h=parseFloat(u),_ in Ga&&(_==="autoAlpha"&&(d===1&&Ha(e,"visibility")==="hidden"&&h&&(d=0),R.push("visibility",0,o.visibility),Ho(this,o,"visibility",d?"inherit":"hidden",h?"inherit":"hidden",!h)),_!=="scale"&&_!=="transform"&&(_=Ga[_],~_.indexOf(",")&&(_=_.split(",")[0]))),E=_ in $a,E){if(this.styles.save(_),w||(D=e._gsap,D.renderTransform&&!t.parseTransform||Ff(e,t.parseTransform),P=t.smoothOrigin!==!1&&D.smooth,w=this._pt=new mr(this._pt,o,on,0,1,D.renderTransform,D,0,-1),w.dep=1),_==="scale")this._pt=new mr(this._pt,D,"scaleY",d,(b?Ql(d,b+h):h)-d||0,bx),this._pt.u=0,a.push("scaleY",_),_+="X";else if(_==="transformOrigin"){R.push(ks,0,o[ks]),u=MV(u),D.svg?Tx(e,u,0,P,0,this):(y=parseFloat(u.split(" ")[2])||0,y!==D.zOrigin&&Ho(this,D,"zOrigin",D.zOrigin,y),Ho(this,o,_,wm(c),wm(u)));continue}else if(_==="svgOrigin"){Tx(e,u,1,P,0,this);continue}else if(_ in yP){DV(this,D,_,d,b?Ql(d,b+u):u);continue}else if(_==="smoothOrigin"){Ho(this,D,"smooth",D.smooth,u);continue}else if(_==="force3D"){D[_]=u;continue}else if(_==="transform"){RV(this,u,e);continue}}else _ in o||(_=Eu(_)||_);if(E||(h||h===0)&&(d||d===0)&&!dV.test(u)&&_ in o)g=(c+"").substr((d+"").length),h||(h=0),y=qn(u)||(_ in Pr.units?Pr.units[_]:g),g!==y&&(d=Go(e,_,c,y)),this._pt=new mr(this._pt,E?D:o,_,d,(b?Ql(d,b+h):h)-d,!E&&(y==="px"||_==="zIndex")&&t.autoRound!==!1?gV:bx),this._pt.u=y||0,g!==y&&y!=="%"&&(this._pt.b=c,this._pt.r=mV);else if(_ in o)AV.call(this,e,_,c,b?b+u:u);else if(_ in e)this.add(e,_,c||e[_],b?b+u:u,r,s);else{_m(_,u);continue}E||(_ in o?R.push(_,0,o[_]):R.push(_,1,c||e[_])),a.push(_)}}M&&vx(this)},render:function(e,t){if(t.tween._time||!Ax())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:Ha,aliases:Ga,getSetter:function(e,t,i){var r=Ga[t];return r&&r.indexOf(",")<0&&(t=r),t in $a&&t!==ks&&(e._gsap.x||Ha(e,"x"))?i&&iP===i?t==="scale"?xV:_V:(iP=i||{})&&(t==="scale"?bV:EV):e.style&&!vm(e.style[t])?yV:~t.indexOf("-")?vV:Sm(e,t)},core:{_removeProperty:Nf,_getMatrix:Cx}};dr.utils.checkPrefix=Eu;dr.core.getStyleSaver=dP;(function(n,e,t,i){var r=pr(n+","+e+","+t,function(s){$a[s]=1});pr(e,function(s){Pr.units[s]="deg",yP[s]=1}),Ga[r[13]]=n+","+e,pr(i,function(s){var a=s.split(":");Ga[a[1]]=r[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");pr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Pr.units[n]="px"});dr.registerPlugin(Px);var ut=dr.registerPlugin(Px)||dr,pte=ut.core.Tween;function Ix(n,e,t){return(1-t)*n+t*e}function Dx(n,e,t,i,r){return i+(n-e)/(t-e)*(r-i)}function Wr(n){for(let e=n.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[n[e],n[t]]=[n[t],n[e]]}return n}var xP=[],bP=[];function Rx(n,e={}){return new Promise((t,i)=>{let r=bP.find(s=>s.url===n);if(r)t(Vi(Vi({},r),e));else{let s=new Image;e.crossOrigin&&(s.crossOrigin=e.crossOrigin);let a=()=>{let o=Vi(Vi({element:s},LV(s)),e);bP.push(o),t(o)};s.decode?(s.src=n,s.decode().then(a).catch(o=>{i(o)})):(s.onload=a,s.onerror=o=>{i(o)},s.src=n)}})}function LV(n){return{url:n.src,width:n.naturalWidth,height:n.naturalHeight,ratio:n.naturalWidth/n.naturalHeight}}function la(n,e,t){return Sn(this,null,function*(){let i=e||n.dataset.src,r=xP.find(s=>s.url===i);if(!r){if(r=yield Rx(i),!r.url)return;xP.push(r)}n.src!==i&&(n.tagName==="IMG"?n.src=r.url:n.style.backgroundImage=`url(${r.url})`,requestAnimationFrame(()=>{let s=n.closest(".c-image");s&&(s.classList.add("-loaded"),s.style.backgroundImage=""),n.classList.add("-loaded"),t==null||t()}))})}function Ir(n){return Sn(this,null,function*(){let e=n.parentNode;e.classList.add("-pixelated");let t=e.querySelector("canvas");t&&t.remove();let i=document.createElement("canvas");i.style.zIndex=10,e.appendChild(i);let r=i.getContext("2d",{willReadFrequently:!0}),s=128,a=n.naturalWidth,o=n.naturalHeight;a>s&&(o=s*(o/a),a=s);let l=h=>Sn(this,null,function*(){return new Promise(d=>{if(!i.parentNode){d();return}let m=Math.round(a/h);r.canvas.width=a,r.canvas.height=o,r.drawImage(n,0,0,a,o);let v=r.getImageData(0,0,a,o).data;for(let _=0;_<o;_+=m)for(let g=0;g<a;g+=m){let y=(g+_*a)*4;r.fillStyle="rgba("+v[y]+","+v[y+1]+","+v[y+2]+","+v[y+3]+")",r.fillRect(g,_,m,m)}d()})}),c=100,u=h=>new Promise(d=>setTimeout(d,h));yield l(8),yield u(c),yield l(16),yield u(c),yield l(32),yield u(c),yield l(48),yield u(c),yield l(96),yield u(c),yield l(128),i.remove(),e.classList.remove("-pixelated")})}function OV(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}var Am=class extends Ct{constructor(n){super(n),this.rotationAmplitude=16,this.distanceToSpawn=80,this.delayToSpawn=500,this.minImages=60,this.$images=[],this.timelines=[],this.currentIndex=0,this.lastSpawnTime=Date.now()}init(){if(!this.$("image").length)return console.error("[FancyGallery] no images given"),!1;this.compute(),this.populateImages(),this.bindEvents(),this.render()}compute(){this.isMobile=window.innerWidth<700,this.canHover=window.matchMedia("(hover: hover)").matches;let n=this.el.getBoundingClientRect(),e={x:n.width/2,y:n.height/2};this.target=Vi({},e),this.lerp=Vi({},e),this.lastSpawn=Vi({},e)}checkResize(){this.resizeTick||(this.resizeTick=!0,requestAnimationFrame(()=>{this.compute(),this.resizeTick=!1}))}bindEvents(){this.onMouseEnter=n=>{let e={x:n.layerX,y:n.layerY};this.target=Vi({},e),this.lerp=Vi({},e),this.lastSpawn=Vi({},e)},this.onMouseMove=n=>{this.target={x:n.layerX,y:n.layerY}},this.canHover&&!this.isMobile&&(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mousemove",this.onMouseMove)),this.checkResizeBind=this.checkResize.bind(this),window.addEventListener("resize",this.checkResizeBind)}unbindEvents(){this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("resize",this.checkResizeBind)}render(){this.lerp={x:Ix(this.lerp.x,this.target.x,.1),y:Ix(this.lerp.y,this.target.y,.1)},this.checkSpawn(),this.raf=requestAnimationFrame(this.render.bind(this))}checkSpawn(){this.canHover&&!this.isMobile?Math.abs(OV(this.lastSpawn,this.lerp))>this.distanceToSpawn&&this.spawn():Date.now()-this.lastSpawnTime>this.delayToSpawn&&this.spawn()}spawn(){this.lastSpawn=this.lerp,this.lastSpawnTime=Date.now();let n=this.$images[this.currentIndex%this.$images.length],e=n.querySelector(".c-image_inner"),t=n.querySelector("img");t&&(t.classList.contains("-loaded")||la(t,null));let i=ut.timeline({onComplete:()=>{this.timelines.splice(this.timelines.indexOf(i),1)}});i.set(n,{force3D:!0,x:this.lastSpawn.x,y:this.lastSpawn.y,zIndex:this.currentIndex}),i.set(e,{opacity:0,scale:.5,force3D:!0}),i.to(e,{opacity:1,duration:.15},0),i.to(e,{force3D:!0,scale:1,rotation:Math.random()*this.rotationAmplitude-this.rotationAmplitude/2,duration:.25},0),i.to(e,{force3D:!0,scale:1.2,duration:1}),i.to(e,{force3D:!0,scale:.5,rotation:Math.random()*this.rotationAmplitude-this.rotationAmplitude/2,opacity:0,duration:.3,ease:"power2.in"}),this.timelines.push(i),this.currentIndex++}populateImages(){let n=Wr(Array.from(this.$("image")));for(let e of n)e.parentNode.appendChild(e);for(let e=0;e<Math.ceil(this.minImages/n.length);e++)for(let t of Array.from(n)){let i=t.cloneNode(!0);t.parentNode.appendChild(i)}this.$images=Array.from(this.$("image"))}destroy(){super.destroy();for(let n of this.timelines)n.kill(),n=null;this.unbindEvents()}};var EP=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function Lx(n){var e=n.nodeType,t="";if(e===1||e===9||e===11){if(typeof n.textContent=="string")return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)t+=Lx(n)}else if(e===3||e===4)return n.nodeValue;return t}var sc,AP,MP,NV=/(?:\r|\n|\t\t)/g,kV=/(?:\s\s+)/g,FV=function(){sc=document,AP=window,MP=1},BV=1,CP=function(e){return AP.getComputedStyle(e)},UV=Array.isArray,SP=[].slice,Nx=function(e,t){var i;return UV(e)?e:(i=typeof e)=="string"&&!t&&e?SP.call(sc.querySelectorAll(e),0):e&&i==="object"&&"length"in e?SP.call(e,0):e?[e]:[]},kx=function(e){return e.position==="absolute"||e.absolute===!0},zV=function(e,t){for(var i=t.length,r;--i>-1;)if(r=t[i],e.substr(0,r.length)===r)return r.length},VV=" style='position:relative;display:inline-block;'",TP=function(e,t){e===void 0&&(e="");var i=~e.indexOf("++"),r=1;return i&&(e=e.split("++").join("")),function(){return"<"+t+VV+(e?" class='"+e+(i?r++:"")+"'>":">")}},PP=function n(e,t,i){var r=e.nodeType;if(r===1||r===9||r===11)for(e=e.firstChild;e;e=e.nextSibling)n(e,t,i);else(r===3||r===4)&&(e.nodeValue=e.nodeValue.split(t).join(i))},Ox=function(e,t){for(var i=t.length;--i>-1;)e.push(t[i])},wP=function(e,t,i){for(var r;e&&e!==t;){if(r=e._next||e.nextSibling,r)return r.textContent.charAt(0)===i;e=e.parentNode||e._parent}},HV=function n(e){var t=Nx(e.childNodes),i=t.length,r,s;for(r=0;r<i;r++)s=t[r],s._isSplit?n(s):r&&s.previousSibling&&s.previousSibling.nodeType===3?(s.previousSibling.nodeValue+=s.nodeType===3?s.nodeValue:s.firstChild.nodeValue,e.removeChild(s)):s.nodeType!==3&&(e.insertBefore(s.firstChild,s),e.removeChild(s))},ca=function(e,t){return parseFloat(t[e])||0},GV=function(e,t,i,r,s,a,o){var l=CP(e),c=ca("paddingLeft",l),u=-999,h=ca("borderBottomWidth",l)+ca("borderTopWidth",l),d=ca("borderLeftWidth",l)+ca("borderRightWidth",l),m=ca("paddingTop",l)+ca("paddingBottom",l),v=ca("paddingLeft",l)+ca("paddingRight",l),_=ca("fontSize",l)*(t.lineThreshold||.2),g=l.textAlign,y=[],b=[],E=[],w=t.wordDelimiter||" ",D=t.tag?t.tag:t.span?"span":"div",P=t.type||t.split||"chars,words,lines",M=s&&~P.indexOf("lines")?[]:null,R=~P.indexOf("words"),I=~P.indexOf("chars"),A=kx(t),N=t.linesClass,G=~(N||"").indexOf("++"),X=[],J=l.display==="flex",ge=e.style.display,te,pe,re,ne,qe,je,et,Ot,Me,Ne,Ve,ze;for(G&&(N=N.split("++").join("")),J&&(e.style.display="block"),pe=e.getElementsByTagName("*"),re=pe.length,qe=[],te=0;te<re;te++)qe[te]=pe[te];if(M||A)for(te=0;te<re;te++)ne=qe[te],je=ne.parentNode===e,(je||A||I&&!R)&&(ze=ne.offsetTop,M&&je&&Math.abs(ze-u)>_&&(ne.nodeName!=="BR"||te===0)&&(et=[],M.push(et),u=ze),A&&(ne._x=ne.offsetLeft,ne._y=ze,ne._w=ne.offsetWidth,ne._h=ne.offsetHeight),M&&((ne._isSplit&&je||!I&&je||R&&je||!R&&ne.parentNode.parentNode===e&&!ne.parentNode._isSplit)&&(et.push(ne),ne._x-=c,wP(ne,e,w)&&(ne._wordEnd=!0)),ne.nodeName==="BR"&&(ne.nextSibling&&ne.nextSibling.nodeName==="BR"||te===0)&&M.push([])));for(te=0;te<re;te++){if(ne=qe[te],je=ne.parentNode===e,ne.nodeName==="BR"){M||A?(ne.parentNode&&ne.parentNode.removeChild(ne),qe.splice(te--,1),re--):R||e.appendChild(ne);continue}if(A&&(Me=ne.style,!R&&!je&&(ne._x+=ne.parentNode._x,ne._y+=ne.parentNode._y),Me.left=ne._x+"px",Me.top=ne._y+"px",Me.position="absolute",Me.display="block",Me.width=ne._w+1+"px",Me.height=ne._h+"px"),!R&&I)if(ne._isSplit)for(ne._next=pe=ne.nextSibling,ne.parentNode.appendChild(ne);pe&&pe.nodeType===3&&pe.textContent===" ";)ne._next=pe.nextSibling,ne.parentNode.appendChild(pe),pe=pe.nextSibling;else ne.parentNode._isSplit?(ne._parent=ne.parentNode,!ne.previousSibling&&ne.firstChild&&(ne.firstChild._isFirst=!0),ne.nextSibling&&ne.nextSibling.textContent===" "&&!ne.nextSibling.nextSibling&&X.push(ne.nextSibling),ne._next=ne.nextSibling&&ne.nextSibling._isFirst?null:ne.nextSibling,ne.parentNode.removeChild(ne),qe.splice(te--,1),re--):je||(ze=!ne.nextSibling&&wP(ne.parentNode,e,w),ne.parentNode._parent&&ne.parentNode._parent.appendChild(ne),ze&&ne.parentNode.appendChild(sc.createTextNode(" ")),D==="span"&&(ne.style.display="inline"),y.push(ne));else ne.parentNode._isSplit&&!ne._isSplit&&ne.innerHTML!==""?b.push(ne):I&&!ne._isSplit&&(D==="span"&&(ne.style.display="inline"),y.push(ne))}for(te=X.length;--te>-1;)X[te].parentNode.removeChild(X[te]);if(M){for(A&&(Ne=sc.createElement(D),e.appendChild(Ne),Ve=Ne.offsetWidth+"px",ze=Ne.offsetParent===e?0:e.offsetLeft,e.removeChild(Ne)),Me=e.style.cssText,e.style.cssText="display:none;";e.firstChild;)e.removeChild(e.firstChild);for(Ot=w===" "&&(!A||!R&&!I),te=0;te<M.length;te++){for(et=M[te],Ne=sc.createElement(D),Ne.style.cssText="display:block;text-align:"+g+";position:"+(A?"absolute;":"relative;"),N&&(Ne.className=N+(G?te+1:"")),E.push(Ne),re=et.length,pe=0;pe<re;pe++)et[pe].nodeName!=="BR"&&(ne=et[pe],Ne.appendChild(ne),Ot&&ne._wordEnd&&Ne.appendChild(sc.createTextNode(" ")),A&&(pe===0&&(Ne.style.top=ne._y+"px",Ne.style.left=c+ze+"px"),ne.style.top="0px",ze&&(ne.style.left=ne._x-ze+"px")));re===0?Ne.innerHTML="&nbsp;":!R&&!I&&(HV(Ne),PP(Ne,"\xA0"," ")),A&&(Ne.style.width=Ve,Ne.style.height=ne._h+"px"),e.appendChild(Ne)}e.style.cssText=Me}A&&(o>e.clientHeight&&(e.style.height=o-m+"px",e.clientHeight<o&&(e.style.height=o+h+"px")),a>e.clientWidth&&(e.style.width=a-v+"px",e.clientWidth<a&&(e.style.width=a+d+"px"))),J&&(ge?e.style.display=ge:e.style.removeProperty("display")),Ox(i,y),R&&Ox(r,b),Ox(s,E)},$V=function(e,t,i,r){var s=t.tag?t.tag:t.span?"span":"div",a=t.type||t.split||"chars,words,lines",o=~a.indexOf("chars"),l=kx(t),c=t.wordDelimiter||" ",u=c!==" "?"":l?"&#173; ":" ",h="</"+s+">",d=1,m=t.specialChars?typeof t.specialChars=="function"?t.specialChars:zV:null,v,_,g,y,b,E,w,D,P=sc.createElement("div"),M=e.parentNode;for(M.insertBefore(P,e),P.textContent=e.nodeValue,M.removeChild(e),e=P,v=Lx(e),w=v.indexOf("<")!==-1,t.reduceWhiteSpace!==!1&&(v=v.replace(kV," ").replace(NV,"")),w&&(v=v.split("<").join("{{LT}}")),b=v.length,_=(v.charAt(0)===" "?u:"")+i(),g=0;g<b;g++)if(E=v.charAt(g),m&&(D=m(v.substr(g),t.specialChars)))E=v.substr(g,D||1),_+=o&&E!==" "?r()+E+"</"+s+">":E,g+=D-1;else if(E===c&&v.charAt(g-1)!==c&&g){for(_+=d?h:"",d=0;v.charAt(g+1)===c;)_+=u,g++;g===b-1?_+=u:v.charAt(g+1)!==")"&&(_+=u+i(),d=1)}else E==="{"&&v.substr(g,6)==="{{LT}}"?(_+=o?r()+"{{LT}}</"+s+">":"{{LT}}",g+=5):E.charCodeAt(0)>=55296&&E.charCodeAt(0)<=56319||v.charCodeAt(g+1)>=65024&&v.charCodeAt(g+1)<=65039?(y=((v.substr(g,12).split(EP)||[])[1]||"").length||2,_+=o&&E!==" "?r()+v.substr(g,y)+"</"+s+">":v.substr(g,y),g+=y-1):_+=o&&E!==" "?r()+E+"</"+s+">":E;e.outerHTML=_+(d?h:""),w&&PP(M,"{{LT}}","<")},WV=function n(e,t,i,r){var s=Nx(e.childNodes),a=s.length,o=kx(t),l,c;if(e.nodeType!==3||a>1){for(t.absolute=!1,l=0;l<a;l++)c=s[l],c._next=c._isFirst=c._parent=c._wordEnd=null,(c.nodeType!==3||/\S+/.test(c.nodeValue))&&(o&&c.nodeType!==3&&CP(c).display==="inline"&&(c.style.display="inline-block",c.style.position="relative"),c._isSplit=!0,n(c,t,i,r));t.absolute=o,e._isSplit=!0;return}$V(e,t,i,r)},ua=function(){function n(t,i){MP||FV(),this.elements=Nx(t),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=i||{},BV&&this.split(i)}var e=n.prototype;return e.split=function(i){this.isSplit&&this.revert(),this.vars=i=i||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var r=this.elements.length,s=i.tag?i.tag:i.span?"span":"div",a=TP(i.wordsClass,s),o=TP(i.charsClass,s),l,c,u;--r>-1;)u=this.elements[r],this._originals[r]=u.innerHTML,l=u.clientHeight,c=u.clientWidth,WV(u,i,a,o),GV(u,i,this.chars,this.words,this.lines,c,l);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},e.revert=function(){var i=this._originals;if(!i)throw"revert() call wasn't scoped properly.";return this.elements.forEach(function(r,s){return r.innerHTML=i[s]}),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},n.create=function(i,r){return new n(i,r)},n}();ua.version="3.11.3";ut.registerPlugin(ua);var Mm=class extends Ct{constructor(n){super(n),this.$cols=Array.from(this.$("col")),this.timelines={}}init(){if(!this.$cols.length)return console.error("[FancyTexts] no cols given"),!1;for(let n of this.$cols){let e=this.getData("animations",n)?this.getData("animations",n).split(","):["base","stagger","shuffle","scramble","fast"],t=-1,i=this.getData("contents",n).split("|"),r=this.getData("rows",n);r!="manual"&&(r=parseInt(r));let s,a=l=>{n.innerHTML="";let c=document.createElement("div");if(c.innerText=l,r=="manual"){let u=l.split(",");for(let h of u)c.innerText=h,n.appendChild(c.cloneNode(!0))}else for(let u=0;u<r;u++)n.appendChild(c.cloneNode(!0))},o=()=>{var h,d;t++;let l=i[t%i.length];a(l,7),this.timelines[this.$cols.indexOf(n)]&&((d=(h=this.timelines[this.$cols.indexOf(n)]).kill)==null||d.call(h)),s=ut.timeline({onComplete:()=>{ut.set(n,{opacity:0}),c.revert(),requestAnimationFrame(()=>{o()})}}),this.timelines[this.$cols.indexOf(n)]=s;let c=new ua(n,{type:"chars"});switch(s.set(c.chars,{opacity:0}),s.set(n,{opacity:1}),e[Math.floor(e.length*Math.random())]){case"base":for(let m=0;m<n.children.length;m++)s.set([...n.children[m].children],{opacity:1,stagger:.04},"row"+m);s.set(Wr(Array.from(c.chars)),{opacity:0,stagger:.04}),s.add(()=>{},"+=1");break;case"stagger":for(let m=0;m<n.children.length;m++)s.set([...n.children[m].children],{opacity:1,stagger:.04},m*.1),s.addLabel(m+"first"),m>0&&s.set([...n.children[m-1].children],{opacity:0,stagger:.04},m-1+"first");break;case"shuffle":for(let m=0;m<n.children.length;m++)s.set([...n.children[m].children],{opacity:1,stagger:.04},m*.1),s.addLabel(m+"out"),m>0&&s.set(Wr([...n.children[m-1].children]),{opacity:0,stagger:.08},m-1+"out");break;case"scramble":for(let m=0;m<n.children.length;m++)s.set([...n.children[m].children],{opacity:1,stagger:.04}),s.addLabel(m+"out"),m>0&&s.add(()=>{let v="~!@#$%&*{}/?;;<>[]".split(""),_=Wr([...n.children[m-1].children]);for(let g=0;g<_.length;g++)setTimeout(()=>{_[g].innerText=v[Math.floor(v.length*Math.random())]},200*g),setTimeout(()=>{ut.set(_[g],{opacity:0})},400*g)},m-1+"out");s.set(Wr(Array.from(c.chars)),{opacity:0,stagger:.01});break;case"fast":for(let m=0;m<n.children.length;m++)s.set([...n.children[m].children],{opacity:1,stagger:.02},"row"+m),m>0&&s.set([...n.children[m-1].children],{opacity:0,stagger:.02},"row"+m);break;case"slow":for(let m=0;m<n.children.length;m++)s.set([...n.children[m].children],{opacity:1,stagger:.1},"row"+m),s.add(()=>{},"row"+m+"+=.5"),m>0&&s.set(Wr([...n.children[m-1].children]),{opacity:0,stagger:.2},"row"+m);s.add(()=>{},"+=1");break}};o()}}destroy(){var n,e;for(let t of Object.keys(this.timelines))this.timelines[t]&&((e=(n=this.timelines[t]).kill)==null||e.call(n))}};var Cm=class extends Ct{constructor(n){super(n),this.$items=Array.from(this.$("item"))}init(){this.touchStartBind=()=>{this.isTouch=!0},this.el.addEventListener("touchstart",this.touchStartBind,{once:!0}),this.enter=n=>{if(this.isTouch)return;let e=n.target.querySelector("img");e&&(e.classList.contains("-loaded")?Ir(e):la(e,null,()=>{Ir(e)}))};for(let n of this.$items)n.addEventListener("mouseenter",this.enter),n.addEventListener("focusin",this.enter)}destroy(){for(let n of this.$items)n.removeEventListener("mouseenter",this.enter),n.removeEventListener("focusin",this.enter)}};function IP(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Fx(n={},e={}){Object.keys(e).forEach(t=>{typeof n[t]=="undefined"?n[t]=e[t]:IP(e[t])&&IP(n[t])&&Object.keys(e[t]).length>0&&Fx(n[t],e[t])})}var DP={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Xi(){let n=typeof document!="undefined"?document:{};return Fx(n,DP),n}var qV={document:DP,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout=="undefined"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout!="undefined"&&clearTimeout(n)}};function pi(){let n=typeof window!="undefined"?window:{};return Fx(n,qV),n}function jV(n){let e=n.__proto__;Object.defineProperty(n,"__proto__",{get(){return e},set(t){e.__proto__=t}})}var ha=class extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),jV(this))}};function Bf(n=[]){let e=[];return n.forEach(t=>{Array.isArray(t)?e.push(...Bf(t)):e.push(t)}),e}function RP(n,e){return Array.prototype.filter.call(n,e)}function XV(n){let e=[];for(let t=0;t<n.length;t+=1)e.indexOf(n[t])===-1&&e.push(n[t]);return e}function YV(n,e){if(typeof n!="string")return[n];let t=[],i=e.querySelectorAll(n);for(let r=0;r<i.length;r+=1)t.push(i[r]);return t}function Zt(n,e){let t=pi(),i=Xi(),r=[];if(!e&&n instanceof ha)return n;if(!n)return new ha(r);if(typeof n=="string"){let s=n.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){let a="div";s.indexOf("<li")===0&&(a="ul"),s.indexOf("<tr")===0&&(a="tbody"),(s.indexOf("<td")===0||s.indexOf("<th")===0)&&(a="tr"),s.indexOf("<tbody")===0&&(a="table"),s.indexOf("<option")===0&&(a="select");let o=i.createElement(a);o.innerHTML=s;for(let l=0;l<o.childNodes.length;l+=1)r.push(o.childNodes[l])}else r=YV(n.trim(),e||i)}else if(n.nodeType||n===t||n===i)r.push(n);else if(Array.isArray(n)){if(n instanceof ha)return n;r=n}return new ha(XV(r))}Zt.fn=ha.prototype;function LP(...n){let e=Bf(n.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.add(...e)}),this}function OP(...n){let e=Bf(n.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.remove(...e)}),this}function NP(...n){let e=Bf(n.map(t=>t.split(" ")));this.forEach(t=>{e.forEach(i=>{t.classList.toggle(i)})})}function kP(...n){let e=Bf(n.map(t=>t.split(" ")));return RP(this,t=>e.filter(i=>t.classList.contains(i)).length>0).length>0}function FP(n,e){if(arguments.length===1&&typeof n=="string")return this[0]?this[0].getAttribute(n):void 0;for(let t=0;t<this.length;t+=1)if(arguments.length===2)this[t].setAttribute(n,e);else for(let i in n)this[t][i]=n[i],this[t].setAttribute(i,n[i]);return this}function BP(n){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(n);return this}function UP(n){for(let e=0;e<this.length;e+=1)this[e].style.transform=n;return this}function zP(n){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof n!="string"?`${n}ms`:n;return this}function VP(...n){let[e,t,i,r]=n;typeof n[1]=="function"&&([e,i,r]=n,t=void 0),r||(r=!1);function s(c){let u=c.target;if(!u)return;let h=c.target.dom7EventData||[];if(h.indexOf(c)<0&&h.unshift(c),Zt(u).is(t))i.apply(u,h);else{let d=Zt(u).parents();for(let m=0;m<d.length;m+=1)Zt(d[m]).is(t)&&i.apply(d[m],h)}}function a(c){let u=c&&c.target?c.target.dom7EventData||[]:[];u.indexOf(c)<0&&u.unshift(c),i.apply(this,u)}let o=e.split(" "),l;for(let c=0;c<this.length;c+=1){let u=this[c];if(t)for(l=0;l<o.length;l+=1){let h=o[l];u.dom7LiveListeners||(u.dom7LiveListeners={}),u.dom7LiveListeners[h]||(u.dom7LiveListeners[h]=[]),u.dom7LiveListeners[h].push({listener:i,proxyListener:s}),u.addEventListener(h,s,r)}else for(l=0;l<o.length;l+=1){let h=o[l];u.dom7Listeners||(u.dom7Listeners={}),u.dom7Listeners[h]||(u.dom7Listeners[h]=[]),u.dom7Listeners[h].push({listener:i,proxyListener:a}),u.addEventListener(h,a,r)}}return this}function HP(...n){let[e,t,i,r]=n;typeof n[1]=="function"&&([e,i,r]=n,t=void 0),r||(r=!1);let s=e.split(" ");for(let a=0;a<s.length;a+=1){let o=s[a];for(let l=0;l<this.length;l+=1){let c=this[l],u;if(!t&&c.dom7Listeners?u=c.dom7Listeners[o]:t&&c.dom7LiveListeners&&(u=c.dom7LiveListeners[o]),u&&u.length)for(let h=u.length-1;h>=0;h-=1){let d=u[h];i&&d.listener===i||i&&d.listener&&d.listener.dom7proxy&&d.listener.dom7proxy===i?(c.removeEventListener(o,d.proxyListener,r),u.splice(h,1)):i||(c.removeEventListener(o,d.proxyListener,r),u.splice(h,1))}}}return this}function GP(...n){let e=pi(),t=n[0].split(" "),i=n[1];for(let r=0;r<t.length;r+=1){let s=t[r];for(let a=0;a<this.length;a+=1){let o=this[a];if(e.CustomEvent){let l=new e.CustomEvent(s,{detail:i,bubbles:!0,cancelable:!0});o.dom7EventData=n.filter((c,u)=>u>0),o.dispatchEvent(l),o.dom7EventData=[],delete o.dom7EventData}}}return this}function $P(n){let e=this;function t(i){i.target===this&&(n.call(this,i),e.off("transitionend",t))}return n&&e.on("transitionend",t),this}function WP(n){if(this.length>0){if(n){let e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function qP(n){if(this.length>0){if(n){let e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function jP(){if(this.length>0){let n=pi(),e=Xi(),t=this[0],i=t.getBoundingClientRect(),r=e.body,s=t.clientTop||r.clientTop||0,a=t.clientLeft||r.clientLeft||0,o=t===n?n.scrollY:t.scrollTop,l=t===n?n.scrollX:t.scrollLeft;return{top:i.top+o-s,left:i.left+l-a}}return null}function XP(){let n=pi();return this[0]?n.getComputedStyle(this[0],null):{}}function YP(n,e){let t=pi(),i;if(arguments.length===1)if(typeof n=="string"){if(this[0])return t.getComputedStyle(this[0],null).getPropertyValue(n)}else{for(i=0;i<this.length;i+=1)for(let r in n)this[i].style[r]=n[r];return this}if(arguments.length===2&&typeof n=="string"){for(i=0;i<this.length;i+=1)this[i].style[n]=e;return this}return this}function KP(n){return n?(this.forEach((e,t)=>{n.apply(e,[e,t])}),this):this}function JP(n){let e=RP(this,n);return Zt(e)}function ZP(n){if(typeof n=="undefined")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=n;return this}function QP(n){if(typeof n=="undefined")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=n;return this}function eI(n){let e=pi(),t=Xi(),i=this[0],r,s;if(!i||typeof n=="undefined")return!1;if(typeof n=="string"){if(i.matches)return i.matches(n);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(n);if(i.msMatchesSelector)return i.msMatchesSelector(n);for(r=Zt(n),s=0;s<r.length;s+=1)if(r[s]===i)return!0;return!1}if(n===t)return i===t;if(n===e)return i===e;if(n.nodeType||n instanceof ha){for(r=n.nodeType?[n]:n,s=0;s<r.length;s+=1)if(r[s]===i)return!0;return!1}return!1}function tI(){let n=this[0],e;if(n){for(e=0;(n=n.previousSibling)!==null;)n.nodeType===1&&(e+=1);return e}}function iI(n){if(typeof n=="undefined")return this;let e=this.length;if(n>e-1)return Zt([]);if(n<0){let t=e+n;return t<0?Zt([]):Zt([this[t]])}return Zt([this[n]])}function nI(...n){let e,t=Xi();for(let i=0;i<n.length;i+=1){e=n[i];for(let r=0;r<this.length;r+=1)if(typeof e=="string"){let s=t.createElement("div");for(s.innerHTML=e;s.firstChild;)this[r].appendChild(s.firstChild)}else if(e instanceof ha)for(let s=0;s<e.length;s+=1)this[r].appendChild(e[s]);else this[r].appendChild(e)}return this}function rI(n){let e=Xi(),t,i;for(t=0;t<this.length;t+=1)if(typeof n=="string"){let r=e.createElement("div");for(r.innerHTML=n,i=r.childNodes.length-1;i>=0;i-=1)this[t].insertBefore(r.childNodes[i],this[t].childNodes[0])}else if(n instanceof ha)for(i=0;i<n.length;i+=1)this[t].insertBefore(n[i],this[t].childNodes[0]);else this[t].insertBefore(n,this[t].childNodes[0]);return this}function sI(n){return this.length>0?n?this[0].nextElementSibling&&Zt(this[0].nextElementSibling).is(n)?Zt([this[0].nextElementSibling]):Zt([]):this[0].nextElementSibling?Zt([this[0].nextElementSibling]):Zt([]):Zt([])}function aI(n){let e=[],t=this[0];if(!t)return Zt([]);for(;t.nextElementSibling;){let i=t.nextElementSibling;n?Zt(i).is(n)&&e.push(i):e.push(i),t=i}return Zt(e)}function oI(n){if(this.length>0){let e=this[0];return n?e.previousElementSibling&&Zt(e.previousElementSibling).is(n)?Zt([e.previousElementSibling]):Zt([]):e.previousElementSibling?Zt([e.previousElementSibling]):Zt([])}return Zt([])}function lI(n){let e=[],t=this[0];if(!t)return Zt([]);for(;t.previousElementSibling;){let i=t.previousElementSibling;n?Zt(i).is(n)&&e.push(i):e.push(i),t=i}return Zt(e)}function cI(n){let e=[];for(let t=0;t<this.length;t+=1)this[t].parentNode!==null&&(n?Zt(this[t].parentNode).is(n)&&e.push(this[t].parentNode):e.push(this[t].parentNode));return Zt(e)}function uI(n){let e=[];for(let t=0;t<this.length;t+=1){let i=this[t].parentNode;for(;i;)n?Zt(i).is(n)&&e.push(i):e.push(i),i=i.parentNode}return Zt(e)}function hI(n){let e=this;return typeof n=="undefined"?Zt([]):(e.is(n)||(e=e.parents(n).eq(0)),e)}function fI(n){let e=[];for(let t=0;t<this.length;t+=1){let i=this[t].querySelectorAll(n);for(let r=0;r<i.length;r+=1)e.push(i[r])}return Zt(e)}function dI(n){let e=[];for(let t=0;t<this.length;t+=1){let i=this[t].children;for(let r=0;r<i.length;r+=1)(!n||Zt(i[r]).is(n))&&e.push(i[r])}return Zt(e)}function pI(){for(let n=0;n<this.length;n+=1)this[n].parentNode&&this[n].parentNode.removeChild(this[n]);return this}var KV="resize scroll".split(" ");function pn(n){function e(...t){if(typeof t[0]=="undefined"){for(let i=0;i<this.length;i+=1)KV.indexOf(n)<0&&(n in this[i]?this[i][n]():Zt(this[i]).trigger(n));return this}return this.on(n,...t)}return e}var jte=pn("click"),Xte=pn("blur"),Yte=pn("focus"),Kte=pn("focusin"),Jte=pn("focusout"),Zte=pn("keyup"),Qte=pn("keydown"),eie=pn("keypress"),tie=pn("submit"),iie=pn("change"),nie=pn("mousedown"),rie=pn("mousemove"),sie=pn("mouseup"),aie=pn("mouseenter"),oie=pn("mouseleave"),lie=pn("mouseout"),cie=pn("mouseover"),uie=pn("touchstart"),hie=pn("touchend"),fie=pn("touchmove"),die=pn("resize"),pie=pn("scroll");var mI={addClass:LP,removeClass:OP,hasClass:kP,toggleClass:NP,attr:FP,removeAttr:BP,transform:UP,transition:zP,on:VP,off:HP,trigger:GP,transitionEnd:$P,outerWidth:WP,outerHeight:qP,styles:XP,offset:jP,css:YP,each:KP,html:ZP,text:QP,is:eI,index:tI,eq:iI,append:nI,prepend:rI,next:sI,nextAll:aI,prev:oI,prevAll:lI,parent:cI,parents:uI,closest:hI,find:fI,children:dI,filter:JP,remove:pI};Object.keys(mI).forEach(n=>{Object.defineProperty(Zt.fn,n,{value:mI[n],writable:!0})});var _t=Zt;function gI(n){let e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch(i){}try{delete e[t]}catch(i){}})}function Wa(n,e=0){return setTimeout(n,e)}function Fs(){return Date.now()}function JV(n){let e=pi(),t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function Bx(n,e="x"){let t=pi(),i,r,s,a=JV(n,null);return t.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(o=>o.replace(",",".")).join(", ")),s=new t.WebKitCSSMatrix(r==="none"?"":r)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function Uf(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function ZV(n){return typeof window!="undefined"&&typeof window.HTMLElement!="undefined"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function rr(...n){let e=Object(n[0]),t=["__proto__","constructor","prototype"];for(let i=1;i<n.length;i+=1){let r=n[i];if(r!=null&&!ZV(r)){let s=Object.keys(Object(r)).filter(a=>t.indexOf(a)<0);for(let a=0,o=s.length;a<o;a+=1){let l=s[a],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(Uf(e[l])&&Uf(r[l])?r[l].__swiper__?e[l]=r[l]:rr(e[l],r[l]):!Uf(e[l])&&Uf(r[l])?(e[l]={},r[l].__swiper__?e[l]=r[l]:rr(e[l],r[l])):e[l]=r[l])}}}return e}function Su(n,e,t){n.style.setProperty(e,t)}function Pm({swiper:n,targetPosition:e,side:t}){let i=pi(),r=-n.translate,s=null,a,o=n.params.speed;n.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(n.cssModeFrameID);let l=e>r?"next":"prev",c=(h,d)=>l==="next"&&h>=d||l==="prev"&&h<=d,u=()=>{a=new Date().getTime(),s===null&&(s=a);let h=Math.max(Math.min((a-s)/o,1),0),d=.5-Math.cos(h*Math.PI)/2,m=r+d*(e-r);if(c(m,e)&&(m=e),n.wrapperEl.scrollTo({[t]:m}),c(m,e)){n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[t]:m})}),i.cancelAnimationFrame(n.cssModeFrameID);return}n.cssModeFrameID=i.requestAnimationFrame(u)};u()}var Ux;function QV(){let n=pi(),e=Xi();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch),passiveListener:function(){let i=!1;try{let r=Object.defineProperty({},"passive",{get(){i=!0}});n.addEventListener("testPassiveListener",null,r)}catch(r){}return i}(),gestures:function(){return"ongesturestart"in n}()}}function Im(){return Ux||(Ux=QV()),Ux}var zx;function eH({userAgent:n}={}){let e=Im(),t=pi(),i=t.navigator.platform,r=n||t.navigator.userAgent,s={ios:!1,android:!1},a=t.screen.width,o=t.screen.height,l=r.match(/(Android);?[\s\/]+([\d.]+)?/),c=r.match(/(iPad).*OS\s([\d_]+)/),u=r.match(/(iPod)(.*OS\s([\d_]+))?/),h=!c&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d=i==="Win32",m=i==="MacIntel",v=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&m&&e.touch&&v.indexOf(`${a}x${o}`)>=0&&(c=r.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),m=!1),l&&!d&&(s.os="android",s.android=!0),(c||h||u)&&(s.os="ios",s.ios=!0),s}function yI(n={}){return zx||(zx=eH(n)),zx}var Vx;function tH(){let n=pi();function e(){let t=n.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent)}}function vI(){return Vx||(Vx=tH()),Vx}function Hx({swiper:n,on:e,emit:t}){let i=pi(),r=null,s=null,a=()=>{!n||n.destroyed||!n.initialized||(t("beforeResize"),t("resize"))},o=()=>{!n||n.destroyed||!n.initialized||(r=new ResizeObserver(u=>{s=i.requestAnimationFrame(()=>{let{width:h,height:d}=n,m=h,v=d;u.forEach(({contentBoxSize:_,contentRect:g,target:y})=>{y&&y!==n.el||(m=g?g.width:(_[0]||_).inlineSize,v=g?g.height:(_[0]||_).blockSize)}),(m!==h||v!==d)&&a()})}),r.observe(n.el))},l=()=>{s&&i.cancelAnimationFrame(s),r&&r.unobserve&&n.el&&(r.unobserve(n.el),r=null)},c=()=>{!n||n.destroyed||!n.initialized||t("orientationchange")};e("init",()=>{if(n.params.resizeObserver&&typeof i.ResizeObserver!="undefined"){o();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",c)}),e("destroy",()=>{l(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",c)})}function Gx({swiper:n,extendParams:e,on:t,emit:i}){let r=[],s=pi(),a=(c,u={})=>{let h=s.MutationObserver||s.WebkitMutationObserver,d=new h(m=>{if(m.length===1){i("observerUpdate",m[0]);return}let v=function(){i("observerUpdate",m[0])};s.requestAnimationFrame?s.requestAnimationFrame(v):s.setTimeout(v,0)});d.observe(c,{attributes:typeof u.attributes=="undefined"?!0:u.attributes,childList:typeof u.childList=="undefined"?!0:u.childList,characterData:typeof u.characterData=="undefined"?!0:u.characterData}),r.push(d)},o=()=>{if(n.params.observer){if(n.params.observeParents){let c=n.$el.parents();for(let u=0;u<c.length;u+=1)a(c[u])}a(n.$el[0],{childList:n.params.observeSlideChildren}),a(n.$wrapperEl[0],{attributes:!1})}},l=()=>{r.forEach(c=>{c.disconnect()}),r.splice(0,r.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),t("init",o),t("destroy",l)}var _I={on(n,e,t){let i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;let r=t?"unshift":"push";return n.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(n,e,t){let i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(...s){i.off(n,r),r.__emitterProxy&&delete r.__emitterProxy,e.apply(i,s)}return r.__emitterProxy=e,i.on(n,r,t)},onAny(n,e){let t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;let i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[i](n),t},offAny(n){let e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;let t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){let t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(i=>{typeof e=="undefined"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&t.eventsListeners[i].splice(s,1)})}),t},emit(...n){let e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,i,r;return typeof n[0]=="string"||Array.isArray(n[0])?(t=n[0],i=n.slice(1,n.length),r=e):(t=n[0].events,i=n[0].data,r=n[0].context||e),i.unshift(r),(Array.isArray(t)?t:t.split(" ")).forEach(a=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(o=>{o.apply(r,[a,...i])}),e.eventsListeners&&e.eventsListeners[a]&&e.eventsListeners[a].forEach(o=>{o.apply(r,i)})}),e}};function $x(){let n=this,e,t,i=n.$el;typeof n.params.width!="undefined"&&n.params.width!==null?e=n.params.width:e=i[0].clientWidth,typeof n.params.height!="undefined"&&n.params.height!==null?t=n.params.height:t=i[0].clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(i.css("padding-left")||0,10)-parseInt(i.css("padding-right")||0,10),t=t-parseInt(i.css("padding-top")||0,10)-parseInt(i.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function Wx(){let n=this;function e(A){return n.isHorizontal()?A:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[A]}function t(A,N){return parseFloat(A.getPropertyValue(e(N))||0)}let i=n.params,{$wrapperEl:r,size:s,rtlTranslate:a,wrongRTL:o}=n,l=n.virtual&&i.virtual.enabled,c=l?n.virtual.slides.length:n.slides.length,u=r.children(`.${n.params.slideClass}`),h=l?n.virtual.slides.length:u.length,d=[],m=[],v=[],_=i.slidesOffsetBefore;typeof _=="function"&&(_=i.slidesOffsetBefore.call(n));let g=i.slidesOffsetAfter;typeof g=="function"&&(g=i.slidesOffsetAfter.call(n));let y=n.snapGrid.length,b=n.slidesGrid.length,E=i.spaceBetween,w=-_,D=0,P=0;if(typeof s=="undefined")return;typeof E=="string"&&E.indexOf("%")>=0&&(E=parseFloat(E.replace("%",""))/100*s),n.virtualSize=-E,a?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),i.centeredSlides&&i.cssMode&&(Su(n.wrapperEl,"--swiper-centered-offset-before",""),Su(n.wrapperEl,"--swiper-centered-offset-after",""));let M=i.grid&&i.grid.rows>1&&n.grid;M&&n.grid.initSlides(h);let R,I=i.slidesPerView==="auto"&&i.breakpoints&&Object.keys(i.breakpoints).filter(A=>typeof i.breakpoints[A].slidesPerView!="undefined").length>0;for(let A=0;A<h;A+=1){R=0;let N=u.eq(A);if(M&&n.grid.updateSlide(A,N,h,e),N.css("display")!=="none"){if(i.slidesPerView==="auto"){I&&(u[A].style[e("width")]="");let G=getComputedStyle(N[0]),X=N[0].style.transform,J=N[0].style.webkitTransform;if(X&&(N[0].style.transform="none"),J&&(N[0].style.webkitTransform="none"),i.roundLengths)R=n.isHorizontal()?N.outerWidth(!0):N.outerHeight(!0);else{let ge=t(G,"width"),te=t(G,"padding-left"),pe=t(G,"padding-right"),re=t(G,"margin-left"),ne=t(G,"margin-right"),qe=G.getPropertyValue("box-sizing");if(qe&&qe==="border-box")R=ge+re+ne;else{let{clientWidth:je,offsetWidth:et}=N[0];R=ge+te+pe+re+ne+(et-je)}}X&&(N[0].style.transform=X),J&&(N[0].style.webkitTransform=J),i.roundLengths&&(R=Math.floor(R))}else R=(s-(i.slidesPerView-1)*E)/i.slidesPerView,i.roundLengths&&(R=Math.floor(R)),u[A]&&(u[A].style[e("width")]=`${R}px`);u[A]&&(u[A].swiperSlideSize=R),v.push(R),i.centeredSlides?(w=w+R/2+D/2+E,D===0&&A!==0&&(w=w-s/2-E),A===0&&(w=w-s/2-E),Math.abs(w)<1/1e3&&(w=0),i.roundLengths&&(w=Math.floor(w)),P%i.slidesPerGroup===0&&d.push(w),m.push(w)):(i.roundLengths&&(w=Math.floor(w)),(P-Math.min(n.params.slidesPerGroupSkip,P))%n.params.slidesPerGroup===0&&d.push(w),m.push(w),w=w+R+E),n.virtualSize+=R+E,D=R,P+=1}}if(n.virtualSize=Math.max(n.virtualSize,s)+g,a&&o&&(i.effect==="slide"||i.effect==="coverflow")&&r.css({width:`${n.virtualSize+i.spaceBetween}px`}),i.setWrapperSize&&r.css({[e("width")]:`${n.virtualSize+i.spaceBetween}px`}),M&&n.grid.updateWrapperSize(R,d,e),!i.centeredSlides){let A=[];for(let N=0;N<d.length;N+=1){let G=d[N];i.roundLengths&&(G=Math.floor(G)),d[N]<=n.virtualSize-s&&A.push(G)}d=A,Math.floor(n.virtualSize-s)-Math.floor(d[d.length-1])>1&&d.push(n.virtualSize-s)}if(d.length===0&&(d=[0]),i.spaceBetween!==0){let A=n.isHorizontal()&&a?"marginLeft":e("marginRight");u.filter((N,G)=>i.cssMode?G!==u.length-1:!0).css({[A]:`${E}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let A=0;v.forEach(G=>{A+=G+(i.spaceBetween?i.spaceBetween:0)}),A-=i.spaceBetween;let N=A-s;d=d.map(G=>G<0?-_:G>N?N+g:G)}if(i.centerInsufficientSlides){let A=0;if(v.forEach(N=>{A+=N+(i.spaceBetween?i.spaceBetween:0)}),A-=i.spaceBetween,A<s){let N=(s-A)/2;d.forEach((G,X)=>{d[X]=G-N}),m.forEach((G,X)=>{m[X]=G+N})}}if(Object.assign(n,{slides:u,snapGrid:d,slidesGrid:m,slidesSizesGrid:v}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){Su(n.wrapperEl,"--swiper-centered-offset-before",`${-d[0]}px`),Su(n.wrapperEl,"--swiper-centered-offset-after",`${n.size/2-v[v.length-1]/2}px`);let A=-n.snapGrid[0],N=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(G=>G+A),n.slidesGrid=n.slidesGrid.map(G=>G+N)}if(h!==c&&n.emit("slidesLengthChange"),d.length!==y&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),m.length!==b&&n.emit("slidesGridLengthChange"),i.watchSlidesProgress&&n.updateSlidesOffset(),!l&&!i.cssMode&&(i.effect==="slide"||i.effect==="fade")){let A=`${i.containerModifierClass}backface-hidden`,N=n.$el.hasClass(A);h<=i.maxBackfaceHiddenSlides?N||n.$el.addClass(A):N&&n.$el.removeClass(A)}}function qx(n){let e=this,t=[],i=e.virtual&&e.params.virtual.enabled,r=0,s;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);let a=o=>i?e.slides.filter(l=>parseInt(l.getAttribute("data-swiper-slide-index"),10)===o)[0]:e.slides.eq(o)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||_t([])).each(o=>{t.push(o)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){let o=e.activeIndex+s;if(o>e.slides.length&&!i)break;t.push(a(o))}else t.push(a(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]!="undefined"){let o=t[s].offsetHeight;r=o>r?o:r}(r||r===0)&&e.$wrapperEl.css("height",`${r}px`)}function jx(){let n=this,e=n.slides;for(let t=0;t<e.length;t+=1)e[t].swiperSlideOffset=n.isHorizontal()?e[t].offsetLeft:e[t].offsetTop}function Xx(n=this&&this.translate||0){let e=this,t=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset=="undefined"&&e.updateSlidesOffset();let a=-n;r&&(a=n),i.removeClass(t.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let o=0;o<i.length;o+=1){let l=i[o],c=l.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(c-=i[0].swiperSlideOffset);let u=(a+(t.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+t.spaceBetween),h=(a-s[0]+(t.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+t.spaceBetween),d=-(a-c),m=d+e.slidesSizesGrid[o];(d>=0&&d<e.size-1||m>1&&m<=e.size||d<=0&&m>=e.size)&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(o),i.eq(o).addClass(t.slideVisibleClass)),l.progress=r?-u:u,l.originalProgress=r?-h:h}e.visibleSlides=_t(e.visibleSlides)}function Yx(n){let e=this;if(typeof n=="undefined"){let c=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*c||0}let t=e.params,i=e.maxTranslate()-e.minTranslate(),{progress:r,isBeginning:s,isEnd:a}=e,o=s,l=a;i===0?(r=0,s=!0,a=!0):(r=(n-e.minTranslate())/i,s=r<=0,a=r>=1),Object.assign(e,{progress:r,isBeginning:s,isEnd:a}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),s&&!o&&e.emit("reachBeginning toEdge"),a&&!l&&e.emit("reachEnd toEdge"),(o&&!s||l&&!a)&&e.emit("fromEdge"),e.emit("progress",r)}function Kx(){let n=this,{slides:e,params:t,$wrapperEl:i,activeIndex:r,realIndex:s}=n,a=n.virtual&&t.virtual.enabled;e.removeClass(`${t.slideActiveClass} ${t.slideNextClass} ${t.slidePrevClass} ${t.slideDuplicateActiveClass} ${t.slideDuplicateNextClass} ${t.slideDuplicatePrevClass}`);let o;a?o=n.$wrapperEl.find(`.${t.slideClass}[data-swiper-slide-index="${r}"]`):o=e.eq(r),o.addClass(t.slideActiveClass),t.loop&&(o.hasClass(t.slideDuplicateClass)?i.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${s}"]`).addClass(t.slideDuplicateActiveClass):i.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${s}"]`).addClass(t.slideDuplicateActiveClass));let l=o.nextAll(`.${t.slideClass}`).eq(0).addClass(t.slideNextClass);t.loop&&l.length===0&&(l=e.eq(0),l.addClass(t.slideNextClass));let c=o.prevAll(`.${t.slideClass}`).eq(0).addClass(t.slidePrevClass);t.loop&&c.length===0&&(c=e.eq(-1),c.addClass(t.slidePrevClass)),t.loop&&(l.hasClass(t.slideDuplicateClass)?i.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicateNextClass):i.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicateNextClass),c.hasClass(t.slideDuplicateClass)?i.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicatePrevClass):i.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicatePrevClass)),n.emitSlidesClasses()}function Jx(n){let e=this,t=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:i,snapGrid:r,params:s,activeIndex:a,realIndex:o,snapIndex:l}=e,c=n,u;if(typeof c=="undefined"){for(let d=0;d<i.length;d+=1)typeof i[d+1]!="undefined"?t>=i[d]&&t<i[d+1]-(i[d+1]-i[d])/2?c=d:t>=i[d]&&t<i[d+1]&&(c=d+1):t>=i[d]&&(c=d);s.normalizeSlideIndex&&(c<0||typeof c=="undefined")&&(c=0)}if(r.indexOf(t)>=0)u=r.indexOf(t);else{let d=Math.min(s.slidesPerGroupSkip,c);u=d+Math.floor((c-d)/s.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),c===a){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}let h=parseInt(e.slides.eq(c).attr("data-swiper-slide-index")||c,10);Object.assign(e,{snapIndex:u,realIndex:h,previousIndex:a,activeIndex:c}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),o!==h&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function Zx(n){let e=this,t=e.params,i=_t(n).closest(`.${t.slideClass}`)[0],r=!1,s;if(i){for(let a=0;a<e.slides.length;a+=1)if(e.slides[a]===i){r=!0,s=a;break}}if(i&&r)e.clickedSlide=i,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(_t(i).attr("data-swiper-slide-index"),10):e.clickedIndex=s;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}t.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}var xI={updateSize:$x,updateSlides:Wx,updateAutoHeight:qx,updateSlidesOffset:jx,updateSlidesProgress:Xx,updateProgress:Yx,updateSlidesClasses:Kx,updateActiveIndex:Jx,updateClickedSlide:Zx};function Qx(n=this.isHorizontal()?"x":"y"){let e=this,{params:t,rtlTranslate:i,translate:r,$wrapperEl:s}=e;if(t.virtualTranslate)return i?-r:r;if(t.cssMode)return r;let a=Bx(s[0],n);return i&&(a=-a),a||0}function eb(n,e){let t=this,{rtlTranslate:i,params:r,$wrapperEl:s,wrapperEl:a,progress:o}=t,l=0,c=0,u=0;t.isHorizontal()?l=i?-n:n:c=n,r.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),r.cssMode?a[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-l:-c:r.virtualTranslate||s.transform(`translate3d(${l}px, ${c}px, ${u}px)`),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?l:c;let h,d=t.maxTranslate()-t.minTranslate();d===0?h=0:h=(n-t.minTranslate())/d,h!==o&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function tb(){return-this.snapGrid[0]}function ib(){return-this.snapGrid[this.snapGrid.length-1]}function nb(n=0,e=this.params.speed,t=!0,i=!0,r){let s=this,{params:a,wrapperEl:o}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;let l=s.minTranslate(),c=s.maxTranslate(),u;if(i&&n>l?u=l:i&&n<c?u=c:u=n,s.updateProgress(u),a.cssMode){let h=s.isHorizontal();if(e===0)o[h?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return Pm({swiper:s,targetPosition:-u,side:h?"left":"top"}),!0;o.scrollTo({[h?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(d){!s||s.destroyed||d.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,t&&s.emit("transitionEnd"))}),s.$wrapperEl[0].addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd))),!0}var bI={getTranslate:Qx,setTranslate:eb,minTranslate:tb,maxTranslate:ib,translateTo:nb};function rb(n,e){let t=this;t.params.cssMode||t.$wrapperEl.transition(n),t.emit("setTransition",n,e)}function zf({swiper:n,runCallbacks:e,direction:t,step:i}){let{activeIndex:r,previousIndex:s}=n,a=t;if(a||(r>s?a="next":r<s?a="prev":a="reset"),n.emit(`transition${i}`),e&&r!==s){if(a==="reset"){n.emit(`slideResetTransition${i}`);return}n.emit(`slideChangeTransition${i}`),a==="next"?n.emit(`slideNextTransition${i}`):n.emit(`slidePrevTransition${i}`)}}function sb(n=!0,e){let t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),zf({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function ab(n=!0,e){let t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),zf({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var EI={setTransition:rb,transitionStart:sb,transitionEnd:ab};function ob(n=0,e=this.params.speed,t=!0,i,r){if(typeof n!="number"&&typeof n!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof n}] given.`);if(typeof n=="string"){let E=parseInt(n,10);if(!isFinite(E))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${n}] given.`);n=E}let s=this,a=n;a<0&&(a=0);let{params:o,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:h,rtlTranslate:d,wrapperEl:m,enabled:v}=s;if(s.animating&&o.preventInteractionOnTransition||!v&&!i&&!r)return!1;let _=Math.min(s.params.slidesPerGroupSkip,a),g=_+Math.floor((a-_)/s.params.slidesPerGroup);g>=l.length&&(g=l.length-1);let y=-l[g];if(o.normalizeSlideIndex)for(let E=0;E<c.length;E+=1){let w=-Math.floor(y*100),D=Math.floor(c[E]*100),P=Math.floor(c[E+1]*100);typeof c[E+1]!="undefined"?w>=D&&w<P-(P-D)/2?a=E:w>=D&&w<P&&(a=E+1):w>=D&&(a=E)}if(s.initialized&&a!==h&&(!s.allowSlideNext&&y<s.translate&&y<s.minTranslate()||!s.allowSlidePrev&&y>s.translate&&y>s.maxTranslate()&&(h||0)!==a))return!1;a!==(u||0)&&t&&s.emit("beforeSlideChangeStart"),s.updateProgress(y);let b;if(a>h?b="next":a<h?b="prev":b="reset",d&&-y===s.translate||!d&&y===s.translate)return s.updateActiveIndex(a),o.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),o.effect!=="slide"&&s.setTranslate(y),b!=="reset"&&(s.transitionStart(t,b),s.transitionEnd(t,b)),!1;if(o.cssMode){let E=s.isHorizontal(),w=d?y:-y;if(e===0){let D=s.virtual&&s.params.virtual.enabled;D&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),m[E?"scrollLeft":"scrollTop"]=w,D&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._swiperImmediateVirtual=!1})}else{if(!s.support.smoothScroll)return Pm({swiper:s,targetPosition:w,side:E?"left":"top"}),!0;m.scrollTo({[E?"left":"top"]:w,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(y),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(t,b),e===0?s.transitionEnd(t,b):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(w){!s||s.destroyed||w.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(t,b))}),s.$wrapperEl[0].addEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd)),!0}function lb(n=0,e=this.params.speed,t=!0,i){if(typeof n=="string"){let a=parseInt(n,10);if(!isFinite(a))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${n}] given.`);n=a}let r=this,s=n;return r.params.loop&&(s+=r.loopedSlides),r.slideTo(s,e,t,i)}function cb(n=this.params.speed,e=!0,t){let i=this,{animating:r,enabled:s,params:a}=i;if(!s)return i;let o=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(o=Math.max(i.slidesPerViewDynamic("current",!0),1));let l=i.activeIndex<a.slidesPerGroupSkip?1:o;if(a.loop){if(r&&a.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}return a.rewind&&i.isEnd?i.slideTo(0,n,e,t):i.slideTo(i.activeIndex+l,n,e,t)}function ub(n=this.params.speed,e=!0,t){let i=this,{params:r,animating:s,snapGrid:a,slidesGrid:o,rtlTranslate:l,enabled:c}=i;if(!c)return i;if(r.loop){if(s&&r.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}let u=l?i.translate:-i.translate;function h(g){return g<0?-Math.floor(Math.abs(g)):Math.floor(g)}let d=h(u),m=a.map(g=>h(g)),v=a[m.indexOf(d)-1];if(typeof v=="undefined"&&r.cssMode){let g;a.forEach((y,b)=>{d>=y&&(g=b)}),typeof g!="undefined"&&(v=a[g>0?g-1:g])}let _=0;if(typeof v!="undefined"&&(_=o.indexOf(v),_<0&&(_=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(_=_-i.slidesPerViewDynamic("previous",!0)+1,_=Math.max(_,0))),r.rewind&&i.isBeginning){let g=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(g,n,e,t)}return i.slideTo(_,n,e,t)}function hb(n=this.params.speed,e=!0,t){let i=this;return i.slideTo(i.activeIndex,n,e,t)}function fb(n=this.params.speed,e=!0,t,i=.5){let r=this,s=r.activeIndex,a=Math.min(r.params.slidesPerGroupSkip,s),o=a+Math.floor((s-a)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[o]){let c=r.snapGrid[o],u=r.snapGrid[o+1];l-c>(u-c)*i&&(s+=r.params.slidesPerGroup)}else{let c=r.snapGrid[o-1],u=r.snapGrid[o];l-c<=(u-c)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,n,e,t)}function db(){let n=this,{params:e,$wrapperEl:t}=n,i=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView,r=n.clickedIndex,s;if(e.loop){if(n.animating)return;s=parseInt(_t(n.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?r<n.loopedSlides-i/2||r>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),r=t.children(`.${e.slideClass}[data-swiper-slide-index="${s}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Wa(()=>{n.slideTo(r)})):n.slideTo(r):r>n.slides.length-i?(n.loopFix(),r=t.children(`.${e.slideClass}[data-swiper-slide-index="${s}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Wa(()=>{n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}var SI={slideTo:ob,slideToLoop:lb,slideNext:cb,slidePrev:ub,slideReset:hb,slideToClosest:fb,slideToClickedSlide:db};function pb(){let n=this,e=Xi(),{params:t,$wrapperEl:i}=n,r=i.children().length>0?_t(i.children()[0].parentNode):i;r.children(`.${t.slideClass}.${t.slideDuplicateClass}`).remove();let s=r.children(`.${t.slideClass}`);if(t.loopFillGroupWithBlank){let l=t.slidesPerGroup-s.length%t.slidesPerGroup;if(l!==t.slidesPerGroup){for(let c=0;c<l;c+=1){let u=_t(e.createElement("div")).addClass(`${t.slideClass} ${t.slideBlankClass}`);r.append(u)}s=r.children(`.${t.slideClass}`)}}t.slidesPerView==="auto"&&!t.loopedSlides&&(t.loopedSlides=s.length),n.loopedSlides=Math.ceil(parseFloat(t.loopedSlides||t.slidesPerView,10)),n.loopedSlides+=t.loopAdditionalSlides,n.loopedSlides>s.length&&n.params.loopedSlidesLimit&&(n.loopedSlides=s.length);let a=[],o=[];s.each((l,c)=>{_t(l).attr("data-swiper-slide-index",c)});for(let l=0;l<n.loopedSlides;l+=1){let c=l-Math.floor(l/s.length)*s.length;o.push(s.eq(c)[0]),a.unshift(s.eq(s.length-c-1)[0])}for(let l=0;l<o.length;l+=1)r.append(_t(o[l].cloneNode(!0)).addClass(t.slideDuplicateClass));for(let l=a.length-1;l>=0;l-=1)r.prepend(_t(a[l].cloneNode(!0)).addClass(t.slideDuplicateClass))}function mb(){let n=this;n.emit("beforeLoopFix");let{activeIndex:e,slides:t,loopedSlides:i,allowSlidePrev:r,allowSlideNext:s,snapGrid:a,rtlTranslate:o}=n,l;n.allowSlidePrev=!0,n.allowSlideNext=!0;let u=-a[e]-n.getTranslate();e<i?(l=t.length-i*3+e,l+=i,n.slideTo(l,0,!1,!0)&&u!==0&&n.setTranslate((o?-n.translate:n.translate)-u)):e>=t.length-i&&(l=-t.length+e+i,l+=i,n.slideTo(l,0,!1,!0)&&u!==0&&n.setTranslate((o?-n.translate:n.translate)-u)),n.allowSlidePrev=r,n.allowSlideNext=s,n.emit("loopFix")}function gb(){let n=this,{$wrapperEl:e,params:t,slides:i}=n;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),i.removeAttr("data-swiper-slide-index")}var TI={loopCreate:pb,loopFix:mb,loopDestroy:gb};function yb(n){let e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;let t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;t.style.cursor="move",t.style.cursor=n?"grabbing":"grab"}function vb(){let n=this;n.support.touch||n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}var wI={setGrabCursor:yb,unsetGrabCursor:vb};function iH(n,e=this){function t(i){if(!i||i===Xi()||i===pi())return null;i.assignedSlot&&(i=i.assignedSlot);let r=i.closest(n);return!r&&!i.getRootNode?null:r||t(i.getRootNode().host)}return t(e)}function _b(n){let e=this,t=Xi(),i=pi(),r=e.touchEventsData,{params:s,touches:a,enabled:o}=e;if(!o||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=n;l.originalEvent&&(l=l.originalEvent);let c=_t(l.target);if(s.touchEventsTarget==="wrapper"&&!c.closest(e.wrapperEl).length||(r.isTouchEvent=l.type==="touchstart",!r.isTouchEvent&&"which"in l&&l.which===3)||!r.isTouchEvent&&"button"in l&&l.button>0||r.isTouched&&r.isMoved)return;let u=!!s.noSwipingClass&&s.noSwipingClass!=="",h=n.composedPath?n.composedPath():n.path;u&&l.target&&l.target.shadowRoot&&h&&(c=_t(h[0]));let d=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,m=!!(l.target&&l.target.shadowRoot);if(s.noSwiping&&(m?iH(d,c[0]):c.closest(d)[0])){e.allowClick=!0;return}if(s.swipeHandler&&!c.closest(s.swipeHandler)[0])return;a.currentX=l.type==="touchstart"?l.targetTouches[0].pageX:l.pageX,a.currentY=l.type==="touchstart"?l.targetTouches[0].pageY:l.pageY;let v=a.currentX,_=a.currentY,g=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,y=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(g&&(v<=y||v>=i.innerWidth-y))if(g==="prevent")n.preventDefault();else return;if(Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=v,a.startY=_,r.touchStartTime=Fs(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1),l.type!=="touchstart"){let b=!0;c.is(r.focusableElements)&&(b=!1,c[0].nodeName==="SELECT"&&(r.isTouched=!1)),t.activeElement&&_t(t.activeElement).is(r.focusableElements)&&t.activeElement!==c[0]&&t.activeElement.blur();let E=b&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||E)&&!c[0].isContentEditable&&l.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function xb(n){let e=Xi(),t=this,i=t.touchEventsData,{params:r,touches:s,rtlTranslate:a,enabled:o}=t;if(!o)return;let l=n;if(l.originalEvent&&(l=l.originalEvent),!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",l);return}if(i.isTouchEvent&&l.type!=="touchmove")return;let c=l.type==="touchmove"&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),u=l.type==="touchmove"?c.pageX:l.pageX,h=l.type==="touchmove"?c.pageY:l.pageY;if(l.preventedByNestedSwiper){s.startX=u,s.startY=h;return}if(!t.allowTouchMove){_t(l.target).is(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:u,startY:h,currentX:u,currentY:h}),i.touchStartTime=Fs());return}if(i.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop){if(t.isVertical()){if(h<s.startY&&t.translate<=t.maxTranslate()||h>s.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(u<s.startX&&t.translate<=t.maxTranslate()||u>s.startX&&t.translate>=t.minTranslate())return}if(i.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&_t(l.target).is(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}if(i.allowTouchCallbacks&&t.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;s.currentX=u,s.currentY=h;let d=s.currentX-s.startX,m=s.currentY-s.startY;if(t.params.threshold&&Math.sqrt(Na(d,2)+Na(m,2))<t.params.threshold)return;if(typeof i.isScrolling=="undefined"){let y;t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:d*d+m*m>=25&&(y=Math.atan2(Math.abs(m),Math.abs(d))*180/Math.PI,i.isScrolling=t.isHorizontal()?y>r.touchAngle:90-y>r.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",l),typeof i.startMoving=="undefined"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation(),i.isMoved||(r.loop&&!r.cssMode&&t.loopFix(),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating&&t.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,r.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)),t.emit("sliderMove",l),i.isMoved=!0;let v=t.isHorizontal()?d:m;s.diff=v,v*=r.touchRatio,a&&(v=-v),t.swipeDirection=v>0?"prev":"next",i.currentTranslate=v+i.startTranslate;let _=!0,g=r.resistanceRatio;if(r.touchReleaseOnEdges&&(g=0),v>0&&i.currentTranslate>t.minTranslate()?(_=!1,r.resistance&&(i.currentTranslate=t.minTranslate()-1+Na(-t.minTranslate()+i.startTranslate+v,g))):v<0&&i.currentTranslate<t.maxTranslate()&&(_=!1,r.resistance&&(i.currentTranslate=t.maxTranslate()+1-Na(t.maxTranslate()-i.startTranslate-v,g))),_&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(v)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&t.freeMode||r.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),t.params.freeMode&&r.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function bb(n){let e=this,t=e.touchEventsData,{params:i,touches:r,rtlTranslate:s,slidesGrid:a,enabled:o}=e;if(!o)return;let l=n;if(l.originalEvent&&(l=l.originalEvent),t.allowTouchCallbacks&&e.emit("touchEnd",l),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&i.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}i.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);let c=Fs(),u=c-t.touchStartTime;if(e.allowClick){let b=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(b&&b[0]||l.target),e.emit("tap click",l),u<300&&c-t.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(t.lastClickTime=Fs(),Wa(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||r.diff===0||t.currentTranslate===t.startTranslate){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let h;if(i.followFinger?h=s?e.translate:-e.translate:h=-t.currentTranslate,i.cssMode)return;if(e.params.freeMode&&i.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}let d=0,m=e.slidesSizesGrid[0];for(let b=0;b<a.length;b+=b<i.slidesPerGroupSkip?1:i.slidesPerGroup){let E=b<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof a[b+E]!="undefined"?h>=a[b]&&h<a[b+E]&&(d=b,m=a[b+E]-a[b]):h>=a[b]&&(d=b,m=a[a.length-1]-a[a.length-2])}let v=null,_=null;i.rewind&&(e.isBeginning?_=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(v=0));let g=(h-a[d])/m,y=d<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(u>i.longSwipesMs){if(!i.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(g>=i.longSwipesRatio?e.slideTo(i.rewind&&e.isEnd?v:d+y):e.slideTo(d)),e.swipeDirection==="prev"&&(g>1-i.longSwipesRatio?e.slideTo(d+y):_!==null&&g<0&&Math.abs(g)>i.longSwipesRatio?e.slideTo(_):e.slideTo(d))}else{if(!i.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(d+y):e.slideTo(d):(e.swipeDirection==="next"&&e.slideTo(v!==null?v:d+y),e.swipeDirection==="prev"&&e.slideTo(_!==null?_:d))}}function Dm(){let n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();let{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=n;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides?n.slideTo(n.slides.length-1,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.run(),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}function Eb(n){let e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function Sb(){let n=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=n;if(!i)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let r,s=n.maxTranslate()-n.minTranslate();s===0?r=0:r=(n.translate-n.minTranslate())/s,r!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}var AI=!1;function nH(){}var MI=(n,e)=>{let t=Xi(),{params:i,touchEvents:r,el:s,wrapperEl:a,device:o,support:l}=n,c=!!i.nested,u=e==="on"?"addEventListener":"removeEventListener",h=e;if(!l.touch)s[u](r.start,n.onTouchStart,!1),t[u](r.move,n.onTouchMove,c),t[u](r.end,n.onTouchEnd,!1);else{let d=r.start==="touchstart"&&l.passiveListener&&i.passiveListeners?{passive:!0,capture:!1}:!1;s[u](r.start,n.onTouchStart,d),s[u](r.move,n.onTouchMove,l.passiveListener?{passive:!1,capture:c}:c),s[u](r.end,n.onTouchEnd,d),r.cancel&&s[u](r.cancel,n.onTouchEnd,d)}(i.preventClicks||i.preventClicksPropagation)&&s[u]("click",n.onClick,!0),i.cssMode&&a[u]("scroll",n.onScroll),i.updateOnWindowResize?n[h](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Dm,!0):n[h]("observerUpdate",Dm,!0)};function rH(){let n=this,e=Xi(),{params:t,support:i}=n;n.onTouchStart=_b.bind(n),n.onTouchMove=xb.bind(n),n.onTouchEnd=bb.bind(n),t.cssMode&&(n.onScroll=Sb.bind(n)),n.onClick=Eb.bind(n),i.touch&&!AI&&(e.addEventListener("touchstart",nH),AI=!0),MI(n,"on")}function sH(){MI(this,"off")}var CI={attachEvents:rH,detachEvents:sH};var PI=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function Tb(){let n=this,{activeIndex:e,initialized:t,loopedSlides:i=0,params:r,$el:s}=n,a=r.breakpoints;if(!a||a&&Object.keys(a).length===0)return;let o=n.getBreakpoint(a,n.params.breakpointsBase,n.el);if(!o||n.currentBreakpoint===o)return;let c=(o in a?a[o]:void 0)||n.originalParams,u=PI(n,r),h=PI(n,c),d=r.enabled;u&&!h?(s.removeClass(`${r.containerModifierClass}grid ${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!u&&h&&(s.addClass(`${r.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&r.grid.fill==="column")&&s.addClass(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(g=>{let y=r[g]&&r[g].enabled,b=c[g]&&c[g].enabled;y&&!b&&n[g].disable(),!y&&b&&n[g].enable()});let m=c.direction&&c.direction!==r.direction,v=r.loop&&(c.slidesPerView!==r.slidesPerView||m);m&&t&&n.changeDirection(),rr(n.params,c);let _=n.params.enabled;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),d&&!_?n.disable():!d&&_&&n.enable(),n.currentBreakpoint=o,n.emit("_beforeBreakpoint",c),v&&t&&(n.loopDestroy(),n.loopCreate(),n.updateSlides(),n.slideTo(e-i+n.loopedSlides,0,!1)),n.emit("breakpoint",c)}function wb(n,e="window",t){if(!n||e==="container"&&!t)return;let i=!1,r=pi(),s=e==="window"?r.innerHeight:t.clientHeight,a=Object.keys(n).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){let l=parseFloat(o.substr(1));return{value:s*l,point:o}}return{value:o,point:o}});a.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<a.length;o+=1){let{point:l,value:c}=a[o];e==="window"?r.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=t.clientWidth&&(i=l)}return i||"max"}var II={setBreakpoint:Tb,getBreakpoint:wb};function aH(n,e){let t=[];return n.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&t.push(e+r)}):typeof i=="string"&&t.push(e+i)}),t}function Ab(){let n=this,{classNames:e,params:t,rtl:i,$el:r,device:s,support:a}=n,o=aH(["initialized",t.direction,{"pointer-events":!a.touch},{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...o),r.addClass([...e].join(" ")),n.emitContainerClasses()}function Mb(){let n=this,{$el:e,classNames:t}=n;e.removeClass(t.join(" ")),n.emitContainerClasses()}var DI={addClasses:Ab,removeClasses:Mb};function Cb(n,e,t,i,r,s){let a=pi(),o;function l(){s&&s()}!_t(n).parent("picture")[0]&&(!n.complete||!r)&&e?(o=new a.Image,o.onload=l,o.onerror=l,i&&(o.sizes=i),t&&(o.srcset=t),e&&(o.src=e)):l()}function Pb(){let n=this;n.imagesToLoad=n.$el.find("img");function e(){typeof n=="undefined"||n===null||!n||n.destroyed||(n.imagesLoaded!==void 0&&(n.imagesLoaded+=1),n.imagesLoaded===n.imagesToLoad.length&&(n.params.updateOnImagesReady&&n.update(),n.emit("imagesReady")))}for(let t=0;t<n.imagesToLoad.length;t+=1){let i=n.imagesToLoad[t];n.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,e)}}var RI={loadImage:Cb,preloadImages:Pb};function oH(){let n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:i}=t;if(i){let r=n.slides.length-1,s=n.slidesGrid[r]+n.slidesSizesGrid[r]+i*2;n.isLocked=n.size>s}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var LI={checkOverflow:oH};var Ib={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Db(n,e){return function(i={}){let r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){rr(e,i);return}if(["navigation","pagination","scrollbar"].indexOf(r)>=0&&n[r]===!0&&(n[r]={auto:!0}),!(r in n&&"enabled"in s)){rr(e,i);return}n[r]===!0&&(n[r]={enabled:!0}),typeof n[r]=="object"&&!("enabled"in n[r])&&(n[r].enabled=!0),n[r]||(n[r]={enabled:!1}),rr(e,i)}}var Rb={eventsEmitter:_I,update:xI,translate:bI,transition:EI,slide:SI,loop:TI,grabCursor:wI,events:CI,breakpoints:II,checkOverflow:LI,classes:DI,images:RI},Lb={},Vf=class n{constructor(...e){let t,i;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?i=e[0]:[t,i]=e,i||(i={}),i=rr({},i),t&&!i.el&&(i.el=t),i.el&&_t(i.el).length>1){let o=[];return _t(i.el).each(l=>{let c=rr({},i,{el:l});o.push(new n(c))}),o}let r=this;r.__swiper__=!0,r.support=Im(),r.device=yI({userAgent:i.userAgent}),r.browser=vI(),r.eventsListeners={},r.eventsAnyListeners=[],r.modules=[...r.__modules__],i.modules&&Array.isArray(i.modules)&&r.modules.push(...i.modules);let s={};r.modules.forEach(o=>{o({swiper:r,extendParams:Db(i,s),on:r.on.bind(r),once:r.once.bind(r),off:r.off.bind(r),emit:r.emit.bind(r)})});let a=rr({},Ib,s);return r.params=rr({},a,Lb,i),r.originalParams=rr({},r.params),r.passedParams=rr({},i),r.params&&r.params.on&&Object.keys(r.params.on).forEach(o=>{r.on(o,r.params.on[o])}),r.params&&r.params.onAny&&r.onAny(r.params.onAny),r.$=_t,Object.assign(r,{enabled:r.params.enabled,el:t,classNames:[],slides:_t(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return r.params.direction==="horizontal"},isVertical(){return r.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev,touchEvents:function(){let l=["touchstart","touchmove","touchend","touchcancel"],c=["pointerdown","pointermove","pointerup"];return r.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},r.touchEventsDesktop={start:c[0],move:c[1],end:c[2]},r.support.touch||!r.params.simulateTouch?r.touchEventsTouch:r.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:r.params.focusableElements,lastClickTime:Fs(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:r.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),r.emit("_swiper"),r.params.init&&r.init(),r}enable(){let e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){let e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){let i=this;e=Math.min(Math.max(e,0),1);let r=i.minTranslate(),a=(i.maxTranslate()-r)*e+r;i.translateTo(a,typeof t=="undefined"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){let t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=[];e.slides.each(i=>{let r=e.getSlideClasses(i);t.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){let i=this,{params:r,slides:s,slidesGrid:a,slidesSizesGrid:o,size:l,activeIndex:c}=i,u=1;if(r.centeredSlides){let h=s[c].swiperSlideSize,d;for(let m=c+1;m<s.length;m+=1)s[m]&&!d&&(h+=s[m].swiperSlideSize,u+=1,h>l&&(d=!0));for(let m=c-1;m>=0;m-=1)s[m]&&!d&&(h+=s[m].swiperSlideSize,u+=1,h>l&&(d=!0))}else if(e==="current")for(let h=c+1;h<s.length;h+=1)(t?a[h]+o[h]-a[c]<l:a[h]-a[c]<l)&&(u+=1);else for(let h=c-1;h>=0;h-=1)a[c]-a[h]<l&&(u+=1);return u}update(){let e=this;if(!e||e.destroyed)return;let{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){let a=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let s;e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?s=e.slideTo(e.slides.length-1,0,!1,!0):s=e.slideTo(e.activeIndex,0,!1,!0),s||r()),i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){let i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.$el.removeClass(`${i.params.containerModifierClass}${r}`).addClass(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.each(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){let t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.$el.addClass(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.$el.removeClass(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){let t=this;if(t.mounted)return!0;let i=_t(e||t.params.el);if(e=i[0],!e)return!1;e.swiper=t;let r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`,a=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){let o=_t(e.shadowRoot.querySelector(r()));return o.children=l=>i.children(l),o}return i.children?i.children(r()):_t(i).children(r())})();if(a.length===0&&t.params.createElements){let l=Xi().createElement("div");a=_t(l),l.className=t.params.wrapperClass,i.append(l),i.children(`.${t.params.slideClass}`).each(c=>{a.append(c)})}return Object.assign(t,{$el:i,el:e,$wrapperEl:a,wrapperEl:a[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||i.css("direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||i.css("direction")==="rtl"),wrongRTL:a.css("display")==="-webkit-box"}),!0}init(e){let t=this;return t.initialized||t.mount(e)===!1||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(e=!0,t=!0){let i=this,{params:r,$el:s,$wrapperEl:a,slides:o}=i;return typeof i.params=="undefined"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),t&&(i.removeClasses(),s.removeAttr("style"),a.removeAttr("style"),o&&o.length&&o.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.$el[0].swiper=null,gI(i)),i.destroyed=!0),null}static extendDefaults(e){rr(Lb,e)}static get extendedDefaults(){return Lb}static get defaults(){return Ib}static installModule(e){n.prototype.__modules__||(n.prototype.__modules__=[]);let t=n.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>n.installModule(t)),n):(n.installModule(e),n)}};Object.keys(Rb).forEach(n=>{Object.keys(Rb[n]).forEach(e=>{Vf.prototype[e]=Rb[n][e]})});Vf.use([Hx,Gx]);var Rm=Vf;function Tu(n,e,t,i){let r=Xi();return n.params.createElements&&Object.keys(i).forEach(s=>{if(!t[s]&&t.auto===!0){let a=n.$el.children(`.${i[s]}`)[0];a||(a=r.createElement("div"),a.className=i[s],n.$el.append(a)),t[s]=a,e[s]=a}}),t}function Lm({swiper:n,extendParams:e,on:t,emit:i}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),n.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function r(m){let v;return m&&(v=_t(m),n.params.uniqueNavElements&&typeof m=="string"&&v.length>1&&n.$el.find(m).length===1&&(v=n.$el.find(m))),v}function s(m,v){let _=n.params.navigation;m&&m.length>0&&(m[v?"addClass":"removeClass"](_.disabledClass),m[0]&&m[0].tagName==="BUTTON"&&(m[0].disabled=v),n.params.watchOverflow&&n.enabled&&m[n.isLocked?"addClass":"removeClass"](_.lockClass))}function a(){if(n.params.loop)return;let{$nextEl:m,$prevEl:v}=n.navigation;s(v,n.isBeginning&&!n.params.rewind),s(m,n.isEnd&&!n.params.rewind)}function o(m){m.preventDefault(),!(n.isBeginning&&!n.params.loop&&!n.params.rewind)&&(n.slidePrev(),i("navigationPrev"))}function l(m){m.preventDefault(),!(n.isEnd&&!n.params.loop&&!n.params.rewind)&&(n.slideNext(),i("navigationNext"))}function c(){let m=n.params.navigation;if(n.params.navigation=Tu(n,n.originalParams.navigation,n.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(m.nextEl||m.prevEl))return;let v=r(m.nextEl),_=r(m.prevEl);v&&v.length>0&&v.on("click",l),_&&_.length>0&&_.on("click",o),Object.assign(n.navigation,{$nextEl:v,nextEl:v&&v[0],$prevEl:_,prevEl:_&&_[0]}),n.enabled||(v&&v.addClass(m.lockClass),_&&_.addClass(m.lockClass))}function u(){let{$nextEl:m,$prevEl:v}=n.navigation;m&&m.length&&(m.off("click",l),m.removeClass(n.params.navigation.disabledClass)),v&&v.length&&(v.off("click",o),v.removeClass(n.params.navigation.disabledClass))}t("init",()=>{n.params.navigation.enabled===!1?d():(c(),a())}),t("toEdge fromEdge lock unlock",()=>{a()}),t("destroy",()=>{u()}),t("enable disable",()=>{let{$nextEl:m,$prevEl:v}=n.navigation;m&&m[n.enabled?"removeClass":"addClass"](n.params.navigation.lockClass),v&&v[n.enabled?"removeClass":"addClass"](n.params.navigation.lockClass)}),t("click",(m,v)=>{let{$nextEl:_,$prevEl:g}=n.navigation,y=v.target;if(n.params.navigation.hideOnClick&&!_t(y).is(g)&&!_t(y).is(_)){if(n.pagination&&n.params.pagination&&n.params.pagination.clickable&&(n.pagination.el===y||n.pagination.el.contains(y)))return;let b;_?b=_.hasClass(n.params.navigation.hiddenClass):g&&(b=g.hasClass(n.params.navigation.hiddenClass)),i(b===!0?"navigationShow":"navigationHide"),_&&_.toggleClass(n.params.navigation.hiddenClass),g&&g.toggleClass(n.params.navigation.hiddenClass)}});let h=()=>{n.$el.removeClass(n.params.navigation.navigationDisabledClass),c(),a()},d=()=>{n.$el.addClass(n.params.navigation.navigationDisabledClass),u()};Object.assign(n.navigation,{enable:h,disable:d,update:a,init:c,destroy:u})}function qa(n=""){return`.${n.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function Om({swiper:n,extendParams:e,on:t,emit:i}){let r="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:_=>_,formatFractionTotal:_=>_,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),n.pagination={el:null,$el:null,bullets:[]};let s,a=0;function o(){return!n.params.pagination.el||!n.pagination.el||!n.pagination.$el||n.pagination.$el.length===0}function l(_,g){let{bulletActiveClass:y}=n.params.pagination;_[g]().addClass(`${y}-${g}`)[g]().addClass(`${y}-${g}-${g}`)}function c(){let _=n.rtl,g=n.params.pagination;if(o())return;let y=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,b=n.pagination.$el,E,w=n.params.loop?Math.ceil((y-n.loopedSlides*2)/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?(E=Math.ceil((n.activeIndex-n.loopedSlides)/n.params.slidesPerGroup),E>y-1-n.loopedSlides*2&&(E-=y-n.loopedSlides*2),E>w-1&&(E-=w),E<0&&n.params.paginationType!=="bullets"&&(E=w+E)):typeof n.snapIndex!="undefined"?E=n.snapIndex:E=n.activeIndex||0,g.type==="bullets"&&n.pagination.bullets&&n.pagination.bullets.length>0){let D=n.pagination.bullets,P,M,R;if(g.dynamicBullets&&(s=D.eq(0)[n.isHorizontal()?"outerWidth":"outerHeight"](!0),b.css(n.isHorizontal()?"width":"height",`${s*(g.dynamicMainBullets+4)}px`),g.dynamicMainBullets>1&&n.previousIndex!==void 0&&(a+=E-(n.previousIndex-n.loopedSlides||0),a>g.dynamicMainBullets-1?a=g.dynamicMainBullets-1:a<0&&(a=0)),P=Math.max(E-a,0),M=P+(Math.min(D.length,g.dynamicMainBullets)-1),R=(M+P)/2),D.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(I=>`${g.bulletActiveClass}${I}`).join(" ")),b.length>1)D.each(I=>{let A=_t(I),N=A.index();N===E&&A.addClass(g.bulletActiveClass),g.dynamicBullets&&(N>=P&&N<=M&&A.addClass(`${g.bulletActiveClass}-main`),N===P&&l(A,"prev"),N===M&&l(A,"next"))});else{let I=D.eq(E),A=I.index();if(I.addClass(g.bulletActiveClass),g.dynamicBullets){let N=D.eq(P),G=D.eq(M);for(let X=P;X<=M;X+=1)D.eq(X).addClass(`${g.bulletActiveClass}-main`);if(n.params.loop)if(A>=D.length){for(let X=g.dynamicMainBullets;X>=0;X-=1)D.eq(D.length-X).addClass(`${g.bulletActiveClass}-main`);D.eq(D.length-g.dynamicMainBullets-1).addClass(`${g.bulletActiveClass}-prev`)}else l(N,"prev"),l(G,"next");else l(N,"prev"),l(G,"next")}}if(g.dynamicBullets){let I=Math.min(D.length,g.dynamicMainBullets+4),A=(s*I-s)/2-R*s,N=_?"right":"left";D.css(n.isHorizontal()?N:"top",`${A}px`)}}if(g.type==="fraction"&&(b.find(qa(g.currentClass)).text(g.formatFractionCurrent(E+1)),b.find(qa(g.totalClass)).text(g.formatFractionTotal(w))),g.type==="progressbar"){let D;g.progressbarOpposite?D=n.isHorizontal()?"vertical":"horizontal":D=n.isHorizontal()?"horizontal":"vertical";let P=(E+1)/w,M=1,R=1;D==="horizontal"?M=P:R=P,b.find(qa(g.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${M}) scaleY(${R})`).transition(n.params.speed)}g.type==="custom"&&g.renderCustom?(b.html(g.renderCustom(n,E+1,w)),i("paginationRender",b[0])):i("paginationUpdate",b[0]),n.params.watchOverflow&&n.enabled&&b[n.isLocked?"addClass":"removeClass"](g.lockClass)}function u(){let _=n.params.pagination;if(o())return;let g=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,y=n.pagination.$el,b="";if(_.type==="bullets"){let E=n.params.loop?Math.ceil((g-n.loopedSlides*2)/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&!n.params.loop&&E>g&&(E=g);for(let w=0;w<E;w+=1)_.renderBullet?b+=_.renderBullet.call(n,w,_.bulletClass):b+=`<${_.bulletElement} class="${_.bulletClass}"></${_.bulletElement}>`;y.html(b),n.pagination.bullets=y.find(qa(_.bulletClass))}_.type==="fraction"&&(_.renderFraction?b=_.renderFraction.call(n,_.currentClass,_.totalClass):b=`<span class="${_.currentClass}"></span> / <span class="${_.totalClass}"></span>`,y.html(b)),_.type==="progressbar"&&(_.renderProgressbar?b=_.renderProgressbar.call(n,_.progressbarFillClass):b=`<span class="${_.progressbarFillClass}"></span>`,y.html(b)),_.type!=="custom"&&i("paginationRender",n.pagination.$el[0])}function h(){n.params.pagination=Tu(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});let _=n.params.pagination;if(!_.el)return;let g=_t(_.el);g.length!==0&&(n.params.uniqueNavElements&&typeof _.el=="string"&&g.length>1&&(g=n.$el.find(_.el),g.length>1&&(g=g.filter(y=>_t(y).parents(".swiper")[0]===n.el))),_.type==="bullets"&&_.clickable&&g.addClass(_.clickableClass),g.addClass(_.modifierClass+_.type),g.addClass(n.isHorizontal()?_.horizontalClass:_.verticalClass),_.type==="bullets"&&_.dynamicBullets&&(g.addClass(`${_.modifierClass}${_.type}-dynamic`),a=0,_.dynamicMainBullets<1&&(_.dynamicMainBullets=1)),_.type==="progressbar"&&_.progressbarOpposite&&g.addClass(_.progressbarOppositeClass),_.clickable&&g.on("click",qa(_.bulletClass),function(b){b.preventDefault();let E=_t(this).index()*n.params.slidesPerGroup;n.params.loop&&(E+=n.loopedSlides),n.slideTo(E)}),Object.assign(n.pagination,{$el:g,el:g[0]}),n.enabled||g.addClass(_.lockClass))}function d(){let _=n.params.pagination;if(o())return;let g=n.pagination.$el;g.removeClass(_.hiddenClass),g.removeClass(_.modifierClass+_.type),g.removeClass(n.isHorizontal()?_.horizontalClass:_.verticalClass),n.pagination.bullets&&n.pagination.bullets.removeClass&&n.pagination.bullets.removeClass(_.bulletActiveClass),_.clickable&&g.off("click",qa(_.bulletClass))}t("init",()=>{n.params.pagination.enabled===!1?v():(h(),u(),c())}),t("activeIndexChange",()=>{(n.params.loop||typeof n.snapIndex=="undefined")&&c()}),t("snapIndexChange",()=>{n.params.loop||c()}),t("slidesLengthChange",()=>{n.params.loop&&(u(),c())}),t("snapGridLengthChange",()=>{n.params.loop||(u(),c())}),t("destroy",()=>{d()}),t("enable disable",()=>{let{$el:_}=n.pagination;_&&_[n.enabled?"removeClass":"addClass"](n.params.pagination.lockClass)}),t("lock unlock",()=>{c()}),t("click",(_,g)=>{let y=g.target,{$el:b}=n.pagination;if(n.params.pagination.el&&n.params.pagination.hideOnClick&&b&&b.length>0&&!_t(y).hasClass(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&y===n.navigation.nextEl||n.navigation.prevEl&&y===n.navigation.prevEl))return;let E=b.hasClass(n.params.pagination.hiddenClass);i(E===!0?"paginationShow":"paginationHide"),b.toggleClass(n.params.pagination.hiddenClass)}});let m=()=>{n.$el.removeClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.removeClass(n.params.pagination.paginationDisabledClass),h(),u(),c()},v=()=>{n.$el.addClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.addClass(n.params.pagination.paginationDisabledClass),d()};Object.assign(n.pagination,{enable:m,disable:v,render:u,update:c,init:h,destroy:d})}function Nm({swiper:n,extendParams:e,on:t,emit:i}){e({lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}}),n.lazy={};let r=!1,s=!1;function a(c,u=!0){let h=n.params.lazy;if(typeof c=="undefined"||n.slides.length===0)return;let m=n.virtual&&n.params.virtual.enabled?n.$wrapperEl.children(`.${n.params.slideClass}[data-swiper-slide-index="${c}"]`):n.slides.eq(c),v=m.find(`.${h.elementClass}:not(.${h.loadedClass}):not(.${h.loadingClass})`);m.hasClass(h.elementClass)&&!m.hasClass(h.loadedClass)&&!m.hasClass(h.loadingClass)&&v.push(m[0]),v.length!==0&&v.each(_=>{let g=_t(_);g.addClass(h.loadingClass);let y=g.attr("data-background"),b=g.attr("data-src"),E=g.attr("data-srcset"),w=g.attr("data-sizes"),D=g.parent("picture");n.loadImage(g[0],b||y,E,w,!1,()=>{if(!(typeof n=="undefined"||n===null||!n||n&&!n.params||n.destroyed)){if(y?(g.css("background-image",`url("${y}")`),g.removeAttr("data-background")):(E&&(g.attr("srcset",E),g.removeAttr("data-srcset")),w&&(g.attr("sizes",w),g.removeAttr("data-sizes")),D.length&&D.children("source").each(P=>{let M=_t(P);M.attr("data-srcset")&&(M.attr("srcset",M.attr("data-srcset")),M.removeAttr("data-srcset"))}),b&&(g.attr("src",b),g.removeAttr("data-src"))),g.addClass(h.loadedClass).removeClass(h.loadingClass),m.find(`.${h.preloaderClass}`).remove(),n.params.loop&&u){let P=m.attr("data-swiper-slide-index");if(m.hasClass(n.params.slideDuplicateClass)){let M=n.$wrapperEl.children(`[data-swiper-slide-index="${P}"]:not(.${n.params.slideDuplicateClass})`);a(M.index(),!1)}else{let M=n.$wrapperEl.children(`.${n.params.slideDuplicateClass}[data-swiper-slide-index="${P}"]`);a(M.index(),!1)}}i("lazyImageReady",m[0],g[0]),n.params.autoHeight&&n.updateAutoHeight()}}),i("lazyImageLoad",m[0],g[0])})}function o(){let{$wrapperEl:c,params:u,slides:h,activeIndex:d}=n,m=n.virtual&&u.virtual.enabled,v=u.lazy,_=u.slidesPerView;_==="auto"&&(_=0);function g(b){if(m){if(c.children(`.${u.slideClass}[data-swiper-slide-index="${b}"]`).length)return!0}else if(h[b])return!0;return!1}function y(b){return m?_t(b).attr("data-swiper-slide-index"):_t(b).index()}if(s||(s=!0),n.params.watchSlidesProgress)c.children(`.${u.slideVisibleClass}`).each(b=>{let E=m?_t(b).attr("data-swiper-slide-index"):_t(b).index();a(E)});else if(_>1)for(let b=d;b<d+_;b+=1)g(b)&&a(b);else a(d);if(v.loadPrevNext)if(_>1||v.loadPrevNextAmount&&v.loadPrevNextAmount>1){let b=v.loadPrevNextAmount,E=Math.ceil(_),w=Math.min(d+E+Math.max(b,E),h.length),D=Math.max(d-Math.max(E,b),0);for(let P=d+E;P<w;P+=1)g(P)&&a(P);for(let P=D;P<d;P+=1)g(P)&&a(P)}else{let b=c.children(`.${u.slideNextClass}`);b.length>0&&a(y(b));let E=c.children(`.${u.slidePrevClass}`);E.length>0&&a(y(E))}}function l(){let c=pi();if(!n||n.destroyed)return;let u=n.params.lazy.scrollingElement?_t(n.params.lazy.scrollingElement):_t(c),h=u[0]===c,d=h?c.innerWidth:u[0].offsetWidth,m=h?c.innerHeight:u[0].offsetHeight,v=n.$el.offset(),{rtlTranslate:_}=n,g=!1;_&&(v.left-=n.$el[0].scrollLeft);let y=[[v.left,v.top],[v.left+n.width,v.top],[v.left,v.top+n.height],[v.left+n.width,v.top+n.height]];for(let E=0;E<y.length;E+=1){let w=y[E];if(w[0]>=0&&w[0]<=d&&w[1]>=0&&w[1]<=m){if(w[0]===0&&w[1]===0)continue;g=!0}}let b=n.touchEvents.start==="touchstart"&&n.support.passiveListener&&n.params.passiveListeners?{passive:!0,capture:!1}:!1;g?(o(),u.off("scroll",l,b)):r||(r=!0,u.on("scroll",l,b))}t("beforeInit",()=>{n.params.lazy.enabled&&n.params.preloadImages&&(n.params.preloadImages=!1)}),t("init",()=>{n.params.lazy.enabled&&(n.params.lazy.checkInView?l():o())}),t("scroll",()=>{n.params.freeMode&&n.params.freeMode.enabled&&!n.params.freeMode.sticky&&o()}),t("scrollbarDragMove resize _freeModeNoMomentumRelease",()=>{n.params.lazy.enabled&&(n.params.lazy.checkInView?l():o())}),t("transitionStart",()=>{n.params.lazy.enabled&&(n.params.lazy.loadOnTransitionStart||!n.params.lazy.loadOnTransitionStart&&!s)&&(n.params.lazy.checkInView?l():o())}),t("transitionEnd",()=>{n.params.lazy.enabled&&!n.params.lazy.loadOnTransitionStart&&(n.params.lazy.checkInView?l():o())}),t("slideChange",()=>{let{lazy:c,cssMode:u,watchSlidesProgress:h,touchReleaseOnEdges:d,resistanceRatio:m}=n.params;c.enabled&&(u||h&&(d||m===0))&&o()}),t("destroy",()=>{n.$el&&n.$el.find(`.${n.params.lazy.loadingClass}`).removeClass(n.params.lazy.loadingClass)}),Object.assign(n.lazy,{load:o,loadInSlide:a})}var Fm=class extends Ct{constructor(n){super(n),this.$container=this.$("container")[0],this.$pagination=this.$("pagination")[0],this.$nextBtn=this.$("next")[0],console.log(this)}init(){this.swiper=new Rm(this.$container,{modules:[Nm,Om,Lm],loop:!0,loopAdditionalSlides:1,preloadImages:!1,grabCursor:!0,lazy:{checkInView:!0,loadPrevNext:!0},pagination:{el:this.$pagination,type:"custom",renderCustom(n,e,t){return`${e.toString().padStart(2,"0")} / ${t.toString().padStart(2,"0")}`}},navigation:{nextEl:this.$nextBtn},on:{init(n){if(n.lazy&&n.lazy.enabled!==!1)for(let e of n.slides)e.classList.add("-pixelated")},lazyImageReady(n,e,t){Ir(t),e.classList.remove("-pixelated")},slideChange(n){let t=n.slides[n.activeIndex].getAttribute("data-swiper-slide-index");for(let i of n.slides.filter(r=>r.getAttribute("data-swiper-slide-index")==t)){let r=i.querySelector("video");r==null||r.play()}},click(n,e){n.clickedSlide.classList.contains("swiper-slide-next")&&n.slideNext()}}})}inview(n){n.target==this.el&&this.swiper.lazy.load()}};var Gf=class n extends Ct{static get settings(){return{GUTTER:"var(--grid-gutter, 0)",MARGIN:"var(--grid-margin, 0)",COLOR:"var(--grid-color)"}}constructor(e){super(e)}init(){this.setColumns(),this.setStyles(),this.bindEvents(),window.addEventListener("resize",this.onResize=()=>this.setColumns())}setColumns(){this.el.innerHTML="";let e=Number(window.getComputedStyle(this.el).getPropertyValue("--grid-columns")),t;for(var i=0;i<e;i++)t=document.createElement("div"),t.style.flex="1 1 0",t.style.backgroundColor=n.settings.COLOR,this.el.appendChild(t)}setStyles(){let e=this.el.style;e.zIndex="10000",e.position="fixed",e.top="0",e.left="0",e.display="flex",e.width="100%",e.height="100%",e.columnGap=n.settings.GUTTER,e.paddingLeft=`calc(${n.settings.MARGIN}`,e.paddingRight=`calc(${n.settings.MARGIN}`,e.pointerEvents="none",e.visibility="hidden",e.opacity=.1}bindEvents(){let e=!1,t=!1;document.addEventListener("keydown",i=>{i.key=="Control"?e=!0:e&&i.key=="g"&&(t?this.el.style.visibility="visible":this.el.style.visibility="hidden",t=!t)}),document.addEventListener("keyup",i=>{i.key=="Control"&&(e=!1)})}destroy(){window.removeEventListener("resize",this.onResize)}};var Qt=document.documentElement,fle=document.body,dle=Qt.hasAttribute("data-debug"),OI=document.createElement("canvas"),NI;try{NI=OI.getContext("webgl")||OI.getContext("experimental-webgl")}catch(n){console.error(n)}var wu=!!NI;wu||(Qt.classList.add("has-no-webgl-support"),alert("Your browser does not support WebGL. Unfortunately that means you will not get the full experience from our website and miss out on cool features. We recommend you to update your browser to a modern version!"));var Gt=[];var FI=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Bm=FI.join(","),BI=typeof Element=="undefined",ac=BI?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Um=!BI&&Element.prototype.getRootNode?function(n){return n.getRootNode()}:function(n){return n.ownerDocument},UI=function(e,t,i){var r=Array.prototype.slice.apply(e.querySelectorAll(Bm));return t&&ac.call(e,Bm)&&r.unshift(e),r=r.filter(i),r},zI=function n(e,t,i){for(var r=[],s=Array.from(e);s.length;){var a=s.shift();if(a.tagName==="SLOT"){var o=a.assignedElements(),l=o.length?o:a.children,c=n(l,!0,i);i.flatten?r.push.apply(r,c):r.push({scope:a,candidates:c})}else{var u=ac.call(a,Bm);u&&i.filter(a)&&(t||!e.includes(a))&&r.push(a);var h=a.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(a),d=!i.shadowRootFilter||i.shadowRootFilter(a);if(h&&d){var m=n(h===!0?a.children:h.children,!0,i);i.flatten?r.push.apply(r,m):r.push({scope:a,candidates:m})}else s.unshift.apply(s,a.children)}}return r},VI=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},lH=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},HI=function(e){return e.tagName==="INPUT"},cH=function(e){return HI(e)&&e.type==="hidden"},uH=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(i){return i.tagName==="SUMMARY"});return t},hH=function(e,t){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===t)return e[i]},fH=function(e){if(!e.name)return!0;var t=e.form||Um(e),i=function(o){return t.querySelectorAll('input[type="radio"][name="'+o+'"]')},r;if(typeof window!="undefined"&&typeof window.CSS!="undefined"&&typeof window.CSS.escape=="function")r=i(window.CSS.escape(e.name));else try{r=i(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var s=hH(r,e.form);return!s||s===e},dH=function(e){return HI(e)&&e.type==="radio"},pH=function(e){return dH(e)&&!fH(e)},mH=function(e){for(var t,i=Um(e).host,r=!!((t=i)!==null&&t!==void 0&&t.ownerDocument.contains(i)||e.ownerDocument.contains(e));!r&&i;){var s;i=Um(i).host,r=!!((s=i)!==null&&s!==void 0&&s.ownerDocument.contains(i))}return r},kI=function(e){var t=e.getBoundingClientRect(),i=t.width,r=t.height;return i===0&&r===0},gH=function(e,t){var i=t.displayCheck,r=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=ac.call(e,"details>summary:first-of-type"),a=s?e.parentElement:e;if(ac.call(a,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof r=="function"){for(var o=e;e;){var l=e.parentElement,c=Um(e);if(l&&!l.shadowRoot&&r(l)===!0)return kI(e);e.assignedSlot?e=e.assignedSlot:!l&&c!==e.ownerDocument?e=c.host:e=l}e=o}if(mH(e))return!e.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return kI(e);return!1},yH=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var i=0;i<t.children.length;i++){var r=t.children.item(i);if(r.tagName==="LEGEND")return ac.call(t,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}t=t.parentElement}return!1},zm=function(e,t){return!(t.disabled||cH(t)||gH(t,e)||uH(t)||yH(t))},kb=function(e,t){return!(pH(t)||VI(t)<0||!zm(e,t))},vH=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},_H=function n(e){var t=[],i=[];return e.forEach(function(r,s){var a=!!r.scope,o=a?r.scope:r,l=VI(o,a),c=a?n(r.candidates):o;l===0?a?t.push.apply(t,c):t.push(o):i.push({documentOrder:s,tabIndex:l,item:r,isScope:a,content:c})}),i.sort(lH).reduce(function(r,s){return s.isScope?r.push.apply(r,s.content):r.push(s.content),r},[]).concat(t)},GI=function(e,t){t=t||{};var i;return t.getShadowRoot?i=zI([e],t.includeContainer,{filter:kb.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:vH}):i=UI(e,t.includeContainer,kb.bind(null,t)),_H(i)},$I=function(e,t){t=t||{};var i;return t.getShadowRoot?i=zI([e],t.includeContainer,{filter:zm.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):i=UI(e,t.includeContainer,zm.bind(null,t)),i},$f=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return ac.call(e,Bm)===!1?!1:kb(t,e)},xH=FI.concat("iframe").join(","),Vm=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return ac.call(e,xH)===!1?!1:zm(t,e)};function WI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function qI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(t),!0).forEach(function(i){bH(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):WI(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function bH(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var jI=function(){var n=[];return{activateTrap:function(t){if(n.length>0){var i=n[n.length-1];i!==t&&i.pause()}var r=n.indexOf(t);r===-1||n.splice(r,1),n.push(t)},deactivateTrap:function(t){var i=n.indexOf(t);i!==-1&&n.splice(i,1),n.length>0&&n[n.length-1].unpause()}}}(),EH=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},SH=function(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27},TH=function(e){return e.key==="Tab"||e.keyCode===9},XI=function(e){return setTimeout(e,0)},YI=function(e,t){var i=-1;return e.every(function(r,s){return t(r)?(i=s,!1):!0}),i},Wf=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return typeof e=="function"?e.apply(void 0,i):e},Hm=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},fa=function(e,t){var i=(t==null?void 0:t.document)||document,r=qI({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),s={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},a,o=function(P,M,R){return P&&P[M]!==void 0?P[M]:r[R||M]},l=function(P){return s.containerGroups.findIndex(function(M){var R=M.container,I=M.tabbableNodes;return R.contains(P)||I.find(function(A){return A===P})})},c=function(P){var M=r[P];if(typeof M=="function"){for(var R=arguments.length,I=new Array(R>1?R-1:0),A=1;A<R;A++)I[A-1]=arguments[A];M=M.apply(void 0,I)}if(M===!0&&(M=void 0),!M){if(M===void 0||M===!1)return M;throw new Error("`".concat(P,"` was specified but was not a node, or did not return a node"))}var N=M;if(typeof M=="string"&&(N=i.querySelector(M),!N))throw new Error("`".concat(P,"` as selector refers to no known node"));return N},u=function(){var P=c("initialFocus");if(P===!1)return!1;if(P===void 0)if(l(i.activeElement)>=0)P=i.activeElement;else{var M=s.tabbableGroups[0],R=M&&M.firstTabbableNode;P=R||c("fallbackFocus")}if(!P)throw new Error("Your focus-trap needs to have at least one focusable element");return P},h=function(){if(s.containerGroups=s.containers.map(function(P){var M=GI(P,r.tabbableOptions),R=$I(P,r.tabbableOptions);return{container:P,tabbableNodes:M,focusableNodes:R,firstTabbableNode:M.length>0?M[0]:null,lastTabbableNode:M.length>0?M[M.length-1]:null,nextTabbableNode:function(A){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,G=R.findIndex(function(X){return X===A});if(!(G<0))return N?R.slice(G+1).find(function(X){return $f(X,r.tabbableOptions)}):R.slice(0,G).reverse().find(function(X){return $f(X,r.tabbableOptions)})}}}),s.tabbableGroups=s.containerGroups.filter(function(P){return P.tabbableNodes.length>0}),s.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},d=function D(P){if(P!==!1&&P!==i.activeElement){if(!P||!P.focus){D(u());return}P.focus({preventScroll:!!r.preventScroll}),s.mostRecentlyFocusedNode=P,EH(P)&&P.select()}},m=function(P){var M=c("setReturnFocus",P);return M||(M===!1?!1:P)},v=function(P){var M=Hm(P);if(!(l(M)>=0)){if(Wf(r.clickOutsideDeactivates,P)){a.deactivate({returnFocus:r.returnFocusOnDeactivate&&!Vm(M,r.tabbableOptions)});return}Wf(r.allowOutsideClick,P)||P.preventDefault()}},_=function(P){var M=Hm(P),R=l(M)>=0;R||M instanceof Document?R&&(s.mostRecentlyFocusedNode=M):(P.stopImmediatePropagation(),d(s.mostRecentlyFocusedNode||u()))},g=function(P){var M=Hm(P);h();var R=null;if(s.tabbableGroups.length>0){var I=l(M),A=I>=0?s.containerGroups[I]:void 0;if(I<0)P.shiftKey?R=s.tabbableGroups[s.tabbableGroups.length-1].lastTabbableNode:R=s.tabbableGroups[0].firstTabbableNode;else if(P.shiftKey){var N=YI(s.tabbableGroups,function(pe){var re=pe.firstTabbableNode;return M===re});if(N<0&&(A.container===M||Vm(M,r.tabbableOptions)&&!$f(M,r.tabbableOptions)&&!A.nextTabbableNode(M,!1))&&(N=I),N>=0){var G=N===0?s.tabbableGroups.length-1:N-1,X=s.tabbableGroups[G];R=X.lastTabbableNode}}else{var J=YI(s.tabbableGroups,function(pe){var re=pe.lastTabbableNode;return M===re});if(J<0&&(A.container===M||Vm(M,r.tabbableOptions)&&!$f(M,r.tabbableOptions)&&!A.nextTabbableNode(M))&&(J=I),J>=0){var ge=J===s.tabbableGroups.length-1?0:J+1,te=s.tabbableGroups[ge];R=te.firstTabbableNode}}}else R=c("fallbackFocus");R&&(P.preventDefault(),d(R))},y=function(P){if(SH(P)&&Wf(r.escapeDeactivates,P)!==!1){P.preventDefault(),a.deactivate();return}if(TH(P)){g(P);return}},b=function(P){var M=Hm(P);l(M)>=0||Wf(r.clickOutsideDeactivates,P)||Wf(r.allowOutsideClick,P)||(P.preventDefault(),P.stopImmediatePropagation())},E=function(){if(s.active)return jI.activateTrap(a),s.delayInitialFocusTimer=r.delayInitialFocus?XI(function(){d(u())}):d(u()),i.addEventListener("focusin",_,!0),i.addEventListener("mousedown",v,{capture:!0,passive:!1}),i.addEventListener("touchstart",v,{capture:!0,passive:!1}),i.addEventListener("click",b,{capture:!0,passive:!1}),i.addEventListener("keydown",y,{capture:!0,passive:!1}),a},w=function(){if(s.active)return i.removeEventListener("focusin",_,!0),i.removeEventListener("mousedown",v,!0),i.removeEventListener("touchstart",v,!0),i.removeEventListener("click",b,!0),i.removeEventListener("keydown",y,!0),a};return a={get active(){return s.active},get paused(){return s.paused},activate:function(P){if(s.active)return this;var M=o(P,"onActivate"),R=o(P,"onPostActivate"),I=o(P,"checkCanFocusTrap");I||h(),s.active=!0,s.paused=!1,s.nodeFocusedBeforeActivation=i.activeElement,M&&M();var A=function(){I&&h(),E(),R&&R()};return I?(I(s.containers.concat()).then(A,A),this):(A(),this)},deactivate:function(P){if(!s.active)return this;var M=qI({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},P);clearTimeout(s.delayInitialFocusTimer),s.delayInitialFocusTimer=void 0,w(),s.active=!1,s.paused=!1,jI.deactivateTrap(a);var R=o(M,"onDeactivate"),I=o(M,"onPostDeactivate"),A=o(M,"checkCanReturnFocus"),N=o(M,"returnFocus","returnFocusOnDeactivate");R&&R();var G=function(){XI(function(){N&&d(m(s.nodeFocusedBeforeActivation)),I&&I()})};return N&&A?(A(m(s.nodeFocusedBeforeActivation)).then(G,G),this):(G(),this)},pause:function(){return s.paused||!s.active?this:(s.paused=!0,w(),this)},unpause:function(){return!s.paused||!s.active?this:(s.paused=!1,h(),E(),this)},updateContainerElements:function(P){var M=[].concat(P).filter(Boolean);return s.containers=M.map(function(R){return typeof R=="string"?i.querySelector(R):R}),s.active&&h(),this}},a.updateContainerElements(e),a};function KI(n){for(var e=typeof n=="string"?n.split(""):n,t=e.length,i=t-1;i>0;i--){var r=Math.floor(Math.random()*(i+1)),s=e[i];e[i]=e[r],e[r]=s}return e.join("")}function Au(n){let e=typeof n=="string"?n.split(""):n,t=Math.floor(Math.random()*e.length),i=e.splice(t,1)[0],r=Math.floor(Math.random()*e.length);return e.splice(r,0,i),e.join("")}var Gm=class extends Ct{constructor(n){super(n),this.$header=this.$("header")[0],this.$menuToggler=this.$("menu-toggler")[0],this.$menu=this.$("menu")[0],this.events={click:{"menu-toggler":"toggleMenu",logo:"hideMenu"}}}init(){window.addEventListener("keydown",this.onKeyDown=n=>{n.keyCode===27&&this.hasMenuOpened()&&this.hideMenu()}),this.focusTrap=fa([this.$header,this.$menu])}hasMenuOpened(){return Qt.classList.contains("has-menu-opened")}showMenu(){Qt.classList.add("has-menu-opened"),this.$menuToggler.innerText=this.getData("close-label",this.$menuToggler),this.$menuToggler.setAttribute("aria-expanded",!0),this.focusTrap.activate()}hideMenu(){Qt.classList.remove("has-menu-opened"),this.$menuToggler.innerText=this.getData("open-label",this.$menuToggler),this.$menuToggler.setAttribute("aria-expanded",!1),this.focusTrap.deactivate()}toggleMenu(){this.hasMenuOpened()?this.hideMenu():this.showMenu()}destroy(){super.destroy(),this.focusTrap.deactivate()}};var $m=class extends Ct{constructor(n){super(n)}inview(n){n.target==this.el&&Qt.classList.toggle("is-over-home-hero",n.way=="enter")}destroy(){Qt.classList.remove("is-over-home-hero")}};var wH=.25,Wm=class extends Ct{constructor(n){super(n),this.shuffleElements=[]}init(){this.onItemEnterBind=this.onItemEnter.bind(this),this.onItemLeaveBind=this.onItemLeave.bind(this),this.update()}onItemEnter(n){let e=n.currentTarget,t=[];e.dataset.hoverShuffle=="children"?e.querySelectorAll("[data-hover-shuffle-child]").forEach(s=>{t.push(s),s.setAttribute("aria-label",s.innerText)}):(t=[e],e.setAttribute("aria-label",e.innerText)),this.tw=ut.timeline({onComplete:()=>{t.forEach(s=>{s.innerText=s.getAttribute("aria-label"),s.removeAttribute("aria-label")})}});let i=4,r=wH/i;for(let s=0;s<i;s++)for(let a of t)this.tw.add(()=>{No(a,KI)},r*s)}onItemLeave(n){this.tw&&this.tw.kill();let e=n.currentTarget,t=[];e.dataset.hoverShuffle=="children"?e.querySelectorAll("[data-hover-shuffle-child]").forEach(i=>{t.push(i)}):t=[e],t.forEach(i=>{i.getAttribute("aria-label")&&(i.innerText=i.getAttribute("aria-label")),i.removeAttribute("aria-label")})}reset(){this.shuffleElements.forEach(n=>{n.removeEventListener("mouseenter",this.onItemEnterBind),n.removeEventListener("mouseleave",this.onItemLeaveBind)}),this.shuffleElements=[]}update(){this.reset(),document.querySelectorAll("[data-hover-shuffle]").forEach(n=>{n.addEventListener("mouseenter",this.onItemEnterBind),n.addEventListener("mouseleave",this.onItemLeaveBind),this.shuffleElements.push(n)})}};var AH=0;Promise.pending=Promise.race.bind(Promise,[]);var qm=class extends Ct{constructor(n){super(n);let e=this.getData("images-path");if(!e){console.warn("Please add the sequence path in data-images-sequence-images-path");return}this.onResizeBind=this.onResize.bind(this),this.onUpdateBind=this.onUpdate.bind(this),this.$el=this.$("ref")[0],this.$canvas=this.$("canvas")[0],this.width=!1,this.height=this.$el.offsetHeight,this.dpr=window.devicePixelRatio,this.progress=0,this.preloadStep=16,this.isSequenceReady=!1,this.totalFrames=this.getData("total-frames")||0,this.images={path:e,exension:".jpg",totalLength:parseInt(this.totalFrames),framesToLoad:[],framesLoaded:[]},this.autoplay=this.getData("autoplay")||!1,this.raf={framerate:1/120*1e3,deltaTime:0,time:performance.now(),lt:performance.now(),elapsedInterval:0}}init(){this.updateSize(),this.bindEvents(),window.isFontsLoaded&&this.onFontsLoaded(),this.setImages(),this.getData("force-launch")!=null&&this.launch()}launch(){return Sn(this,null,function*(){this.launched=!0,yield this.loadSequence(!0),this.isSequenceReady=!0,this.el.classList.add("is-sequence-loaded"),this.onUpdate(),this.autoplay&&setTimeout(()=>{this.play()},1e3)})}destroy(){super.destroy(),this.aborted=!0,this.unbindEvents(),this.onLeave()}bindEvents(){window.addEventListener("resize",this.onResizeBind)}unbindEvents(){window.removeEventListener("resize",this.onResizeBind)}onResize(){this.resizeTick||(this.resizeTick=!0,requestAnimationFrame(()=>{this.updateSize(),this.resizeTick=!1}))}onUpdate(){!this.isPlaying||!this.isSequenceReady||(this.raf.time=performance.now(),this.raf.deltaTime=this.raf.time-this.raf.lt,this.raf.elapsedInterval+=this.raf.deltaTime,this.raf.elapsedInterval>=this.raf.framerate&&(this.raf.elapsedInterval=0,this.setCurrentFrame(),this.drawImage()),this.raf.lt=this.raf.time)}onScrollProgress(n){this.progress=n}onEnter(){this.launched||this.launch(),this.play()}onLeave(){this.pause()}onToggle(n){n.target==this.el&&(n.way==="enter"?this.onEnter():n.way==="exit"&&this.onLeave())}updateSize(){this.width&&this.width==this.$el.offsetWidth||(this.width=this.$el.offsetWidth,this.height=this.$el.offsetHeight,this.$canvas.width=Math.ceil(this.dpr*this.width/4)*4,this.$canvas.height=Math.ceil(this.dpr*this.height/4)*4,this.$canvas.style=`width: ${this.width}px; height: ${this.height}px;`,this.ctx=this.$canvas.getContext("2d"),this.onUpdate())}play(){this.isPlaying||(this.isPlaying=!0,ut.ticker.add(this.onUpdateBind))}pause(){this.isPlaying&&(this.isPlaying=!1,ut.ticker.remove(this.onUpdateBind))}setImages(){for(let n=0;n<=this.images.totalLength;n++)this.images.framesToLoad[n]={index:n,src:`${this.images.path}${this._pad(n,4)}${this.images.exension}`}}loadSequence(n=!0){return new Promise((e,t)=>Sn(this,null,function*(){let i=[],r=this.preloadStep,s=0;for(;s<this.images.framesToLoad.length;){if(this.aborted){e();return}let o=this.images.framesToLoad[s];if(n&&s%r===0||!n&&s>0&&s%r===0&&s/2%r!==0){let l=yield Rx(o.src,{index:o.index});i.push(l)}s++}let a=[...this.images.framesLoaded,...i];a.sort((o,l)=>o.index-l.index),this.images.framesLoaded=a,e(),r>1&&(this.preloadStep=r/2,requestAnimationFrame(()=>{this.loadSequence(!1)}))}))}setCurrentFrame(){this.currentFrame=(AH+Math.min(Math.floor(this.progress*this.images.framesLoaded.length),this.images.framesLoaded.length-1))%this.images.framesLoaded.length}drawImage(){let n=this.images.framesLoaded[this.currentFrame],e=this.$canvas.width/n.width,t=this.$canvas.height/n.height,i=Math.max(e,t),r=n.width*i,s=n.height*i,a=(this.$canvas.width-r)*.5,o=(this.$canvas.height-s)*.5;this.ctx.clearRect(0,0,this.$canvas.width,this.$canvas.height),this.ctx.drawImage(n.element,a,o,r,s),this.autoplay&&(this.progress=(this.progress+.002)%1)}_pad(n,e){return String(n).padStart(e,"0")}};var Bs=er(jf(),1);var MH=.25,da,JI={name:"default",leave(n){let e=new Promise(i=>{setTimeout(i,250)}),t=new Promise(i=>{let r=[],s=new IntersectionObserver((a,o)=>{a.forEach(c=>{if(c.isIntersecting){let u=c.target;(!u.children.length||u.dataset.allowShuffle!=null)&&u.innerText&&r.push(u)}}),o.disconnect(),o=null,da&&da.kill&&da.kill(),da=ut.timeline({onComplete:i});let l=16;for(let c=0;c<l*10;c++)for(let u of r)u.style.fontKerning="none",da.call(()=>{No(u,Au)},{},1/l*c)},{threshold:[0]});n.current.container.querySelectorAll("*").forEach(a=>{s.observe(a)})});return Promise.all([e])},enter(n){return document.documentElement.scrollTop=0,new Promise(t=>{let i=[],r=new IntersectionObserver((s,a)=>{s.forEach(c=>{if(c.isIntersecting){let u=c.target;(!u.children.length||u.dataset.allowShuffle!=null)&&u.innerText&&(i.push(u),u.setAttribute("aria-label",u.innerText))}}),a.disconnect(),a=null,da&&da.kill&&da.kill(),da=ut.timeline({onComplete:()=>{for(let c of i)c.innerText=c.getAttribute("aria-label"),c.removeAttribute("aria-label"),c.style.fontKerning="";t()}});let o=4,l=MH/o;for(let c=0;c<o;c++)for(let u of i)u.style.fontKerning="none",da.call(()=>{No(u,Au)},{},l*c)},{threshold:[0]});n.next.container.querySelectorAll("*").forEach(s=>{r.observe(s)})})}};var ZI={name:"work-list",leave(n){let e=new Promise(i=>{i()}),t=ut.to(n.current.container.querySelector(".c-work-list_list"),{duration:.25,opacity:.25});return Promise.all([e,t])},enter(n){return ut.from(n.next.container.querySelector(".c-work-list_list"),{duration:.25,opacity:.25})},from:{custom({trigger:n}){return n&&n.dataset&&n.dataset.loadTransition=="work-list"}}};var QI=.25,eD={name:"work-next",leave(n){let e=n.current.container.querySelector(".c-work-next_overline"),t=ut.timeline(),i=16,r=QI/i;for(let s=0;s<i;s++)t.call(()=>{pC(e,Au)},{},r*s);return Promise.all([t])},enter(n){document.documentElement.scrollTop=0;let e=n.next.container.querySelector(".c-work-single-hero_grid.-top"),t=[],i=e.querySelectorAll("*");for(let o of i)(!o.children.length||o.dataset.allowShuffle!=null)&&o.innerText&&(t.push(o),o.setAttribute("aria-label",o.innerText));let r=ut.timeline({onComplete:()=>{for(let o of t)o.innerText=o.getAttribute("aria-label"),o.removeAttribute("aria-label")}}),s=16,a=QI/s;for(let o=0;o<s;o++)for(let l of t)r.call(()=>{No(l,Au)},{},a*o);return r},from:{custom({trigger:n}){return n&&n.dataset&&n.dataset.loadTransition=="work-next"}}};var CH=n=>n.split(/(?=[A-Z])/).join("-").toLowerCase(),jm=class extends Ct{constructor(n){super(n)}init(){Bs.default.init({timeout:1e4,schema:{prefix:"data-load"},transitions:[JI,ZI,eD],prevent:({el:n,event:e,href:t})=>{if(window.confirmPageChange&&e.type=="click")return this.call("close",null,"Nav"),Bs.default.prefetch(t),window.confirm(window.confirmPageChange.message)&&(Bs.default.go(t)||(window.location=t)),e.preventDefault(),!0;{let i=n.getAttribute("data-load")=="false"||!1;return window.location.href==t?(e.preventDefault(),e.stopPropagation(),!0):!!i}}}),Bs.default.hooks.before(this.before.bind(this)),Bs.default.hooks.beforeLeave(this.beforeLeave.bind(this)),Bs.default.hooks.leave(this.leave.bind(this)),Bs.default.hooks.afterLeave(this.afterLeave.bind(this)),Bs.default.hooks.enter(this.enter.bind(this)),Bs.default.hooks.after(this.after.bind(this))}before(n,e){}beforeLeave(){}leave(){this.call("reset",null,"Hovers"),this.call("hideMenu",null,"Header"),Qt.classList.add("is-loading"),Qt.classList.remove("is-loaded"),Qt.classList.remove("is-ready")}afterLeave(n){this.call("destroy",n.current.container,"app"),n.current.container.remove()}beforeEnter(){}enter(n){let t=new DOMParser().parseFromString(n.next.html,"text/html"),i=Object.assign({},t.querySelector("html").dataset);Object.entries(i).forEach(([r,s])=>{Qt.setAttribute("data-"+CH(r),s)}),requestAnimationFrame(()=>{Qt.classList.remove("is-loading"),Qt.classList.add("is-loaded"),this.call("update",n.next.container,"app")})}manualGo(n){Bs.default.go(n.href,n)}after(n){Qt.classList.add("is-ready"),this.call("update",null,"Hovers")}};var QE="165",_c={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},xc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},PH=0,tD=1,IH=2;var zR=1,vd=2,Qa=3,ya=0,Lr=1,Gs=2,Zo=0,Ku=1,iD=2,nD=3,rD=4,DH=5,pc=100,RH=101,LH=102,OH=103,NH=104,kH=200,FH=201,BH=202,UH=203,xE=204,bE=205,zH=206,VH=207,HH=208,GH=209,$H=210,WH=211,qH=212,jH=213,XH=214,YH=0,KH=1,JH=2,Eg=3,ZH=4,QH=5,eG=6,tG=7,VR=0,iG=1,nG=2,Qo=0,rG=1,sG=2,aG=3,oG=4,lG=5,eS=6,cG=7,sD="attached",uG="detached",HR=300,eh=301,th=302,od=303,EE=304,Qg=306,io=1e3,eo=1001,ld=1002,xn=1003,tS=1004;var Wu=1005;var Dr=1006,nd=1007;var ma=1008;var el=1009,hG=1010,fG=1011,Sg=1012,GR=1013,ih=1014,ga=1015,ey=1016,$R=1017,WR=1018,nh=1020,dG=35902,pG=1021,mG=1022,Ws=1023,gG=1024,yG=1025,Ju=1026,rh=1027,qR=1028,jR=1029,vG=1030,XR=1031,YR=1033,Ub=33776,zb=33777,Vb=33778,Hb=33779,aD=35840,oD=35841,lD=35842,cD=35843,uD=36196,hD=37492,fD=37496,dD=37808,pD=37809,mD=37810,gD=37811,yD=37812,vD=37813,_D=37814,xD=37815,bD=37816,ED=37817,SD=37818,TD=37819,wD=37820,AD=37821,Gb=36492,MD=36494,CD=36495,_G=36283,PD=36284,ID=36285,DD=36286,xG=2200,bG=2201,EG=2202,sh=2300,ah=2301,$b=2302,qu=2400,ju=2401,Tg=2402,iS=2500,SG=2501,KR=0,ty=1,_d=2,TG=3200,wG=3201,JR=0,AG=1,Ko="",ln="srgb",Cn="srgb-linear",nS="display-p3",iy="display-p3-linear",wg="linear",Ki="srgb",Ag="rec709",Mg="p3";var Mu=7680;var RD=519,MG=512,CG=513,PG=514,ZR=515,IG=516,DG=517,RG=518,LG=519,SE=35044;var LD="300 es",to=2e3,Cg=2001,js=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;let i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;let r=this._listeners[e];if(r!==void 0){let s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;let i=this._listeners[e.type];if(i!==void 0){e.target=this;let r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}},sr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],OD=1234567,rd=Math.PI/180,oh=180/Math.PI;function qs(){let n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(sr[n&255]+sr[n>>8&255]+sr[n>>16&255]+sr[n>>24&255]+"-"+sr[e&255]+sr[e>>8&255]+"-"+sr[e>>16&15|64]+sr[e>>24&255]+"-"+sr[t&63|128]+sr[t>>8&255]+"-"+sr[t>>16&255]+sr[t>>24&255]+sr[i&255]+sr[i>>8&255]+sr[i>>16&255]+sr[i>>24&255]).toLowerCase()}function jn(n,e,t){return Math.max(e,Math.min(t,n))}function rS(n,e){return(n%e+e)%e}function OG(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function NG(n,e,t){return n!==e?(t-n)/(e-n):0}function sd(n,e,t){return(1-t)*n+t*e}function kG(n,e,t,i){return sd(n,e,1-Math.exp(-t*i))}function FG(n,e=1){return e-Math.abs(rS(n,e*2)-e)}function BG(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function UG(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function zG(n,e){return n+Math.floor(Math.random()*(e-n+1))}function VG(n,e){return n+Math.random()*(e-n)}function HG(n){return n*(.5-Math.random())}function GG(n){n!==void 0&&(OD=n);let e=OD+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function $G(n){return n*rd}function WG(n){return n*oh}function qG(n){return(n&n-1)===0&&n!==0}function jG(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function XG(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function YG(n,e,t,i,r){let s=Math.cos,a=Math.sin,o=s(t/2),l=a(t/2),c=s((e+i)/2),u=a((e+i)/2),h=s((e-i)/2),d=a((e-i)/2),m=s((i-e)/2),v=a((i-e)/2);switch(r){case"XYX":n.set(o*u,l*h,l*d,o*c);break;case"YZY":n.set(l*d,o*u,l*h,o*c);break;case"ZXZ":n.set(l*h,l*d,o*u,o*c);break;case"XZX":n.set(o*u,l*v,l*m,o*c);break;case"YXY":n.set(l*m,o*u,l*v,o*c);break;case"ZYZ":n.set(l*v,l*m,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function $s(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ki(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var ny={DEG2RAD:rd,RAD2DEG:oh,generateUUID:qs,clamp:jn,euclideanModulo:rS,mapLinear:OG,inverseLerp:NG,lerp:sd,damp:kG,pingpong:FG,smoothstep:BG,smootherstep:UG,randInt:zG,randFloat:VG,randFloatSpread:HG,seededRandom:GG,degToRad:$G,radToDeg:WG,isPowerOfTwo:qG,ceilPowerOfTwo:jG,floorPowerOfTwo:XG,setQuaternionFromProperEuler:YG,normalize:ki,denormalize:$s},Bt=class n{constructor(e=0,t=0){n.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let i=this.dot(e)/t;return Math.acos(jn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},ti=class n{constructor(e,t,i,r,s,a,o,l,c){n.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,l,c)}set(e,t,i,r,s,a,o,l,c){let u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[3],l=i[6],c=i[1],u=i[4],h=i[7],d=i[2],m=i[5],v=i[8],_=r[0],g=r[3],y=r[6],b=r[1],E=r[4],w=r[7],D=r[2],P=r[5],M=r[8];return s[0]=a*_+o*b+l*D,s[3]=a*g+o*E+l*P,s[6]=a*y+o*w+l*M,s[1]=c*_+u*b+h*D,s[4]=c*g+u*E+h*P,s[7]=c*y+u*w+h*M,s[2]=d*_+m*b+v*D,s[5]=d*g+m*E+v*P,s[8]=d*y+m*w+v*M,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return t*a*u-t*o*c-i*s*u+i*o*l+r*s*c-r*a*l}invert(){let e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],h=u*a-o*c,d=o*l-u*s,m=c*s-a*l,v=t*h+i*d+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);let _=1/v;return e[0]=h*_,e[1]=(r*c-u*i)*_,e[2]=(o*i-r*a)*_,e[3]=d*_,e[4]=(u*t-r*l)*_,e[5]=(r*s-o*t)*_,e[6]=m*_,e[7]=(i*l-c*t)*_,e[8]=(a*t-i*s)*_,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,a,o){let l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*a+c*o)+a+e,-r*c,r*l,-r*(-c*a+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(Wb.makeScale(e,t)),this}rotate(e){return this.premultiply(Wb.makeRotation(-e)),this}translate(e,t){return this.premultiply(Wb.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){let t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){let t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){let i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}},Wb=new ti;function QR(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function cd(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function KG(){let n=cd("canvas");return n.style.display="block",n}var ND={};function sS(n){n in ND||(ND[n]=!0,console.warn(n))}function JG(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}var kD=new ti().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),FD=new ti().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Xm={[Cn]:{transfer:wg,primaries:Ag,toReference:n=>n,fromReference:n=>n},[ln]:{transfer:Ki,primaries:Ag,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[iy]:{transfer:wg,primaries:Mg,toReference:n=>n.applyMatrix3(FD),fromReference:n=>n.applyMatrix3(kD)},[nS]:{transfer:Ki,primaries:Mg,toReference:n=>n.convertSRGBToLinear().applyMatrix3(FD),fromReference:n=>n.applyMatrix3(kD).convertLinearToSRGB()}},ZG=new Set([Cn,iy]),wi={enabled:!0,_workingColorSpace:Cn,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!ZG.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;let i=Xm[e].toReference,r=Xm[t].fromReference;return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return Xm[n].primaries},getTransfer:function(n){return n===Ko?wg:Xm[n].transfer}};function Zu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function qb(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}var Cu,TE=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Cu===void 0&&(Cu=cd("canvas")),Cu.width=e.width,Cu.height=e.height;let i=Cu.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Cu}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){let t=cd("canvas");t.width=e.width,t.height=e.height;let i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);let r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=Zu(s[a]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){let t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Zu(t[i]/255)*255):t[i]=Zu(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},QG=0,Pg=class{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:QG++}),this.uuid=qs(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];let i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(jb(r[a].image)):s.push(jb(r[a]))}else s=jb(r);i.url=s}return t||(e.images[this.uuid]=i),i}};function jb(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?TE.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var e8=0,Gn=class n extends js{constructor(e=n.DEFAULT_IMAGE,t=n.DEFAULT_MAPPING,i=eo,r=eo,s=Dr,a=ma,o=Ws,l=el,c=n.DEFAULT_ANISOTROPY,u=Ko){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:e8++}),this.uuid=qs(),this.name="",this.source=new Pg(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Bt(0,0),this.repeat=new Bt(1,1),this.center=new Bt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ti,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==HR)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case io:e.x=e.x-Math.floor(e.x);break;case eo:e.x=e.x<0?0:1;break;case ld:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case io:e.y=e.y-Math.floor(e.y);break;case eo:e.y=e.y<0?0:1;break;case ld:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}};Gn.DEFAULT_IMAGE=null;Gn.DEFAULT_MAPPING=HR;Gn.DEFAULT_ANISOTROPY=1;var Wi=class n{constructor(e=0,t=0,i=0,r=1){n.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s,l=e.elements,c=l[0],u=l[4],h=l[8],d=l[1],m=l[5],v=l[9],_=l[2],g=l[6],y=l[10];if(Math.abs(u-d)<.01&&Math.abs(h-_)<.01&&Math.abs(v-g)<.01){if(Math.abs(u+d)<.1&&Math.abs(h+_)<.1&&Math.abs(v+g)<.1&&Math.abs(c+m+y-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;let E=(c+1)/2,w=(m+1)/2,D=(y+1)/2,P=(u+d)/4,M=(h+_)/4,R=(v+g)/4;return E>w&&E>D?E<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(E),r=P/i,s=M/i):w>D?w<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(w),i=P/r,s=R/r):D<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(D),i=M/s,r=R/s),this.set(i,r,s,t),this}let b=Math.sqrt((g-v)*(g-v)+(h-_)*(h-_)+(d-u)*(d-u));return Math.abs(b)<.001&&(b=1),this.x=(g-v)/b,this.y=(h-_)/b,this.z=(d-u)/b,this.w=Math.acos((c+m+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},wE=class extends js{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Wi(0,0,e,t),this.scissorTest=!1,this.viewport=new Wi(0,0,e,t);let r={width:e,height:t,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Dr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);let s=new Gn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];let a=i.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;let t=Object.assign({},e.texture.image);return this.texture.source=new Pg(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},Or=class extends wE{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}},Ig=class extends Gn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=xn,this.minFilter=xn,this.wrapR=eo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}};var AE=class extends Gn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=xn,this.minFilter=xn,this.wrapR=eo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};var Xn=class{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,a,o){let l=i[r+0],c=i[r+1],u=i[r+2],h=i[r+3],d=s[a+0],m=s[a+1],v=s[a+2],_=s[a+3];if(o===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h;return}if(o===1){e[t+0]=d,e[t+1]=m,e[t+2]=v,e[t+3]=_;return}if(h!==_||l!==d||c!==m||u!==v){let g=1-o,y=l*d+c*m+u*v+h*_,b=y>=0?1:-1,E=1-y*y;if(E>Number.EPSILON){let D=Math.sqrt(E),P=Math.atan2(D,y*b);g=Math.sin(g*P)/D,o=Math.sin(o*P)/D}let w=o*b;if(l=l*g+d*w,c=c*g+m*w,u=u*g+v*w,h=h*g+_*w,g===1-o){let D=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=D,c*=D,u*=D,h*=D}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,a){let o=i[r],l=i[r+1],c=i[r+2],u=i[r+3],h=s[a],d=s[a+1],m=s[a+2],v=s[a+3];return e[t]=o*v+u*h+l*m-c*d,e[t+1]=l*v+u*d+c*h-o*m,e[t+2]=c*v+u*m+o*d-l*h,e[t+3]=u*v-o*h-l*d-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){let i=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(i/2),u=o(r/2),h=o(s/2),d=l(i/2),m=l(r/2),v=l(s/2);switch(a){case"XYZ":this._x=d*u*h+c*m*v,this._y=c*m*h-d*u*v,this._z=c*u*v+d*m*h,this._w=c*u*h-d*m*v;break;case"YXZ":this._x=d*u*h+c*m*v,this._y=c*m*h-d*u*v,this._z=c*u*v-d*m*h,this._w=c*u*h+d*m*v;break;case"ZXY":this._x=d*u*h-c*m*v,this._y=c*m*h+d*u*v,this._z=c*u*v+d*m*h,this._w=c*u*h-d*m*v;break;case"ZYX":this._x=d*u*h-c*m*v,this._y=c*m*h+d*u*v,this._z=c*u*v-d*m*h,this._w=c*u*h+d*m*v;break;case"YZX":this._x=d*u*h+c*m*v,this._y=c*m*h+d*u*v,this._z=c*u*v-d*m*h,this._w=c*u*h-d*m*v;break;case"XZY":this._x=d*u*h-c*m*v,this._y=c*m*h-d*u*v,this._z=c*u*v+d*m*h,this._w=c*u*h+d*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,i=t[0],r=t[4],s=t[8],a=t[1],o=t[5],l=t[9],c=t[2],u=t[6],h=t[10],d=i+o+h;if(d>0){let m=.5/Math.sqrt(d+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(a-r)*m}else if(i>o&&i>h){let m=2*Math.sqrt(1+i-o-h);this._w=(u-l)/m,this._x=.25*m,this._y=(r+a)/m,this._z=(s+c)/m}else if(o>h){let m=2*Math.sqrt(1+o-i-h);this._w=(s-c)/m,this._x=(r+a)/m,this._y=.25*m,this._z=(l+u)/m}else{let m=2*Math.sqrt(1+h-i-o);this._w=(a-r)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(jn(this.dot(e),-1,1)))}rotateTowards(e,t){let i=this.angleTo(e);if(i===0)return this;let r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let i=e._x,r=e._y,s=e._z,a=e._w,o=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+a*o+r*c-s*l,this._y=r*u+a*l+s*o-i*c,this._z=s*u+a*c+i*l-r*o,this._w=a*u-i*o-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);let i=this._x,r=this._y,s=this._z,a=this._w,o=a*e._w+i*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;let l=1-o*o;if(l<=Number.EPSILON){let m=1-t;return this._w=m*a+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}let c=Math.sqrt(l),u=Math.atan2(c,o),h=Math.sin((1-t)*u)/c,d=Math.sin(t*u)/c;return this._w=a*h+this._w*d,this._x=i*h+this._x*d,this._y=r*h+this._y*d,this._z=s*h+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){let e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},ae=class n{constructor(e=0,t=0,i=0){n.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(BD.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(BD.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){let t=this.x,i=this.y,r=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*r-o*i),u=2*(o*t-s*r),h=2*(s*i-a*t);return this.x=t+l*c+a*h-o*u,this.y=i+l*u+o*c-s*h,this.z=r+l*h+s*u-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){let i=e.x,r=e.y,s=e.z,a=t.x,o=t.y,l=t.z;return this.x=r*l-s*o,this.y=s*a-i*l,this.z=i*o-r*a,this}projectOnVector(e){let t=e.lengthSq();if(t===0)return this.set(0,0,0);let i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Xb.copy(this).projectOnVector(e),this.sub(Xb)}reflect(e){return this.sub(Xb.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let i=this.dot(e)/t;return Math.acos(jn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){let r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},Xb=new ae,BD=new Xn,vs=class{constructor(e=new ae(1/0,1/0,1/0),t=new ae(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Us.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Us.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let i=Us.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let i=e.geometry;if(i!==void 0){let s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,Us):Us.fromBufferAttribute(s,a),Us.applyMatrix4(e.matrixWorld),this.expandByPoint(Us);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Ym.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Ym.copy(i.boundingBox)),Ym.applyMatrix4(e.matrixWorld),this.union(Ym)}let r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Us),Us.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Xf),Km.subVectors(this.max,Xf),Pu.subVectors(e.a,Xf),Iu.subVectors(e.b,Xf),Du.subVectors(e.c,Xf),$o.subVectors(Iu,Pu),Wo.subVectors(Du,Iu),oc.subVectors(Pu,Du);let t=[0,-$o.z,$o.y,0,-Wo.z,Wo.y,0,-oc.z,oc.y,$o.z,0,-$o.x,Wo.z,0,-Wo.x,oc.z,0,-oc.x,-$o.y,$o.x,0,-Wo.y,Wo.x,0,-oc.y,oc.x,0];return!Yb(t,Pu,Iu,Du,Km)||(t=[1,0,0,0,1,0,0,0,1],!Yb(t,Pu,Iu,Du,Km))?!1:(Jm.crossVectors($o,Wo),t=[Jm.x,Jm.y,Jm.z],Yb(t,Pu,Iu,Du,Km))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Us).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Us).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ja[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ja[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ja[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ja[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ja[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ja[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ja[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ja[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ja),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},ja=[new ae,new ae,new ae,new ae,new ae,new ae,new ae,new ae],Us=new ae,Ym=new vs,Pu=new ae,Iu=new ae,Du=new ae,$o=new ae,Wo=new ae,oc=new ae,Xf=new ae,Km=new ae,Jm=new ae,lc=new ae;function Yb(n,e,t,i,r){for(let s=0,a=n.length-3;s<=a;s+=3){lc.fromArray(n,s);let o=r.x*Math.abs(lc.x)+r.y*Math.abs(lc.y)+r.z*Math.abs(lc.z),l=e.dot(lc),c=t.dot(lc),u=i.dot(lc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}var t8=new vs,Yf=new ae,Kb=new ae,Xr=class{constructor(e=new ae,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let i=this.center;t!==void 0?i.copy(t):t8.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Yf.subVectors(e,this.center);let t=Yf.lengthSq();if(t>this.radius*this.radius){let i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Yf,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Kb.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Yf.copy(e.center).add(Kb)),this.expandByPoint(Yf.copy(e.center).sub(Kb))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}},Xa=new ae,Jb=new ae,Zm=new ae,qo=new ae,Zb=new ae,Qm=new ae,Qb=new ae,tl=class{constructor(e=new ae,t=new ae(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Xa)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=Xa.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Xa.copy(this.origin).addScaledVector(this.direction,t),Xa.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Jb.copy(e).add(t).multiplyScalar(.5),Zm.copy(t).sub(e).normalize(),qo.copy(this.origin).sub(Jb);let s=e.distanceTo(t)*.5,a=-this.direction.dot(Zm),o=qo.dot(this.direction),l=-qo.dot(Zm),c=qo.lengthSq(),u=Math.abs(1-a*a),h,d,m,v;if(u>0)if(h=a*l-o,d=a*o-l,v=s*u,h>=0)if(d>=-v)if(d<=v){let _=1/u;h*=_,d*=_,m=h*(h+a*d+2*o)+d*(a*h+d+2*l)+c}else d=s,h=Math.max(0,-(a*d+o)),m=-h*h+d*(d+2*l)+c;else d=-s,h=Math.max(0,-(a*d+o)),m=-h*h+d*(d+2*l)+c;else d<=-v?(h=Math.max(0,-(-a*s+o)),d=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+d*(d+2*l)+c):d<=v?(h=0,d=Math.min(Math.max(-s,-l),s),m=d*(d+2*l)+c):(h=Math.max(0,-(a*s+o)),d=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+d*(d+2*l)+c);else d=a>0?-s:s,h=Math.max(0,-(a*d+o)),m=-h*h+d*(d+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy(Jb).addScaledVector(Zm,d),m}intersectSphere(e,t){Xa.subVectors(e.center,this.origin);let i=Xa.dot(this.direction),r=Xa.dot(Xa)-i*i,s=e.radius*e.radius;if(r>s)return null;let a=Math.sqrt(s-r),o=i-a,l=i+a;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;let i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){let i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,a,o,l,c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,d=this.origin;return c>=0?(i=(e.min.x-d.x)*c,r=(e.max.x-d.x)*c):(i=(e.max.x-d.x)*c,r=(e.min.x-d.x)*c),u>=0?(s=(e.min.y-d.y)*u,a=(e.max.y-d.y)*u):(s=(e.max.y-d.y)*u,a=(e.min.y-d.y)*u),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),h>=0?(o=(e.min.z-d.z)*h,l=(e.max.z-d.z)*h):(o=(e.max.z-d.z)*h,l=(e.min.z-d.z)*h),i>l||o>r)||((o>i||i!==i)&&(i=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Xa)!==null}intersectTriangle(e,t,i,r,s){Zb.subVectors(t,e),Qm.subVectors(i,e),Qb.crossVectors(Zb,Qm);let a=this.direction.dot(Qb),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;qo.subVectors(this.origin,e);let l=o*this.direction.dot(Qm.crossVectors(qo,Qm));if(l<0)return null;let c=o*this.direction.dot(Zb.cross(qo));if(c<0||l+c>a)return null;let u=-o*qo.dot(Qb);return u<0?null:this.at(u/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},ii=class n{constructor(e,t,i,r,s,a,o,l,c,u,h,d,m,v,_,g){n.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,l,c,u,h,d,m,v,_,g)}set(e,t,i,r,s,a,o,l,c,u,h,d,m,v,_,g){let y=this.elements;return y[0]=e,y[4]=t,y[8]=i,y[12]=r,y[1]=s,y[5]=a,y[9]=o,y[13]=l,y[2]=c,y[6]=u,y[10]=h,y[14]=d,y[3]=m,y[7]=v,y[11]=_,y[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new n().fromArray(this.elements)}copy(e){let t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){let t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,i=e.elements,r=1/Ru.setFromMatrixColumn(e,0).length(),s=1/Ru.setFromMatrixColumn(e,1).length(),a=1/Ru.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){let t=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){let d=a*u,m=a*h,v=o*u,_=o*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=m+v*c,t[5]=d-_*c,t[9]=-o*l,t[2]=_-d*c,t[6]=v+m*c,t[10]=a*l}else if(e.order==="YXZ"){let d=l*u,m=l*h,v=c*u,_=c*h;t[0]=d+_*o,t[4]=v*o-m,t[8]=a*c,t[1]=a*h,t[5]=a*u,t[9]=-o,t[2]=m*o-v,t[6]=_+d*o,t[10]=a*l}else if(e.order==="ZXY"){let d=l*u,m=l*h,v=c*u,_=c*h;t[0]=d-_*o,t[4]=-a*h,t[8]=v+m*o,t[1]=m+v*o,t[5]=a*u,t[9]=_-d*o,t[2]=-a*c,t[6]=o,t[10]=a*l}else if(e.order==="ZYX"){let d=a*u,m=a*h,v=o*u,_=o*h;t[0]=l*u,t[4]=v*c-m,t[8]=d*c+_,t[1]=l*h,t[5]=_*c+d,t[9]=m*c-v,t[2]=-c,t[6]=o*l,t[10]=a*l}else if(e.order==="YZX"){let d=a*l,m=a*c,v=o*l,_=o*c;t[0]=l*u,t[4]=_-d*h,t[8]=v*h+m,t[1]=h,t[5]=a*u,t[9]=-o*u,t[2]=-c*u,t[6]=m*h+v,t[10]=d-_*h}else if(e.order==="XZY"){let d=a*l,m=a*c,v=o*l,_=o*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=d*h+_,t[5]=a*u,t[9]=m*h-v,t[2]=v*h-m,t[6]=o*u,t[10]=_*h+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(i8,e,n8)}lookAt(e,t,i){let r=this.elements;return qr.subVectors(e,t),qr.lengthSq()===0&&(qr.z=1),qr.normalize(),jo.crossVectors(i,qr),jo.lengthSq()===0&&(Math.abs(i.z)===1?qr.x+=1e-4:qr.z+=1e-4,qr.normalize(),jo.crossVectors(i,qr)),jo.normalize(),eg.crossVectors(qr,jo),r[0]=jo.x,r[4]=eg.x,r[8]=qr.x,r[1]=jo.y,r[5]=eg.y,r[9]=qr.y,r[2]=jo.z,r[6]=eg.z,r[10]=qr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[4],l=i[8],c=i[12],u=i[1],h=i[5],d=i[9],m=i[13],v=i[2],_=i[6],g=i[10],y=i[14],b=i[3],E=i[7],w=i[11],D=i[15],P=r[0],M=r[4],R=r[8],I=r[12],A=r[1],N=r[5],G=r[9],X=r[13],J=r[2],ge=r[6],te=r[10],pe=r[14],re=r[3],ne=r[7],qe=r[11],je=r[15];return s[0]=a*P+o*A+l*J+c*re,s[4]=a*M+o*N+l*ge+c*ne,s[8]=a*R+o*G+l*te+c*qe,s[12]=a*I+o*X+l*pe+c*je,s[1]=u*P+h*A+d*J+m*re,s[5]=u*M+h*N+d*ge+m*ne,s[9]=u*R+h*G+d*te+m*qe,s[13]=u*I+h*X+d*pe+m*je,s[2]=v*P+_*A+g*J+y*re,s[6]=v*M+_*N+g*ge+y*ne,s[10]=v*R+_*G+g*te+y*qe,s[14]=v*I+_*X+g*pe+y*je,s[3]=b*P+E*A+w*J+D*re,s[7]=b*M+E*N+w*ge+D*ne,s[11]=b*R+E*G+w*te+D*qe,s[15]=b*I+E*X+w*pe+D*je,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],u=e[2],h=e[6],d=e[10],m=e[14],v=e[3],_=e[7],g=e[11],y=e[15];return v*(+s*l*h-r*c*h-s*o*d+i*c*d+r*o*m-i*l*m)+_*(+t*l*m-t*c*d+s*a*d-r*a*m+r*c*u-s*l*u)+g*(+t*c*h-t*o*m-s*a*h+i*a*m+s*o*u-i*c*u)+y*(-r*o*u-t*l*h+t*o*d+r*a*h-i*a*d+i*l*u)}transpose(){let e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){let r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){let e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],m=e[11],v=e[12],_=e[13],g=e[14],y=e[15],b=h*g*c-_*d*c+_*l*m-o*g*m-h*l*y+o*d*y,E=v*d*c-u*g*c-v*l*m+a*g*m+u*l*y-a*d*y,w=u*_*c-v*h*c+v*o*m-a*_*m-u*o*y+a*h*y,D=v*h*l-u*_*l-v*o*d+a*_*d+u*o*g-a*h*g,P=t*b+i*E+r*w+s*D;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let M=1/P;return e[0]=b*M,e[1]=(_*d*s-h*g*s-_*r*m+i*g*m+h*r*y-i*d*y)*M,e[2]=(o*g*s-_*l*s+_*r*c-i*g*c-o*r*y+i*l*y)*M,e[3]=(h*l*s-o*d*s-h*r*c+i*d*c+o*r*m-i*l*m)*M,e[4]=E*M,e[5]=(u*g*s-v*d*s+v*r*m-t*g*m-u*r*y+t*d*y)*M,e[6]=(v*l*s-a*g*s-v*r*c+t*g*c+a*r*y-t*l*y)*M,e[7]=(a*d*s-u*l*s+u*r*c-t*d*c-a*r*m+t*l*m)*M,e[8]=w*M,e[9]=(v*h*s-u*_*s-v*i*m+t*_*m+u*i*y-t*h*y)*M,e[10]=(a*_*s-v*o*s+v*i*c-t*_*c-a*i*y+t*o*y)*M,e[11]=(u*o*s-a*h*s-u*i*c+t*h*c+a*i*m-t*o*m)*M,e[12]=D*M,e[13]=(u*_*r-v*h*r+v*i*d-t*_*d-u*i*g+t*h*g)*M,e[14]=(v*o*r-a*_*r-v*i*l+t*_*l+a*i*g-t*o*g)*M,e[15]=(a*h*r-u*o*r+u*i*l-t*h*l-a*i*d+t*o*d)*M,this}scale(e){let t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){let e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let i=Math.cos(t),r=Math.sin(t),s=1-i,a=e.x,o=e.y,l=e.z,c=s*a,u=s*o;return this.set(c*a+i,c*o-r*l,c*l+r*o,0,c*o+r*l,u*o+i,u*l-r*a,0,c*l-r*o,u*l+r*a,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){let r=this.elements,s=t._x,a=t._y,o=t._z,l=t._w,c=s+s,u=a+a,h=o+o,d=s*c,m=s*u,v=s*h,_=a*u,g=a*h,y=o*h,b=l*c,E=l*u,w=l*h,D=i.x,P=i.y,M=i.z;return r[0]=(1-(_+y))*D,r[1]=(m+w)*D,r[2]=(v-E)*D,r[3]=0,r[4]=(m-w)*P,r[5]=(1-(d+y))*P,r[6]=(g+b)*P,r[7]=0,r[8]=(v+E)*M,r[9]=(g-b)*M,r[10]=(1-(d+_))*M,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){let r=this.elements,s=Ru.set(r[0],r[1],r[2]).length(),a=Ru.set(r[4],r[5],r[6]).length(),o=Ru.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],zs.copy(this);let c=1/s,u=1/a,h=1/o;return zs.elements[0]*=c,zs.elements[1]*=c,zs.elements[2]*=c,zs.elements[4]*=u,zs.elements[5]*=u,zs.elements[6]*=u,zs.elements[8]*=h,zs.elements[9]*=h,zs.elements[10]*=h,t.setFromRotationMatrix(zs),i.x=s,i.y=a,i.z=o,this}makePerspective(e,t,i,r,s,a,o=to){let l=this.elements,c=2*s/(t-e),u=2*s/(i-r),h=(t+e)/(t-e),d=(i+r)/(i-r),m,v;if(o===to)m=-(a+s)/(a-s),v=-2*a*s/(a-s);else if(o===Cg)m=-a/(a-s),v=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=u,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,a,o=to){let l=this.elements,c=1/(t-e),u=1/(i-r),h=1/(a-s),d=(t+e)*c,m=(i+r)*u,v,_;if(o===to)v=(a+s)*h,_=-2*h;else if(o===Cg)v=s*h,_=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=_,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){let t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){let i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}},Ru=new ae,zs=new ii,i8=new ae(0,0,0),n8=new ae(1,1,1),jo=new ae,eg=new ae,qr=new ae,UD=new ii,zD=new Xn,va=class n{constructor(e=0,t=0,i=0,r=n.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){let r=e.elements,s=r[0],a=r[4],o=r[8],l=r[1],c=r[5],u=r[9],h=r[2],d=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(jn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-jn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(jn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-jn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(jn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(o,m));break;case"XZY":this._z=Math.asin(-jn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return UD.makeRotationFromQuaternion(e),this.setFromRotationMatrix(UD,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return zD.setFromEuler(this),this.setFromQuaternion(zD,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};va.DEFAULT_ORDER="XYZ";var Dg=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},r8=0,VD=new ae,Lu=new Xn,Ya=new ii,tg=new ae,Kf=new ae,s8=new ae,a8=new Xn,HD=new ae(1,0,0),GD=new ae(0,1,0),$D=new ae(0,0,1),WD={type:"added"},o8={type:"removed"},Ou={type:"childadded",child:null},eE={type:"childremoved",child:null},Qi=class n extends js{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:r8++}),this.uuid=qs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();let e=new ae,t=new va,i=new Xn,r=new ae(1,1,1);function s(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ii},normalMatrix:{value:new ti}}),this.matrix=new ii,this.matrixWorld=new ii,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Dg,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Lu.setFromAxisAngle(e,t),this.quaternion.multiply(Lu),this}rotateOnWorldAxis(e,t){return Lu.setFromAxisAngle(e,t),this.quaternion.premultiply(Lu),this}rotateX(e){return this.rotateOnAxis(HD,e)}rotateY(e){return this.rotateOnAxis(GD,e)}rotateZ(e){return this.rotateOnAxis($D,e)}translateOnAxis(e,t){return VD.copy(e).applyQuaternion(this.quaternion),this.position.add(VD.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(HD,e)}translateY(e){return this.translateOnAxis(GD,e)}translateZ(e){return this.translateOnAxis($D,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ya.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?tg.copy(e):tg.set(e,t,i);let r=this.parent;this.updateWorldMatrix(!0,!1),Kf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ya.lookAt(Kf,tg,this.up):Ya.lookAt(tg,Kf,this.up),this.quaternion.setFromRotationMatrix(Ya),r&&(Ya.extractRotation(r.matrixWorld),Lu.setFromRotationMatrix(Ya),this.quaternion.premultiply(Lu.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(WD),Ou.child=e,this.dispatchEvent(Ou),Ou.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}let t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(o8),eE.child=e,this.dispatchEvent(eE),eE.child=null),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ya.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ya.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ya),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(WD),Ou.child=e,this.dispatchEvent(Ou),Ou.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){let a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);let r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Kf,e,s8),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Kf,a8,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){let t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let i=0,r=t.length;i<r;i++){let s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){let i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){let r=this.children;for(let s=0,a=r.length;s<a;s++){let o=r[s];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){let t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});let r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);let o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){let l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){let h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(e.materials,this.material[l]));r.material=o}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){let l=this.animations[o];r.animations.push(s(e.animations,l))}}if(t){let o=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),h=a(e.shapes),d=a(e.skeletons),m=a(e.animations),v=a(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),h.length>0&&(i.shapes=h),d.length>0&&(i.skeletons=d),m.length>0&&(i.animations=m),v.length>0&&(i.nodes=v)}return i.object=r,i;function a(o){let l=[];for(let c in o){let u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){let r=e.children[i];this.add(r.clone())}return this}};Qi.DEFAULT_UP=new ae(0,1,0);Qi.DEFAULT_MATRIX_AUTO_UPDATE=!0;Qi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Vs=new ae,Ka=new ae,tE=new ae,Ja=new ae,Nu=new ae,ku=new ae,qD=new ae,iE=new ae,nE=new ae,rE=new ae,Xu=class n{constructor(e=new ae,t=new ae,i=new ae){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Vs.subVectors(e,t),r.cross(Vs);let s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Vs.subVectors(r,t),Ka.subVectors(i,t),tE.subVectors(e,t);let a=Vs.dot(Vs),o=Vs.dot(Ka),l=Vs.dot(tE),c=Ka.dot(Ka),u=Ka.dot(tE),h=a*c-o*o;if(h===0)return s.set(0,0,0),null;let d=1/h,m=(c*l-o*u)*d,v=(a*u-o*l)*d;return s.set(1-m-v,v,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Ja)===null?!1:Ja.x>=0&&Ja.y>=0&&Ja.x+Ja.y<=1}static getInterpolation(e,t,i,r,s,a,o,l){return this.getBarycoord(e,t,i,r,Ja)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Ja.x),l.addScaledVector(a,Ja.y),l.addScaledVector(o,Ja.z),l)}static isFrontFacing(e,t,i,r){return Vs.subVectors(i,t),Ka.subVectors(e,t),Vs.cross(Ka).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Vs.subVectors(this.c,this.b),Ka.subVectors(this.a,this.b),Vs.cross(Ka).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return n.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return n.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return n.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return n.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return n.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let i=this.a,r=this.b,s=this.c,a,o;Nu.subVectors(r,i),ku.subVectors(s,i),iE.subVectors(e,i);let l=Nu.dot(iE),c=ku.dot(iE);if(l<=0&&c<=0)return t.copy(i);nE.subVectors(e,r);let u=Nu.dot(nE),h=ku.dot(nE);if(u>=0&&h<=u)return t.copy(r);let d=l*h-u*c;if(d<=0&&l>=0&&u<=0)return a=l/(l-u),t.copy(i).addScaledVector(Nu,a);rE.subVectors(e,s);let m=Nu.dot(rE),v=ku.dot(rE);if(v>=0&&m<=v)return t.copy(s);let _=m*c-l*v;if(_<=0&&c>=0&&v<=0)return o=c/(c-v),t.copy(i).addScaledVector(ku,o);let g=u*v-m*h;if(g<=0&&h-u>=0&&m-v>=0)return qD.subVectors(s,r),o=(h-u)/(h-u+(m-v)),t.copy(r).addScaledVector(qD,o);let y=1/(g+_+d);return a=_*y,o=d*y,t.copy(i).addScaledVector(Nu,a).addScaledVector(ku,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},eL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Xo={h:0,s:0,l:0},ig={h:0,s:0,l:0};function sE(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}var Vt=class{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){let r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ln){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,wi.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=wi.workingColorSpace){return this.r=e,this.g=t,this.b=i,wi.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=wi.workingColorSpace){if(e=rS(e,1),t=jn(t,0,1),i=jn(i,0,1),t===0)this.r=this.g=this.b=i;else{let s=i<=.5?i*(1+t):i+t-i*t,a=2*i-s;this.r=sE(a,s,e+1/3),this.g=sE(a,s,e),this.b=sE(a,s,e-1/3)}return wi.toWorkingColorSpace(this,r),this}setStyle(e,t=ln){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s,a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){let s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ln){let i=eL[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Zu(e.r),this.g=Zu(e.g),this.b=Zu(e.b),this}copyLinearToSRGB(e){return this.r=qb(e.r),this.g=qb(e.g),this.b=qb(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ln){return wi.fromWorkingColorSpace(ar.copy(this),e),Math.round(jn(ar.r*255,0,255))*65536+Math.round(jn(ar.g*255,0,255))*256+Math.round(jn(ar.b*255,0,255))}getHexString(e=ln){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=wi.workingColorSpace){wi.fromWorkingColorSpace(ar.copy(this),t);let i=ar.r,r=ar.g,s=ar.b,a=Math.max(i,r,s),o=Math.min(i,r,s),l,c,u=(o+a)/2;if(o===a)l=0,c=0;else{let h=a-o;switch(c=u<=.5?h/(a+o):h/(2-a-o),a){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=wi.workingColorSpace){return wi.fromWorkingColorSpace(ar.copy(this),t),e.r=ar.r,e.g=ar.g,e.b=ar.b,e}getStyle(e=ln){wi.fromWorkingColorSpace(ar.copy(this),e);let t=ar.r,i=ar.g,r=ar.b;return e!==ln?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Xo),this.setHSL(Xo.h+e,Xo.s+t,Xo.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Xo),e.getHSL(ig);let i=sd(Xo.h,ig.h,t),r=sd(Xo.s,ig.s,t),s=sd(Xo.l,ig.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){let t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}},ar=new Vt;Vt.NAMES=eL;var l8=0,Yr=class extends js{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:l8++}),this.uuid=qs(),this.name="",this.type="Material",this.blending=Ku,this.side=ya,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=xE,this.blendDst=bE,this.blendEquation=pc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Vt(0,0,0),this.blendAlpha=0,this.depthFunc=Eg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=RD,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Mu,this.stencilZFail=Mu,this.stencilZPass=Mu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let t in e){let i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}let r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){let t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});let i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Ku&&(i.blending=this.blending),this.side!==ya&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==xE&&(i.blendSrc=this.blendSrc),this.blendDst!==bE&&(i.blendDst=this.blendDst),this.blendEquation!==pc&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Eg&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==RD&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Mu&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Mu&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Mu&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){let a=[];for(let o in s){let l=s[o];delete l.metadata,a.push(l)}return a}if(t){let s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,i=null;if(t!==null){let r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}},_a=class extends Yr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new va,this.combine=VR,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}};var An=new ae,ng=new Bt,gn=class{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=SE,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=ga,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return sS("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)ng.fromBufferAttribute(this,t),ng.applyMatrix3(e),this.setXY(t,ng.x,ng.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)An.fromBufferAttribute(this,t),An.applyMatrix3(e),this.setXYZ(t,An.x,An.y,An.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)An.fromBufferAttribute(this,t),An.applyMatrix4(e),this.setXYZ(t,An.x,An.y,An.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)An.fromBufferAttribute(this,t),An.applyNormalMatrix(e),this.setXYZ(t,An.x,An.y,An.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)An.fromBufferAttribute(this,t),An.transformDirection(e),this.setXYZ(t,An.x,An.y,An.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=$s(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=ki(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=$s(t,this.array)),t}setX(e,t){return this.normalized&&(t=ki(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=$s(t,this.array)),t}setY(e,t){return this.normalized&&(t=ki(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=$s(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ki(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=$s(t,this.array)),t}setW(e,t){return this.normalized&&(t=ki(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=ki(t,this.array),i=ki(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=ki(t,this.array),i=ki(i,this.array),r=ki(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=ki(t,this.array),i=ki(i,this.array),r=ki(r,this.array),s=ki(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==SE&&(e.usage=this.usage),e}};var Rg=class extends gn{constructor(e,t,i){super(new Uint16Array(e),t,i)}};var Lg=class extends gn{constructor(e,t,i){super(new Uint32Array(e),t,i)}};var Yn=class extends gn{constructor(e,t,i){super(new Float32Array(e),t,i)}},c8=0,ys=new ii,aE=new Qi,Fu=new ae,jr=new vs,Jf=new vs,Hn=new ae,Kn=class n extends js{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:c8++}),this.uuid=qs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(QR(e)?Lg:Rg)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);let i=this.attributes.normal;if(i!==void 0){let s=new ti().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}let r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ys.makeRotationFromQuaternion(e),this.applyMatrix4(ys),this}rotateX(e){return ys.makeRotationX(e),this.applyMatrix4(ys),this}rotateY(e){return ys.makeRotationY(e),this.applyMatrix4(ys),this}rotateZ(e){return ys.makeRotationZ(e),this.applyMatrix4(ys),this}translate(e,t,i){return ys.makeTranslation(e,t,i),this.applyMatrix4(ys),this}scale(e,t,i){return ys.makeScale(e,t,i),this.applyMatrix4(ys),this}lookAt(e){return aE.lookAt(e),aE.updateMatrix(),this.applyMatrix4(aE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Fu).negate(),this.translate(Fu.x,Fu.y,Fu.z),this}setFromPoints(e){let t=[];for(let i=0,r=e.length;i<r;i++){let s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Yn(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vs);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ae(-1/0,-1/0,-1/0),new ae(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){let s=t[i];jr.setFromBufferAttribute(s),this.morphTargetsRelative?(Hn.addVectors(this.boundingBox.min,jr.min),this.boundingBox.expandByPoint(Hn),Hn.addVectors(this.boundingBox.max,jr.max),this.boundingBox.expandByPoint(Hn)):(this.boundingBox.expandByPoint(jr.min),this.boundingBox.expandByPoint(jr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Xr);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ae,1/0);return}if(e){let i=this.boundingSphere.center;if(jr.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){let o=t[s];Jf.setFromBufferAttribute(o),this.morphTargetsRelative?(Hn.addVectors(jr.min,Jf.min),jr.expandByPoint(Hn),Hn.addVectors(jr.max,Jf.max),jr.expandByPoint(Hn)):(jr.expandByPoint(Jf.min),jr.expandByPoint(Jf.max))}jr.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)Hn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Hn));if(t)for(let s=0,a=t.length;s<a;s++){let o=t[s],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)Hn.fromBufferAttribute(o,c),l&&(Fu.fromBufferAttribute(e,c),Hn.add(Fu)),r=Math.max(r,i.distanceToSquared(Hn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new gn(new Float32Array(4*i.count),4));let a=this.getAttribute("tangent"),o=[],l=[];for(let R=0;R<i.count;R++)o[R]=new ae,l[R]=new ae;let c=new ae,u=new ae,h=new ae,d=new Bt,m=new Bt,v=new Bt,_=new ae,g=new ae;function y(R,I,A){c.fromBufferAttribute(i,R),u.fromBufferAttribute(i,I),h.fromBufferAttribute(i,A),d.fromBufferAttribute(s,R),m.fromBufferAttribute(s,I),v.fromBufferAttribute(s,A),u.sub(c),h.sub(c),m.sub(d),v.sub(d);let N=1/(m.x*v.y-v.x*m.y);isFinite(N)&&(_.copy(u).multiplyScalar(v.y).addScaledVector(h,-m.y).multiplyScalar(N),g.copy(h).multiplyScalar(m.x).addScaledVector(u,-v.x).multiplyScalar(N),o[R].add(_),o[I].add(_),o[A].add(_),l[R].add(g),l[I].add(g),l[A].add(g))}let b=this.groups;b.length===0&&(b=[{start:0,count:e.count}]);for(let R=0,I=b.length;R<I;++R){let A=b[R],N=A.start,G=A.count;for(let X=N,J=N+G;X<J;X+=3)y(e.getX(X+0),e.getX(X+1),e.getX(X+2))}let E=new ae,w=new ae,D=new ae,P=new ae;function M(R){D.fromBufferAttribute(r,R),P.copy(D);let I=o[R];E.copy(I),E.sub(D.multiplyScalar(D.dot(I))).normalize(),w.crossVectors(P,I);let N=w.dot(l[R])<0?-1:1;a.setXYZW(R,E.x,E.y,E.z,N)}for(let R=0,I=b.length;R<I;++R){let A=b[R],N=A.start,G=A.count;for(let X=N,J=N+G;X<J;X+=3)M(e.getX(X+0)),M(e.getX(X+1)),M(e.getX(X+2))}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new gn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let d=0,m=i.count;d<m;d++)i.setXYZ(d,0,0,0);let r=new ae,s=new ae,a=new ae,o=new ae,l=new ae,c=new ae,u=new ae,h=new ae;if(e)for(let d=0,m=e.count;d<m;d+=3){let v=e.getX(d+0),_=e.getX(d+1),g=e.getX(d+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,_),a.fromBufferAttribute(t,g),u.subVectors(a,s),h.subVectors(r,s),u.cross(h),o.fromBufferAttribute(i,v),l.fromBufferAttribute(i,_),c.fromBufferAttribute(i,g),o.add(u),l.add(u),c.add(u),i.setXYZ(v,o.x,o.y,o.z),i.setXYZ(_,l.x,l.y,l.z),i.setXYZ(g,c.x,c.y,c.z)}else for(let d=0,m=t.count;d<m;d+=3)r.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),a.fromBufferAttribute(t,d+2),u.subVectors(a,s),h.subVectors(r,s),u.cross(h),i.setXYZ(d+0,u.x,u.y,u.z),i.setXYZ(d+1,u.x,u.y,u.z),i.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){let e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Hn.fromBufferAttribute(e,t),Hn.normalize(),e.setXYZ(t,Hn.x,Hn.y,Hn.z)}toNonIndexed(){function e(o,l){let c=o.array,u=o.itemSize,h=o.normalized,d=new c.constructor(l.length*u),m=0,v=0;for(let _=0,g=l.length;_<g;_++){o.isInterleavedBufferAttribute?m=l[_]*o.data.stride+o.offset:m=l[_]*u;for(let y=0;y<u;y++)d[v++]=c[m++]}return new gn(d,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new n,i=this.index.array,r=this.attributes;for(let o in r){let l=r[o],c=e(l,i);t.setAttribute(o,c)}let s=this.morphAttributes;for(let o in s){let l=[],c=s[o];for(let u=0,h=c.length;u<h;u++){let d=c[u],m=e(d,i);l.push(m)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;let a=this.groups;for(let o=0,l=a.length;o<l;o++){let c=a[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){let e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let l=this.parameters;for(let c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};let t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let i=this.attributes;for(let l in i){let c=i[l];e.data.attributes[l]=c.toJSON(e.data)}let r={},s=!1;for(let l in this.morphAttributes){let c=this.morphAttributes[l],u=[];for(let h=0,d=c.length;h<d;h++){let m=c[h];u.push(m.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);let a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));let o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let i=e.index;i!==null&&this.setIndex(i.clone(t));let r=e.attributes;for(let c in r){let u=r[c];this.setAttribute(c,u.clone(t))}let s=e.morphAttributes;for(let c in s){let u=[],h=s[c];for(let d=0,m=h.length;d<m;d++)u.push(h[d].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;let a=e.groups;for(let c=0,u=a.length;c<u;c++){let h=a[c];this.addGroup(h.start,h.count,h.materialIndex)}let o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());let l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}},jD=new ii,cc=new tl,rg=new Xr,XD=new ae,Bu=new ae,Uu=new ae,zu=new ae,oE=new ae,sg=new ae,ag=new Bt,og=new Bt,lg=new Bt,YD=new ae,KD=new ae,JD=new ae,cg=new ae,ug=new ae,Mn=class extends Qi{constructor(e=new Kn,t=new _a){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){let t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){let r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){let o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){let i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(r,e);let o=this.morphTargetInfluences;if(s&&o){sg.set(0,0,0);for(let l=0,c=s.length;l<c;l++){let u=o[l],h=s[l];u!==0&&(oE.fromBufferAttribute(h,e),a?sg.addScaledVector(oE,u):sg.addScaledVector(oE.sub(t),u))}t.add(sg)}return t}raycast(e,t){let i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),rg.copy(i.boundingSphere),rg.applyMatrix4(s),cc.copy(e.ray).recast(e.near),!(rg.containsPoint(cc.origin)===!1&&(cc.intersectSphere(rg,XD)===null||cc.origin.distanceToSquared(XD)>Na(e.far-e.near,2)))&&(jD.copy(s).invert(),cc.copy(e.ray).applyMatrix4(jD),!(i.boundingBox!==null&&cc.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,cc)))}_computeIntersections(e,t,i){let r,s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,h=s.attributes.normal,d=s.groups,m=s.drawRange;if(o!==null)if(Array.isArray(a))for(let v=0,_=d.length;v<_;v++){let g=d[v],y=a[g.materialIndex],b=Math.max(g.start,m.start),E=Math.min(o.count,Math.min(g.start+g.count,m.start+m.count));for(let w=b,D=E;w<D;w+=3){let P=o.getX(w),M=o.getX(w+1),R=o.getX(w+2);r=hg(this,y,e,i,c,u,h,P,M,R),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=g.materialIndex,t.push(r))}}else{let v=Math.max(0,m.start),_=Math.min(o.count,m.start+m.count);for(let g=v,y=_;g<y;g+=3){let b=o.getX(g),E=o.getX(g+1),w=o.getX(g+2);r=hg(this,a,e,i,c,u,h,b,E,w),r&&(r.faceIndex=Math.floor(g/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(a))for(let v=0,_=d.length;v<_;v++){let g=d[v],y=a[g.materialIndex],b=Math.max(g.start,m.start),E=Math.min(l.count,Math.min(g.start+g.count,m.start+m.count));for(let w=b,D=E;w<D;w+=3){let P=w,M=w+1,R=w+2;r=hg(this,y,e,i,c,u,h,P,M,R),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=g.materialIndex,t.push(r))}}else{let v=Math.max(0,m.start),_=Math.min(l.count,m.start+m.count);for(let g=v,y=_;g<y;g+=3){let b=g,E=g+1,w=g+2;r=hg(this,a,e,i,c,u,h,b,E,w),r&&(r.faceIndex=Math.floor(g/3),t.push(r))}}}};function u8(n,e,t,i,r,s,a,o){let l;if(e.side===Lr?l=i.intersectTriangle(a,s,r,!0,o):l=i.intersectTriangle(r,s,a,e.side===ya,o),l===null)return null;ug.copy(o),ug.applyMatrix4(n.matrixWorld);let c=t.ray.origin.distanceTo(ug);return c<t.near||c>t.far?null:{distance:c,point:ug.clone(),object:n}}function hg(n,e,t,i,r,s,a,o,l,c){n.getVertexPosition(o,Bu),n.getVertexPosition(l,Uu),n.getVertexPosition(c,zu);let u=u8(n,e,t,i,Bu,Uu,zu,cg);if(u){r&&(ag.fromBufferAttribute(r,o),og.fromBufferAttribute(r,l),lg.fromBufferAttribute(r,c),u.uv=Xu.getInterpolation(cg,Bu,Uu,zu,ag,og,lg,new Bt)),s&&(ag.fromBufferAttribute(s,o),og.fromBufferAttribute(s,l),lg.fromBufferAttribute(s,c),u.uv1=Xu.getInterpolation(cg,Bu,Uu,zu,ag,og,lg,new Bt)),a&&(YD.fromBufferAttribute(a,o),KD.fromBufferAttribute(a,l),JD.fromBufferAttribute(a,c),u.normal=Xu.getInterpolation(cg,Bu,Uu,zu,YD,KD,JD,new ae),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));let h={a:o,b:l,c,normal:new ae,materialIndex:0};Xu.getNormal(Bu,Uu,zu,h.normal),u.face=h}return u}var ud=class n extends Kn{constructor(e=1,t=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};let o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);let l=[],c=[],u=[],h=[],d=0,m=0;v("z","y","x",-1,-1,i,t,e,a,s,0),v("z","y","x",1,-1,i,t,-e,a,s,1),v("x","z","y",1,1,e,i,t,r,a,2),v("x","z","y",1,-1,e,i,-t,r,a,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Yn(c,3)),this.setAttribute("normal",new Yn(u,3)),this.setAttribute("uv",new Yn(h,2));function v(_,g,y,b,E,w,D,P,M,R,I){let A=w/M,N=D/R,G=w/2,X=D/2,J=P/2,ge=M+1,te=R+1,pe=0,re=0,ne=new ae;for(let qe=0;qe<te;qe++){let je=qe*N-X;for(let et=0;et<ge;et++){let Ot=et*A-G;ne[_]=Ot*b,ne[g]=je*E,ne[y]=J,c.push(ne.x,ne.y,ne.z),ne[_]=0,ne[g]=0,ne[y]=P>0?1:-1,u.push(ne.x,ne.y,ne.z),h.push(et/M),h.push(1-qe/R),pe+=1}}for(let qe=0;qe<R;qe++)for(let je=0;je<M;je++){let et=d+je+ge*qe,Ot=d+je+ge*(qe+1),Me=d+(je+1)+ge*(qe+1),Ne=d+(je+1)+ge*qe;l.push(et,Ot,Ne),l.push(Ot,Me,Ne),re+=6}o.addGroup(m,re,I),m+=re,d+=pe}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function lh(n){let e={};for(let t in n){e[t]={};for(let i in n[t]){let r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function yr(n){let e={};for(let t=0;t<n.length;t++){let i=lh(n[t]);for(let r in i)e[r]=i[r]}return e}function h8(n){let e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function tL(n){let e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:wi.workingColorSpace}var f8={clone:lh,merge:yr},d8=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,p8=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,Xs=class extends Yr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=d8,this.fragmentShader=p8,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=lh(e.uniforms),this.uniformsGroups=h8(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let r in this.uniforms){let a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;let i={};for(let r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}},Og=class extends Qi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ii,this.projectionMatrix=new ii,this.projectionMatrixInverse=new ii,this.coordinateSystem=to}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},Yo=new ae,ZD=new Bt,QD=new Bt,mn=class extends Og{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=oh*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(rd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return oh*2*Math.atan(Math.tan(rd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Yo.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Yo.x,Yo.y).multiplyScalar(-e/Yo.z),Yo.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Yo.x,Yo.y).multiplyScalar(-e/Yo.z)}getViewSize(e,t){return this.getViewBounds(e,ZD,QD),t.subVectors(QD,ZD)}setViewOffset(e,t,i,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(rd*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r,a=this.view;if(this.view!==null&&this.view.enabled){let l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*r/l,t-=a.offsetY*i/c,r*=a.width/l,i*=a.height/c}let o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}},Vu=-90,Hu=1,ME=class extends Qi{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;let r=new mn(Vu,Hu,e,t);r.layers=this.layers,this.add(r);let s=new mn(Vu,Hu,e,t);s.layers=this.layers,this.add(s);let a=new mn(Vu,Hu,e,t);a.layers=this.layers,this.add(a);let o=new mn(Vu,Hu,e,t);o.layers=this.layers,this.add(o);let l=new mn(Vu,Hu,e,t);l.layers=this.layers,this.add(l);let c=new mn(Vu,Hu,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){let e=this.coordinateSystem,t=this.children.concat(),[i,r,s,a,o,l]=t;for(let c of t)this.remove(c);if(e===to)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Cg)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(let c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();let{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());let[s,a,o,l,c,u]=this.children,h=e.getRenderTarget(),d=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;let _=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,a),e.setRenderTarget(i,2,r),e.render(t,o),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,c),i.texture.generateMipmaps=_,e.setRenderTarget(i,5,r),e.render(t,u),e.setRenderTarget(h,d,m),e.xr.enabled=v,i.texture.needsPMREMUpdate=!0}},Ng=class extends Gn{constructor(e,t,i,r,s,a,o,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:eh,super(e,t,i,r,s,a,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},CE=class extends Or{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;let i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Ng(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Dr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new ud(5,5,5),s=new Xs({name:"CubemapFromEquirect",uniforms:lh(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Lr,blending:Zo});s.uniforms.tEquirect.value=t;let a=new Mn(r,s),o=t.minFilter;return t.minFilter===ma&&(t.minFilter=Dr),new ME(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,i,r){let s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(s)}},lE=new ae,m8=new ae,g8=new ti,Hs=class{constructor(e=new ae(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){let r=lE.subVectors(i,t).cross(m8.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){let i=e.delta(lE),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;let s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){let t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let i=t||g8.getNormalMatrix(e),r=this.coplanarPoint(lE).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}},uc=new Xr,fg=new ae,hd=class{constructor(e=new Hs,t=new Hs,i=new Hs,r=new Hs,s=new Hs,a=new Hs){this.planes=[e,t,i,r,s,a]}set(e,t,i,r,s,a){let o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){let t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=to){let i=this.planes,r=e.elements,s=r[0],a=r[1],o=r[2],l=r[3],c=r[4],u=r[5],h=r[6],d=r[7],m=r[8],v=r[9],_=r[10],g=r[11],y=r[12],b=r[13],E=r[14],w=r[15];if(i[0].setComponents(l-s,d-c,g-m,w-y).normalize(),i[1].setComponents(l+s,d+c,g+m,w+y).normalize(),i[2].setComponents(l+a,d+u,g+v,w+b).normalize(),i[3].setComponents(l-a,d-u,g-v,w-b).normalize(),i[4].setComponents(l-o,d-h,g-_,w-E).normalize(),t===to)i[5].setComponents(l+o,d+h,g+_,w+E).normalize();else if(t===Cg)i[5].setComponents(o,h,_,E).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),uc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{let t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),uc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(uc)}intersectsSprite(e){return uc.center.set(0,0,0),uc.radius=.7071067811865476,uc.applyMatrix4(e.matrixWorld),this.intersectsSphere(uc)}intersectsSphere(e){let t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){let t=this.planes;for(let i=0;i<6;i++){let r=t[i];if(fg.x=r.normal.x>0?e.max.x:e.min.x,fg.y=r.normal.y>0?e.max.y:e.min.y,fg.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(fg)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function iL(){let n=null,e=!1,t=null,i=null;function r(s,a){t(s,a),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function y8(n){let e=new WeakMap;function t(o,l){let c=o.array,u=o.usage,h=c.byteLength,d=n.createBuffer();n.bindBuffer(l,d),n.bufferData(l,c,u),o.onUploadCallback();let m;if(c instanceof Float32Array)m=n.FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?m=n.HALF_FLOAT:m=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=n.SHORT;else if(c instanceof Uint32Array)m=n.UNSIGNED_INT;else if(c instanceof Int32Array)m=n.INT;else if(c instanceof Int8Array)m=n.BYTE;else if(c instanceof Uint8Array)m=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:d,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:h}}function i(o,l,c){let u=l.array,h=l._updateRange,d=l.updateRanges;if(n.bindBuffer(c,o),h.count===-1&&d.length===0&&n.bufferSubData(c,0,u),d.length!==0){for(let m=0,v=d.length;m<v;m++){let _=d[m];n.bufferSubData(c,_.start*u.BYTES_PER_ELEMENT,u,_.start,_.count)}l.clearUpdateRanges()}h.count!==-1&&(n.bufferSubData(c,h.offset*u.BYTES_PER_ELEMENT,u,h.offset,h.count),h.count=-1),l.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);let l=e.get(o);l&&(n.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isGLBufferAttribute){let u=e.get(o);(!u||u.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}o.isInterleavedBufferAttribute&&(o=o.data);let c=e.get(o);if(c===void 0)e.set(o,t(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,o,l),c.version=o.version}}return{get:r,remove:s,update:a}}var gc=class n extends Kn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};let s=e/2,a=t/2,o=Math.floor(i),l=Math.floor(r),c=o+1,u=l+1,h=e/o,d=t/l,m=[],v=[],_=[],g=[];for(let y=0;y<u;y++){let b=y*d-a;for(let E=0;E<c;E++){let w=E*h-s;v.push(w,-b,0),_.push(0,0,1),g.push(E/o),g.push(1-y/l)}}for(let y=0;y<l;y++)for(let b=0;b<o;b++){let E=b+c*y,w=b+c*(y+1),D=b+1+c*(y+1),P=b+1+c*y;m.push(E,w,P),m.push(w,D,P)}this.setIndex(m),this.setAttribute("position",new Yn(v,3)),this.setAttribute("normal",new Yn(_,3)),this.setAttribute("uv",new Yn(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}},v8=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,_8=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,x8=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,b8=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,E8=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,S8=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,T8=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,w8=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,A8=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,M8=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,C8=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,P8=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,I8=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,D8=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,R8=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,L8=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,O8=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,N8=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,k8=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,F8=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,B8=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,U8=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,z8=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( batchId );
	vColor.xyz *= batchingColor.xyz;
#endif`,V8=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,H8=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,G8=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,$8=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,W8=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,q8=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,j8=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,X8="gl_FragColor = linearToOutputTexel( gl_FragColor );",Y8=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,K8=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,J8=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Z8=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Q8=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,e6=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,t6=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,i6=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,n6=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,r6=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,s6=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,a6=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,o6=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,l6=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,c6=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,u6=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,h6=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,f6=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,d6=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,p6=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,m6=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,g6=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,y6=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,v6=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,_6=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,x6=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,b6=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,E6=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,S6=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,T6=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,w6=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,A6=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,M6=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,C6=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,P6=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,I6=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,D6=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,R6=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,L6=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,O6=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,N6=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,k6=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,F6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,B6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,U6=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,z6=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,V6=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,H6=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,G6=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,$6=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,W6=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,q6=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,j6=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,X6=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Y6=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,K6=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,J6=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Z6=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Q6=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,e$=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,t$=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,i$=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,n$=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,r$=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,s$=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,a$=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,o$=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,l$=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,c$=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,u$=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,h$=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,f$=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,d$=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,p$=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,m$=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,g$=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,y$=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,v$=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_$=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,x$=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,b$=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,E$=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,S$=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,T$=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,w$=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,A$=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,M$=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,C$=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,P$=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,I$=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,D$=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,R$=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,L$=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,O$=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,N$=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,k$=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,F$=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,B$=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,U$=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,z$=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,V$=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,H$=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,G$=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$$=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,W$=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,q$=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,j$=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,X$=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Y$=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,K$=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ei={alphahash_fragment:v8,alphahash_pars_fragment:_8,alphamap_fragment:x8,alphamap_pars_fragment:b8,alphatest_fragment:E8,alphatest_pars_fragment:S8,aomap_fragment:T8,aomap_pars_fragment:w8,batching_pars_vertex:A8,batching_vertex:M8,begin_vertex:C8,beginnormal_vertex:P8,bsdfs:I8,iridescence_fragment:D8,bumpmap_pars_fragment:R8,clipping_planes_fragment:L8,clipping_planes_pars_fragment:O8,clipping_planes_pars_vertex:N8,clipping_planes_vertex:k8,color_fragment:F8,color_pars_fragment:B8,color_pars_vertex:U8,color_vertex:z8,common:V8,cube_uv_reflection_fragment:H8,defaultnormal_vertex:G8,displacementmap_pars_vertex:$8,displacementmap_vertex:W8,emissivemap_fragment:q8,emissivemap_pars_fragment:j8,colorspace_fragment:X8,colorspace_pars_fragment:Y8,envmap_fragment:K8,envmap_common_pars_fragment:J8,envmap_pars_fragment:Z8,envmap_pars_vertex:Q8,envmap_physical_pars_fragment:u6,envmap_vertex:e6,fog_vertex:t6,fog_pars_vertex:i6,fog_fragment:n6,fog_pars_fragment:r6,gradientmap_pars_fragment:s6,lightmap_pars_fragment:a6,lights_lambert_fragment:o6,lights_lambert_pars_fragment:l6,lights_pars_begin:c6,lights_toon_fragment:h6,lights_toon_pars_fragment:f6,lights_phong_fragment:d6,lights_phong_pars_fragment:p6,lights_physical_fragment:m6,lights_physical_pars_fragment:g6,lights_fragment_begin:y6,lights_fragment_maps:v6,lights_fragment_end:_6,logdepthbuf_fragment:x6,logdepthbuf_pars_fragment:b6,logdepthbuf_pars_vertex:E6,logdepthbuf_vertex:S6,map_fragment:T6,map_pars_fragment:w6,map_particle_fragment:A6,map_particle_pars_fragment:M6,metalnessmap_fragment:C6,metalnessmap_pars_fragment:P6,morphinstance_vertex:I6,morphcolor_vertex:D6,morphnormal_vertex:R6,morphtarget_pars_vertex:L6,morphtarget_vertex:O6,normal_fragment_begin:N6,normal_fragment_maps:k6,normal_pars_fragment:F6,normal_pars_vertex:B6,normal_vertex:U6,normalmap_pars_fragment:z6,clearcoat_normal_fragment_begin:V6,clearcoat_normal_fragment_maps:H6,clearcoat_pars_fragment:G6,iridescence_pars_fragment:$6,opaque_fragment:W6,packing:q6,premultiplied_alpha_fragment:j6,project_vertex:X6,dithering_fragment:Y6,dithering_pars_fragment:K6,roughnessmap_fragment:J6,roughnessmap_pars_fragment:Z6,shadowmap_pars_fragment:Q6,shadowmap_pars_vertex:e$,shadowmap_vertex:t$,shadowmask_pars_fragment:i$,skinbase_vertex:n$,skinning_pars_vertex:r$,skinning_vertex:s$,skinnormal_vertex:a$,specularmap_fragment:o$,specularmap_pars_fragment:l$,tonemapping_fragment:c$,tonemapping_pars_fragment:u$,transmission_fragment:h$,transmission_pars_fragment:f$,uv_pars_fragment:d$,uv_pars_vertex:p$,uv_vertex:m$,worldpos_vertex:g$,background_vert:y$,background_frag:v$,backgroundCube_vert:_$,backgroundCube_frag:x$,cube_vert:b$,cube_frag:E$,depth_vert:S$,depth_frag:T$,distanceRGBA_vert:w$,distanceRGBA_frag:A$,equirect_vert:M$,equirect_frag:C$,linedashed_vert:P$,linedashed_frag:I$,meshbasic_vert:D$,meshbasic_frag:R$,meshlambert_vert:L$,meshlambert_frag:O$,meshmatcap_vert:N$,meshmatcap_frag:k$,meshnormal_vert:F$,meshnormal_frag:B$,meshphong_vert:U$,meshphong_frag:z$,meshphysical_vert:V$,meshphysical_frag:H$,meshtoon_vert:G$,meshtoon_frag:$$,points_vert:W$,points_frag:q$,shadow_vert:j$,shadow_frag:X$,sprite_vert:Y$,sprite_frag:K$},it={common:{diffuse:{value:new Vt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ti},alphaMap:{value:null},alphaMapTransform:{value:new ti},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ti}},envmap:{envMap:{value:null},envMapRotation:{value:new ti},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ti}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ti}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ti},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ti},normalScale:{value:new Bt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ti},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ti}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ti}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ti}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Vt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Vt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ti},alphaTest:{value:0},uvTransform:{value:new ti}},sprite:{diffuse:{value:new Vt(16777215)},opacity:{value:1},center:{value:new Bt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ti},alphaMap:{value:null},alphaMapTransform:{value:new ti},alphaTest:{value:0}}},pa={basic:{uniforms:yr([it.common,it.specularmap,it.envmap,it.aomap,it.lightmap,it.fog]),vertexShader:ei.meshbasic_vert,fragmentShader:ei.meshbasic_frag},lambert:{uniforms:yr([it.common,it.specularmap,it.envmap,it.aomap,it.lightmap,it.emissivemap,it.bumpmap,it.normalmap,it.displacementmap,it.fog,it.lights,{emissive:{value:new Vt(0)}}]),vertexShader:ei.meshlambert_vert,fragmentShader:ei.meshlambert_frag},phong:{uniforms:yr([it.common,it.specularmap,it.envmap,it.aomap,it.lightmap,it.emissivemap,it.bumpmap,it.normalmap,it.displacementmap,it.fog,it.lights,{emissive:{value:new Vt(0)},specular:{value:new Vt(1118481)},shininess:{value:30}}]),vertexShader:ei.meshphong_vert,fragmentShader:ei.meshphong_frag},standard:{uniforms:yr([it.common,it.envmap,it.aomap,it.lightmap,it.emissivemap,it.bumpmap,it.normalmap,it.displacementmap,it.roughnessmap,it.metalnessmap,it.fog,it.lights,{emissive:{value:new Vt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ei.meshphysical_vert,fragmentShader:ei.meshphysical_frag},toon:{uniforms:yr([it.common,it.aomap,it.lightmap,it.emissivemap,it.bumpmap,it.normalmap,it.displacementmap,it.gradientmap,it.fog,it.lights,{emissive:{value:new Vt(0)}}]),vertexShader:ei.meshtoon_vert,fragmentShader:ei.meshtoon_frag},matcap:{uniforms:yr([it.common,it.bumpmap,it.normalmap,it.displacementmap,it.fog,{matcap:{value:null}}]),vertexShader:ei.meshmatcap_vert,fragmentShader:ei.meshmatcap_frag},points:{uniforms:yr([it.points,it.fog]),vertexShader:ei.points_vert,fragmentShader:ei.points_frag},dashed:{uniforms:yr([it.common,it.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ei.linedashed_vert,fragmentShader:ei.linedashed_frag},depth:{uniforms:yr([it.common,it.displacementmap]),vertexShader:ei.depth_vert,fragmentShader:ei.depth_frag},normal:{uniforms:yr([it.common,it.bumpmap,it.normalmap,it.displacementmap,{opacity:{value:1}}]),vertexShader:ei.meshnormal_vert,fragmentShader:ei.meshnormal_frag},sprite:{uniforms:yr([it.sprite,it.fog]),vertexShader:ei.sprite_vert,fragmentShader:ei.sprite_frag},background:{uniforms:{uvTransform:{value:new ti},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ei.background_vert,fragmentShader:ei.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ti}},vertexShader:ei.backgroundCube_vert,fragmentShader:ei.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ei.cube_vert,fragmentShader:ei.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ei.equirect_vert,fragmentShader:ei.equirect_frag},distanceRGBA:{uniforms:yr([it.common,it.displacementmap,{referencePosition:{value:new ae},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ei.distanceRGBA_vert,fragmentShader:ei.distanceRGBA_frag},shadow:{uniforms:yr([it.lights,it.fog,{color:{value:new Vt(0)},opacity:{value:1}}]),vertexShader:ei.shadow_vert,fragmentShader:ei.shadow_frag}};pa.physical={uniforms:yr([pa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ti},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ti},clearcoatNormalScale:{value:new Bt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ti},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ti},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ti},sheen:{value:0},sheenColor:{value:new Vt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ti},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ti},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ti},transmissionSamplerSize:{value:new Bt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ti},attenuationDistance:{value:0},attenuationColor:{value:new Vt(0)},specularColor:{value:new Vt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ti},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ti},anisotropyVector:{value:new Bt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ti}}]),vertexShader:ei.meshphysical_vert,fragmentShader:ei.meshphysical_frag};var dg={r:0,b:0,g:0},hc=new va,J$=new ii;function Z$(n,e,t,i,r,s,a){let o=new Vt(0),l=s===!0?0:1,c,u,h=null,d=0,m=null;function v(b){let E=b.isScene===!0?b.background:null;return E&&E.isTexture&&(E=(b.backgroundBlurriness>0?t:e).get(E)),E}function _(b){let E=!1,w=v(b);w===null?y(o,l):w&&w.isColor&&(y(w,1),E=!0);let D=n.xr.getEnvironmentBlendMode();D==="additive"?i.buffers.color.setClear(0,0,0,1,a):D==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(n.autoClear||E)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function g(b,E){let w=v(E);w&&(w.isCubeTexture||w.mapping===Qg)?(u===void 0&&(u=new Mn(new ud(1,1,1),new Xs({name:"BackgroundCubeMaterial",uniforms:lh(pa.backgroundCube.uniforms),vertexShader:pa.backgroundCube.vertexShader,fragmentShader:pa.backgroundCube.fragmentShader,side:Lr,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(D,P,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),hc.copy(E.backgroundRotation),hc.x*=-1,hc.y*=-1,hc.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(hc.y*=-1,hc.z*=-1),u.material.uniforms.envMap.value=w,u.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=E.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(J$.makeRotationFromEuler(hc)),u.material.toneMapped=wi.getTransfer(w.colorSpace)!==Ki,(h!==w||d!==w.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,h=w,d=w.version,m=n.toneMapping),u.layers.enableAll(),b.unshift(u,u.geometry,u.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new Mn(new gc(2,2),new Xs({name:"BackgroundMaterial",uniforms:lh(pa.background.uniforms),vertexShader:pa.background.vertexShader,fragmentShader:pa.background.fragmentShader,side:ya,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=w,c.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,c.material.toneMapped=wi.getTransfer(w.colorSpace)!==Ki,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(h!==w||d!==w.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,h=w,d=w.version,m=n.toneMapping),c.layers.enableAll(),b.unshift(c,c.geometry,c.material,0,0,null))}function y(b,E){b.getRGB(dg,tL(n)),i.buffers.color.setClear(dg.r,dg.g,dg.b,E,a)}return{getClearColor:function(){return o},setClearColor:function(b,E=1){o.set(b),l=E,y(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(b){l=b,y(o,l)},render:_,addToRenderList:g}}function Q$(n,e){let t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=d(null),s=r,a=!1;function o(A,N,G,X,J){let ge=!1,te=h(X,G,N);s!==te&&(s=te,c(s.object)),ge=m(A,X,G,J),ge&&v(A,X,G,J),J!==null&&e.update(J,n.ELEMENT_ARRAY_BUFFER),(ge||a)&&(a=!1,w(A,N,G,X),J!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(J).buffer))}function l(){return n.createVertexArray()}function c(A){return n.bindVertexArray(A)}function u(A){return n.deleteVertexArray(A)}function h(A,N,G){let X=G.wireframe===!0,J=i[A.id];J===void 0&&(J={},i[A.id]=J);let ge=J[N.id];ge===void 0&&(ge={},J[N.id]=ge);let te=ge[X];return te===void 0&&(te=d(l()),ge[X]=te),te}function d(A){let N=[],G=[],X=[];for(let J=0;J<t;J++)N[J]=0,G[J]=0,X[J]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:G,attributeDivisors:X,object:A,attributes:{},index:null}}function m(A,N,G,X){let J=s.attributes,ge=N.attributes,te=0,pe=G.getAttributes();for(let re in pe)if(pe[re].location>=0){let qe=J[re],je=ge[re];if(je===void 0&&(re==="instanceMatrix"&&A.instanceMatrix&&(je=A.instanceMatrix),re==="instanceColor"&&A.instanceColor&&(je=A.instanceColor)),qe===void 0||qe.attribute!==je||je&&qe.data!==je.data)return!0;te++}return s.attributesNum!==te||s.index!==X}function v(A,N,G,X){let J={},ge=N.attributes,te=0,pe=G.getAttributes();for(let re in pe)if(pe[re].location>=0){let qe=ge[re];qe===void 0&&(re==="instanceMatrix"&&A.instanceMatrix&&(qe=A.instanceMatrix),re==="instanceColor"&&A.instanceColor&&(qe=A.instanceColor));let je={};je.attribute=qe,qe&&qe.data&&(je.data=qe.data),J[re]=je,te++}s.attributes=J,s.attributesNum=te,s.index=X}function _(){let A=s.newAttributes;for(let N=0,G=A.length;N<G;N++)A[N]=0}function g(A){y(A,0)}function y(A,N){let G=s.newAttributes,X=s.enabledAttributes,J=s.attributeDivisors;G[A]=1,X[A]===0&&(n.enableVertexAttribArray(A),X[A]=1),J[A]!==N&&(n.vertexAttribDivisor(A,N),J[A]=N)}function b(){let A=s.newAttributes,N=s.enabledAttributes;for(let G=0,X=N.length;G<X;G++)N[G]!==A[G]&&(n.disableVertexAttribArray(G),N[G]=0)}function E(A,N,G,X,J,ge,te){te===!0?n.vertexAttribIPointer(A,N,G,J,ge):n.vertexAttribPointer(A,N,G,X,J,ge)}function w(A,N,G,X){_();let J=X.attributes,ge=G.getAttributes(),te=N.defaultAttributeValues;for(let pe in ge){let re=ge[pe];if(re.location>=0){let ne=J[pe];if(ne===void 0&&(pe==="instanceMatrix"&&A.instanceMatrix&&(ne=A.instanceMatrix),pe==="instanceColor"&&A.instanceColor&&(ne=A.instanceColor)),ne!==void 0){let qe=ne.normalized,je=ne.itemSize,et=e.get(ne);if(et===void 0)continue;let Ot=et.buffer,Me=et.type,Ne=et.bytesPerElement,Ve=Me===n.INT||Me===n.UNSIGNED_INT||ne.gpuType===GR;if(ne.isInterleavedBufferAttribute){let ze=ne.data,Ke=ze.stride,gt=ne.offset;if(ze.isInstancedInterleavedBuffer){for(let Rt=0;Rt<re.locationSize;Rt++)y(re.location+Rt,ze.meshPerAttribute);A.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=ze.meshPerAttribute*ze.count)}else for(let Rt=0;Rt<re.locationSize;Rt++)g(re.location+Rt);n.bindBuffer(n.ARRAY_BUFFER,Ot);for(let Rt=0;Rt<re.locationSize;Rt++)E(re.location+Rt,je/re.locationSize,Me,qe,Ke*Ne,(gt+je/re.locationSize*Rt)*Ne,Ve)}else{if(ne.isInstancedBufferAttribute){for(let ze=0;ze<re.locationSize;ze++)y(re.location+ze,ne.meshPerAttribute);A.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let ze=0;ze<re.locationSize;ze++)g(re.location+ze);n.bindBuffer(n.ARRAY_BUFFER,Ot);for(let ze=0;ze<re.locationSize;ze++)E(re.location+ze,je/re.locationSize,Me,qe,je*Ne,je/re.locationSize*ze*Ne,Ve)}}else if(te!==void 0){let qe=te[pe];if(qe!==void 0)switch(qe.length){case 2:n.vertexAttrib2fv(re.location,qe);break;case 3:n.vertexAttrib3fv(re.location,qe);break;case 4:n.vertexAttrib4fv(re.location,qe);break;default:n.vertexAttrib1fv(re.location,qe)}}}}b()}function D(){R();for(let A in i){let N=i[A];for(let G in N){let X=N[G];for(let J in X)u(X[J].object),delete X[J];delete N[G]}delete i[A]}}function P(A){if(i[A.id]===void 0)return;let N=i[A.id];for(let G in N){let X=N[G];for(let J in X)u(X[J].object),delete X[J];delete N[G]}delete i[A.id]}function M(A){for(let N in i){let G=i[N];if(G[A.id]===void 0)continue;let X=G[A.id];for(let J in X)u(X[J].object),delete X[J];delete G[A.id]}}function R(){I(),a=!0,s!==r&&(s=r,c(s.object))}function I(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:R,resetDefaultState:I,dispose:D,releaseStatesOfGeometry:P,releaseStatesOfProgram:M,initAttributes:_,enableAttribute:g,disableUnusedAttributes:b}}function eW(n,e,t){let i;function r(c){i=c}function s(c,u){n.drawArrays(i,c,u),t.update(u,i,1)}function a(c,u,h){h!==0&&(n.drawArraysInstanced(i,c,u,h),t.update(u,i,h))}function o(c,u,h){if(h===0)return;let d=e.get("WEBGL_multi_draw");if(d===null)for(let m=0;m<h;m++)this.render(c[m],u[m]);else{d.multiDrawArraysWEBGL(i,c,0,u,0,h);let m=0;for(let v=0;v<h;v++)m+=u[v];t.update(m,i,1)}}function l(c,u,h,d){if(h===0)return;let m=e.get("WEBGL_multi_draw");if(m===null)for(let v=0;v<c.length;v++)a(c[v],u[v],d[v]);else{m.multiDrawArraysInstancedWEBGL(i,c,0,u,0,d,0,h);let v=0;for(let _=0;_<h;_++)v+=u[_];for(let _=0;_<d.length;_++)t.update(v,i,d[_])}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function tW(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){let P=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(P){return!(P!==Ws&&i.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(P){let M=P===ey&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==el&&i.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==ga&&!M)}function l(P){if(P==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp",u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);let h=t.logarithmicDepthBuffer===!0,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_TEXTURE_SIZE),_=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),g=n.getParameter(n.MAX_VERTEX_ATTRIBS),y=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),b=n.getParameter(n.MAX_VARYING_VECTORS),E=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),w=m>0,D=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:h,maxTextures:d,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:_,maxAttributes:g,maxVertexUniforms:y,maxVaryings:b,maxFragmentUniforms:E,vertexTextures:w,maxSamples:D}}function iW(n){let e=this,t=null,i=0,r=!1,s=!1,a=new Hs,o=new ti,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,d){let m=h.length!==0||d||i!==0||r;return r=d,i=h.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,d){t=u(h,d,0)},this.setState=function(h,d,m){let v=h.clippingPlanes,_=h.clipIntersection,g=h.clipShadows,y=n.get(h);if(!r||v===null||v.length===0||s&&!g)s?u(null):c();else{let b=s?0:i,E=b*4,w=y.clippingState||null;l.value=w,w=u(v,d,E,m);for(let D=0;D!==E;++D)w[D]=t[D];y.clippingState=w,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(h,d,m,v){let _=h!==null?h.length:0,g=null;if(_!==0){if(g=l.value,v!==!0||g===null){let y=m+_*4,b=d.matrixWorldInverse;o.getNormalMatrix(b),(g===null||g.length<y)&&(g=new Float32Array(y));for(let E=0,w=m;E!==_;++E,w+=4)a.copy(h[E]).applyMatrix4(b,o),a.normal.toArray(g,w),g[w+3]=a.constant}l.value=g,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,g}}function nW(n){let e=new WeakMap;function t(a,o){return o===od?a.mapping=eh:o===EE&&(a.mapping=th),a}function i(a){if(a&&a.isTexture){let o=a.mapping;if(o===od||o===EE)if(e.has(a)){let l=e.get(a).texture;return t(l,a.mapping)}else{let l=a.image;if(l&&l.height>0){let c=new CE(l.height);return c.fromEquirectangularTexture(n,a),e.set(a,c),a.addEventListener("dispose",r),t(c.texture,a.mapping)}else return null}}return a}function r(a){let o=a.target;o.removeEventListener("dispose",r);let l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}var il=class extends Og{constructor(e=-1,t=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2,s=i-e,a=i+e,o=r+t,l=r-t;if(this.view!==null&&this.view.enabled){let c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}},Yu=4,eR=[.125,.215,.35,.446,.526,.582],mc=20,cE=new il,tR=new Vt,uE=null,hE=0,fE=0,dE=!1,dc=(1+Math.sqrt(5))/2,Gu=1/dc,iR=[new ae(-dc,Gu,0),new ae(dc,Gu,0),new ae(-Gu,0,dc),new ae(Gu,0,dc),new ae(0,dc,-Gu),new ae(0,dc,Gu),new ae(-1,1,-1),new ae(1,1,-1),new ae(-1,1,1),new ae(1,1,1)],ch=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){uE=this._renderer.getRenderTarget(),hE=this._renderer.getActiveCubeFace(),fE=this._renderer.getActiveMipmapLevel(),dE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);let s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=sR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=rR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(uE,hE,fE),this._renderer.xr.enabled=dE,e.scissorTest=!1,pg(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===eh||e.mapping===th?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),uE=this._renderer.getRenderTarget(),hE=this._renderer.getActiveCubeFace(),fE=this._renderer.getActiveMipmapLevel(),dE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;let i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Dr,minFilter:Dr,generateMipmaps:!1,type:ey,format:Ws,colorSpace:Cn,depthBuffer:!1},r=nR(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=nR(e,t,i);let{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=rW(s)),this._blurMaterial=sW(s,e,t)}return r}_compileMaterial(e){let t=new Mn(this._lodPlanes[0],e);this._renderer.compile(t,cE)}_sceneToCubeUV(e,t,i,r){let o=new mn(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,d=u.toneMapping;u.getClearColor(tR),u.toneMapping=Qo,u.autoClear=!1;let m=new _a({name:"PMREM.Background",side:Lr,depthWrite:!1,depthTest:!1}),v=new Mn(new ud,m),_=!1,g=e.background;g?g.isColor&&(m.color.copy(g),e.background=null,_=!0):(m.color.copy(tR),_=!0);for(let y=0;y<6;y++){let b=y%3;b===0?(o.up.set(0,l[y],0),o.lookAt(c[y],0,0)):b===1?(o.up.set(0,0,l[y]),o.lookAt(0,c[y],0)):(o.up.set(0,l[y],0),o.lookAt(0,0,c[y]));let E=this._cubeSize;pg(r,b*E,y>2?E:0,E,E),u.setRenderTarget(r),_&&u.render(v,o),u.render(e,o)}v.geometry.dispose(),v.material.dispose(),u.toneMapping=d,u.autoClear=h,e.background=g}_textureToCubeUV(e,t){let i=this._renderer,r=e.mapping===eh||e.mapping===th;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=sR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=rR());let s=r?this._cubemapMaterial:this._equirectMaterial,a=new Mn(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;let l=this._cubeSize;pg(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(a,cE)}_applyPMREM(e){let t=this._renderer,i=t.autoClear;t.autoClear=!1;let r=this._lodPlanes.length;for(let s=1;s<r;s++){let a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=iR[(r-s-1)%iR.length];this._blur(e,s-1,s,a,o)}t.autoClear=i}_blur(e,t,i,r,s){let a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,a,o){let l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let u=3,h=new Mn(this._lodPlanes[r],c),d=c.uniforms,m=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*mc-1),_=s/v,g=isFinite(s)?1+Math.floor(u*_):mc;g>mc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${mc}`);let y=[],b=0;for(let M=0;M<mc;++M){let R=M/_,I=Math.exp(-R*R/2);y.push(I),M===0?b+=I:M<g&&(b+=2*I)}for(let M=0;M<y.length;M++)y[M]=y[M]/b;d.envMap.value=e.texture,d.samples.value=g,d.weights.value=y,d.latitudinal.value=a==="latitudinal",o&&(d.poleAxis.value=o);let{_lodMax:E}=this;d.dTheta.value=v,d.mipInt.value=E-i;let w=this._sizeLods[r],D=3*w*(r>E-Yu?r-E+Yu:0),P=4*(this._cubeSize-w);pg(t,D,P,3*w,2*w),l.setRenderTarget(t),l.render(h,cE)}};function rW(n){let e=[],t=[],i=[],r=n,s=n-Yu+1+eR.length;for(let a=0;a<s;a++){let o=Math.pow(2,r);t.push(o);let l=1/o;a>n-Yu?l=eR[a-n+Yu-1]:a===0&&(l=0),i.push(l);let c=1/(o-2),u=-c,h=1+c,d=[u,u,h,u,h,h,u,u,h,h,u,h],m=6,v=6,_=3,g=2,y=1,b=new Float32Array(_*v*m),E=new Float32Array(g*v*m),w=new Float32Array(y*v*m);for(let P=0;P<m;P++){let M=P%3*2/3-1,R=P>2?0:-1,I=[M,R,0,M+2/3,R,0,M+2/3,R+1,0,M,R,0,M+2/3,R+1,0,M,R+1,0];b.set(I,_*v*P),E.set(d,g*v*P);let A=[P,P,P,P,P,P];w.set(A,y*v*P)}let D=new Kn;D.setAttribute("position",new gn(b,_)),D.setAttribute("uv",new gn(E,g)),D.setAttribute("faceIndex",new gn(w,y)),e.push(D),r>Yu&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function nR(n,e,t){let i=new Or(n,e,t);return i.texture.mapping=Qg,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function pg(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function sW(n,e,t){let i=new Float32Array(mc),r=new ae(0,1,0);return new Xs({name:"SphericalGaussianBlur",defines:{n:mc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:aS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Zo,depthTest:!1,depthWrite:!1})}function rR(){return new Xs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:aS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Zo,depthTest:!1,depthWrite:!1})}function sR(){return new Xs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:aS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Zo,depthTest:!1,depthWrite:!1})}function aS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function aW(n){let e=new WeakMap,t=null;function i(o){if(o&&o.isTexture){let l=o.mapping,c=l===od||l===EE,u=l===eh||l===th;if(c||u){let h=e.get(o),d=h!==void 0?h.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==d)return t===null&&(t=new ch(n)),h=c?t.fromEquirectangular(o,h):t.fromCubemap(o,h),h.texture.pmremVersion=o.pmremVersion,e.set(o,h),h.texture;if(h!==void 0)return h.texture;{let m=o.image;return c&&m&&m.height>0||u&&m&&r(m)?(t===null&&(t=new ch(n)),h=c?t.fromEquirectangular(o):t.fromCubemap(o),h.texture.pmremVersion=o.pmremVersion,e.set(o,h),o.addEventListener("dispose",s),h.texture):null}}}return o}function r(o){let l=0,c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function s(o){let l=o.target;l.removeEventListener("dispose",s);let c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:a}}function oW(n){let e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){let r=t(i);return r===null&&sS("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function lW(n,e,t,i){let r={},s=new WeakMap;function a(h){let d=h.target;d.index!==null&&e.remove(d.index);for(let v in d.attributes)e.remove(d.attributes[v]);for(let v in d.morphAttributes){let _=d.morphAttributes[v];for(let g=0,y=_.length;g<y;g++)e.remove(_[g])}d.removeEventListener("dispose",a),delete r[d.id];let m=s.get(d);m&&(e.remove(m),s.delete(d)),i.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function o(h,d){return r[d.id]===!0||(d.addEventListener("dispose",a),r[d.id]=!0,t.memory.geometries++),d}function l(h){let d=h.attributes;for(let v in d)e.update(d[v],n.ARRAY_BUFFER);let m=h.morphAttributes;for(let v in m){let _=m[v];for(let g=0,y=_.length;g<y;g++)e.update(_[g],n.ARRAY_BUFFER)}}function c(h){let d=[],m=h.index,v=h.attributes.position,_=0;if(m!==null){let b=m.array;_=m.version;for(let E=0,w=b.length;E<w;E+=3){let D=b[E+0],P=b[E+1],M=b[E+2];d.push(D,P,P,M,M,D)}}else if(v!==void 0){let b=v.array;_=v.version;for(let E=0,w=b.length/3-1;E<w;E+=3){let D=E+0,P=E+1,M=E+2;d.push(D,P,P,M,M,D)}}else return;let g=new(QR(d)?Lg:Rg)(d,1);g.version=_;let y=s.get(h);y&&e.remove(y),s.set(h,g)}function u(h){let d=s.get(h);if(d){let m=h.index;m!==null&&d.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:o,update:l,getWireframeAttribute:u}}function cW(n,e,t){let i;function r(d){i=d}let s,a;function o(d){s=d.type,a=d.bytesPerElement}function l(d,m){n.drawElements(i,m,s,d*a),t.update(m,i,1)}function c(d,m,v){v!==0&&(n.drawElementsInstanced(i,m,s,d*a,v),t.update(m,i,v))}function u(d,m,v){if(v===0)return;let _=e.get("WEBGL_multi_draw");if(_===null)for(let g=0;g<v;g++)this.render(d[g]/a,m[g]);else{_.multiDrawElementsWEBGL(i,m,0,s,d,0,v);let g=0;for(let y=0;y<v;y++)g+=m[y];t.update(g,i,1)}}function h(d,m,v,_){if(v===0)return;let g=e.get("WEBGL_multi_draw");if(g===null)for(let y=0;y<d.length;y++)c(d[y]/a,m[y],_[y]);else{g.multiDrawElementsInstancedWEBGL(i,m,0,s,d,0,_,0,v);let y=0;for(let b=0;b<v;b++)y+=m[b];for(let b=0;b<_.length;b++)t.update(y,i,_[b])}}this.setMode=r,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function uW(n){let e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,o){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function hW(n,e,t){let i=new WeakMap,r=new Wi;function s(a,o,l){let c=a.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,h=u!==void 0?u.length:0,d=i.get(o);if(d===void 0||d.count!==h){let I=function(){M.dispose(),i.delete(o),o.removeEventListener("dispose",I)};d!==void 0&&d.texture.dispose();let m=o.morphAttributes.position!==void 0,v=o.morphAttributes.normal!==void 0,_=o.morphAttributes.color!==void 0,g=o.morphAttributes.position||[],y=o.morphAttributes.normal||[],b=o.morphAttributes.color||[],E=0;m===!0&&(E=1),v===!0&&(E=2),_===!0&&(E=3);let w=o.attributes.position.count*E,D=1;w>e.maxTextureSize&&(D=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);let P=new Float32Array(w*D*4*h),M=new Ig(P,w,D,h);M.type=ga,M.needsUpdate=!0;let R=E*4;for(let A=0;A<h;A++){let N=g[A],G=y[A],X=b[A],J=w*D*4*A;for(let ge=0;ge<N.count;ge++){let te=ge*R;m===!0&&(r.fromBufferAttribute(N,ge),P[J+te+0]=r.x,P[J+te+1]=r.y,P[J+te+2]=r.z,P[J+te+3]=0),v===!0&&(r.fromBufferAttribute(G,ge),P[J+te+4]=r.x,P[J+te+5]=r.y,P[J+te+6]=r.z,P[J+te+7]=0),_===!0&&(r.fromBufferAttribute(X,ge),P[J+te+8]=r.x,P[J+te+9]=r.y,P[J+te+10]=r.z,P[J+te+11]=X.itemSize===4?r.w:1)}}d={count:h,texture:M,size:new Bt(w,D)},i.set(o,d),o.addEventListener("dispose",I)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",a.morphTexture,t);else{let m=0;for(let _=0;_<c.length;_++)m+=c[_];let v=o.morphTargetsRelative?1:1-m;l.getUniforms().setValue(n,"morphTargetBaseInfluence",v),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",d.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",d.size)}return{update:s}}function fW(n,e,t,i){let r=new WeakMap;function s(l){let c=i.render.frame,u=l.geometry,h=e.get(l,u);if(r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){let d=l.skeleton;r.get(d)!==c&&(d.update(),r.set(d,c))}return h}function a(){r=new WeakMap}function o(l){let c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:a}}var kg=class extends Gn{constructor(e,t,i,r,s,a,o,l,c,u=Ju){if(u!==Ju&&u!==rh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===Ju&&(i=ih),i===void 0&&u===rh&&(i=nh),super(null,r,s,a,o,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:xn,this.minFilter=l!==void 0?l:xn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){let t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}},nL=new Gn,rL=new kg(1,1);rL.compareFunction=ZR;var sL=new Ig,aL=new AE,oL=new Ng,aR=[],oR=[],lR=new Float32Array(16),cR=new Float32Array(9),uR=new Float32Array(4);function _h(n,e,t){let i=n[0];if(i<=0||i>0)return n;let r=e*t,s=aR[r];if(s===void 0&&(s=new Float32Array(r),aR[r]=s),e!==0){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function Fn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Bn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function ry(n,e){let t=oR[e];t===void 0&&(t=new Int32Array(e),oR[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function dW(n,e){let t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function pW(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fn(t,e))return;n.uniform2fv(this.addr,e),Bn(t,e)}}function mW(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Fn(t,e))return;n.uniform3fv(this.addr,e),Bn(t,e)}}function gW(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fn(t,e))return;n.uniform4fv(this.addr,e),Bn(t,e)}}function yW(n,e){let t=this.cache,i=e.elements;if(i===void 0){if(Fn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Bn(t,e)}else{if(Fn(t,i))return;uR.set(i),n.uniformMatrix2fv(this.addr,!1,uR),Bn(t,i)}}function vW(n,e){let t=this.cache,i=e.elements;if(i===void 0){if(Fn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Bn(t,e)}else{if(Fn(t,i))return;cR.set(i),n.uniformMatrix3fv(this.addr,!1,cR),Bn(t,i)}}function _W(n,e){let t=this.cache,i=e.elements;if(i===void 0){if(Fn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Bn(t,e)}else{if(Fn(t,i))return;lR.set(i),n.uniformMatrix4fv(this.addr,!1,lR),Bn(t,i)}}function xW(n,e){let t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function bW(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fn(t,e))return;n.uniform2iv(this.addr,e),Bn(t,e)}}function EW(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Fn(t,e))return;n.uniform3iv(this.addr,e),Bn(t,e)}}function SW(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fn(t,e))return;n.uniform4iv(this.addr,e),Bn(t,e)}}function TW(n,e){let t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function wW(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fn(t,e))return;n.uniform2uiv(this.addr,e),Bn(t,e)}}function AW(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Fn(t,e))return;n.uniform3uiv(this.addr,e),Bn(t,e)}}function MW(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fn(t,e))return;n.uniform4uiv(this.addr,e),Bn(t,e)}}function CW(n,e,t){let i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s=this.type===n.SAMPLER_2D_SHADOW?rL:nL;t.setTexture2D(e||s,r)}function PW(n,e,t){let i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||aL,r)}function IW(n,e,t){let i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||oL,r)}function DW(n,e,t){let i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||sL,r)}function RW(n){switch(n){case 5126:return dW;case 35664:return pW;case 35665:return mW;case 35666:return gW;case 35674:return yW;case 35675:return vW;case 35676:return _W;case 5124:case 35670:return xW;case 35667:case 35671:return bW;case 35668:case 35672:return EW;case 35669:case 35673:return SW;case 5125:return TW;case 36294:return wW;case 36295:return AW;case 36296:return MW;case 35678:case 36198:case 36298:case 36306:case 35682:return CW;case 35679:case 36299:case 36307:return PW;case 35680:case 36300:case 36308:case 36293:return IW;case 36289:case 36303:case 36311:case 36292:return DW}}function LW(n,e){n.uniform1fv(this.addr,e)}function OW(n,e){let t=_h(e,this.size,2);n.uniform2fv(this.addr,t)}function NW(n,e){let t=_h(e,this.size,3);n.uniform3fv(this.addr,t)}function kW(n,e){let t=_h(e,this.size,4);n.uniform4fv(this.addr,t)}function FW(n,e){let t=_h(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function BW(n,e){let t=_h(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function UW(n,e){let t=_h(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function zW(n,e){n.uniform1iv(this.addr,e)}function VW(n,e){n.uniform2iv(this.addr,e)}function HW(n,e){n.uniform3iv(this.addr,e)}function GW(n,e){n.uniform4iv(this.addr,e)}function $W(n,e){n.uniform1uiv(this.addr,e)}function WW(n,e){n.uniform2uiv(this.addr,e)}function qW(n,e){n.uniform3uiv(this.addr,e)}function jW(n,e){n.uniform4uiv(this.addr,e)}function XW(n,e,t){let i=this.cache,r=e.length,s=ry(t,r);Fn(i,s)||(n.uniform1iv(this.addr,s),Bn(i,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||nL,s[a])}function YW(n,e,t){let i=this.cache,r=e.length,s=ry(t,r);Fn(i,s)||(n.uniform1iv(this.addr,s),Bn(i,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||aL,s[a])}function KW(n,e,t){let i=this.cache,r=e.length,s=ry(t,r);Fn(i,s)||(n.uniform1iv(this.addr,s),Bn(i,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||oL,s[a])}function JW(n,e,t){let i=this.cache,r=e.length,s=ry(t,r);Fn(i,s)||(n.uniform1iv(this.addr,s),Bn(i,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||sL,s[a])}function ZW(n){switch(n){case 5126:return LW;case 35664:return OW;case 35665:return NW;case 35666:return kW;case 35674:return FW;case 35675:return BW;case 35676:return UW;case 5124:case 35670:return zW;case 35667:case 35671:return VW;case 35668:case 35672:return HW;case 35669:case 35673:return GW;case 5125:return $W;case 36294:return WW;case 36295:return qW;case 36296:return jW;case 35678:case 36198:case 36298:case 36306:case 35682:return XW;case 35679:case 36299:case 36307:return YW;case 35680:case 36300:case 36308:case 36293:return KW;case 36289:case 36303:case 36311:case 36292:return JW}}var PE=class{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=RW(t.type)}},IE=class{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=ZW(t.type)}},DE=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){let r=this.seq;for(let s=0,a=r.length;s!==a;++s){let o=r[s];o.setValue(e,t[o.id],i)}}},pE=/(\w+)(\])?(\[|\.)?/g;function hR(n,e){n.seq.push(e),n.map[e.id]=e}function QW(n,e,t){let i=n.name,r=i.length;for(pE.lastIndex=0;;){let s=pE.exec(i),a=pE.lastIndex,o=s[1],l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===r){hR(t,c===void 0?new PE(o,n,e):new IE(o,n,e));break}else{let h=t.map[o];h===void 0&&(h=new DE(o),hR(t,h)),t=h}}}var Qu=class{constructor(e,t){this.seq=[],this.map={};let i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){let s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);QW(s,a,this)}}setValue(e,t,i,r){let s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){let r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,a=t.length;s!==a;++s){let o=t[s],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,r)}}static seqWithValue(e,t){let i=[];for(let r=0,s=e.length;r!==s;++r){let a=e[r];a.id in t&&i.push(a)}return i}};function fR(n,e,t){let i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}var e9=37297,t9=0;function i9(n,e){let t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){let o=a+1;i.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return i.join(`
`)}function n9(n){let e=wi.getPrimaries(wi.workingColorSpace),t=wi.getPrimaries(n),i;switch(e===t?i="":e===Mg&&t===Ag?i="LinearDisplayP3ToLinearSRGB":e===Ag&&t===Mg&&(i="LinearSRGBToLinearDisplayP3"),n){case Cn:case iy:return[i,"LinearTransferOETF"];case ln:case nS:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[i,"LinearTransferOETF"]}}function dR(n,e,t){let i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";let s=/ERROR: 0:(\d+)/.exec(r);if(s){let a=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+i9(n.getShaderSource(e),a)}else return r}function r9(n,e){let t=n9(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function s9(n,e){let t;switch(e){case rG:t="Linear";break;case sG:t="Reinhard";break;case aG:t="OptimizedCineon";break;case oG:t="ACESFilmic";break;case eS:t="AgX";break;case cG:t="Neutral";break;case lG:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function a9(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(id).join(`
`)}function o9(n){let e=[];for(let t in n){let i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function l9(n,e){let t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){let s=n.getActiveAttrib(e,r),a=s.name,o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}function id(n){return n!==""}function pR(n,e){let t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function mR(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var c9=/^[ \t]*#include +<([\w\d./]+)>/gm;function RE(n){return n.replace(c9,h9)}var u9=new Map;function h9(n,e){let t=ei[e];if(t===void 0){let i=u9.get(e);if(i!==void 0)t=ei[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return RE(t)}var f9=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function gR(n){return n.replace(f9,d9)}function d9(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function yR(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function p9(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===zR?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===vd?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Qa&&(e="SHADOWMAP_TYPE_VSM"),e}function m9(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case eh:case th:e="ENVMAP_TYPE_CUBE";break;case Qg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function g9(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case th:e="ENVMAP_MODE_REFRACTION";break}return e}function y9(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case VR:e="ENVMAP_BLENDING_MULTIPLY";break;case iG:e="ENVMAP_BLENDING_MIX";break;case nG:e="ENVMAP_BLENDING_ADD";break}return e}function v9(n){let e=n.envMapCubeUVHeight;if(e===null)return null;let t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function _9(n,e,t,i){let r=n.getContext(),s=t.defines,a=t.vertexShader,o=t.fragmentShader,l=p9(t),c=m9(t),u=g9(t),h=y9(t),d=v9(t),m=a9(t),v=o9(s),_=r.createProgram(),g,y,b=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(id).join(`
`),g.length>0&&(g+=`
`),y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(id).join(`
`),y.length>0&&(y+=`
`)):(g=[yR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(id).join(`
`),y=[yR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Qo?"#define TONE_MAPPING":"",t.toneMapping!==Qo?ei.tonemapping_pars_fragment:"",t.toneMapping!==Qo?s9("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ei.colorspace_pars_fragment,r9("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(id).join(`
`)),a=RE(a),a=pR(a,t),a=mR(a,t),o=RE(o),o=pR(o,t),o=mR(o,t),a=gR(a),o=gR(o),t.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,g=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,y=["#define varying in",t.glslVersion===LD?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===LD?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);let E=b+g+a,w=b+y+o,D=fR(r,r.VERTEX_SHADER,E),P=fR(r,r.FRAGMENT_SHADER,w);r.attachShader(_,D),r.attachShader(_,P),t.index0AttributeName!==void 0?r.bindAttribLocation(_,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(_,0,"position"),r.linkProgram(_);function M(N){if(n.debug.checkShaderErrors){let G=r.getProgramInfoLog(_).trim(),X=r.getShaderInfoLog(D).trim(),J=r.getShaderInfoLog(P).trim(),ge=!0,te=!0;if(r.getProgramParameter(_,r.LINK_STATUS)===!1)if(ge=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,_,D,P);else{let pe=dR(r,D,"vertex"),re=dR(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(_,r.VALIDATE_STATUS)+`

Material Name: `+N.name+`
Material Type: `+N.type+`

Program Info Log: `+G+`
`+pe+`
`+re)}else G!==""?console.warn("THREE.WebGLProgram: Program Info Log:",G):(X===""||J==="")&&(te=!1);te&&(N.diagnostics={runnable:ge,programLog:G,vertexShader:{log:X,prefix:g},fragmentShader:{log:J,prefix:y}})}r.deleteShader(D),r.deleteShader(P),R=new Qu(r,_),I=l9(r,_)}let R;this.getUniforms=function(){return R===void 0&&M(this),R};let I;this.getAttributes=function(){return I===void 0&&M(this),I};let A=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return A===!1&&(A=r.getProgramParameter(_,e9)),A},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(_),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=t9++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=D,this.fragmentShader=P,this}var x9=0,LE=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache,i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){let t=this.shaderCache,i=t.get(e);return i===void 0&&(i=new OE(e),t.set(e,i)),i}},OE=class{constructor(e){this.id=x9++,this.code=e,this.usedTimes=0}};function b9(n,e,t,i,r,s,a){let o=new Dg,l=new LE,c=new Set,u=[],h=r.logarithmicDepthBuffer,d=r.vertexTextures,m=r.precision,v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(I){return c.add(I),I===0?"uv":`uv${I}`}function g(I,A,N,G,X){let J=G.fog,ge=X.geometry,te=I.isMeshStandardMaterial?G.environment:null,pe=(I.isMeshStandardMaterial?t:e).get(I.envMap||te),re=pe&&pe.mapping===Qg?pe.image.height:null,ne=v[I.type];I.precision!==null&&(m=r.getMaxPrecision(I.precision),m!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",m,"instead."));let qe=ge.morphAttributes.position||ge.morphAttributes.normal||ge.morphAttributes.color,je=qe!==void 0?qe.length:0,et=0;ge.morphAttributes.position!==void 0&&(et=1),ge.morphAttributes.normal!==void 0&&(et=2),ge.morphAttributes.color!==void 0&&(et=3);let Ot,Me,Ne,Ve;if(ne){let $t=pa[ne];Ot=$t.vertexShader,Me=$t.fragmentShader}else Ot=I.vertexShader,Me=I.fragmentShader,l.update(I),Ne=l.getVertexShaderID(I),Ve=l.getFragmentShaderID(I);let ze=n.getRenderTarget(),Ke=X.isInstancedMesh===!0,gt=X.isBatchedMesh===!0,Rt=!!I.map,ie=!!I.matcap,Pt=!!pe,K=!!I.aoMap,ee=!!I.lightMap,fe=!!I.bumpMap,Te=!!I.normalMap,Ae=!!I.displacementMap,Pe=!!I.emissiveMap,$e=!!I.metalnessMap,V=!!I.roughnessMap,F=I.anisotropy>0,Q=I.clearcoat>0,be=I.dispersion>0,ye=I.iridescence>0,Ee=I.sheen>0,We=I.transmission>0,q=F&&!!I.anisotropyMap,$=Q&&!!I.clearcoatMap,U=Q&&!!I.clearcoatNormalMap,O=Q&&!!I.clearcoatRoughnessMap,Y=ye&&!!I.iridescenceMap,se=ye&&!!I.iridescenceThicknessMap,ue=Ee&&!!I.sheenColorMap,Se=Ee&&!!I.sheenRoughnessMap,Ge=!!I.specularMap,Ie=!!I.specularColorMap,Be=!!I.specularIntensityMap,L=We&&!!I.transmissionMap,ce=We&&!!I.thicknessMap,le=!!I.gradientMap,_e=!!I.alphaMap,Fe=I.alphaTest>0,pt=!!I.alphaHash,Tt=!!I.extensions,qt=Qo;I.toneMapped&&(ze===null||ze.isXRRenderTarget===!0)&&(qt=n.toneMapping);let yi={shaderID:ne,shaderType:I.type,shaderName:I.name,vertexShader:Ot,fragmentShader:Me,defines:I.defines,customVertexShaderID:Ne,customFragmentShaderID:Ve,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:m,batching:gt,batchingColor:gt&&X._colorsTexture!==null,instancing:Ke,instancingColor:Ke&&X.instanceColor!==null,instancingMorph:Ke&&X.morphTexture!==null,supportsVertexTextures:d,outputColorSpace:ze===null?n.outputColorSpace:ze.isXRRenderTarget===!0?ze.texture.colorSpace:Cn,alphaToCoverage:!!I.alphaToCoverage,map:Rt,matcap:ie,envMap:Pt,envMapMode:Pt&&pe.mapping,envMapCubeUVHeight:re,aoMap:K,lightMap:ee,bumpMap:fe,normalMap:Te,displacementMap:d&&Ae,emissiveMap:Pe,normalMapObjectSpace:Te&&I.normalMapType===AG,normalMapTangentSpace:Te&&I.normalMapType===JR,metalnessMap:$e,roughnessMap:V,anisotropy:F,anisotropyMap:q,clearcoat:Q,clearcoatMap:$,clearcoatNormalMap:U,clearcoatRoughnessMap:O,dispersion:be,iridescence:ye,iridescenceMap:Y,iridescenceThicknessMap:se,sheen:Ee,sheenColorMap:ue,sheenRoughnessMap:Se,specularMap:Ge,specularColorMap:Ie,specularIntensityMap:Be,transmission:We,transmissionMap:L,thicknessMap:ce,gradientMap:le,opaque:I.transparent===!1&&I.blending===Ku&&I.alphaToCoverage===!1,alphaMap:_e,alphaTest:Fe,alphaHash:pt,combine:I.combine,mapUv:Rt&&_(I.map.channel),aoMapUv:K&&_(I.aoMap.channel),lightMapUv:ee&&_(I.lightMap.channel),bumpMapUv:fe&&_(I.bumpMap.channel),normalMapUv:Te&&_(I.normalMap.channel),displacementMapUv:Ae&&_(I.displacementMap.channel),emissiveMapUv:Pe&&_(I.emissiveMap.channel),metalnessMapUv:$e&&_(I.metalnessMap.channel),roughnessMapUv:V&&_(I.roughnessMap.channel),anisotropyMapUv:q&&_(I.anisotropyMap.channel),clearcoatMapUv:$&&_(I.clearcoatMap.channel),clearcoatNormalMapUv:U&&_(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:O&&_(I.clearcoatRoughnessMap.channel),iridescenceMapUv:Y&&_(I.iridescenceMap.channel),iridescenceThicknessMapUv:se&&_(I.iridescenceThicknessMap.channel),sheenColorMapUv:ue&&_(I.sheenColorMap.channel),sheenRoughnessMapUv:Se&&_(I.sheenRoughnessMap.channel),specularMapUv:Ge&&_(I.specularMap.channel),specularColorMapUv:Ie&&_(I.specularColorMap.channel),specularIntensityMapUv:Be&&_(I.specularIntensityMap.channel),transmissionMapUv:L&&_(I.transmissionMap.channel),thicknessMapUv:ce&&_(I.thicknessMap.channel),alphaMapUv:_e&&_(I.alphaMap.channel),vertexTangents:!!ge.attributes.tangent&&(Te||F),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!ge.attributes.color&&ge.attributes.color.itemSize===4,pointsUvs:X.isPoints===!0&&!!ge.attributes.uv&&(Rt||_e),fog:!!J,useFog:I.fog===!0,fogExp2:!!J&&J.isFogExp2,flatShading:I.flatShading===!0,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:X.isSkinnedMesh===!0,morphTargets:ge.morphAttributes.position!==void 0,morphNormals:ge.morphAttributes.normal!==void 0,morphColors:ge.morphAttributes.color!==void 0,morphTargetsCount:je,morphTextureStride:et,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numLightProbes:A.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:I.dithering,shadowMapEnabled:n.shadowMap.enabled&&N.length>0,shadowMapType:n.shadowMap.type,toneMapping:qt,decodeVideoTexture:Rt&&I.map.isVideoTexture===!0&&wi.getTransfer(I.map.colorSpace)===Ki,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===Gs,flipSided:I.side===Lr,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:Tt&&I.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:Tt&&I.extensions.multiDraw===!0&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return yi.vertexUv1s=c.has(1),yi.vertexUv2s=c.has(2),yi.vertexUv3s=c.has(3),c.clear(),yi}function y(I){let A=[];if(I.shaderID?A.push(I.shaderID):(A.push(I.customVertexShaderID),A.push(I.customFragmentShaderID)),I.defines!==void 0)for(let N in I.defines)A.push(N),A.push(I.defines[N]);return I.isRawShaderMaterial===!1&&(b(A,I),E(A,I),A.push(n.outputColorSpace)),A.push(I.customProgramCacheKey),A.join()}function b(I,A){I.push(A.precision),I.push(A.outputColorSpace),I.push(A.envMapMode),I.push(A.envMapCubeUVHeight),I.push(A.mapUv),I.push(A.alphaMapUv),I.push(A.lightMapUv),I.push(A.aoMapUv),I.push(A.bumpMapUv),I.push(A.normalMapUv),I.push(A.displacementMapUv),I.push(A.emissiveMapUv),I.push(A.metalnessMapUv),I.push(A.roughnessMapUv),I.push(A.anisotropyMapUv),I.push(A.clearcoatMapUv),I.push(A.clearcoatNormalMapUv),I.push(A.clearcoatRoughnessMapUv),I.push(A.iridescenceMapUv),I.push(A.iridescenceThicknessMapUv),I.push(A.sheenColorMapUv),I.push(A.sheenRoughnessMapUv),I.push(A.specularMapUv),I.push(A.specularColorMapUv),I.push(A.specularIntensityMapUv),I.push(A.transmissionMapUv),I.push(A.thicknessMapUv),I.push(A.combine),I.push(A.fogExp2),I.push(A.sizeAttenuation),I.push(A.morphTargetsCount),I.push(A.morphAttributeCount),I.push(A.numDirLights),I.push(A.numPointLights),I.push(A.numSpotLights),I.push(A.numSpotLightMaps),I.push(A.numHemiLights),I.push(A.numRectAreaLights),I.push(A.numDirLightShadows),I.push(A.numPointLightShadows),I.push(A.numSpotLightShadows),I.push(A.numSpotLightShadowsWithMaps),I.push(A.numLightProbes),I.push(A.shadowMapType),I.push(A.toneMapping),I.push(A.numClippingPlanes),I.push(A.numClipIntersection),I.push(A.depthPacking)}function E(I,A){o.disableAll(),A.supportsVertexTextures&&o.enable(0),A.instancing&&o.enable(1),A.instancingColor&&o.enable(2),A.instancingMorph&&o.enable(3),A.matcap&&o.enable(4),A.envMap&&o.enable(5),A.normalMapObjectSpace&&o.enable(6),A.normalMapTangentSpace&&o.enable(7),A.clearcoat&&o.enable(8),A.iridescence&&o.enable(9),A.alphaTest&&o.enable(10),A.vertexColors&&o.enable(11),A.vertexAlphas&&o.enable(12),A.vertexUv1s&&o.enable(13),A.vertexUv2s&&o.enable(14),A.vertexUv3s&&o.enable(15),A.vertexTangents&&o.enable(16),A.anisotropy&&o.enable(17),A.alphaHash&&o.enable(18),A.batching&&o.enable(19),A.dispersion&&o.enable(20),A.batchingColor&&o.enable(21),I.push(o.mask),o.disableAll(),A.fog&&o.enable(0),A.useFog&&o.enable(1),A.flatShading&&o.enable(2),A.logarithmicDepthBuffer&&o.enable(3),A.skinning&&o.enable(4),A.morphTargets&&o.enable(5),A.morphNormals&&o.enable(6),A.morphColors&&o.enable(7),A.premultipliedAlpha&&o.enable(8),A.shadowMapEnabled&&o.enable(9),A.doubleSided&&o.enable(10),A.flipSided&&o.enable(11),A.useDepthPacking&&o.enable(12),A.dithering&&o.enable(13),A.transmission&&o.enable(14),A.sheen&&o.enable(15),A.opaque&&o.enable(16),A.pointsUvs&&o.enable(17),A.decodeVideoTexture&&o.enable(18),A.alphaToCoverage&&o.enable(19),I.push(o.mask)}function w(I){let A=v[I.type],N;if(A){let G=pa[A];N=f8.clone(G.uniforms)}else N=I.uniforms;return N}function D(I,A){let N;for(let G=0,X=u.length;G<X;G++){let J=u[G];if(J.cacheKey===A){N=J,++N.usedTimes;break}}return N===void 0&&(N=new _9(n,A,I,s),u.push(N)),N}function P(I){if(--I.usedTimes===0){let A=u.indexOf(I);u[A]=u[u.length-1],u.pop(),I.destroy()}}function M(I){l.remove(I)}function R(){l.dispose()}return{getParameters:g,getProgramCacheKey:y,getUniforms:w,acquireProgram:D,releaseProgram:P,releaseShaderCache:M,programs:u,dispose:R}}function E9(){let n=new WeakMap;function e(s){let a=n.get(s);return a===void 0&&(a={},n.set(s,a)),a}function t(s){n.delete(s)}function i(s,a,o){n.get(s)[a]=o}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function S9(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function vR(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function _R(){let n=[],e=0,t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function a(h,d,m,v,_,g){let y=n[e];return y===void 0?(y={id:h.id,object:h,geometry:d,material:m,groupOrder:v,renderOrder:h.renderOrder,z:_,group:g},n[e]=y):(y.id=h.id,y.object=h,y.geometry=d,y.material=m,y.groupOrder=v,y.renderOrder=h.renderOrder,y.z=_,y.group=g),e++,y}function o(h,d,m,v,_,g){let y=a(h,d,m,v,_,g);m.transmission>0?i.push(y):m.transparent===!0?r.push(y):t.push(y)}function l(h,d,m,v,_,g){let y=a(h,d,m,v,_,g);m.transmission>0?i.unshift(y):m.transparent===!0?r.unshift(y):t.unshift(y)}function c(h,d){t.length>1&&t.sort(h||S9),i.length>1&&i.sort(d||vR),r.length>1&&r.sort(d||vR)}function u(){for(let h=e,d=n.length;h<d;h++){let m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:o,unshift:l,finish:u,sort:c}}function T9(){let n=new WeakMap;function e(i,r){let s=n.get(i),a;return s===void 0?(a=new _R,n.set(i,[a])):r>=s.length?(a=new _R,s.push(a)):a=s[r],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function w9(){let n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ae,color:new Vt};break;case"SpotLight":t={position:new ae,direction:new ae,color:new Vt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ae,color:new Vt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ae,skyColor:new Vt,groundColor:new Vt};break;case"RectAreaLight":t={color:new Vt,position:new ae,halfWidth:new ae,halfHeight:new ae};break}return n[e.id]=t,t}}}function A9(){let n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Bt};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Bt};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Bt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}var M9=0;function C9(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function P9(n){let e=new w9,t=A9(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new ae);let r=new ae,s=new ii,a=new ii;function o(c){let u=0,h=0,d=0;for(let I=0;I<9;I++)i.probe[I].set(0,0,0);let m=0,v=0,_=0,g=0,y=0,b=0,E=0,w=0,D=0,P=0,M=0;c.sort(C9);for(let I=0,A=c.length;I<A;I++){let N=c[I],G=N.color,X=N.intensity,J=N.distance,ge=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)u+=G.r*X,h+=G.g*X,d+=G.b*X;else if(N.isLightProbe){for(let te=0;te<9;te++)i.probe[te].addScaledVector(N.sh.coefficients[te],X);M++}else if(N.isDirectionalLight){let te=e.get(N);if(te.color.copy(N.color).multiplyScalar(N.intensity),N.castShadow){let pe=N.shadow,re=t.get(N);re.shadowBias=pe.bias,re.shadowNormalBias=pe.normalBias,re.shadowRadius=pe.radius,re.shadowMapSize=pe.mapSize,i.directionalShadow[m]=re,i.directionalShadowMap[m]=ge,i.directionalShadowMatrix[m]=N.shadow.matrix,b++}i.directional[m]=te,m++}else if(N.isSpotLight){let te=e.get(N);te.position.setFromMatrixPosition(N.matrixWorld),te.color.copy(G).multiplyScalar(X),te.distance=J,te.coneCos=Math.cos(N.angle),te.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),te.decay=N.decay,i.spot[_]=te;let pe=N.shadow;if(N.map&&(i.spotLightMap[D]=N.map,D++,pe.updateMatrices(N),N.castShadow&&P++),i.spotLightMatrix[_]=pe.matrix,N.castShadow){let re=t.get(N);re.shadowBias=pe.bias,re.shadowNormalBias=pe.normalBias,re.shadowRadius=pe.radius,re.shadowMapSize=pe.mapSize,i.spotShadow[_]=re,i.spotShadowMap[_]=ge,w++}_++}else if(N.isRectAreaLight){let te=e.get(N);te.color.copy(G).multiplyScalar(X),te.halfWidth.set(N.width*.5,0,0),te.halfHeight.set(0,N.height*.5,0),i.rectArea[g]=te,g++}else if(N.isPointLight){let te=e.get(N);if(te.color.copy(N.color).multiplyScalar(N.intensity),te.distance=N.distance,te.decay=N.decay,N.castShadow){let pe=N.shadow,re=t.get(N);re.shadowBias=pe.bias,re.shadowNormalBias=pe.normalBias,re.shadowRadius=pe.radius,re.shadowMapSize=pe.mapSize,re.shadowCameraNear=pe.camera.near,re.shadowCameraFar=pe.camera.far,i.pointShadow[v]=re,i.pointShadowMap[v]=ge,i.pointShadowMatrix[v]=N.shadow.matrix,E++}i.point[v]=te,v++}else if(N.isHemisphereLight){let te=e.get(N);te.skyColor.copy(N.color).multiplyScalar(X),te.groundColor.copy(N.groundColor).multiplyScalar(X),i.hemi[y]=te,y++}}g>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=it.LTC_FLOAT_1,i.rectAreaLTC2=it.LTC_FLOAT_2):(i.rectAreaLTC1=it.LTC_HALF_1,i.rectAreaLTC2=it.LTC_HALF_2)),i.ambient[0]=u,i.ambient[1]=h,i.ambient[2]=d;let R=i.hash;(R.directionalLength!==m||R.pointLength!==v||R.spotLength!==_||R.rectAreaLength!==g||R.hemiLength!==y||R.numDirectionalShadows!==b||R.numPointShadows!==E||R.numSpotShadows!==w||R.numSpotMaps!==D||R.numLightProbes!==M)&&(i.directional.length=m,i.spot.length=_,i.rectArea.length=g,i.point.length=v,i.hemi.length=y,i.directionalShadow.length=b,i.directionalShadowMap.length=b,i.pointShadow.length=E,i.pointShadowMap.length=E,i.spotShadow.length=w,i.spotShadowMap.length=w,i.directionalShadowMatrix.length=b,i.pointShadowMatrix.length=E,i.spotLightMatrix.length=w+D-P,i.spotLightMap.length=D,i.numSpotLightShadowsWithMaps=P,i.numLightProbes=M,R.directionalLength=m,R.pointLength=v,R.spotLength=_,R.rectAreaLength=g,R.hemiLength=y,R.numDirectionalShadows=b,R.numPointShadows=E,R.numSpotShadows=w,R.numSpotMaps=D,R.numLightProbes=M,i.version=M9++)}function l(c,u){let h=0,d=0,m=0,v=0,_=0,g=u.matrixWorldInverse;for(let y=0,b=c.length;y<b;y++){let E=c[y];if(E.isDirectionalLight){let w=i.directional[h];w.direction.setFromMatrixPosition(E.matrixWorld),r.setFromMatrixPosition(E.target.matrixWorld),w.direction.sub(r),w.direction.transformDirection(g),h++}else if(E.isSpotLight){let w=i.spot[m];w.position.setFromMatrixPosition(E.matrixWorld),w.position.applyMatrix4(g),w.direction.setFromMatrixPosition(E.matrixWorld),r.setFromMatrixPosition(E.target.matrixWorld),w.direction.sub(r),w.direction.transformDirection(g),m++}else if(E.isRectAreaLight){let w=i.rectArea[v];w.position.setFromMatrixPosition(E.matrixWorld),w.position.applyMatrix4(g),a.identity(),s.copy(E.matrixWorld),s.premultiply(g),a.extractRotation(s),w.halfWidth.set(E.width*.5,0,0),w.halfHeight.set(0,E.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),v++}else if(E.isPointLight){let w=i.point[d];w.position.setFromMatrixPosition(E.matrixWorld),w.position.applyMatrix4(g),d++}else if(E.isHemisphereLight){let w=i.hemi[_];w.direction.setFromMatrixPosition(E.matrixWorld),w.direction.transformDirection(g),_++}}}return{setup:o,setupView:l,state:i}}function xR(n){let e=new P9(n),t=[],i=[];function r(u){c.camera=u,t.length=0,i.length=0}function s(u){t.push(u)}function a(u){i.push(u)}function o(){e.setup(t)}function l(u){e.setupView(t,u)}let c={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function I9(n){let e=new WeakMap;function t(r,s=0){let a=e.get(r),o;return a===void 0?(o=new xR(n),e.set(r,[o])):s>=a.length?(o=new xR(n),a.push(o)):o=a[s],o}function i(){e=new WeakMap}return{get:t,dispose:i}}var NE=class extends Yr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=TG,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},kE=class extends Yr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}},D9=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,R9=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function L9(n,e,t){let i=new hd,r=new Bt,s=new Bt,a=new Wi,o=new NE({depthPacking:wG}),l=new kE,c={},u=t.maxTextureSize,h={[ya]:Lr,[Lr]:ya,[Gs]:Gs},d=new Xs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Bt},radius:{value:4}},vertexShader:D9,fragmentShader:R9}),m=d.clone();m.defines.HORIZONTAL_PASS=1;let v=new Kn;v.setAttribute("position",new gn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let _=new Mn(v,d),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=zR;let y=this.type;this.render=function(P,M,R){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||P.length===0)return;let I=n.getRenderTarget(),A=n.getActiveCubeFace(),N=n.getActiveMipmapLevel(),G=n.state;G.setBlending(Zo),G.buffers.color.setClear(1,1,1,1),G.buffers.depth.setTest(!0),G.setScissorTest(!1);let X=y!==Qa&&this.type===Qa,J=y===Qa&&this.type!==Qa;for(let ge=0,te=P.length;ge<te;ge++){let pe=P[ge],re=pe.shadow;if(re===void 0){console.warn("THREE.WebGLShadowMap:",pe,"has no shadow.");continue}if(re.autoUpdate===!1&&re.needsUpdate===!1)continue;r.copy(re.mapSize);let ne=re.getFrameExtents();if(r.multiply(ne),s.copy(re.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/ne.x),r.x=s.x*ne.x,re.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/ne.y),r.y=s.y*ne.y,re.mapSize.y=s.y)),re.map===null||X===!0||J===!0){let je=this.type!==Qa?{minFilter:xn,magFilter:xn}:{};re.map!==null&&re.map.dispose(),re.map=new Or(r.x,r.y,je),re.map.texture.name=pe.name+".shadowMap",re.camera.updateProjectionMatrix()}n.setRenderTarget(re.map),n.clear();let qe=re.getViewportCount();for(let je=0;je<qe;je++){let et=re.getViewport(je);a.set(s.x*et.x,s.y*et.y,s.x*et.z,s.y*et.w),G.viewport(a),re.updateMatrices(pe,je),i=re.getFrustum(),w(M,R,re.camera,pe,this.type)}re.isPointLightShadow!==!0&&this.type===Qa&&b(re,R),re.needsUpdate=!1}y=this.type,g.needsUpdate=!1,n.setRenderTarget(I,A,N)};function b(P,M){let R=e.update(_);d.defines.VSM_SAMPLES!==P.blurSamples&&(d.defines.VSM_SAMPLES=P.blurSamples,m.defines.VSM_SAMPLES=P.blurSamples,d.needsUpdate=!0,m.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new Or(r.x,r.y)),d.uniforms.shadow_pass.value=P.map.texture,d.uniforms.resolution.value=P.mapSize,d.uniforms.radius.value=P.radius,n.setRenderTarget(P.mapPass),n.clear(),n.renderBufferDirect(M,null,R,d,_,null),m.uniforms.shadow_pass.value=P.mapPass.texture,m.uniforms.resolution.value=P.mapSize,m.uniforms.radius.value=P.radius,n.setRenderTarget(P.map),n.clear(),n.renderBufferDirect(M,null,R,m,_,null)}function E(P,M,R,I){let A=null,N=R.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(N!==void 0)A=N;else if(A=R.isPointLight===!0?l:o,n.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){let G=A.uuid,X=M.uuid,J=c[G];J===void 0&&(J={},c[G]=J);let ge=J[X];ge===void 0&&(ge=A.clone(),J[X]=ge,M.addEventListener("dispose",D)),A=ge}if(A.visible=M.visible,A.wireframe=M.wireframe,I===Qa?A.side=M.shadowSide!==null?M.shadowSide:M.side:A.side=M.shadowSide!==null?M.shadowSide:h[M.side],A.alphaMap=M.alphaMap,A.alphaTest=M.alphaTest,A.map=M.map,A.clipShadows=M.clipShadows,A.clippingPlanes=M.clippingPlanes,A.clipIntersection=M.clipIntersection,A.displacementMap=M.displacementMap,A.displacementScale=M.displacementScale,A.displacementBias=M.displacementBias,A.wireframeLinewidth=M.wireframeLinewidth,A.linewidth=M.linewidth,R.isPointLight===!0&&A.isMeshDistanceMaterial===!0){let G=n.properties.get(A);G.light=R}return A}function w(P,M,R,I,A){if(P.visible===!1)return;if(P.layers.test(M.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&A===Qa)&&(!P.frustumCulled||i.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,P.matrixWorld);let X=e.update(P),J=P.material;if(Array.isArray(J)){let ge=X.groups;for(let te=0,pe=ge.length;te<pe;te++){let re=ge[te],ne=J[re.materialIndex];if(ne&&ne.visible){let qe=E(P,ne,I,A);P.onBeforeShadow(n,P,M,R,X,qe,re),n.renderBufferDirect(R,null,X,qe,P,re),P.onAfterShadow(n,P,M,R,X,qe,re)}}}else if(J.visible){let ge=E(P,J,I,A);P.onBeforeShadow(n,P,M,R,X,ge,null),n.renderBufferDirect(R,null,X,ge,P,null),P.onAfterShadow(n,P,M,R,X,ge,null)}}let G=P.children;for(let X=0,J=G.length;X<J;X++)w(G[X],M,R,I,A)}function D(P){P.target.removeEventListener("dispose",D);for(let R in c){let I=c[R],A=P.target.uuid;A in I&&(I[A].dispose(),delete I[A])}}}function O9(n){function e(){let L=!1,ce=new Wi,le=null,_e=new Wi(0,0,0,0);return{setMask:function(Fe){le!==Fe&&!L&&(n.colorMask(Fe,Fe,Fe,Fe),le=Fe)},setLocked:function(Fe){L=Fe},setClear:function(Fe,pt,Tt,qt,yi){yi===!0&&(Fe*=qt,pt*=qt,Tt*=qt),ce.set(Fe,pt,Tt,qt),_e.equals(ce)===!1&&(n.clearColor(Fe,pt,Tt,qt),_e.copy(ce))},reset:function(){L=!1,le=null,_e.set(-1,0,0,0)}}}function t(){let L=!1,ce=null,le=null,_e=null;return{setTest:function(Fe){Fe?Ve(n.DEPTH_TEST):ze(n.DEPTH_TEST)},setMask:function(Fe){ce!==Fe&&!L&&(n.depthMask(Fe),ce=Fe)},setFunc:function(Fe){if(le!==Fe){switch(Fe){case YH:n.depthFunc(n.NEVER);break;case KH:n.depthFunc(n.ALWAYS);break;case JH:n.depthFunc(n.LESS);break;case Eg:n.depthFunc(n.LEQUAL);break;case ZH:n.depthFunc(n.EQUAL);break;case QH:n.depthFunc(n.GEQUAL);break;case eG:n.depthFunc(n.GREATER);break;case tG:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}le=Fe}},setLocked:function(Fe){L=Fe},setClear:function(Fe){_e!==Fe&&(n.clearDepth(Fe),_e=Fe)},reset:function(){L=!1,ce=null,le=null,_e=null}}}function i(){let L=!1,ce=null,le=null,_e=null,Fe=null,pt=null,Tt=null,qt=null,yi=null;return{setTest:function($t){L||($t?Ve(n.STENCIL_TEST):ze(n.STENCIL_TEST))},setMask:function($t){ce!==$t&&!L&&(n.stencilMask($t),ce=$t)},setFunc:function($t,Xt,Mi){(le!==$t||_e!==Xt||Fe!==Mi)&&(n.stencilFunc($t,Xt,Mi),le=$t,_e=Xt,Fe=Mi)},setOp:function($t,Xt,Mi){(pt!==$t||Tt!==Xt||qt!==Mi)&&(n.stencilOp($t,Xt,Mi),pt=$t,Tt=Xt,qt=Mi)},setLocked:function($t){L=$t},setClear:function($t){yi!==$t&&(n.clearStencil($t),yi=$t)},reset:function(){L=!1,ce=null,le=null,_e=null,Fe=null,pt=null,Tt=null,qt=null,yi=null}}}let r=new e,s=new t,a=new i,o=new WeakMap,l=new WeakMap,c={},u={},h=new WeakMap,d=[],m=null,v=!1,_=null,g=null,y=null,b=null,E=null,w=null,D=null,P=new Vt(0,0,0),M=0,R=!1,I=null,A=null,N=null,G=null,X=null,J=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS),ge=!1,te=0,pe=n.getParameter(n.VERSION);pe.indexOf("WebGL")!==-1?(te=parseFloat(/^WebGL (\d)/.exec(pe)[1]),ge=te>=1):pe.indexOf("OpenGL ES")!==-1&&(te=parseFloat(/^OpenGL ES (\d)/.exec(pe)[1]),ge=te>=2);let re=null,ne={},qe=n.getParameter(n.SCISSOR_BOX),je=n.getParameter(n.VIEWPORT),et=new Wi().fromArray(qe),Ot=new Wi().fromArray(je);function Me(L,ce,le,_e){let Fe=new Uint8Array(4),pt=n.createTexture();n.bindTexture(L,pt),n.texParameteri(L,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(L,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Tt=0;Tt<le;Tt++)L===n.TEXTURE_3D||L===n.TEXTURE_2D_ARRAY?n.texImage3D(ce,0,n.RGBA,1,1,_e,0,n.RGBA,n.UNSIGNED_BYTE,Fe):n.texImage2D(ce+Tt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Fe);return pt}let Ne={};Ne[n.TEXTURE_2D]=Me(n.TEXTURE_2D,n.TEXTURE_2D,1),Ne[n.TEXTURE_CUBE_MAP]=Me(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ne[n.TEXTURE_2D_ARRAY]=Me(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ne[n.TEXTURE_3D]=Me(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),s.setClear(1),a.setClear(0),Ve(n.DEPTH_TEST),s.setFunc(Eg),fe(!1),Te(tD),Ve(n.CULL_FACE),K(Zo);function Ve(L){c[L]!==!0&&(n.enable(L),c[L]=!0)}function ze(L){c[L]!==!1&&(n.disable(L),c[L]=!1)}function Ke(L,ce){return u[L]!==ce?(n.bindFramebuffer(L,ce),u[L]=ce,L===n.DRAW_FRAMEBUFFER&&(u[n.FRAMEBUFFER]=ce),L===n.FRAMEBUFFER&&(u[n.DRAW_FRAMEBUFFER]=ce),!0):!1}function gt(L,ce){let le=d,_e=!1;if(L){le=h.get(ce),le===void 0&&(le=[],h.set(ce,le));let Fe=L.textures;if(le.length!==Fe.length||le[0]!==n.COLOR_ATTACHMENT0){for(let pt=0,Tt=Fe.length;pt<Tt;pt++)le[pt]=n.COLOR_ATTACHMENT0+pt;le.length=Fe.length,_e=!0}}else le[0]!==n.BACK&&(le[0]=n.BACK,_e=!0);_e&&n.drawBuffers(le)}function Rt(L){return m!==L?(n.useProgram(L),m=L,!0):!1}let ie={[pc]:n.FUNC_ADD,[RH]:n.FUNC_SUBTRACT,[LH]:n.FUNC_REVERSE_SUBTRACT};ie[OH]=n.MIN,ie[NH]=n.MAX;let Pt={[kH]:n.ZERO,[FH]:n.ONE,[BH]:n.SRC_COLOR,[xE]:n.SRC_ALPHA,[$H]:n.SRC_ALPHA_SATURATE,[HH]:n.DST_COLOR,[zH]:n.DST_ALPHA,[UH]:n.ONE_MINUS_SRC_COLOR,[bE]:n.ONE_MINUS_SRC_ALPHA,[GH]:n.ONE_MINUS_DST_COLOR,[VH]:n.ONE_MINUS_DST_ALPHA,[WH]:n.CONSTANT_COLOR,[qH]:n.ONE_MINUS_CONSTANT_COLOR,[jH]:n.CONSTANT_ALPHA,[XH]:n.ONE_MINUS_CONSTANT_ALPHA};function K(L,ce,le,_e,Fe,pt,Tt,qt,yi,$t){if(L===Zo){v===!0&&(ze(n.BLEND),v=!1);return}if(v===!1&&(Ve(n.BLEND),v=!0),L!==DH){if(L!==_||$t!==R){if((g!==pc||E!==pc)&&(n.blendEquation(n.FUNC_ADD),g=pc,E=pc),$t)switch(L){case Ku:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case iD:n.blendFunc(n.ONE,n.ONE);break;case nD:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case rD:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",L);break}else switch(L){case Ku:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case iD:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case nD:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case rD:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",L);break}y=null,b=null,w=null,D=null,P.set(0,0,0),M=0,_=L,R=$t}return}Fe=Fe||ce,pt=pt||le,Tt=Tt||_e,(ce!==g||Fe!==E)&&(n.blendEquationSeparate(ie[ce],ie[Fe]),g=ce,E=Fe),(le!==y||_e!==b||pt!==w||Tt!==D)&&(n.blendFuncSeparate(Pt[le],Pt[_e],Pt[pt],Pt[Tt]),y=le,b=_e,w=pt,D=Tt),(qt.equals(P)===!1||yi!==M)&&(n.blendColor(qt.r,qt.g,qt.b,yi),P.copy(qt),M=yi),_=L,R=!1}function ee(L,ce){L.side===Gs?ze(n.CULL_FACE):Ve(n.CULL_FACE);let le=L.side===Lr;ce&&(le=!le),fe(le),L.blending===Ku&&L.transparent===!1?K(Zo):K(L.blending,L.blendEquation,L.blendSrc,L.blendDst,L.blendEquationAlpha,L.blendSrcAlpha,L.blendDstAlpha,L.blendColor,L.blendAlpha,L.premultipliedAlpha),s.setFunc(L.depthFunc),s.setTest(L.depthTest),s.setMask(L.depthWrite),r.setMask(L.colorWrite);let _e=L.stencilWrite;a.setTest(_e),_e&&(a.setMask(L.stencilWriteMask),a.setFunc(L.stencilFunc,L.stencilRef,L.stencilFuncMask),a.setOp(L.stencilFail,L.stencilZFail,L.stencilZPass)),Pe(L.polygonOffset,L.polygonOffsetFactor,L.polygonOffsetUnits),L.alphaToCoverage===!0?Ve(n.SAMPLE_ALPHA_TO_COVERAGE):ze(n.SAMPLE_ALPHA_TO_COVERAGE)}function fe(L){I!==L&&(L?n.frontFace(n.CW):n.frontFace(n.CCW),I=L)}function Te(L){L!==PH?(Ve(n.CULL_FACE),L!==A&&(L===tD?n.cullFace(n.BACK):L===IH?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ze(n.CULL_FACE),A=L}function Ae(L){L!==N&&(ge&&n.lineWidth(L),N=L)}function Pe(L,ce,le){L?(Ve(n.POLYGON_OFFSET_FILL),(G!==ce||X!==le)&&(n.polygonOffset(ce,le),G=ce,X=le)):ze(n.POLYGON_OFFSET_FILL)}function $e(L){L?Ve(n.SCISSOR_TEST):ze(n.SCISSOR_TEST)}function V(L){L===void 0&&(L=n.TEXTURE0+J-1),re!==L&&(n.activeTexture(L),re=L)}function F(L,ce,le){le===void 0&&(re===null?le=n.TEXTURE0+J-1:le=re);let _e=ne[le];_e===void 0&&(_e={type:void 0,texture:void 0},ne[le]=_e),(_e.type!==L||_e.texture!==ce)&&(re!==le&&(n.activeTexture(le),re=le),n.bindTexture(L,ce||Ne[L]),_e.type=L,_e.texture=ce)}function Q(){let L=ne[re];L!==void 0&&L.type!==void 0&&(n.bindTexture(L.type,null),L.type=void 0,L.texture=void 0)}function be(){try{n.compressedTexImage2D.apply(n,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function ye(){try{n.compressedTexImage3D.apply(n,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function Ee(){try{n.texSubImage2D.apply(n,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function We(){try{n.texSubImage3D.apply(n,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function q(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function $(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function U(){try{n.texStorage2D.apply(n,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function O(){try{n.texStorage3D.apply(n,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function Y(){try{n.texImage2D.apply(n,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function se(){try{n.texImage3D.apply(n,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function ue(L){et.equals(L)===!1&&(n.scissor(L.x,L.y,L.z,L.w),et.copy(L))}function Se(L){Ot.equals(L)===!1&&(n.viewport(L.x,L.y,L.z,L.w),Ot.copy(L))}function Ge(L,ce){let le=l.get(ce);le===void 0&&(le=new WeakMap,l.set(ce,le));let _e=le.get(L);_e===void 0&&(_e=n.getUniformBlockIndex(ce,L.name),le.set(L,_e))}function Ie(L,ce){let _e=l.get(ce).get(L);o.get(ce)!==_e&&(n.uniformBlockBinding(ce,_e,L.__bindingPointIndex),o.set(ce,_e))}function Be(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),c={},re=null,ne={},u={},h=new WeakMap,d=[],m=null,v=!1,_=null,g=null,y=null,b=null,E=null,w=null,D=null,P=new Vt(0,0,0),M=0,R=!1,I=null,A=null,N=null,G=null,X=null,et.set(0,0,n.canvas.width,n.canvas.height),Ot.set(0,0,n.canvas.width,n.canvas.height),r.reset(),s.reset(),a.reset()}return{buffers:{color:r,depth:s,stencil:a},enable:Ve,disable:ze,bindFramebuffer:Ke,drawBuffers:gt,useProgram:Rt,setBlending:K,setMaterial:ee,setFlipSided:fe,setCullFace:Te,setLineWidth:Ae,setPolygonOffset:Pe,setScissorTest:$e,activeTexture:V,bindTexture:F,unbindTexture:Q,compressedTexImage2D:be,compressedTexImage3D:ye,texImage2D:Y,texImage3D:se,updateUBOMapping:Ge,uniformBlockBinding:Ie,texStorage2D:U,texStorage3D:O,texSubImage2D:Ee,texSubImage3D:We,compressedTexSubImage2D:q,compressedTexSubImage3D:$,scissor:ue,viewport:Se,reset:Be}}function N9(n,e,t,i,r,s,a){let o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator=="undefined"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Bt,u=new WeakMap,h,d=new WeakMap,m=!1;try{m=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(V){}function v(V,F){return m?new OffscreenCanvas(V,F):cd("canvas")}function _(V,F,Q){let be=1,ye=$e(V);if((ye.width>Q||ye.height>Q)&&(be=Q/Math.max(ye.width,ye.height)),be<1)if(typeof HTMLImageElement!="undefined"&&V instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&V instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&V instanceof ImageBitmap||typeof VideoFrame!="undefined"&&V instanceof VideoFrame){let Ee=Math.floor(be*ye.width),We=Math.floor(be*ye.height);h===void 0&&(h=v(Ee,We));let q=F?v(Ee,We):h;return q.width=Ee,q.height=We,q.getContext("2d").drawImage(V,0,0,Ee,We),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ye.width+"x"+ye.height+") to ("+Ee+"x"+We+")."),q}else return"data"in V&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ye.width+"x"+ye.height+")."),V;return V}function g(V){return V.generateMipmaps&&V.minFilter!==xn&&V.minFilter!==Dr}function y(V){n.generateMipmap(V)}function b(V,F,Q,be,ye=!1){if(V!==null){if(n[V]!==void 0)return n[V];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+V+"'")}let Ee=F;if(F===n.RED&&(Q===n.FLOAT&&(Ee=n.R32F),Q===n.HALF_FLOAT&&(Ee=n.R16F),Q===n.UNSIGNED_BYTE&&(Ee=n.R8)),F===n.RED_INTEGER&&(Q===n.UNSIGNED_BYTE&&(Ee=n.R8UI),Q===n.UNSIGNED_SHORT&&(Ee=n.R16UI),Q===n.UNSIGNED_INT&&(Ee=n.R32UI),Q===n.BYTE&&(Ee=n.R8I),Q===n.SHORT&&(Ee=n.R16I),Q===n.INT&&(Ee=n.R32I)),F===n.RG&&(Q===n.FLOAT&&(Ee=n.RG32F),Q===n.HALF_FLOAT&&(Ee=n.RG16F),Q===n.UNSIGNED_BYTE&&(Ee=n.RG8)),F===n.RG_INTEGER&&(Q===n.UNSIGNED_BYTE&&(Ee=n.RG8UI),Q===n.UNSIGNED_SHORT&&(Ee=n.RG16UI),Q===n.UNSIGNED_INT&&(Ee=n.RG32UI),Q===n.BYTE&&(Ee=n.RG8I),Q===n.SHORT&&(Ee=n.RG16I),Q===n.INT&&(Ee=n.RG32I)),F===n.RGB&&Q===n.UNSIGNED_INT_5_9_9_9_REV&&(Ee=n.RGB9_E5),F===n.RGBA){let We=ye?wg:wi.getTransfer(be);Q===n.FLOAT&&(Ee=n.RGBA32F),Q===n.HALF_FLOAT&&(Ee=n.RGBA16F),Q===n.UNSIGNED_BYTE&&(Ee=We===Ki?n.SRGB8_ALPHA8:n.RGBA8),Q===n.UNSIGNED_SHORT_4_4_4_4&&(Ee=n.RGBA4),Q===n.UNSIGNED_SHORT_5_5_5_1&&(Ee=n.RGB5_A1)}return(Ee===n.R16F||Ee===n.R32F||Ee===n.RG16F||Ee===n.RG32F||Ee===n.RGBA16F||Ee===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ee}function E(V,F){let Q;return V?F===null||F===ih||F===nh?Q=n.DEPTH24_STENCIL8:F===ga?Q=n.DEPTH32F_STENCIL8:F===Sg&&(Q=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):F===null||F===ih||F===nh?Q=n.DEPTH_COMPONENT24:F===ga?Q=n.DEPTH_COMPONENT32F:F===Sg&&(Q=n.DEPTH_COMPONENT16),Q}function w(V,F){return g(V)===!0||V.isFramebufferTexture&&V.minFilter!==xn&&V.minFilter!==Dr?Math.log2(Math.max(F.width,F.height))+1:V.mipmaps!==void 0&&V.mipmaps.length>0?V.mipmaps.length:V.isCompressedTexture&&Array.isArray(V.image)?F.mipmaps.length:1}function D(V){let F=V.target;F.removeEventListener("dispose",D),M(F),F.isVideoTexture&&u.delete(F)}function P(V){let F=V.target;F.removeEventListener("dispose",P),I(F)}function M(V){let F=i.get(V);if(F.__webglInit===void 0)return;let Q=V.source,be=d.get(Q);if(be){let ye=be[F.__cacheKey];ye.usedTimes--,ye.usedTimes===0&&R(V),Object.keys(be).length===0&&d.delete(Q)}i.remove(V)}function R(V){let F=i.get(V);n.deleteTexture(F.__webglTexture);let Q=V.source,be=d.get(Q);delete be[F.__cacheKey],a.memory.textures--}function I(V){let F=i.get(V);if(V.depthTexture&&V.depthTexture.dispose(),V.isWebGLCubeRenderTarget)for(let be=0;be<6;be++){if(Array.isArray(F.__webglFramebuffer[be]))for(let ye=0;ye<F.__webglFramebuffer[be].length;ye++)n.deleteFramebuffer(F.__webglFramebuffer[be][ye]);else n.deleteFramebuffer(F.__webglFramebuffer[be]);F.__webglDepthbuffer&&n.deleteRenderbuffer(F.__webglDepthbuffer[be])}else{if(Array.isArray(F.__webglFramebuffer))for(let be=0;be<F.__webglFramebuffer.length;be++)n.deleteFramebuffer(F.__webglFramebuffer[be]);else n.deleteFramebuffer(F.__webglFramebuffer);if(F.__webglDepthbuffer&&n.deleteRenderbuffer(F.__webglDepthbuffer),F.__webglMultisampledFramebuffer&&n.deleteFramebuffer(F.__webglMultisampledFramebuffer),F.__webglColorRenderbuffer)for(let be=0;be<F.__webglColorRenderbuffer.length;be++)F.__webglColorRenderbuffer[be]&&n.deleteRenderbuffer(F.__webglColorRenderbuffer[be]);F.__webglDepthRenderbuffer&&n.deleteRenderbuffer(F.__webglDepthRenderbuffer)}let Q=V.textures;for(let be=0,ye=Q.length;be<ye;be++){let Ee=i.get(Q[be]);Ee.__webglTexture&&(n.deleteTexture(Ee.__webglTexture),a.memory.textures--),i.remove(Q[be])}i.remove(V)}let A=0;function N(){A=0}function G(){let V=A;return V>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+V+" texture units while this GPU supports only "+r.maxTextures),A+=1,V}function X(V){let F=[];return F.push(V.wrapS),F.push(V.wrapT),F.push(V.wrapR||0),F.push(V.magFilter),F.push(V.minFilter),F.push(V.anisotropy),F.push(V.internalFormat),F.push(V.format),F.push(V.type),F.push(V.generateMipmaps),F.push(V.premultiplyAlpha),F.push(V.flipY),F.push(V.unpackAlignment),F.push(V.colorSpace),F.join()}function J(V,F){let Q=i.get(V);if(V.isVideoTexture&&Ae(V),V.isRenderTargetTexture===!1&&V.version>0&&Q.__version!==V.version){let be=V.image;if(be===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(be.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ot(Q,V,F);return}}t.bindTexture(n.TEXTURE_2D,Q.__webglTexture,n.TEXTURE0+F)}function ge(V,F){let Q=i.get(V);if(V.version>0&&Q.__version!==V.version){Ot(Q,V,F);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Q.__webglTexture,n.TEXTURE0+F)}function te(V,F){let Q=i.get(V);if(V.version>0&&Q.__version!==V.version){Ot(Q,V,F);return}t.bindTexture(n.TEXTURE_3D,Q.__webglTexture,n.TEXTURE0+F)}function pe(V,F){let Q=i.get(V);if(V.version>0&&Q.__version!==V.version){Me(Q,V,F);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Q.__webglTexture,n.TEXTURE0+F)}let re={[io]:n.REPEAT,[eo]:n.CLAMP_TO_EDGE,[ld]:n.MIRRORED_REPEAT},ne={[xn]:n.NEAREST,[tS]:n.NEAREST_MIPMAP_NEAREST,[Wu]:n.NEAREST_MIPMAP_LINEAR,[Dr]:n.LINEAR,[nd]:n.LINEAR_MIPMAP_NEAREST,[ma]:n.LINEAR_MIPMAP_LINEAR},qe={[MG]:n.NEVER,[LG]:n.ALWAYS,[CG]:n.LESS,[ZR]:n.LEQUAL,[PG]:n.EQUAL,[RG]:n.GEQUAL,[IG]:n.GREATER,[DG]:n.NOTEQUAL};function je(V,F){if(F.type===ga&&e.has("OES_texture_float_linear")===!1&&(F.magFilter===Dr||F.magFilter===nd||F.magFilter===Wu||F.magFilter===ma||F.minFilter===Dr||F.minFilter===nd||F.minFilter===Wu||F.minFilter===ma)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(V,n.TEXTURE_WRAP_S,re[F.wrapS]),n.texParameteri(V,n.TEXTURE_WRAP_T,re[F.wrapT]),(V===n.TEXTURE_3D||V===n.TEXTURE_2D_ARRAY)&&n.texParameteri(V,n.TEXTURE_WRAP_R,re[F.wrapR]),n.texParameteri(V,n.TEXTURE_MAG_FILTER,ne[F.magFilter]),n.texParameteri(V,n.TEXTURE_MIN_FILTER,ne[F.minFilter]),F.compareFunction&&(n.texParameteri(V,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(V,n.TEXTURE_COMPARE_FUNC,qe[F.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(F.magFilter===xn||F.minFilter!==Wu&&F.minFilter!==ma||F.type===ga&&e.has("OES_texture_float_linear")===!1)return;if(F.anisotropy>1||i.get(F).__currentAnisotropy){let Q=e.get("EXT_texture_filter_anisotropic");n.texParameterf(V,Q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,r.getMaxAnisotropy())),i.get(F).__currentAnisotropy=F.anisotropy}}}function et(V,F){let Q=!1;V.__webglInit===void 0&&(V.__webglInit=!0,F.addEventListener("dispose",D));let be=F.source,ye=d.get(be);ye===void 0&&(ye={},d.set(be,ye));let Ee=X(F);if(Ee!==V.__cacheKey){ye[Ee]===void 0&&(ye[Ee]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,Q=!0),ye[Ee].usedTimes++;let We=ye[V.__cacheKey];We!==void 0&&(ye[V.__cacheKey].usedTimes--,We.usedTimes===0&&R(F)),V.__cacheKey=Ee,V.__webglTexture=ye[Ee].texture}return Q}function Ot(V,F,Q){let be=n.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(be=n.TEXTURE_2D_ARRAY),F.isData3DTexture&&(be=n.TEXTURE_3D);let ye=et(V,F),Ee=F.source;t.bindTexture(be,V.__webglTexture,n.TEXTURE0+Q);let We=i.get(Ee);if(Ee.version!==We.__version||ye===!0){t.activeTexture(n.TEXTURE0+Q);let q=wi.getPrimaries(wi.workingColorSpace),$=F.colorSpace===Ko?null:wi.getPrimaries(F.colorSpace),U=F.colorSpace===Ko||q===$?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,U);let O=_(F.image,!1,r.maxTextureSize);O=Pe(F,O);let Y=s.convert(F.format,F.colorSpace),se=s.convert(F.type),ue=b(F.internalFormat,Y,se,F.colorSpace,F.isVideoTexture);je(be,F);let Se,Ge=F.mipmaps,Ie=F.isVideoTexture!==!0,Be=We.__version===void 0||ye===!0,L=Ee.dataReady,ce=w(F,O);if(F.isDepthTexture)ue=E(F.format===rh,F.type),Be&&(Ie?t.texStorage2D(n.TEXTURE_2D,1,ue,O.width,O.height):t.texImage2D(n.TEXTURE_2D,0,ue,O.width,O.height,0,Y,se,null));else if(F.isDataTexture)if(Ge.length>0){Ie&&Be&&t.texStorage2D(n.TEXTURE_2D,ce,ue,Ge[0].width,Ge[0].height);for(let le=0,_e=Ge.length;le<_e;le++)Se=Ge[le],Ie?L&&t.texSubImage2D(n.TEXTURE_2D,le,0,0,Se.width,Se.height,Y,se,Se.data):t.texImage2D(n.TEXTURE_2D,le,ue,Se.width,Se.height,0,Y,se,Se.data);F.generateMipmaps=!1}else Ie?(Be&&t.texStorage2D(n.TEXTURE_2D,ce,ue,O.width,O.height),L&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,O.width,O.height,Y,se,O.data)):t.texImage2D(n.TEXTURE_2D,0,ue,O.width,O.height,0,Y,se,O.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){Ie&&Be&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ce,ue,Ge[0].width,Ge[0].height,O.depth);for(let le=0,_e=Ge.length;le<_e;le++)if(Se=Ge[le],F.format!==Ws)if(Y!==null)if(Ie){if(L)if(F.layerUpdates.size>0){for(let Fe of F.layerUpdates){let pt=Se.width*Se.height;t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,le,0,0,Fe,Se.width,Se.height,1,Y,Se.data.slice(pt*Fe,pt*(Fe+1)),0,0)}F.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,le,0,0,0,Se.width,Se.height,O.depth,Y,Se.data,0,0)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,le,ue,Se.width,Se.height,O.depth,0,Se.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ie?L&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,le,0,0,0,Se.width,Se.height,O.depth,Y,se,Se.data):t.texImage3D(n.TEXTURE_2D_ARRAY,le,ue,Se.width,Se.height,O.depth,0,Y,se,Se.data)}else{Ie&&Be&&t.texStorage2D(n.TEXTURE_2D,ce,ue,Ge[0].width,Ge[0].height);for(let le=0,_e=Ge.length;le<_e;le++)Se=Ge[le],F.format!==Ws?Y!==null?Ie?L&&t.compressedTexSubImage2D(n.TEXTURE_2D,le,0,0,Se.width,Se.height,Y,Se.data):t.compressedTexImage2D(n.TEXTURE_2D,le,ue,Se.width,Se.height,0,Se.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ie?L&&t.texSubImage2D(n.TEXTURE_2D,le,0,0,Se.width,Se.height,Y,se,Se.data):t.texImage2D(n.TEXTURE_2D,le,ue,Se.width,Se.height,0,Y,se,Se.data)}else if(F.isDataArrayTexture)if(Ie){if(Be&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ce,ue,O.width,O.height,O.depth),L)if(F.layerUpdates.size>0){let le;switch(se){case n.UNSIGNED_BYTE:switch(Y){case n.ALPHA:le=1;break;case n.LUMINANCE:le=1;break;case n.LUMINANCE_ALPHA:le=2;break;case n.RGB:le=3;break;case n.RGBA:le=4;break;default:throw new Error(`Unknown texel size for format ${Y}.`)}break;case n.UNSIGNED_SHORT_4_4_4_4:case n.UNSIGNED_SHORT_5_5_5_1:case n.UNSIGNED_SHORT_5_6_5:le=1;break;default:throw new Error(`Unknown texel size for type ${se}.`)}let _e=O.width*O.height*le;for(let Fe of F.layerUpdates)t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Fe,O.width,O.height,1,Y,se,O.data.slice(_e*Fe,_e*(Fe+1)));F.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,O.width,O.height,O.depth,Y,se,O.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,ue,O.width,O.height,O.depth,0,Y,se,O.data);else if(F.isData3DTexture)Ie?(Be&&t.texStorage3D(n.TEXTURE_3D,ce,ue,O.width,O.height,O.depth),L&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,O.width,O.height,O.depth,Y,se,O.data)):t.texImage3D(n.TEXTURE_3D,0,ue,O.width,O.height,O.depth,0,Y,se,O.data);else if(F.isFramebufferTexture){if(Be)if(Ie)t.texStorage2D(n.TEXTURE_2D,ce,ue,O.width,O.height);else{let le=O.width,_e=O.height;for(let Fe=0;Fe<ce;Fe++)t.texImage2D(n.TEXTURE_2D,Fe,ue,le,_e,0,Y,se,null),le>>=1,_e>>=1}}else if(Ge.length>0){if(Ie&&Be){let le=$e(Ge[0]);t.texStorage2D(n.TEXTURE_2D,ce,ue,le.width,le.height)}for(let le=0,_e=Ge.length;le<_e;le++)Se=Ge[le],Ie?L&&t.texSubImage2D(n.TEXTURE_2D,le,0,0,Y,se,Se):t.texImage2D(n.TEXTURE_2D,le,ue,Y,se,Se);F.generateMipmaps=!1}else if(Ie){if(Be){let le=$e(O);t.texStorage2D(n.TEXTURE_2D,ce,ue,le.width,le.height)}L&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Y,se,O)}else t.texImage2D(n.TEXTURE_2D,0,ue,Y,se,O);g(F)&&y(be),We.__version=Ee.version,F.onUpdate&&F.onUpdate(F)}V.__version=F.version}function Me(V,F,Q){if(F.image.length!==6)return;let be=et(V,F),ye=F.source;t.bindTexture(n.TEXTURE_CUBE_MAP,V.__webglTexture,n.TEXTURE0+Q);let Ee=i.get(ye);if(ye.version!==Ee.__version||be===!0){t.activeTexture(n.TEXTURE0+Q);let We=wi.getPrimaries(wi.workingColorSpace),q=F.colorSpace===Ko?null:wi.getPrimaries(F.colorSpace),$=F.colorSpace===Ko||We===q?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,F.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,F.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,$);let U=F.isCompressedTexture||F.image[0].isCompressedTexture,O=F.image[0]&&F.image[0].isDataTexture,Y=[];for(let _e=0;_e<6;_e++)!U&&!O?Y[_e]=_(F.image[_e],!0,r.maxCubemapSize):Y[_e]=O?F.image[_e].image:F.image[_e],Y[_e]=Pe(F,Y[_e]);let se=Y[0],ue=s.convert(F.format,F.colorSpace),Se=s.convert(F.type),Ge=b(F.internalFormat,ue,Se,F.colorSpace),Ie=F.isVideoTexture!==!0,Be=Ee.__version===void 0||be===!0,L=ye.dataReady,ce=w(F,se);je(n.TEXTURE_CUBE_MAP,F);let le;if(U){Ie&&Be&&t.texStorage2D(n.TEXTURE_CUBE_MAP,ce,Ge,se.width,se.height);for(let _e=0;_e<6;_e++){le=Y[_e].mipmaps;for(let Fe=0;Fe<le.length;Fe++){let pt=le[Fe];F.format!==Ws?ue!==null?Ie?L&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Fe,0,0,pt.width,pt.height,ue,pt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Fe,Ge,pt.width,pt.height,0,pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ie?L&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Fe,0,0,pt.width,pt.height,ue,Se,pt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Fe,Ge,pt.width,pt.height,0,ue,Se,pt.data)}}}else{if(le=F.mipmaps,Ie&&Be){le.length>0&&ce++;let _e=$e(Y[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,ce,Ge,_e.width,_e.height)}for(let _e=0;_e<6;_e++)if(O){Ie?L&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,0,0,Y[_e].width,Y[_e].height,ue,Se,Y[_e].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,Ge,Y[_e].width,Y[_e].height,0,ue,Se,Y[_e].data);for(let Fe=0;Fe<le.length;Fe++){let Tt=le[Fe].image[_e].image;Ie?L&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Fe+1,0,0,Tt.width,Tt.height,ue,Se,Tt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Fe+1,Ge,Tt.width,Tt.height,0,ue,Se,Tt.data)}}else{Ie?L&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,0,0,ue,Se,Y[_e]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,Ge,ue,Se,Y[_e]);for(let Fe=0;Fe<le.length;Fe++){let pt=le[Fe];Ie?L&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Fe+1,0,0,ue,Se,pt.image[_e]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Fe+1,Ge,ue,Se,pt.image[_e])}}}g(F)&&y(n.TEXTURE_CUBE_MAP),Ee.__version=ye.version,F.onUpdate&&F.onUpdate(F)}V.__version=F.version}function Ne(V,F,Q,be,ye,Ee){let We=s.convert(Q.format,Q.colorSpace),q=s.convert(Q.type),$=b(Q.internalFormat,We,q,Q.colorSpace);if(!i.get(F).__hasExternalTextures){let O=Math.max(1,F.width>>Ee),Y=Math.max(1,F.height>>Ee);ye===n.TEXTURE_3D||ye===n.TEXTURE_2D_ARRAY?t.texImage3D(ye,Ee,$,O,Y,F.depth,0,We,q,null):t.texImage2D(ye,Ee,$,O,Y,0,We,q,null)}t.bindFramebuffer(n.FRAMEBUFFER,V),Te(F)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,be,ye,i.get(Q).__webglTexture,0,fe(F)):(ye===n.TEXTURE_2D||ye>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&ye<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,be,ye,i.get(Q).__webglTexture,Ee),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ve(V,F,Q){if(n.bindRenderbuffer(n.RENDERBUFFER,V),F.depthBuffer){let be=F.depthTexture,ye=be&&be.isDepthTexture?be.type:null,Ee=E(F.stencilBuffer,ye),We=F.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,q=fe(F);Te(F)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,q,Ee,F.width,F.height):Q?n.renderbufferStorageMultisample(n.RENDERBUFFER,q,Ee,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,Ee,F.width,F.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,We,n.RENDERBUFFER,V)}else{let be=F.textures;for(let ye=0;ye<be.length;ye++){let Ee=be[ye],We=s.convert(Ee.format,Ee.colorSpace),q=s.convert(Ee.type),$=b(Ee.internalFormat,We,q,Ee.colorSpace),U=fe(F);Q&&Te(F)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,U,$,F.width,F.height):Te(F)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,U,$,F.width,F.height):n.renderbufferStorage(n.RENDERBUFFER,$,F.width,F.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ze(V,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,V),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),J(F.depthTexture,0);let be=i.get(F.depthTexture).__webglTexture,ye=fe(F);if(F.depthTexture.format===Ju)Te(F)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,be,0,ye):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,be,0);else if(F.depthTexture.format===rh)Te(F)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,be,0,ye):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,be,0);else throw new Error("Unknown depthTexture format")}function Ke(V){let F=i.get(V),Q=V.isWebGLCubeRenderTarget===!0;if(V.depthTexture&&!F.__autoAllocateDepthBuffer){if(Q)throw new Error("target.depthTexture not supported in Cube render targets");ze(F.__webglFramebuffer,V)}else if(Q){F.__webglDepthbuffer=[];for(let be=0;be<6;be++)t.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer[be]),F.__webglDepthbuffer[be]=n.createRenderbuffer(),Ve(F.__webglDepthbuffer[be],V,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer=n.createRenderbuffer(),Ve(F.__webglDepthbuffer,V,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function gt(V,F,Q){let be=i.get(V);F!==void 0&&Ne(be.__webglFramebuffer,V,V.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Q!==void 0&&Ke(V)}function Rt(V){let F=V.texture,Q=i.get(V),be=i.get(F);V.addEventListener("dispose",P);let ye=V.textures,Ee=V.isWebGLCubeRenderTarget===!0,We=ye.length>1;if(We||(be.__webglTexture===void 0&&(be.__webglTexture=n.createTexture()),be.__version=F.version,a.memory.textures++),Ee){Q.__webglFramebuffer=[];for(let q=0;q<6;q++)if(F.mipmaps&&F.mipmaps.length>0){Q.__webglFramebuffer[q]=[];for(let $=0;$<F.mipmaps.length;$++)Q.__webglFramebuffer[q][$]=n.createFramebuffer()}else Q.__webglFramebuffer[q]=n.createFramebuffer()}else{if(F.mipmaps&&F.mipmaps.length>0){Q.__webglFramebuffer=[];for(let q=0;q<F.mipmaps.length;q++)Q.__webglFramebuffer[q]=n.createFramebuffer()}else Q.__webglFramebuffer=n.createFramebuffer();if(We)for(let q=0,$=ye.length;q<$;q++){let U=i.get(ye[q]);U.__webglTexture===void 0&&(U.__webglTexture=n.createTexture(),a.memory.textures++)}if(V.samples>0&&Te(V)===!1){Q.__webglMultisampledFramebuffer=n.createFramebuffer(),Q.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Q.__webglMultisampledFramebuffer);for(let q=0;q<ye.length;q++){let $=ye[q];Q.__webglColorRenderbuffer[q]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Q.__webglColorRenderbuffer[q]);let U=s.convert($.format,$.colorSpace),O=s.convert($.type),Y=b($.internalFormat,U,O,$.colorSpace,V.isXRRenderTarget===!0),se=fe(V);n.renderbufferStorageMultisample(n.RENDERBUFFER,se,Y,V.width,V.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+q,n.RENDERBUFFER,Q.__webglColorRenderbuffer[q])}n.bindRenderbuffer(n.RENDERBUFFER,null),V.depthBuffer&&(Q.__webglDepthRenderbuffer=n.createRenderbuffer(),Ve(Q.__webglDepthRenderbuffer,V,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ee){t.bindTexture(n.TEXTURE_CUBE_MAP,be.__webglTexture),je(n.TEXTURE_CUBE_MAP,F);for(let q=0;q<6;q++)if(F.mipmaps&&F.mipmaps.length>0)for(let $=0;$<F.mipmaps.length;$++)Ne(Q.__webglFramebuffer[q][$],V,F,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+q,$);else Ne(Q.__webglFramebuffer[q],V,F,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+q,0);g(F)&&y(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(We){for(let q=0,$=ye.length;q<$;q++){let U=ye[q],O=i.get(U);t.bindTexture(n.TEXTURE_2D,O.__webglTexture),je(n.TEXTURE_2D,U),Ne(Q.__webglFramebuffer,V,U,n.COLOR_ATTACHMENT0+q,n.TEXTURE_2D,0),g(U)&&y(n.TEXTURE_2D)}t.unbindTexture()}else{let q=n.TEXTURE_2D;if((V.isWebGL3DRenderTarget||V.isWebGLArrayRenderTarget)&&(q=V.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(q,be.__webglTexture),je(q,F),F.mipmaps&&F.mipmaps.length>0)for(let $=0;$<F.mipmaps.length;$++)Ne(Q.__webglFramebuffer[$],V,F,n.COLOR_ATTACHMENT0,q,$);else Ne(Q.__webglFramebuffer,V,F,n.COLOR_ATTACHMENT0,q,0);g(F)&&y(q),t.unbindTexture()}V.depthBuffer&&Ke(V)}function ie(V){let F=V.textures;for(let Q=0,be=F.length;Q<be;Q++){let ye=F[Q];if(g(ye)){let Ee=V.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,We=i.get(ye).__webglTexture;t.bindTexture(Ee,We),y(Ee),t.unbindTexture()}}}let Pt=[],K=[];function ee(V){if(V.samples>0){if(Te(V)===!1){let F=V.textures,Q=V.width,be=V.height,ye=n.COLOR_BUFFER_BIT,Ee=V.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,We=i.get(V),q=F.length>1;if(q)for(let $=0;$<F.length;$++)t.bindFramebuffer(n.FRAMEBUFFER,We.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+$,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,We.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+$,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,We.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,We.__webglFramebuffer);for(let $=0;$<F.length;$++){if(V.resolveDepthBuffer&&(V.depthBuffer&&(ye|=n.DEPTH_BUFFER_BIT),V.stencilBuffer&&V.resolveStencilBuffer&&(ye|=n.STENCIL_BUFFER_BIT)),q){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,We.__webglColorRenderbuffer[$]);let U=i.get(F[$]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,U,0)}n.blitFramebuffer(0,0,Q,be,0,0,Q,be,ye,n.NEAREST),l===!0&&(Pt.length=0,K.length=0,Pt.push(n.COLOR_ATTACHMENT0+$),V.depthBuffer&&V.resolveDepthBuffer===!1&&(Pt.push(Ee),K.push(Ee),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,K)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Pt))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),q)for(let $=0;$<F.length;$++){t.bindFramebuffer(n.FRAMEBUFFER,We.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+$,n.RENDERBUFFER,We.__webglColorRenderbuffer[$]);let U=i.get(F[$]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,We.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+$,n.TEXTURE_2D,U,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,We.__webglMultisampledFramebuffer)}else if(V.depthBuffer&&V.resolveDepthBuffer===!1&&l){let F=V.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[F])}}}function fe(V){return Math.min(r.maxSamples,V.samples)}function Te(V){let F=i.get(V);return V.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function Ae(V){let F=a.render.frame;u.get(V)!==F&&(u.set(V,F),V.update())}function Pe(V,F){let Q=V.colorSpace,be=V.format,ye=V.type;return V.isCompressedTexture===!0||V.isVideoTexture===!0||Q!==Cn&&Q!==Ko&&(wi.getTransfer(Q)===Ki?(be!==Ws||ye!==el)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Q)),F}function $e(V){return typeof HTMLImageElement!="undefined"&&V instanceof HTMLImageElement?(c.width=V.naturalWidth||V.width,c.height=V.naturalHeight||V.height):typeof VideoFrame!="undefined"&&V instanceof VideoFrame?(c.width=V.displayWidth,c.height=V.displayHeight):(c.width=V.width,c.height=V.height),c}this.allocateTextureUnit=G,this.resetTextureUnits=N,this.setTexture2D=J,this.setTexture2DArray=ge,this.setTexture3D=te,this.setTextureCube=pe,this.rebindTextures=gt,this.setupRenderTarget=Rt,this.updateRenderTargetMipmap=ie,this.updateMultisampleRenderTarget=ee,this.setupDepthRenderbuffer=Ke,this.setupFrameBufferTexture=Ne,this.useMultisampledRTT=Te}function k9(n,e){function t(i,r=Ko){let s,a=wi.getTransfer(r);if(i===el)return n.UNSIGNED_BYTE;if(i===$R)return n.UNSIGNED_SHORT_4_4_4_4;if(i===WR)return n.UNSIGNED_SHORT_5_5_5_1;if(i===dG)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===hG)return n.BYTE;if(i===fG)return n.SHORT;if(i===Sg)return n.UNSIGNED_SHORT;if(i===GR)return n.INT;if(i===ih)return n.UNSIGNED_INT;if(i===ga)return n.FLOAT;if(i===ey)return n.HALF_FLOAT;if(i===pG)return n.ALPHA;if(i===mG)return n.RGB;if(i===Ws)return n.RGBA;if(i===gG)return n.LUMINANCE;if(i===yG)return n.LUMINANCE_ALPHA;if(i===Ju)return n.DEPTH_COMPONENT;if(i===rh)return n.DEPTH_STENCIL;if(i===qR)return n.RED;if(i===jR)return n.RED_INTEGER;if(i===vG)return n.RG;if(i===XR)return n.RG_INTEGER;if(i===YR)return n.RGBA_INTEGER;if(i===Ub||i===zb||i===Vb||i===Hb)if(a===Ki)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===Ub)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===zb)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Vb)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Hb)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===Ub)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===zb)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Vb)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Hb)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===aD||i===oD||i===lD||i===cD)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===aD)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===oD)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===lD)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===cD)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===uD||i===hD||i===fD)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===uD||i===hD)return a===Ki?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===fD)return a===Ki?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===dD||i===pD||i===mD||i===gD||i===yD||i===vD||i===_D||i===xD||i===bD||i===ED||i===SD||i===TD||i===wD||i===AD)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===dD)return a===Ki?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===pD)return a===Ki?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===mD)return a===Ki?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===gD)return a===Ki?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===yD)return a===Ki?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===vD)return a===Ki?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===_D)return a===Ki?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===xD)return a===Ki?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===bD)return a===Ki?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===ED)return a===Ki?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===SD)return a===Ki?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===TD)return a===Ki?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===wD)return a===Ki?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===AD)return a===Ki?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Gb||i===MD||i===CD)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===Gb)return a===Ki?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===MD)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===CD)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===_G||i===PD||i===ID||i===DD)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===Gb)return s.COMPRESSED_RED_RGTC1_EXT;if(i===PD)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===ID)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===DD)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===nh?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}var FE=class extends mn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},Rr=class extends Qi{constructor(){super(),this.isGroup=!0,this.type="Group"}},F9={type:"move"},ad=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Rr,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Rr,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ae,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ae),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Rr,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ae,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ae),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let t=this._hand;if(t)for(let i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,a=null,o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(let _ of e.hand.values()){let g=t.getJointPose(_,i),y=this._getHandJoint(c,_);g!==null&&(y.matrix.fromArray(g.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=g.radius),y.visible=g!==null}let u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],d=u.position.distanceTo(h.position),m=.02,v=.005;c.inputState.pinching&&d>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(F9)))}return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){let i=new Rr;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}},B9=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,U9=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`,BE=class{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){let r=new Gn,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!=i.depthNear||t.depthFar!=i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){let t=e.cameras[0].viewport,i=new Xs({vertexShader:B9,fragmentShader:U9,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Mn(new gc(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}},UE=class extends js{constructor(e,t){super();let i=this,r=null,s=1,a=null,o="local-floor",l=1,c=null,u=null,h=null,d=null,m=null,v=null,_=new BE,g=t.getContextAttributes(),y=null,b=null,E=[],w=[],D=new Bt,P=null,M=new mn;M.layers.enable(1),M.viewport=new Wi;let R=new mn;R.layers.enable(2),R.viewport=new Wi;let I=[M,R],A=new FE;A.layers.enable(1),A.layers.enable(2);let N=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Me){let Ne=E[Me];return Ne===void 0&&(Ne=new ad,E[Me]=Ne),Ne.getTargetRaySpace()},this.getControllerGrip=function(Me){let Ne=E[Me];return Ne===void 0&&(Ne=new ad,E[Me]=Ne),Ne.getGripSpace()},this.getHand=function(Me){let Ne=E[Me];return Ne===void 0&&(Ne=new ad,E[Me]=Ne),Ne.getHandSpace()};function X(Me){let Ne=w.indexOf(Me.inputSource);if(Ne===-1)return;let Ve=E[Ne];Ve!==void 0&&(Ve.update(Me.inputSource,Me.frame,c||a),Ve.dispatchEvent({type:Me.type,data:Me.inputSource}))}function J(){r.removeEventListener("select",X),r.removeEventListener("selectstart",X),r.removeEventListener("selectend",X),r.removeEventListener("squeeze",X),r.removeEventListener("squeezestart",X),r.removeEventListener("squeezeend",X),r.removeEventListener("end",J),r.removeEventListener("inputsourceschange",ge);for(let Me=0;Me<E.length;Me++){let Ne=w[Me];Ne!==null&&(w[Me]=null,E[Me].disconnect(Ne))}N=null,G=null,_.reset(),e.setRenderTarget(y),m=null,d=null,h=null,r=null,b=null,Ot.stop(),i.isPresenting=!1,e.setPixelRatio(P),e.setSize(D.width,D.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Me){s=Me,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Me){o=Me,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(Me){c=Me},this.getBaseLayer=function(){return d!==null?d:m},this.getBinding=function(){return h},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=function(Me){return Sn(this,null,function*(){if(r=Me,r!==null){if(y=e.getRenderTarget(),r.addEventListener("select",X),r.addEventListener("selectstart",X),r.addEventListener("selectend",X),r.addEventListener("squeeze",X),r.addEventListener("squeezestart",X),r.addEventListener("squeezeend",X),r.addEventListener("end",J),r.addEventListener("inputsourceschange",ge),g.xrCompatible!==!0&&(yield t.makeXRCompatible()),P=e.getPixelRatio(),e.getSize(D),r.renderState.layers===void 0){let Ne={antialias:g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,Ne),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),b=new Or(m.framebufferWidth,m.framebufferHeight,{format:Ws,type:el,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil})}else{let Ne=null,Ve=null,ze=null;g.depth&&(ze=g.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ne=g.stencil?rh:Ju,Ve=g.stencil?nh:ih);let Ke={colorFormat:t.RGBA8,depthFormat:ze,scaleFactor:s};h=new XRWebGLBinding(r,t),d=h.createProjectionLayer(Ke),r.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),b=new Or(d.textureWidth,d.textureHeight,{format:Ws,type:el,depthTexture:new kg(d.textureWidth,d.textureHeight,Ve,void 0,void 0,void 0,void 0,void 0,void 0,Ne),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0,resolveDepthBuffer:d.ignoreDepthValues===!1})}b.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=yield r.requestReferenceSpace(o),Ot.setContext(r),Ot.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}})},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function ge(Me){for(let Ne=0;Ne<Me.removed.length;Ne++){let Ve=Me.removed[Ne],ze=w.indexOf(Ve);ze>=0&&(w[ze]=null,E[ze].disconnect(Ve))}for(let Ne=0;Ne<Me.added.length;Ne++){let Ve=Me.added[Ne],ze=w.indexOf(Ve);if(ze===-1){for(let gt=0;gt<E.length;gt++)if(gt>=w.length){w.push(Ve),ze=gt;break}else if(w[gt]===null){w[gt]=Ve,ze=gt;break}if(ze===-1)break}let Ke=E[ze];Ke&&Ke.connect(Ve)}}let te=new ae,pe=new ae;function re(Me,Ne,Ve){te.setFromMatrixPosition(Ne.matrixWorld),pe.setFromMatrixPosition(Ve.matrixWorld);let ze=te.distanceTo(pe),Ke=Ne.projectionMatrix.elements,gt=Ve.projectionMatrix.elements,Rt=Ke[14]/(Ke[10]-1),ie=Ke[14]/(Ke[10]+1),Pt=(Ke[9]+1)/Ke[5],K=(Ke[9]-1)/Ke[5],ee=(Ke[8]-1)/Ke[0],fe=(gt[8]+1)/gt[0],Te=Rt*ee,Ae=Rt*fe,Pe=ze/(-ee+fe),$e=Pe*-ee;Ne.matrixWorld.decompose(Me.position,Me.quaternion,Me.scale),Me.translateX($e),Me.translateZ(Pe),Me.matrixWorld.compose(Me.position,Me.quaternion,Me.scale),Me.matrixWorldInverse.copy(Me.matrixWorld).invert();let V=Rt+Pe,F=ie+Pe,Q=Te-$e,be=Ae+(ze-$e),ye=Pt*ie/F*V,Ee=K*ie/F*V;Me.projectionMatrix.makePerspective(Q,be,ye,Ee,V,F),Me.projectionMatrixInverse.copy(Me.projectionMatrix).invert()}function ne(Me,Ne){Ne===null?Me.matrixWorld.copy(Me.matrix):Me.matrixWorld.multiplyMatrices(Ne.matrixWorld,Me.matrix),Me.matrixWorldInverse.copy(Me.matrixWorld).invert()}this.updateCamera=function(Me){if(r===null)return;_.texture!==null&&(Me.near=_.depthNear,Me.far=_.depthFar),A.near=R.near=M.near=Me.near,A.far=R.far=M.far=Me.far,(N!==A.near||G!==A.far)&&(r.updateRenderState({depthNear:A.near,depthFar:A.far}),N=A.near,G=A.far,M.near=N,M.far=G,R.near=N,R.far=G,M.updateProjectionMatrix(),R.updateProjectionMatrix(),Me.updateProjectionMatrix());let Ne=Me.parent,Ve=A.cameras;ne(A,Ne);for(let ze=0;ze<Ve.length;ze++)ne(Ve[ze],Ne);Ve.length===2?re(A,M,R):A.projectionMatrix.copy(M.projectionMatrix),qe(Me,A,Ne)};function qe(Me,Ne,Ve){Ve===null?Me.matrix.copy(Ne.matrixWorld):(Me.matrix.copy(Ve.matrixWorld),Me.matrix.invert(),Me.matrix.multiply(Ne.matrixWorld)),Me.matrix.decompose(Me.position,Me.quaternion,Me.scale),Me.updateMatrixWorld(!0),Me.projectionMatrix.copy(Ne.projectionMatrix),Me.projectionMatrixInverse.copy(Ne.projectionMatrixInverse),Me.isPerspectiveCamera&&(Me.fov=oh*2*Math.atan(1/Me.projectionMatrix.elements[5]),Me.zoom=1)}this.getCamera=function(){return A},this.getFoveation=function(){if(!(d===null&&m===null))return l},this.setFoveation=function(Me){l=Me,d!==null&&(d.fixedFoveation=Me),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=Me)},this.hasDepthSensing=function(){return _.texture!==null},this.getDepthSensingMesh=function(){return _.getMesh(A)};let je=null;function et(Me,Ne){if(u=Ne.getViewerPose(c||a),v=Ne,u!==null){let Ve=u.views;m!==null&&(e.setRenderTargetFramebuffer(b,m.framebuffer),e.setRenderTarget(b));let ze=!1;Ve.length!==A.cameras.length&&(A.cameras.length=0,ze=!0);for(let gt=0;gt<Ve.length;gt++){let Rt=Ve[gt],ie=null;if(m!==null)ie=m.getViewport(Rt);else{let K=h.getViewSubImage(d,Rt);ie=K.viewport,gt===0&&(e.setRenderTargetTextures(b,K.colorTexture,d.ignoreDepthValues?void 0:K.depthStencilTexture),e.setRenderTarget(b))}let Pt=I[gt];Pt===void 0&&(Pt=new mn,Pt.layers.enable(gt),Pt.viewport=new Wi,I[gt]=Pt),Pt.matrix.fromArray(Rt.transform.matrix),Pt.matrix.decompose(Pt.position,Pt.quaternion,Pt.scale),Pt.projectionMatrix.fromArray(Rt.projectionMatrix),Pt.projectionMatrixInverse.copy(Pt.projectionMatrix).invert(),Pt.viewport.set(ie.x,ie.y,ie.width,ie.height),gt===0&&(A.matrix.copy(Pt.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),ze===!0&&A.cameras.push(Pt)}let Ke=r.enabledFeatures;if(Ke&&Ke.includes("depth-sensing")){let gt=h.getDepthInformation(Ve[0]);gt&&gt.isValid&&gt.texture&&_.init(e,gt,r.renderState)}}for(let Ve=0;Ve<E.length;Ve++){let ze=w[Ve],Ke=E[Ve];ze!==null&&Ke!==void 0&&Ke.update(ze,Ne,c||a)}je&&je(Me,Ne),Ne.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Ne}),v=null}let Ot=new iL;Ot.setAnimationLoop(et),this.setAnimationLoop=function(Me){je=Me},this.dispose=function(){}}},fc=new va,z9=new ii;function V9(n,e){function t(g,y){g.matrixAutoUpdate===!0&&g.updateMatrix(),y.value.copy(g.matrix)}function i(g,y){y.color.getRGB(g.fogColor.value,tL(n)),y.isFog?(g.fogNear.value=y.near,g.fogFar.value=y.far):y.isFogExp2&&(g.fogDensity.value=y.density)}function r(g,y,b,E,w){y.isMeshBasicMaterial||y.isMeshLambertMaterial?s(g,y):y.isMeshToonMaterial?(s(g,y),h(g,y)):y.isMeshPhongMaterial?(s(g,y),u(g,y)):y.isMeshStandardMaterial?(s(g,y),d(g,y),y.isMeshPhysicalMaterial&&m(g,y,w)):y.isMeshMatcapMaterial?(s(g,y),v(g,y)):y.isMeshDepthMaterial?s(g,y):y.isMeshDistanceMaterial?(s(g,y),_(g,y)):y.isMeshNormalMaterial?s(g,y):y.isLineBasicMaterial?(a(g,y),y.isLineDashedMaterial&&o(g,y)):y.isPointsMaterial?l(g,y,b,E):y.isSpriteMaterial?c(g,y):y.isShadowMaterial?(g.color.value.copy(y.color),g.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function s(g,y){g.opacity.value=y.opacity,y.color&&g.diffuse.value.copy(y.color),y.emissive&&g.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(g.map.value=y.map,t(y.map,g.mapTransform)),y.alphaMap&&(g.alphaMap.value=y.alphaMap,t(y.alphaMap,g.alphaMapTransform)),y.bumpMap&&(g.bumpMap.value=y.bumpMap,t(y.bumpMap,g.bumpMapTransform),g.bumpScale.value=y.bumpScale,y.side===Lr&&(g.bumpScale.value*=-1)),y.normalMap&&(g.normalMap.value=y.normalMap,t(y.normalMap,g.normalMapTransform),g.normalScale.value.copy(y.normalScale),y.side===Lr&&g.normalScale.value.negate()),y.displacementMap&&(g.displacementMap.value=y.displacementMap,t(y.displacementMap,g.displacementMapTransform),g.displacementScale.value=y.displacementScale,g.displacementBias.value=y.displacementBias),y.emissiveMap&&(g.emissiveMap.value=y.emissiveMap,t(y.emissiveMap,g.emissiveMapTransform)),y.specularMap&&(g.specularMap.value=y.specularMap,t(y.specularMap,g.specularMapTransform)),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest);let b=e.get(y),E=b.envMap,w=b.envMapRotation;E&&(g.envMap.value=E,fc.copy(w),fc.x*=-1,fc.y*=-1,fc.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(fc.y*=-1,fc.z*=-1),g.envMapRotation.value.setFromMatrix4(z9.makeRotationFromEuler(fc)),g.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=y.reflectivity,g.ior.value=y.ior,g.refractionRatio.value=y.refractionRatio),y.lightMap&&(g.lightMap.value=y.lightMap,g.lightMapIntensity.value=y.lightMapIntensity,t(y.lightMap,g.lightMapTransform)),y.aoMap&&(g.aoMap.value=y.aoMap,g.aoMapIntensity.value=y.aoMapIntensity,t(y.aoMap,g.aoMapTransform))}function a(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,y.map&&(g.map.value=y.map,t(y.map,g.mapTransform))}function o(g,y){g.dashSize.value=y.dashSize,g.totalSize.value=y.dashSize+y.gapSize,g.scale.value=y.scale}function l(g,y,b,E){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.size.value=y.size*b,g.scale.value=E*.5,y.map&&(g.map.value=y.map,t(y.map,g.uvTransform)),y.alphaMap&&(g.alphaMap.value=y.alphaMap,t(y.alphaMap,g.alphaMapTransform)),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest)}function c(g,y){g.diffuse.value.copy(y.color),g.opacity.value=y.opacity,g.rotation.value=y.rotation,y.map&&(g.map.value=y.map,t(y.map,g.mapTransform)),y.alphaMap&&(g.alphaMap.value=y.alphaMap,t(y.alphaMap,g.alphaMapTransform)),y.alphaTest>0&&(g.alphaTest.value=y.alphaTest)}function u(g,y){g.specular.value.copy(y.specular),g.shininess.value=Math.max(y.shininess,1e-4)}function h(g,y){y.gradientMap&&(g.gradientMap.value=y.gradientMap)}function d(g,y){g.metalness.value=y.metalness,y.metalnessMap&&(g.metalnessMap.value=y.metalnessMap,t(y.metalnessMap,g.metalnessMapTransform)),g.roughness.value=y.roughness,y.roughnessMap&&(g.roughnessMap.value=y.roughnessMap,t(y.roughnessMap,g.roughnessMapTransform)),y.envMap&&(g.envMapIntensity.value=y.envMapIntensity)}function m(g,y,b){g.ior.value=y.ior,y.sheen>0&&(g.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),g.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(g.sheenColorMap.value=y.sheenColorMap,t(y.sheenColorMap,g.sheenColorMapTransform)),y.sheenRoughnessMap&&(g.sheenRoughnessMap.value=y.sheenRoughnessMap,t(y.sheenRoughnessMap,g.sheenRoughnessMapTransform))),y.clearcoat>0&&(g.clearcoat.value=y.clearcoat,g.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(g.clearcoatMap.value=y.clearcoatMap,t(y.clearcoatMap,g.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,t(y.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(g.clearcoatNormalMap.value=y.clearcoatNormalMap,t(y.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===Lr&&g.clearcoatNormalScale.value.negate())),y.dispersion>0&&(g.dispersion.value=y.dispersion),y.iridescence>0&&(g.iridescence.value=y.iridescence,g.iridescenceIOR.value=y.iridescenceIOR,g.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(g.iridescenceMap.value=y.iridescenceMap,t(y.iridescenceMap,g.iridescenceMapTransform)),y.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=y.iridescenceThicknessMap,t(y.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),y.transmission>0&&(g.transmission.value=y.transmission,g.transmissionSamplerMap.value=b.texture,g.transmissionSamplerSize.value.set(b.width,b.height),y.transmissionMap&&(g.transmissionMap.value=y.transmissionMap,t(y.transmissionMap,g.transmissionMapTransform)),g.thickness.value=y.thickness,y.thicknessMap&&(g.thicknessMap.value=y.thicknessMap,t(y.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=y.attenuationDistance,g.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(g.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(g.anisotropyMap.value=y.anisotropyMap,t(y.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=y.specularIntensity,g.specularColor.value.copy(y.specularColor),y.specularColorMap&&(g.specularColorMap.value=y.specularColorMap,t(y.specularColorMap,g.specularColorMapTransform)),y.specularIntensityMap&&(g.specularIntensityMap.value=y.specularIntensityMap,t(y.specularIntensityMap,g.specularIntensityMapTransform))}function v(g,y){y.matcap&&(g.matcap.value=y.matcap)}function _(g,y){let b=e.get(y).light;g.referencePosition.value.setFromMatrixPosition(b.matrixWorld),g.nearDistance.value=b.shadow.camera.near,g.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function H9(n,e,t,i){let r={},s={},a=[],o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(b,E){let w=E.program;i.uniformBlockBinding(b,w)}function c(b,E){let w=r[b.id];w===void 0&&(v(b),w=u(b),r[b.id]=w,b.addEventListener("dispose",g));let D=E.program;i.updateUBOMapping(b,D);let P=e.render.frame;s[b.id]!==P&&(d(b),s[b.id]=P)}function u(b){let E=h();b.__bindingPointIndex=E;let w=n.createBuffer(),D=b.__size,P=b.usage;return n.bindBuffer(n.UNIFORM_BUFFER,w),n.bufferData(n.UNIFORM_BUFFER,D,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,E,w),w}function h(){for(let b=0;b<o;b++)if(a.indexOf(b)===-1)return a.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(b){let E=r[b.id],w=b.uniforms,D=b.__cache;n.bindBuffer(n.UNIFORM_BUFFER,E);for(let P=0,M=w.length;P<M;P++){let R=Array.isArray(w[P])?w[P]:[w[P]];for(let I=0,A=R.length;I<A;I++){let N=R[I];if(m(N,P,I,D)===!0){let G=N.__offset,X=Array.isArray(N.value)?N.value:[N.value],J=0;for(let ge=0;ge<X.length;ge++){let te=X[ge],pe=_(te);typeof te=="number"||typeof te=="boolean"?(N.__data[0]=te,n.bufferSubData(n.UNIFORM_BUFFER,G+J,N.__data)):te.isMatrix3?(N.__data[0]=te.elements[0],N.__data[1]=te.elements[1],N.__data[2]=te.elements[2],N.__data[3]=0,N.__data[4]=te.elements[3],N.__data[5]=te.elements[4],N.__data[6]=te.elements[5],N.__data[7]=0,N.__data[8]=te.elements[6],N.__data[9]=te.elements[7],N.__data[10]=te.elements[8],N.__data[11]=0):(te.toArray(N.__data,J),J+=pe.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,G,N.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(b,E,w,D){let P=b.value,M=E+"_"+w;if(D[M]===void 0)return typeof P=="number"||typeof P=="boolean"?D[M]=P:D[M]=P.clone(),!0;{let R=D[M];if(typeof P=="number"||typeof P=="boolean"){if(R!==P)return D[M]=P,!0}else if(R.equals(P)===!1)return R.copy(P),!0}return!1}function v(b){let E=b.uniforms,w=0,D=16;for(let M=0,R=E.length;M<R;M++){let I=Array.isArray(E[M])?E[M]:[E[M]];for(let A=0,N=I.length;A<N;A++){let G=I[A],X=Array.isArray(G.value)?G.value:[G.value];for(let J=0,ge=X.length;J<ge;J++){let te=X[J],pe=_(te),re=w%D;re!==0&&D-re<pe.boundary&&(w+=D-re),G.__data=new Float32Array(pe.storage/Float32Array.BYTES_PER_ELEMENT),G.__offset=w,w+=pe.storage}}}let P=w%D;return P>0&&(w+=D-P),b.__size=w,b.__cache={},this}function _(b){let E={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(E.boundary=4,E.storage=4):b.isVector2?(E.boundary=8,E.storage=8):b.isVector3||b.isColor?(E.boundary=16,E.storage=12):b.isVector4?(E.boundary=16,E.storage=16):b.isMatrix3?(E.boundary=48,E.storage=48):b.isMatrix4?(E.boundary=64,E.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),E}function g(b){let E=b.target;E.removeEventListener("dispose",g);let w=a.indexOf(E.__bindingPointIndex);a.splice(w,1),n.deleteBuffer(r[E.id]),delete r[E.id],delete s[E.id]}function y(){for(let b in r)n.deleteBuffer(r[b]);a=[],r={},s={}}return{bind:l,update:c,dispose:y}}var nl=class{constructor(e={}){let{canvas:t=KG(),context:i=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let d;if(i!==null){if(typeof WebGLRenderingContext!="undefined"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");d=i.getContextAttributes().alpha}else d=a;let m=new Uint32Array(4),v=new Int32Array(4),_=null,g=null,y=[],b=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ln,this.toneMapping=Qo,this.toneMappingExposure=1;let E=this,w=!1,D=0,P=0,M=null,R=-1,I=null,A=new Wi,N=new Wi,G=null,X=new Vt(0),J=0,ge=t.width,te=t.height,pe=1,re=null,ne=null,qe=new Wi(0,0,ge,te),je=new Wi(0,0,ge,te),et=!1,Ot=new hd,Me=!1,Ne=!1,Ve=new ii,ze=new ae,Ke={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0},gt=!1;function Rt(){return M===null?pe:1}let ie=i;function Pt(H,me){return t.getContext(H,me)}try{let H={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${QE}`),t.addEventListener("webglcontextlost",ce,!1),t.addEventListener("webglcontextrestored",le,!1),t.addEventListener("webglcontextcreationerror",_e,!1),ie===null){let me="webgl2";if(ie=Pt(me,H),ie===null)throw Pt(me)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(H){throw console.error("THREE.WebGLRenderer: "+H.message),H}let K,ee,fe,Te,Ae,Pe,$e,V,F,Q,be,ye,Ee,We,q,$,U,O,Y,se,ue,Se,Ge,Ie;function Be(){K=new oW(ie),K.init(),Se=new k9(ie,K),ee=new tW(ie,K,e,Se),fe=new O9(ie),Te=new uW(ie),Ae=new E9,Pe=new N9(ie,K,fe,Ae,ee,Se,Te),$e=new nW(E),V=new aW(E),F=new y8(ie),Ge=new Q$(ie,F),Q=new lW(ie,F,Te,Ge),be=new fW(ie,Q,F,Te),Y=new hW(ie,ee,Pe),$=new iW(Ae),ye=new b9(E,$e,V,K,ee,Ge,$),Ee=new V9(E,Ae),We=new T9,q=new I9(K),O=new Z$(E,$e,V,fe,be,d,l),U=new L9(E,be,ee),Ie=new H9(ie,Te,ee,fe),se=new eW(ie,K,Te),ue=new cW(ie,K,Te),Te.programs=ye.programs,E.capabilities=ee,E.extensions=K,E.properties=Ae,E.renderLists=We,E.shadowMap=U,E.state=fe,E.info=Te}Be();let L=new UE(E,ie);this.xr=L,this.getContext=function(){return ie},this.getContextAttributes=function(){return ie.getContextAttributes()},this.forceContextLoss=function(){let H=K.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){let H=K.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return pe},this.setPixelRatio=function(H){H!==void 0&&(pe=H,this.setSize(ge,te,!1))},this.getSize=function(H){return H.set(ge,te)},this.setSize=function(H,me,we=!0){if(L.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ge=H,te=me,t.width=Math.floor(H*pe),t.height=Math.floor(me*pe),we===!0&&(t.style.width=H+"px",t.style.height=me+"px"),this.setViewport(0,0,H,me)},this.getDrawingBufferSize=function(H){return H.set(ge*pe,te*pe).floor()},this.setDrawingBufferSize=function(H,me,we){ge=H,te=me,pe=we,t.width=Math.floor(H*we),t.height=Math.floor(me*we),this.setViewport(0,0,H,me)},this.getCurrentViewport=function(H){return H.copy(A)},this.getViewport=function(H){return H.copy(qe)},this.setViewport=function(H,me,we,De){H.isVector4?qe.set(H.x,H.y,H.z,H.w):qe.set(H,me,we,De),fe.viewport(A.copy(qe).multiplyScalar(pe).round())},this.getScissor=function(H){return H.copy(je)},this.setScissor=function(H,me,we,De){H.isVector4?je.set(H.x,H.y,H.z,H.w):je.set(H,me,we,De),fe.scissor(N.copy(je).multiplyScalar(pe).round())},this.getScissorTest=function(){return et},this.setScissorTest=function(H){fe.setScissorTest(et=H)},this.setOpaqueSort=function(H){re=H},this.setTransparentSort=function(H){ne=H},this.getClearColor=function(H){return H.copy(O.getClearColor())},this.setClearColor=function(){O.setClearColor.apply(O,arguments)},this.getClearAlpha=function(){return O.getClearAlpha()},this.setClearAlpha=function(){O.setClearAlpha.apply(O,arguments)},this.clear=function(H=!0,me=!0,we=!0){let De=0;if(H){let ve=!1;if(M!==null){let Qe=M.texture.format;ve=Qe===YR||Qe===XR||Qe===jR}if(ve){let Qe=M.texture.type,ct=Qe===el||Qe===ih||Qe===Sg||Qe===nh||Qe===$R||Qe===WR,xt=O.getClearColor(),bt=O.getClearAlpha(),zt=xt.r,Ht=xt.g,Nt=xt.b;ct?(m[0]=zt,m[1]=Ht,m[2]=Nt,m[3]=bt,ie.clearBufferuiv(ie.COLOR,0,m)):(v[0]=zt,v[1]=Ht,v[2]=Nt,v[3]=bt,ie.clearBufferiv(ie.COLOR,0,v))}else De|=ie.COLOR_BUFFER_BIT}me&&(De|=ie.DEPTH_BUFFER_BIT),we&&(De|=ie.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ie.clear(De)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ce,!1),t.removeEventListener("webglcontextrestored",le,!1),t.removeEventListener("webglcontextcreationerror",_e,!1),We.dispose(),q.dispose(),Ae.dispose(),$e.dispose(),V.dispose(),be.dispose(),Ge.dispose(),Ie.dispose(),ye.dispose(),L.dispose(),L.removeEventListener("sessionstart",Xt),L.removeEventListener("sessionend",Mi),Vn.stop()};function ce(H){H.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function le(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;let H=Te.autoReset,me=U.enabled,we=U.autoUpdate,De=U.needsUpdate,ve=U.type;Be(),Te.autoReset=H,U.enabled=me,U.autoUpdate=we,U.needsUpdate=De,U.type=ve}function _e(H){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",H.statusMessage)}function Fe(H){let me=H.target;me.removeEventListener("dispose",Fe),pt(me)}function pt(H){Tt(H),Ae.remove(H)}function Tt(H){let me=Ae.get(H).programs;me!==void 0&&(me.forEach(function(we){ye.releaseProgram(we)}),H.isShaderMaterial&&ye.releaseShaderCache(H))}this.renderBufferDirect=function(H,me,we,De,ve,Qe){me===null&&(me=Ke);let ct=ve.isMesh&&ve.matrixWorld.determinant()<0,xt=Cp(H,me,we,De,ve);fe.setMaterial(De,ct);let bt=we.index,zt=1;if(De.wireframe===!0){if(bt=Q.getWireframeAttribute(we),bt===void 0)return;zt=2}let Ht=we.drawRange,Nt=we.attributes.position,Si=Ht.start*zt,ji=(Ht.start+Ht.count)*zt;Qe!==null&&(Si=Math.max(Si,Qe.start*zt),ji=Math.min(ji,(Qe.start+Qe.count)*zt)),bt!==null?(Si=Math.max(Si,0),ji=Math.min(ji,bt.count)):Nt!=null&&(Si=Math.max(Si,0),ji=Math.min(ji,Nt.count));let rn=ji-Si;if(rn<0||rn===1/0)return;Ge.setup(ve,De,xt,we,bt);let Er,Ii=se;if(bt!==null&&(Er=F.get(bt),Ii=ue,Ii.setIndex(Er)),ve.isMesh)De.wireframe===!0?(fe.setLineWidth(De.wireframeLinewidth*Rt()),Ii.setMode(ie.LINES)):Ii.setMode(ie.TRIANGLES);else if(ve.isLine){let Ft=De.linewidth;Ft===void 0&&(Ft=1),fe.setLineWidth(Ft*Rt()),ve.isLineSegments?Ii.setMode(ie.LINES):ve.isLineLoop?Ii.setMode(ie.LINE_LOOP):Ii.setMode(ie.LINE_STRIP)}else ve.isPoints?Ii.setMode(ie.POINTS):ve.isSprite&&Ii.setMode(ie.TRIANGLES);if(ve.isBatchedMesh)ve._multiDrawInstances!==null?Ii.renderMultiDrawInstances(ve._multiDrawStarts,ve._multiDrawCounts,ve._multiDrawCount,ve._multiDrawInstances):Ii.renderMultiDraw(ve._multiDrawStarts,ve._multiDrawCounts,ve._multiDrawCount);else if(ve.isInstancedMesh)Ii.renderInstances(Si,rn,ve.count);else if(we.isInstancedBufferGeometry){let Ft=we._maxInstanceCount!==void 0?we._maxInstanceCount:1/0,Qn=Math.min(we.instanceCount,Ft);Ii.renderInstances(Si,rn,Qn)}else Ii.render(Si,rn)};function qt(H,me,we){H.transparent===!0&&H.side===Gs&&H.forceSinglePass===!1?(H.side=Lr,H.needsUpdate=!0,zl(H,me,we),H.side=ya,H.needsUpdate=!0,zl(H,me,we),H.side=Gs):zl(H,me,we)}this.compile=function(H,me,we=null){we===null&&(we=H),g=q.get(we),g.init(me),b.push(g),we.traverseVisible(function(ve){ve.isLight&&ve.layers.test(me.layers)&&(g.pushLight(ve),ve.castShadow&&g.pushShadow(ve))}),H!==we&&H.traverseVisible(function(ve){ve.isLight&&ve.layers.test(me.layers)&&(g.pushLight(ve),ve.castShadow&&g.pushShadow(ve))}),g.setupLights();let De=new Set;return H.traverse(function(ve){let Qe=ve.material;if(Qe)if(Array.isArray(Qe))for(let ct=0;ct<Qe.length;ct++){let xt=Qe[ct];qt(xt,we,ve),De.add(xt)}else qt(Qe,we,ve),De.add(Qe)}),b.pop(),g=null,De},this.compileAsync=function(H,me,we=null){let De=this.compile(H,me,we);return new Promise(ve=>{function Qe(){if(De.forEach(function(ct){Ae.get(ct).currentProgram.isReady()&&De.delete(ct)}),De.size===0){ve(H);return}setTimeout(Qe,10)}K.get("KHR_parallel_shader_compile")!==null?Qe():setTimeout(Qe,10)})};let yi=null;function $t(H){yi&&yi(H)}function Xt(){Vn.stop()}function Mi(){Vn.start()}let Vn=new iL;Vn.setAnimationLoop($t),typeof self!="undefined"&&Vn.setContext(self),this.setAnimationLoop=function(H){yi=H,L.setAnimationLoop(H),H===null?Vn.stop():Vn.start()},L.addEventListener("sessionstart",Xt),L.addEventListener("sessionend",Mi),this.render=function(H,me){if(me!==void 0&&me.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;if(H.matrixWorldAutoUpdate===!0&&H.updateMatrixWorld(),me.parent===null&&me.matrixWorldAutoUpdate===!0&&me.updateMatrixWorld(),L.enabled===!0&&L.isPresenting===!0&&(L.cameraAutoUpdate===!0&&L.updateCamera(me),me=L.getCamera()),H.isScene===!0&&H.onBeforeRender(E,H,me,M),g=q.get(H,b.length),g.init(me),b.push(g),Ve.multiplyMatrices(me.projectionMatrix,me.matrixWorldInverse),Ot.setFromProjectionMatrix(Ve),Ne=this.localClippingEnabled,Me=$.init(this.clippingPlanes,Ne),_=We.get(H,y.length),_.init(),y.push(_),L.enabled===!0&&L.isPresenting===!0){let Qe=E.xr.getDepthSensingMesh();Qe!==null&&nn(Qe,me,-1/0,E.sortObjects)}nn(H,me,0,E.sortObjects),_.finish(),E.sortObjects===!0&&_.sort(re,ne),gt=L.enabled===!1||L.isPresenting===!1||L.hasDepthSensing()===!1,gt&&O.addToRenderList(_,H),this.info.render.frame++,Me===!0&&$.beginShadows();let we=g.state.shadowsArray;U.render(we,H,me),Me===!0&&$.endShadows(),this.info.autoReset===!0&&this.info.reset();let De=_.opaque,ve=_.transmissive;if(g.setupLights(),me.isArrayCamera){let Qe=me.cameras;if(ve.length>0)for(let ct=0,xt=Qe.length;ct<xt;ct++){let bt=Qe[ct];Po(De,ve,H,bt)}gt&&O.render(H);for(let ct=0,xt=Qe.length;ct<xt;ct++){let bt=Qe[ct];En(_,H,bt,bt.viewport)}}else ve.length>0&&Po(De,ve,H,me),gt&&O.render(H),En(_,H,me);M!==null&&(Pe.updateMultisampleRenderTarget(M),Pe.updateRenderTargetMipmap(M)),H.isScene===!0&&H.onAfterRender(E,H,me),Ge.resetDefaultState(),R=-1,I=null,b.pop(),b.length>0?(g=b[b.length-1],Me===!0&&$.setGlobalState(E.clippingPlanes,g.state.camera)):g=null,y.pop(),y.length>0?_=y[y.length-1]:_=null};function nn(H,me,we,De){if(H.visible===!1)return;if(H.layers.test(me.layers)){if(H.isGroup)we=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(me);else if(H.isLight)g.pushLight(H),H.castShadow&&g.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||Ot.intersectsSprite(H)){De&&ze.setFromMatrixPosition(H.matrixWorld).applyMatrix4(Ve);let ct=be.update(H),xt=H.material;xt.visible&&_.push(H,ct,xt,we,ze.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(!H.frustumCulled||Ot.intersectsObject(H))){let ct=be.update(H),xt=H.material;if(De&&(H.boundingSphere!==void 0?(H.boundingSphere===null&&H.computeBoundingSphere(),ze.copy(H.boundingSphere.center)):(ct.boundingSphere===null&&ct.computeBoundingSphere(),ze.copy(ct.boundingSphere.center)),ze.applyMatrix4(H.matrixWorld).applyMatrix4(Ve)),Array.isArray(xt)){let bt=ct.groups;for(let zt=0,Ht=bt.length;zt<Ht;zt++){let Nt=bt[zt],Si=xt[Nt.materialIndex];Si&&Si.visible&&_.push(H,ct,Si,we,ze.z,Nt)}}else xt.visible&&_.push(H,ct,xt,we,ze.z,null)}}let Qe=H.children;for(let ct=0,xt=Qe.length;ct<xt;ct++)nn(Qe[ct],me,we,De)}function En(H,me,we,De){let ve=H.opaque,Qe=H.transmissive,ct=H.transparent;g.setupLightsView(we),Me===!0&&$.setGlobalState(E.clippingPlanes,we),De&&fe.viewport(A.copy(De)),ve.length>0&&Io(ve,me,we),Qe.length>0&&Io(Qe,me,we),ct.length>0&&Io(ct,me,we),fe.buffers.depth.setTest(!0),fe.buffers.depth.setMask(!0),fe.buffers.color.setMask(!0),fe.setPolygonOffset(!1)}function Po(H,me,we,De){if((we.isScene===!0?we.overrideMaterial:null)!==null)return;g.state.transmissionRenderTarget[De.id]===void 0&&(g.state.transmissionRenderTarget[De.id]=new Or(1,1,{generateMipmaps:!0,type:K.has("EXT_color_buffer_half_float")||K.has("EXT_color_buffer_float")?ey:el,minFilter:ma,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:wi.workingColorSpace}));let Qe=g.state.transmissionRenderTarget[De.id],ct=De.viewport||A;Qe.setSize(ct.z,ct.w);let xt=E.getRenderTarget();E.setRenderTarget(Qe),E.getClearColor(X),J=E.getClearAlpha(),J<1&&E.setClearColor(16777215,.5),gt?O.render(we):E.clear();let bt=E.toneMapping;E.toneMapping=Qo;let zt=De.viewport;if(De.viewport!==void 0&&(De.viewport=void 0),g.setupLightsView(De),Me===!0&&$.setGlobalState(E.clippingPlanes,De),Io(H,we,De),Pe.updateMultisampleRenderTarget(Qe),Pe.updateRenderTargetMipmap(Qe),K.has("WEBGL_multisampled_render_to_texture")===!1){let Ht=!1;for(let Nt=0,Si=me.length;Nt<Si;Nt++){let ji=me[Nt],rn=ji.object,Er=ji.geometry,Ii=ji.material,Ft=ji.group;if(Ii.side===Gs&&rn.layers.test(De.layers)){let Qn=Ii.side;Ii.side=Lr,Ii.needsUpdate=!0,N0(rn,we,De,Er,Ii,Ft),Ii.side=Qn,Ii.needsUpdate=!0,Ht=!0}}Ht===!0&&(Pe.updateMultisampleRenderTarget(Qe),Pe.updateRenderTargetMipmap(Qe))}E.setRenderTarget(xt),E.setClearColor(X,J),zt!==void 0&&(De.viewport=zt),E.toneMapping=bt}function Io(H,me,we){let De=me.isScene===!0?me.overrideMaterial:null;for(let ve=0,Qe=H.length;ve<Qe;ve++){let ct=H[ve],xt=ct.object,bt=ct.geometry,zt=De===null?ct.material:De,Ht=ct.group;xt.layers.test(we.layers)&&N0(xt,me,we,bt,zt,Ht)}}function N0(H,me,we,De,ve,Qe){H.onBeforeRender(E,me,we,De,ve,Qe),H.modelViewMatrix.multiplyMatrices(we.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),ve.onBeforeRender(E,me,we,De,H,Qe),ve.transparent===!0&&ve.side===Gs&&ve.forceSinglePass===!1?(ve.side=Lr,ve.needsUpdate=!0,E.renderBufferDirect(we,me,De,ve,H,Qe),ve.side=ya,ve.needsUpdate=!0,E.renderBufferDirect(we,me,De,ve,H,Qe),ve.side=Gs):E.renderBufferDirect(we,me,De,ve,H,Qe),H.onAfterRender(E,me,we,De,ve,Qe)}function zl(H,me,we){me.isScene!==!0&&(me=Ke);let De=Ae.get(H),ve=g.state.lights,Qe=g.state.shadowsArray,ct=ve.state.version,xt=ye.getParameters(H,ve.state,Qe,me,we),bt=ye.getProgramCacheKey(xt),zt=De.programs;De.environment=H.isMeshStandardMaterial?me.environment:null,De.fog=me.fog,De.envMap=(H.isMeshStandardMaterial?V:$e).get(H.envMap||De.environment),De.envMapRotation=De.environment!==null&&H.envMap===null?me.environmentRotation:H.envMapRotation,zt===void 0&&(H.addEventListener("dispose",Fe),zt=new Map,De.programs=zt);let Ht=zt.get(bt);if(Ht!==void 0){if(De.currentProgram===Ht&&De.lightsStateVersion===ct)return F0(H,xt),Ht}else xt.uniforms=ye.getUniforms(H),H.onBuild(we,xt,E),H.onBeforeCompile(xt,E),Ht=ye.acquireProgram(xt,bt),zt.set(bt,Ht),De.uniforms=xt.uniforms;let Nt=De.uniforms;return(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(Nt.clippingPlanes=$.uniform),F0(H,xt),De.needsLights=cA(H),De.lightsStateVersion=ct,De.needsLights&&(Nt.ambientLightColor.value=ve.state.ambient,Nt.lightProbe.value=ve.state.probe,Nt.directionalLights.value=ve.state.directional,Nt.directionalLightShadows.value=ve.state.directionalShadow,Nt.spotLights.value=ve.state.spot,Nt.spotLightShadows.value=ve.state.spotShadow,Nt.rectAreaLights.value=ve.state.rectArea,Nt.ltc_1.value=ve.state.rectAreaLTC1,Nt.ltc_2.value=ve.state.rectAreaLTC2,Nt.pointLights.value=ve.state.point,Nt.pointLightShadows.value=ve.state.pointShadow,Nt.hemisphereLights.value=ve.state.hemi,Nt.directionalShadowMap.value=ve.state.directionalShadowMap,Nt.directionalShadowMatrix.value=ve.state.directionalShadowMatrix,Nt.spotShadowMap.value=ve.state.spotShadowMap,Nt.spotLightMatrix.value=ve.state.spotLightMatrix,Nt.spotLightMap.value=ve.state.spotLightMap,Nt.pointShadowMap.value=ve.state.pointShadowMap,Nt.pointShadowMatrix.value=ve.state.pointShadowMatrix),De.currentProgram=Ht,De.uniformsList=null,Ht}function k0(H){if(H.uniformsList===null){let me=H.currentProgram.getUniforms();H.uniformsList=Qu.seqWithValue(me.seq,H.uniforms)}return H.uniformsList}function F0(H,me){let we=Ae.get(H);we.outputColorSpace=me.outputColorSpace,we.batching=me.batching,we.batchingColor=me.batchingColor,we.instancing=me.instancing,we.instancingColor=me.instancingColor,we.instancingMorph=me.instancingMorph,we.skinning=me.skinning,we.morphTargets=me.morphTargets,we.morphNormals=me.morphNormals,we.morphColors=me.morphColors,we.morphTargetsCount=me.morphTargetsCount,we.numClippingPlanes=me.numClippingPlanes,we.numIntersection=me.numClipIntersection,we.vertexAlphas=me.vertexAlphas,we.vertexTangents=me.vertexTangents,we.toneMapping=me.toneMapping}function Cp(H,me,we,De,ve){me.isScene!==!0&&(me=Ke),Pe.resetTextureUnits();let Qe=me.fog,ct=De.isMeshStandardMaterial?me.environment:null,xt=M===null?E.outputColorSpace:M.isXRRenderTarget===!0?M.texture.colorSpace:Cn,bt=(De.isMeshStandardMaterial?V:$e).get(De.envMap||ct),zt=De.vertexColors===!0&&!!we.attributes.color&&we.attributes.color.itemSize===4,Ht=!!we.attributes.tangent&&(!!De.normalMap||De.anisotropy>0),Nt=!!we.morphAttributes.position,Si=!!we.morphAttributes.normal,ji=!!we.morphAttributes.color,rn=Qo;De.toneMapped&&(M===null||M.isXRRenderTarget===!0)&&(rn=E.toneMapping);let Er=we.morphAttributes.position||we.morphAttributes.normal||we.morphAttributes.color,Ii=Er!==void 0?Er.length:0,Ft=Ae.get(De),Qn=g.state.lights;if(Me===!0&&(Ne===!0||H!==I)){let Hr=H===I&&De.id===R;$.setState(De,H,Hr)}let Di=!1;De.version===Ft.__version?(Ft.needsLights&&Ft.lightsStateVersion!==Qn.state.version||Ft.outputColorSpace!==xt||ve.isBatchedMesh&&Ft.batching===!1||!ve.isBatchedMesh&&Ft.batching===!0||ve.isBatchedMesh&&Ft.batchingColor===!0&&ve.colorTexture===null||ve.isBatchedMesh&&Ft.batchingColor===!1&&ve.colorTexture!==null||ve.isInstancedMesh&&Ft.instancing===!1||!ve.isInstancedMesh&&Ft.instancing===!0||ve.isSkinnedMesh&&Ft.skinning===!1||!ve.isSkinnedMesh&&Ft.skinning===!0||ve.isInstancedMesh&&Ft.instancingColor===!0&&ve.instanceColor===null||ve.isInstancedMesh&&Ft.instancingColor===!1&&ve.instanceColor!==null||ve.isInstancedMesh&&Ft.instancingMorph===!0&&ve.morphTexture===null||ve.isInstancedMesh&&Ft.instancingMorph===!1&&ve.morphTexture!==null||Ft.envMap!==bt||De.fog===!0&&Ft.fog!==Qe||Ft.numClippingPlanes!==void 0&&(Ft.numClippingPlanes!==$.numPlanes||Ft.numIntersection!==$.numIntersection)||Ft.vertexAlphas!==zt||Ft.vertexTangents!==Ht||Ft.morphTargets!==Nt||Ft.morphNormals!==Si||Ft.morphColors!==ji||Ft.toneMapping!==rn||Ft.morphTargetsCount!==Ii)&&(Di=!0):(Di=!0,Ft.__version=De.version);let Is=Ft.currentProgram;Di===!0&&(Is=zl(De,me,ve));let Kc=!1,Do=!1,Jc=!1,hn=Is.getUniforms(),Vr=Ft.uniforms;if(fe.useProgram(Is.program)&&(Kc=!0,Do=!0,Jc=!0),De.id!==R&&(R=De.id,Do=!0),Kc||I!==H){hn.setValue(ie,"projectionMatrix",H.projectionMatrix),hn.setValue(ie,"viewMatrix",H.matrixWorldInverse);let Hr=hn.map.cameraPosition;Hr!==void 0&&Hr.setValue(ie,ze.setFromMatrixPosition(H.matrixWorld)),ee.logarithmicDepthBuffer&&hn.setValue(ie,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),(De.isMeshPhongMaterial||De.isMeshToonMaterial||De.isMeshLambertMaterial||De.isMeshBasicMaterial||De.isMeshStandardMaterial||De.isShaderMaterial)&&hn.setValue(ie,"isOrthographic",H.isOrthographicCamera===!0),I!==H&&(I=H,Do=!0,Jc=!0)}if(ve.isSkinnedMesh){hn.setOptional(ie,ve,"bindMatrix"),hn.setOptional(ie,ve,"bindMatrixInverse");let Hr=ve.skeleton;Hr&&(Hr.boneTexture===null&&Hr.computeBoneTexture(),hn.setValue(ie,"boneTexture",Hr.boneTexture,Pe))}ve.isBatchedMesh&&(hn.setOptional(ie,ve,"batchingTexture"),hn.setValue(ie,"batchingTexture",ve._matricesTexture,Pe),hn.setOptional(ie,ve,"batchingColorTexture"),ve._colorsTexture!==null&&hn.setValue(ie,"batchingColorTexture",ve._colorsTexture,Pe));let Pp=we.morphAttributes;if((Pp.position!==void 0||Pp.normal!==void 0||Pp.color!==void 0)&&Y.update(ve,we,Is),(Do||Ft.receiveShadow!==ve.receiveShadow)&&(Ft.receiveShadow=ve.receiveShadow,hn.setValue(ie,"receiveShadow",ve.receiveShadow)),De.isMeshGouraudMaterial&&De.envMap!==null&&(Vr.envMap.value=bt,Vr.flipEnvMap.value=bt.isCubeTexture&&bt.isRenderTargetTexture===!1?-1:1),De.isMeshStandardMaterial&&De.envMap===null&&me.environment!==null&&(Vr.envMapIntensity.value=me.environmentIntensity),Do&&(hn.setValue(ie,"toneMappingExposure",E.toneMappingExposure),Ft.needsLights&&lA(Vr,Jc),Qe&&De.fog===!0&&Ee.refreshFogUniforms(Vr,Qe),Ee.refreshMaterialUniforms(Vr,De,pe,te,g.state.transmissionRenderTarget[H.id]),Qu.upload(ie,k0(Ft),Vr,Pe)),De.isShaderMaterial&&De.uniformsNeedUpdate===!0&&(Qu.upload(ie,k0(Ft),Vr,Pe),De.uniformsNeedUpdate=!1),De.isSpriteMaterial&&hn.setValue(ie,"center",ve.center),hn.setValue(ie,"modelViewMatrix",ve.modelViewMatrix),hn.setValue(ie,"normalMatrix",ve.normalMatrix),hn.setValue(ie,"modelMatrix",ve.matrixWorld),De.isShaderMaterial||De.isRawShaderMaterial){let Hr=De.uniformsGroups;for(let Ip=0,uA=Hr.length;Ip<uA;Ip++){let B0=Hr[Ip];Ie.update(B0,Is),Ie.bind(B0,Is)}}return Is}function lA(H,me){H.ambientLightColor.needsUpdate=me,H.lightProbe.needsUpdate=me,H.directionalLights.needsUpdate=me,H.directionalLightShadows.needsUpdate=me,H.pointLights.needsUpdate=me,H.pointLightShadows.needsUpdate=me,H.spotLights.needsUpdate=me,H.spotLightShadows.needsUpdate=me,H.rectAreaLights.needsUpdate=me,H.hemisphereLights.needsUpdate=me}function cA(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return D},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(H,me,we){Ae.get(H.texture).__webglTexture=me,Ae.get(H.depthTexture).__webglTexture=we;let De=Ae.get(H);De.__hasExternalTextures=!0,De.__autoAllocateDepthBuffer=we===void 0,De.__autoAllocateDepthBuffer||K.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),De.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(H,me){let we=Ae.get(H);we.__webglFramebuffer=me,we.__useDefaultFramebuffer=me===void 0},this.setRenderTarget=function(H,me=0,we=0){M=H,D=me,P=we;let De=!0,ve=null,Qe=!1,ct=!1;if(H){let bt=Ae.get(H);bt.__useDefaultFramebuffer!==void 0?(fe.bindFramebuffer(ie.FRAMEBUFFER,null),De=!1):bt.__webglFramebuffer===void 0?Pe.setupRenderTarget(H):bt.__hasExternalTextures&&Pe.rebindTextures(H,Ae.get(H.texture).__webglTexture,Ae.get(H.depthTexture).__webglTexture);let zt=H.texture;(zt.isData3DTexture||zt.isDataArrayTexture||zt.isCompressedArrayTexture)&&(ct=!0);let Ht=Ae.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(Array.isArray(Ht[me])?ve=Ht[me][we]:ve=Ht[me],Qe=!0):H.samples>0&&Pe.useMultisampledRTT(H)===!1?ve=Ae.get(H).__webglMultisampledFramebuffer:Array.isArray(Ht)?ve=Ht[we]:ve=Ht,A.copy(H.viewport),N.copy(H.scissor),G=H.scissorTest}else A.copy(qe).multiplyScalar(pe).floor(),N.copy(je).multiplyScalar(pe).floor(),G=et;if(fe.bindFramebuffer(ie.FRAMEBUFFER,ve)&&De&&fe.drawBuffers(H,ve),fe.viewport(A),fe.scissor(N),fe.setScissorTest(G),Qe){let bt=Ae.get(H.texture);ie.framebufferTexture2D(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_CUBE_MAP_POSITIVE_X+me,bt.__webglTexture,we)}else if(ct){let bt=Ae.get(H.texture),zt=me||0;ie.framebufferTextureLayer(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,bt.__webglTexture,we||0,zt)}R=-1},this.readRenderTargetPixels=function(H,me,we,De,ve,Qe,ct){if(!(H&&H.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let xt=Ae.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&ct!==void 0&&(xt=xt[ct]),xt){fe.bindFramebuffer(ie.FRAMEBUFFER,xt);try{let bt=H.texture,zt=bt.format,Ht=bt.type;if(!ee.textureFormatReadable(zt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ee.textureTypeReadable(Ht)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}me>=0&&me<=H.width-De&&we>=0&&we<=H.height-ve&&ie.readPixels(me,we,De,ve,Se.convert(zt),Se.convert(Ht),Qe)}finally{let bt=M!==null?Ae.get(M).__webglFramebuffer:null;fe.bindFramebuffer(ie.FRAMEBUFFER,bt)}}},this.readRenderTargetPixelsAsync=function(H,me,we,De,ve,Qe,ct){return Sn(this,null,function*(){if(!(H&&H.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let xt=Ae.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&ct!==void 0&&(xt=xt[ct]),xt){fe.bindFramebuffer(ie.FRAMEBUFFER,xt);try{let bt=H.texture,zt=bt.format,Ht=bt.type;if(!ee.textureFormatReadable(zt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ee.textureTypeReadable(Ht))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(me>=0&&me<=H.width-De&&we>=0&&we<=H.height-ve){let Nt=ie.createBuffer();ie.bindBuffer(ie.PIXEL_PACK_BUFFER,Nt),ie.bufferData(ie.PIXEL_PACK_BUFFER,Qe.byteLength,ie.STREAM_READ),ie.readPixels(me,we,De,ve,Se.convert(zt),Se.convert(Ht),0),ie.flush();let Si=ie.fenceSync(ie.SYNC_GPU_COMMANDS_COMPLETE,0);yield JG(ie,Si,4);try{ie.bindBuffer(ie.PIXEL_PACK_BUFFER,Nt),ie.getBufferSubData(ie.PIXEL_PACK_BUFFER,0,Qe)}finally{ie.deleteBuffer(Nt),ie.deleteSync(Si)}return Qe}}finally{let bt=M!==null?Ae.get(M).__webglFramebuffer:null;fe.bindFramebuffer(ie.FRAMEBUFFER,bt)}}})},this.copyFramebufferToTexture=function(H,me=null,we=0){H.isTexture!==!0&&(console.warn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),me=arguments[0]||null,H=arguments[1]);let De=Math.pow(2,-we),ve=Math.floor(H.image.width*De),Qe=Math.floor(H.image.height*De),ct=me!==null?me.x:0,xt=me!==null?me.y:0;Pe.setTexture2D(H,0),ie.copyTexSubImage2D(ie.TEXTURE_2D,we,0,0,ct,xt,ve,Qe),fe.unbindTexture()},this.copyTextureToTexture=function(H,me,we=null,De=null,ve=0){H.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture function signature has changed."),De=arguments[0]||null,H=arguments[1],me=arguments[2],ve=arguments[3]||0,we=null);let Qe,ct,xt,bt,zt,Ht;we!==null?(Qe=we.max.x-we.min.x,ct=we.max.y-we.min.y,xt=we.min.x,bt=we.min.y):(Qe=H.image.width,ct=H.image.height,xt=0,bt=0),De!==null?(zt=De.x,Ht=De.y):(zt=0,Ht=0);let Nt=Se.convert(me.format),Si=Se.convert(me.type);Pe.setTexture2D(me,0),ie.pixelStorei(ie.UNPACK_FLIP_Y_WEBGL,me.flipY),ie.pixelStorei(ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,me.premultiplyAlpha),ie.pixelStorei(ie.UNPACK_ALIGNMENT,me.unpackAlignment);let ji=ie.getParameter(ie.UNPACK_ROW_LENGTH),rn=ie.getParameter(ie.UNPACK_IMAGE_HEIGHT),Er=ie.getParameter(ie.UNPACK_SKIP_PIXELS),Ii=ie.getParameter(ie.UNPACK_SKIP_ROWS),Ft=ie.getParameter(ie.UNPACK_SKIP_IMAGES),Qn=H.isCompressedTexture?H.mipmaps[ve]:H.image;ie.pixelStorei(ie.UNPACK_ROW_LENGTH,Qn.width),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,Qn.height),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,xt),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,bt),H.isDataTexture?ie.texSubImage2D(ie.TEXTURE_2D,ve,zt,Ht,Qe,ct,Nt,Si,Qn.data):H.isCompressedTexture?ie.compressedTexSubImage2D(ie.TEXTURE_2D,ve,zt,Ht,Qn.width,Qn.height,Nt,Qn.data):ie.texSubImage2D(ie.TEXTURE_2D,ve,zt,Ht,Nt,Si,Qn),ie.pixelStorei(ie.UNPACK_ROW_LENGTH,ji),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,rn),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,Er),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,Ii),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,Ft),ve===0&&me.generateMipmaps&&ie.generateMipmap(ie.TEXTURE_2D),fe.unbindTexture()},this.copyTextureToTexture3D=function(H,me,we=null,De=null,ve=0){H.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),we=arguments[0]||null,De=arguments[1]||null,H=arguments[2],me=arguments[3],ve=arguments[4]||0);let Qe,ct,xt,bt,zt,Ht,Nt,Si,ji,rn=H.isCompressedTexture?H.mipmaps[ve]:H.image;we!==null?(Qe=we.max.x-we.min.x,ct=we.max.y-we.min.y,xt=we.max.z-we.min.z,bt=we.min.x,zt=we.min.y,Ht=we.min.z):(Qe=rn.width,ct=rn.height,xt=rn.depth,bt=0,zt=0,Ht=0),De!==null?(Nt=De.x,Si=De.y,ji=De.z):(Nt=0,Si=0,ji=0);let Er=Se.convert(me.format),Ii=Se.convert(me.type),Ft;if(me.isData3DTexture)Pe.setTexture3D(me,0),Ft=ie.TEXTURE_3D;else if(me.isDataArrayTexture||me.isCompressedArrayTexture)Pe.setTexture2DArray(me,0),Ft=ie.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ie.pixelStorei(ie.UNPACK_FLIP_Y_WEBGL,me.flipY),ie.pixelStorei(ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,me.premultiplyAlpha),ie.pixelStorei(ie.UNPACK_ALIGNMENT,me.unpackAlignment);let Qn=ie.getParameter(ie.UNPACK_ROW_LENGTH),Di=ie.getParameter(ie.UNPACK_IMAGE_HEIGHT),Is=ie.getParameter(ie.UNPACK_SKIP_PIXELS),Kc=ie.getParameter(ie.UNPACK_SKIP_ROWS),Do=ie.getParameter(ie.UNPACK_SKIP_IMAGES);ie.pixelStorei(ie.UNPACK_ROW_LENGTH,rn.width),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,rn.height),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,bt),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,zt),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,Ht),H.isDataTexture||H.isData3DTexture?ie.texSubImage3D(Ft,ve,Nt,Si,ji,Qe,ct,xt,Er,Ii,rn.data):me.isCompressedArrayTexture?ie.compressedTexSubImage3D(Ft,ve,Nt,Si,ji,Qe,ct,xt,Er,rn.data):ie.texSubImage3D(Ft,ve,Nt,Si,ji,Qe,ct,xt,Er,Ii,rn),ie.pixelStorei(ie.UNPACK_ROW_LENGTH,Qn),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,Di),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,Is),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,Kc),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,Do),ve===0&&me.generateMipmaps&&ie.generateMipmap(Ft),fe.unbindTexture()},this.initRenderTarget=function(H){Ae.get(H).__webglFramebuffer===void 0&&Pe.setupRenderTarget(H)},this.initTexture=function(H){H.isCubeTexture?Pe.setTextureCube(H,0):H.isData3DTexture?Pe.setTexture3D(H,0):H.isDataArrayTexture||H.isCompressedArrayTexture?Pe.setTexture2DArray(H,0):Pe.setTexture2D(H,0),fe.unbindTexture()},this.resetState=function(){D=0,P=0,M=null,fe.reset(),Ge.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return to}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;let t=this.getContext();t.drawingBufferColorSpace=e===nS?"display-p3":"srgb",t.unpackColorSpace=wi.workingColorSpace===iy?"display-p3":"srgb"}};var rl=class extends Qi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new va,this.environmentIntensity=1,this.environmentRotation=new va,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}},fd=class{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=SE,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=qs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return sS("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=qs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=qs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}},gr=new ae,dd=class n{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)gr.fromBufferAttribute(this,t),gr.applyMatrix4(e),this.setXYZ(t,gr.x,gr.y,gr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)gr.fromBufferAttribute(this,t),gr.applyNormalMatrix(e),this.setXYZ(t,gr.x,gr.y,gr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)gr.fromBufferAttribute(this,t),gr.transformDirection(e),this.setXYZ(t,gr.x,gr.y,gr.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=$s(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=ki(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=ki(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=ki(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=ki(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=ki(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=$s(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=$s(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=$s(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=$s(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=ki(t,this.array),i=ki(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=ki(t,this.array),i=ki(i,this.array),r=ki(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=ki(t,this.array),i=ki(i,this.array),r=ki(r,this.array),s=ki(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let i=0;i<this.count;i++){let r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new gn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new n(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let i=0;i<this.count;i++){let r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}};var bR=new ae,ER=new Wi,SR=new Wi,G9=new ae,TR=new ii,mg=new ae,mE=new Xr,wR=new ii,gE=new tl,Fg=class extends Mn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=sD,this.bindMatrix=new ii,this.bindMatrixInverse=new ii,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){let e=this.geometry;this.boundingBox===null&&(this.boundingBox=new vs),this.boundingBox.makeEmpty();let t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,mg),this.boundingBox.expandByPoint(mg)}computeBoundingSphere(){let e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Xr),this.boundingSphere.makeEmpty();let t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,mg),this.boundingSphere.expandByPoint(mg)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){let i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),mE.copy(this.boundingSphere),mE.applyMatrix4(r),e.ray.intersectsSphere(mE)!==!1&&(wR.copy(r).invert(),gE.copy(e.ray).applyMatrix4(wR),!(this.boundingBox!==null&&gE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,gE)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){let e=new Wi,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);let s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===sD?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===uG?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){let i=this.skeleton,r=this.geometry;ER.fromBufferAttribute(r.attributes.skinIndex,e),SR.fromBufferAttribute(r.attributes.skinWeight,e),bR.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){let a=SR.getComponent(s);if(a!==0){let o=ER.getComponent(s);TR.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),t.addScaledVector(G9.copy(bR).applyMatrix4(TR),a)}}return t.applyMatrix4(this.bindMatrixInverse)}},pd=class extends Qi{constructor(){super(),this.isBone=!0,this.type="Bone"}},Bg=class extends Gn{constructor(e=null,t=1,i=1,r,s,a,o,l,c=xn,u=xn,h,d){super(null,a,o,l,c,u,r,s,h,d),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},AR=new ii,$9=new ii,Ug=class n{constructor(e=[],t=[]){this.uuid=qs(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new ii)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let i=new ii;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){let e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){let o=e[s]?e[s].matrixWorld:$9;AR.multiplyMatrices(o,t[s]),AR.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new n(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);let t=new Float32Array(e*e*4);t.set(this.boneMatrices);let i=new Bg(t,e,e,Ws,ga);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){let r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){let s=e.bones[i],a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new pd),this.bones.push(a),this.boneInverses.push(new ii().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){let e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){let a=t[r];e.bones.push(a.uuid);let o=i[r];e.boneInverses.push(o.toArray())}return e}},yc=class extends gn{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}},$u=new ii,MR=new ii,gg=[],CR=new vs,W9=new ii,Zf=new Mn,Qf=new Xr,zg=class extends Mn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new yc(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,W9)}computeBoundingBox(){let e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new vs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,$u),CR.copy(e.boundingBox).applyMatrix4($u),this.boundingBox.union(CR)}computeBoundingSphere(){let e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Xr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,$u),Qf.copy(e.boundingSphere).applyMatrix4($u),this.boundingSphere.union(Qf)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){let i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,a=e*s+1;for(let o=0;o<i.length;o++)i[o]=r[a+o]}raycast(e,t){let i=this.matrixWorld,r=this.count;if(Zf.geometry=this.geometry,Zf.material=this.material,Zf.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Qf.copy(this.boundingSphere),Qf.applyMatrix4(i),e.ray.intersectsSphere(Qf)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,$u),MR.multiplyMatrices(i,$u),Zf.matrixWorld=MR,Zf.raycast(e,gg);for(let a=0,o=gg.length;a<o;a++){let l=gg[a];l.instanceId=s,l.object=this,t.push(l)}gg.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new yc(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){let i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Bg(new Float32Array(r*this.count),r,this.count,qR,ga));let s=this.morphTexture.source.data.data,a=0;for(let c=0;c<i.length;c++)a+=i[c];let o=this.geometry.morphTargetsRelative?1:1-a,l=r*e;s[l]=o,s.set(i,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}};var uh=class extends Yr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Vt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}},Vg=new ae,Hg=new ae,PR=new ii,ed=new tl,yg=new Xr,yE=new ae,IR=new ae,hh=class extends Qi{constructor(e=new Kn,t=new uh){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)Vg.fromBufferAttribute(t,r-1),Hg.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=Vg.distanceTo(Hg);e.setAttribute("lineDistance",new Yn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){let i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),yg.copy(i.boundingSphere),yg.applyMatrix4(r),yg.radius+=s,e.ray.intersectsSphere(yg)===!1)return;PR.copy(r).invert(),ed.copy(e.ray).applyMatrix4(PR);let o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,u=i.index,d=i.attributes.position;if(u!==null){let m=Math.max(0,a.start),v=Math.min(u.count,a.start+a.count);for(let _=m,g=v-1;_<g;_+=c){let y=u.getX(_),b=u.getX(_+1),E=vg(this,e,ed,l,y,b);E&&t.push(E)}if(this.isLineLoop){let _=u.getX(v-1),g=u.getX(m),y=vg(this,e,ed,l,_,g);y&&t.push(y)}}else{let m=Math.max(0,a.start),v=Math.min(d.count,a.start+a.count);for(let _=m,g=v-1;_<g;_+=c){let y=vg(this,e,ed,l,_,_+1);y&&t.push(y)}if(this.isLineLoop){let _=vg(this,e,ed,l,v-1,m);_&&t.push(_)}}}updateMorphTargets(){let t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){let r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){let o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}};function vg(n,e,t,i,r,s){let a=n.geometry.attributes.position;if(Vg.fromBufferAttribute(a,r),Hg.fromBufferAttribute(a,s),t.distanceSqToSegment(Vg,Hg,yE,IR)>i)return;yE.applyMatrix4(n.matrixWorld);let l=e.ray.origin.distanceTo(yE);if(!(l<e.near||l>e.far))return{distance:l,point:IR.clone().applyMatrix4(n.matrixWorld),index:r,face:null,faceIndex:null,object:n}}var DR=new ae,RR=new ae,md=class extends hh{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)DR.fromBufferAttribute(t,r),RR.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+DR.distanceTo(RR);e.setAttribute("lineDistance",new Yn(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},Gg=class extends hh{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}},gd=class extends Yr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Vt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}},LR=new ii,zE=new tl,_g=new Xr,xg=new ae,$g=class extends Qi{constructor(e=new Kn,t=new gd){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){let i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),_g.copy(i.boundingSphere),_g.applyMatrix4(r),_g.radius+=s,e.ray.intersectsSphere(_g)===!1)return;LR.copy(r).invert(),zE.copy(e.ray).applyMatrix4(LR);let o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=i.index,h=i.attributes.position;if(c!==null){let d=Math.max(0,a.start),m=Math.min(c.count,a.start+a.count);for(let v=d,_=m;v<_;v++){let g=c.getX(v);xg.fromBufferAttribute(h,g),OR(xg,g,l,r,e,t,this)}}else{let d=Math.max(0,a.start),m=Math.min(h.count,a.start+a.count);for(let v=d,_=m;v<_;v++)xg.fromBufferAttribute(h,v),OR(xg,v,l,r,e,t,this)}}updateMorphTargets(){let t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){let r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){let o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}};function OR(n,e,t,i,r,s,a){let o=zE.distanceSqToPoint(n);if(o<t){let l=new ae;zE.closestPointToPoint(n,l),l.applyMatrix4(i);let c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,object:a})}}var Wg=class extends Gn{constructor(e,t,i,r,s,a,o,l,c){super(e,t,i,r,s,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}};var fh=class extends Xs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}},dh=class extends Yr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Vt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=JR,this.normalScale=new Bt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new va,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}},Kr=class extends dh{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Bt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return jn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Vt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Vt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Vt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}};function bg(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function q9(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function j9(n){function e(r,s){return n[r]-n[s]}let t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function NR(n,e,t){let i=n.length,r=new n.constructor(i);for(let s=0,a=0;a!==i;++s){let o=t[s]*e;for(let l=0;l!==e;++l)r[a++]=n[o+l]}return r}function lL(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),t.push.apply(t,a)),s=n[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),t.push(a)),s=n[r++];while(s!==void 0)}var sl=class{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let a;i:{n:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<s)break n;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=r,r=t[++i],e<r)break t}a=t.length;break i}if(!(e>=s)){let o=t[1];e<o&&(i=2,s=o);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}a=i,i=0;break i}break e}for(;i<a;){let o=i+a>>>1;e<t[o]?a=o:i=o+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},VE=class extends sl{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:qu,endingEnd:qu}}intervalChanged_(e,t,i){let r=this.parameterPositions,s=e-2,a=e+1,o=r[s],l=r[a];if(o===void 0)switch(this.getSettings_().endingStart){case ju:s=e,o=2*t-i;break;case Tg:s=r.length-2,o=t+r[s]-r[s+1];break;default:s=e,o=i}if(l===void 0)switch(this.getSettings_().endingEnd){case ju:a=e,l=2*i-t;break;case Tg:a=1,l=i+r[1]-r[0];break;default:a=e-1,l=t}let c=(i-t)*.5,u=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=a*u}interpolate_(e,t,i,r){let s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=this._offsetPrev,h=this._offsetNext,d=this._weightPrev,m=this._weightNext,v=(i-t)/(r-t),_=v*v,g=_*v,y=-d*g+2*d*_-d*v,b=(1+d)*g+(-1.5-2*d)*_+(-.5+d)*v+1,E=(-1-m)*g+(1.5+m)*_+.5*v,w=m*g-m*_;for(let D=0;D!==o;++D)s[D]=y*a[u+D]+b*a[c+D]+E*a[l+D]+w*a[h+D];return s}},qg=class extends sl{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){let s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=(i-t)/(r-t),h=1-u;for(let d=0;d!==o;++d)s[d]=a[c+d]*h+a[l+d]*u;return s}},HE=class extends sl{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}},_s=class{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=bg(t,this.TimeBufferType),this.values=bg(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){let t=e.constructor,i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:bg(e.times,Array),values:bg(e.values,Array)};let r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new HE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new qg(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new VE(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case sh:t=this.InterpolantFactoryMethodDiscrete;break;case ah:t=this.InterpolantFactoryMethodLinear;break;case $b:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){let i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return sh;case this.InterpolantFactoryMethodLinear:return ah;case this.InterpolantFactoryMethodSmooth:return $b}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){let t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){let i=this.times,r=i.length,s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;a!==-1&&i[a]>t;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);let o=this.getValueSize();this.times=i.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){let l=i[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(r!==void 0&&q9(r))for(let o=0,l=r.length;o!==l;++o){let c=r[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){let e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===$b,s=e.length-1,a=1;for(let o=1;o<s;++o){let l=!1,c=e[o],u=e[o+1];if(c!==u&&(o!==1||c!==e[0]))if(r)l=!0;else{let h=o*i,d=h-i,m=h+i;for(let v=0;v!==i;++v){let _=t[h+v];if(_!==t[d+v]||_!==t[m+v]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];let h=o*i,d=a*i;for(let m=0;m!==i;++m)t[d+m]=t[h+m]}++a}}if(s>0){e[a]=e[s];for(let o=s*i,l=a*i,c=0;c!==i;++c)t[l+c]=t[o+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*i)):(this.times=e,this.values=t),this}clone(){let e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}};_s.prototype.TimeBufferType=Float32Array;_s.prototype.ValueBufferType=Float32Array;_s.prototype.DefaultInterpolation=ah;var al=class extends _s{constructor(e,t,i){super(e,t,i)}};al.prototype.ValueTypeName="bool";al.prototype.ValueBufferType=Array;al.prototype.DefaultInterpolation=sh;al.prototype.InterpolantFactoryMethodLinear=void 0;al.prototype.InterpolantFactoryMethodSmooth=void 0;var jg=class extends _s{};jg.prototype.ValueTypeName="color";var no=class extends _s{};no.prototype.ValueTypeName="number";var GE=class extends sl{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){let s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(i-t)/(r-t),c=e*o;for(let u=c+o;c!==u;c+=4)Xn.slerpFlat(s,0,a,c-o,a,c,l);return s}},ro=class extends _s{InterpolantFactoryMethodLinear(e){return new GE(this.times,this.values,this.getValueSize(),e)}};ro.prototype.ValueTypeName="quaternion";ro.prototype.InterpolantFactoryMethodSmooth=void 0;var ol=class extends _s{constructor(e,t,i){super(e,t,i)}};ol.prototype.ValueTypeName="string";ol.prototype.ValueBufferType=Array;ol.prototype.DefaultInterpolation=sh;ol.prototype.InterpolantFactoryMethodLinear=void 0;ol.prototype.InterpolantFactoryMethodSmooth=void 0;var so=class extends _s{};so.prototype.ValueTypeName="vector";var ph=class{constructor(e="",t=-1,i=[],r=iS){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=qs(),this.duration<0&&this.resetDuration()}static parse(e){let t=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,o=i.length;a!==o;++a)t.push(Y9(i[a]).scale(r));let s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){let t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=i.length;s!==a;++s)t.push(_s.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){let s=t.length,a=[];for(let o=0;o<s;o++){let l=[],c=[];l.push((o+s-1)%s,o,(o+1)%s),c.push(0,1,0);let u=j9(l);l=NR(l,1,u),c=NR(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),a.push(new no(".morphTargetInfluences["+t[o].name+"]",l,c).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){let r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){let r={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){let c=e[o],u=c.name.match(s);if(u&&u.length>1){let h=u[1],d=r[h];d||(r[h]=d=[]),d.push(c)}}let a=[];for(let o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],t,i));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let i=function(h,d,m,v,_){if(m.length!==0){let g=[],y=[];lL(m,g,y,v),g.length!==0&&_.push(new h(d,g,y))}},r=[],s=e.name||"default",a=e.fps||30,o=e.blendMode,l=e.length||-1,c=e.hierarchy||[];for(let h=0;h<c.length;h++){let d=c[h].keys;if(!(!d||d.length===0))if(d[0].morphTargets){let m={},v;for(v=0;v<d.length;v++)if(d[v].morphTargets)for(let _=0;_<d[v].morphTargets.length;_++)m[d[v].morphTargets[_]]=-1;for(let _ in m){let g=[],y=[];for(let b=0;b!==d[v].morphTargets.length;++b){let E=d[v];g.push(E.time),y.push(E.morphTarget===_?1:0)}r.push(new no(".morphTargetInfluence["+_+"]",g,y))}l=m.length*a}else{let m=".bones["+t[h].name+"]";i(so,m+".position",d,"pos",r),i(ro,m+".quaternion",d,"rot",r),i(so,m+".scale",d,"scl",r)}}return r.length===0?null:new this(s,l,r,o)}resetDuration(){let e=this.tracks,t=0;for(let i=0,r=e.length;i!==r;++i){let s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function X9(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return no;case"vector":case"vector2":case"vector3":case"vector4":return so;case"color":return jg;case"quaternion":return ro;case"bool":case"boolean":return al;case"string":return ol}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Y9(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let e=X9(n.type);if(n.times===void 0){let t=[],i=[];lL(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}var Jo={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}},$E=class{constructor(e,t,i){let r=this,s=!1,a=0,o=0,l,c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){o++,s===!1&&r.onStart!==void 0&&r.onStart(u,a,o),s=!0},this.itemEnd=function(u){a++,r.onProgress!==void 0&&r.onProgress(u,a,o),a===o&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,h){return c.push(u,h),this},this.removeHandler=function(u){let h=c.indexOf(u);return h!==-1&&c.splice(h,2),this},this.getHandler=function(u){for(let h=0,d=c.length;h<d;h+=2){let m=c[h],v=c[h+1];if(m.global&&(m.lastIndex=0),m.test(u))return v}return null}}},K9=new $E,Ys=class{constructor(e){this.manager=e!==void 0?e:K9,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};Ys.DEFAULT_MATERIAL_NAME="__DEFAULT";var Za={},WE=class extends Error{constructor(e,t){super(e),this.response=t}},ll=class extends Ys{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let s=Jo.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Za[e]!==void 0){Za[e].push({onLoad:t,onProgress:i,onError:r});return}Za[e]=[],Za[e].push({onLoad:t,onProgress:i,onError:r});let a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||c.body===void 0||c.body.getReader===void 0)return c;let u=Za[e],h=c.body.getReader(),d=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=d?parseInt(d):0,v=m!==0,_=0,g=new ReadableStream({start(y){b();function b(){h.read().then(({done:E,value:w})=>{if(E)y.close();else{_+=w.byteLength;let D=new ProgressEvent("progress",{lengthComputable:v,loaded:_,total:m});for(let P=0,M=u.length;P<M;P++){let R=u[P];R.onProgress&&R.onProgress(D)}y.enqueue(w),b()}},E=>{y.error(E)})}}});return new Response(g)}else throw new WE(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,o));case"json":return c.json();default:if(o===void 0)return c.text();{let h=/charset="?([^;"\s]*)"?/i.exec(o),d=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(d);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{Jo.add(e,c);let u=Za[e];delete Za[e];for(let h=0,d=u.length;h<d;h++){let m=u[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{let u=Za[e];if(u===void 0)throw this.manager.itemError(e),c;delete Za[e];for(let h=0,d=u.length;h<d;h++){let m=u[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}};var qE=class extends Ys{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let s=this,a=Jo.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;let o=cd("img");function l(){u(),Jo.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){u(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}};var mh=class extends Ys{constructor(e){super(e)}load(e,t,i,r){let s=new Gn,a=new qE(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}},gh=class extends Qi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Vt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}};var vE=new ii,kR=new ae,FR=new ae,yd=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Bt(512,512),this.map=null,this.mapPass=null,this.matrix=new ii,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new hd,this._frameExtents=new Bt(1,1),this._viewportCount=1,this._viewports=[new Wi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,i=this.matrix;kR.setFromMatrixPosition(e.matrixWorld),t.position.copy(kR),FR.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(FR),t.updateMatrixWorld(),vE.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(vE),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(vE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},jE=class extends yd{constructor(){super(new mn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){let t=this.camera,i=oh*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}},Xg=class extends gh{constructor(e,t,i=0,r=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Qi.DEFAULT_UP),this.updateMatrix(),this.target=new Qi,this.distance=i,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new jE}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},BR=new ii,td=new ae,_E=new ae,XE=class extends yd{constructor(){super(new mn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Bt(4,2),this._viewportCount=6,this._viewports=[new Wi(2,1,1,1),new Wi(0,1,1,1),new Wi(3,1,1,1),new Wi(1,1,1,1),new Wi(3,0,1,1),new Wi(1,0,1,1)],this._cubeDirections=[new ae(1,0,0),new ae(-1,0,0),new ae(0,0,1),new ae(0,0,-1),new ae(0,1,0),new ae(0,-1,0)],this._cubeUps=[new ae(0,1,0),new ae(0,1,0),new ae(0,1,0),new ae(0,1,0),new ae(0,0,1),new ae(0,0,-1)]}updateMatrices(e,t=0){let i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),td.setFromMatrixPosition(e.matrixWorld),i.position.copy(td),_E.copy(i.position),_E.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(_E),i.updateMatrixWorld(),r.makeTranslation(-td.x,-td.y,-td.z),BR.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(BR)}},Yg=class extends gh{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new XE}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},YE=class extends yd{constructor(){super(new il(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},Kg=class extends gh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Qi.DEFAULT_UP),this.updateMatrix(),this.target=new Qi,this.shadow=new YE}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},yh=class extends gh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}};var cl=class{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch(i){return t}}static extractUrlBase(e){let t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}};var Jg=class extends Ys{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let s=this,a=Jo.get(e);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(c=>{t&&t(c),s.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}let o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;let l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Jo.add(e,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){r&&r(c),Jo.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Jo.add(e,l),s.manager.itemStart(e)}};var vh=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=UR(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=UR();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};function UR(){return(typeof performance=="undefined"?Date:performance).now()}var KE=class{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,a;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let i=this.buffer,r=this.valueSize,s=e*r+r,a=this.cumulativeWeight;if(a===0){for(let o=0;o!==r;++o)i[s+o]=i[o];a=t}else{a+=t;let o=t/a;this._mixBufferRegion(i,s,0,o,r)}this.cumulativeWeight=a}accumulateAdditive(e){let t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){let l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){o.setValue(i,r);break}}saveOriginalState(){let e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,a=r;s!==a;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[t+a]=e[i+a]}_slerp(e,t,i,r){Xn.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){let a=this._workIndex*s;Xn.multiplyQuaternionsFlat(e,a,e,t,e,i),Xn.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,i,r,s){let a=1-r;for(let o=0;o!==s;++o){let l=t+o;e[l]=e[l]*a+e[i+o]*r}}_lerpAdditive(e,t,i,r,s){for(let a=0;a!==s;++a){let o=t+a;e[o]=e[o]+e[i+a]*r}}},oS="\\[\\]\\.:\\/",J9=new RegExp("["+oS+"]","g"),lS="[^"+oS+"]",Z9="[^"+oS.replace("\\.","")+"]",Q9=/((?:WC+[\/:])*)/.source.replace("WC",lS),eq=/(WCOD+)?/.source.replace("WCOD",Z9),tq=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",lS),iq=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",lS),nq=new RegExp("^"+Q9+eq+tq+iq+"$"),rq=["material","materials","bones","map"],JE=class{constructor(e,t,i){let r=i||$i.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();let i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){let i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}},$i=class n{constructor(e,t,i){this.path=t,this.parsedPath=i||n.parseTrackName(t),this.node=n.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new n.Composite(e,t,i):new n(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(J9,"")}static parseTrackName(e){let t=nq.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){let s=i.nodeName.substring(r+1);rq.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){let i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){let i=function(s){for(let a=0;a<s.length;a++){let o=s[a];if(o.name===t||o.uuid===t)return o;let l=i(o.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,i=t.objectName,r=t.propertyName,s=t.propertyIndex;if(e||(e=n.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}let a=e[r];if(a===void 0){let c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};$i.Composite=JE;$i.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};$i.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};$i.prototype.GetterByBindingType=[$i.prototype._getValue_direct,$i.prototype._getValue_array,$i.prototype._getValue_arrayElement,$i.prototype._getValue_toArray];$i.prototype.SetterByBindingTypeAndVersioning=[[$i.prototype._setValue_direct,$i.prototype._setValue_direct_setNeedsUpdate,$i.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[$i.prototype._setValue_array,$i.prototype._setValue_array_setNeedsUpdate,$i.prototype._setValue_array_setMatrixWorldNeedsUpdate],[$i.prototype._setValue_arrayElement,$i.prototype._setValue_arrayElement_setNeedsUpdate,$i.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[$i.prototype._setValue_fromArray,$i.prototype._setValue_fromArray_setNeedsUpdate,$i.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var ZE=class{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;let s=t.tracks,a=s.length,o=new Array(a),l={endingStart:qu,endingEnd:qu};for(let c=0;c!==a;++c){let u=s[c].createInterpolant(null);o[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=bG,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){let r=this._clip.duration,s=e._clip.duration,a=s/r,o=r/s;e.warp(1,a,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){let r=this._mixer,s=r.time,a=this.timeScale,o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);let l=o.parameterPositions,c=o.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/a,c[1]=t/a,this}stopWarping(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}let s=this._startTime;if(s!==null){let l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);let a=this._updateTime(t),o=this._updateWeight(e);if(o>0){let l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case SG:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(a),c[u].accumulateAdditive(o);break;case iS:default:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(a),c[u].accumulate(r,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let i=this._weightInterpolant;if(i!==null){let r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let i=this._timeScaleInterpolant;if(i!==null){let r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,i=this.loop,r=this.time+e,s=this._loopCount,a=i===EG;if(e===0)return s===-1?r:a&&(s&1)===1?t-r:r;if(i===xG){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){let o=Math.floor(r/t);r-=t*o,s+=Math.abs(o);let l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){let c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){let r=this._interpolantSettings;i?(r.endingStart=ju,r.endingEnd=ju):(e?r.endingStart=this.zeroSlopeAtStart?ju:qu:r.endingStart=Tg,t?r.endingEnd=this.zeroSlopeAtEnd?ju:qu:r.endingEnd=Tg)}_scheduleFading(e,t,i){let r=this._mixer,s=r.time,a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);let o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=t,o[1]=s+e,l[1]=i,this}},sq=new Float32Array(1),vc=class extends js{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,o=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName,u=c[l];u===void 0&&(u={},c[l]=u);for(let h=0;h!==s;++h){let d=r[h],m=d.name,v=u[m];if(v!==void 0)++v.referenceCount,a[h]=v;else{if(v=a[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}let _=t&&t._propertyBindings[h].binding.parsedPath;v=new KE($i.create(i,m,_),d.ValueTypeName,d.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),a[h]=v}o[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){let i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}let t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){let s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){let s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){let r=this._actions,s=this._actionsByClip,a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{let o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){let t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;let s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;let h=o.actionByRoot,d=(e._localRoot||this._root).uuid;delete h[d],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){let s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){let t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){let t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){let r=this._bindingsByRootAndName,s=this._bindings,a=r[t];a===void 0&&(a={},r[t]=a),a[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){let t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,a=this._bindingsByRootAndName,o=a[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete o[s],Object.keys(o).length===0&&delete a[r]}_lendBinding(e){let t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){let t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,i=e[t];return i===void 0&&(i=new qg(new Float32Array(2),new Float32Array(2),1,sq),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){let t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){let r=t||this._root,s=r.uuid,a=typeof e=="string"?ph.findByName(r,e):e,o=a!==null?a.uuid:e,l=this._actionsByClip[o],c=null;if(i===void 0&&(a!==null?i=a.blendMode:i=iS),l!==void 0){let h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;let u=new ZE(this,a,t,i);return this._bindAction(u,c),this._addInactiveAction(u,o,s),u}existingAction(e,t){let i=t||this._root,r=i.uuid,s=typeof e=="string"?ph.findByName(i,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){let e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;let t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,a);let o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){let a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){let c=a[o];this._deactivateAction(c);let u=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,t[u]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){let t=e.uuid,i=this._actionsByClip;for(let a in i){let o=i[a].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}let r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(let a in s){let o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){let i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}};var ao=class{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(jn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}};var Zg=class extends md{constructor(e=10,t=10,i=4473924,r=8947848){i=new Vt(i),r=new Vt(r);let s=t/2,a=e/t,o=e/2,l=[],c=[];for(let d=0,m=0,v=-o;d<=t;d++,v+=a){l.push(-o,0,v,o,0,v),l.push(v,0,-o,v,0,o);let _=d===s?i:r;_.toArray(c,m),m+=3,_.toArray(c,m),m+=3,_.toArray(c,m),m+=3,_.toArray(c,m),m+=3}let u=new Kn;u.setAttribute("position",new Yn(l,3)),u.setAttribute("color",new Yn(c,3));let h=new uh({vertexColors:!0,toneMapped:!1});super(u,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}};typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:QE}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=QE);var cS=new WeakMap,sy=class extends Ys{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){let s=new ll(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,a=>{this.parse(a,t,r)},i,r)}parse(e,t,i=()=>{}){this.decodeDracoFile(e,t,null,null,ln,i).catch(i)}decodeDracoFile(e,t,i,r,s=Cn,a=()=>{}){let o={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i,vertexColorSpace:s};return this.decodeGeometry(e,o).then(t).catch(a)}decodeGeometry(e,t){let i=JSON.stringify(t);if(cS.has(e)){let l=cS.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r,s=this.workerNextTaskID++,a=e.byteLength,o=this._getWorker(s,a).then(l=>(r=l,new Promise((c,u)=>{r._callbacks[s]={resolve:c,reject:u},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return o.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),cS.set(e,{key:i,promise:o}),o}_createGeometry(e){let t=new Kn;e.index&&t.setIndex(new gn(e.index.array,1));for(let i=0;i<e.attributes.length;i++){let r=e.attributes[i],s=r.name,a=r.array,o=r.itemSize,l=new gn(a,o);s==="color"&&(this._assignVertexColorSpace(l,r.vertexColorSpace),l.normalized=!(a instanceof Float32Array)),t.setAttribute(s,l)}return t}_assignVertexColorSpace(e,t){if(t!==ln)return;let i=new Vt;for(let r=0,s=e.count;r<s;r++)i.fromBufferAttribute(e,r).convertSRGBToLinear(),e.setXYZ(r,i.r,i.g,i.b)}_loadLibrary(e,t){let i=new ll(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{let r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);let s=aq.toString(),a=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){let a=s.data;switch(a.type){case"decode":r._callbacks[a.id].resolve(a);break;case"error":r._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});let i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}};function aq(){let n,e;onmessage=function(a){let o=a.data;switch(o.type){case"init":n=o.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(h){u({draco:h})},DracoDecoderModule(n)});break;case"decode":let l=o.buffer,c=o.taskConfig;e.then(u=>{let h=u.draco,d=new h.Decoder;try{let m=t(h,d,new Int8Array(l),c),v=m.attributes.map(_=>_.array.buffer);m.index&&v.push(m.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:m},v)}catch(m){console.error(m),self.postMessage({type:"error",id:o.id,error:m.message})}finally{h.destroy(d)}});break}};function t(a,o,l,c){let u=c.attributeIDs,h=c.attributeTypes,d,m,v=o.GetEncodedGeometryType(l);if(v===a.TRIANGULAR_MESH)d=new a.Mesh,m=o.DecodeArrayToMesh(l,l.byteLength,d);else if(v===a.POINT_CLOUD)d=new a.PointCloud,m=o.DecodeArrayToPointCloud(l,l.byteLength,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());let _={index:null,attributes:[]};for(let g in u){let y=self[h[g]],b,E;if(c.useUniqueIDs)E=u[g],b=o.GetAttributeByUniqueId(d,E);else{if(E=o.GetAttributeId(d,a[u[g]]),E===-1)continue;b=o.GetAttribute(d,E)}let w=r(a,o,d,g,y,b);g==="color"&&(w.vertexColorSpace=c.vertexColorSpace),_.attributes.push(w)}return v===a.TRIANGULAR_MESH&&(_.index=i(a,o,d)),a.destroy(d),_}function i(a,o,l){let u=l.num_faces()*3,h=u*4,d=a._malloc(h);o.GetTrianglesUInt32Array(l,h,d);let m=new Uint32Array(a.HEAPF32.buffer,d,u).slice();return a._free(d),{array:m,itemSize:1}}function r(a,o,l,c,u,h){let d=h.num_components(),v=l.num_points()*d,_=v*u.BYTES_PER_ELEMENT,g=s(a,u),y=a._malloc(_);o.GetAttributeDataArrayForAllPoints(l,h,g,_,y);let b=new u(a.HEAPF32.buffer,y,v).slice();return a._free(y),{name:c,array:b,itemSize:d}}function s(a,o){switch(o){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}function uS(n,e){if(e===KR)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===_d||e===ty){let t=n.getIndex();if(t===null){let a=[],o=n.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)a.push(l);n.setIndex(a),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}let i=t.count-2,r=[];if(e===_d)for(let a=1;a<=i;a++)r.push(t.getX(0)),r.push(t.getX(a)),r.push(t.getX(a+1));else for(let a=0;a<i;a++)a%2===0?(r.push(t.getX(a)),r.push(t.getX(a+1)),r.push(t.getX(a+2))):(r.push(t.getX(a+2)),r.push(t.getX(a+1)),r.push(t.getX(a)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");let s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var ay=class extends Ys{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new yS(t)}),this.register(function(t){return new vS(t)}),this.register(function(t){return new MS(t)}),this.register(function(t){return new CS(t)}),this.register(function(t){return new PS(t)}),this.register(function(t){return new xS(t)}),this.register(function(t){return new bS(t)}),this.register(function(t){return new ES(t)}),this.register(function(t){return new SS(t)}),this.register(function(t){return new gS(t)}),this.register(function(t){return new TS(t)}),this.register(function(t){return new _S(t)}),this.register(function(t){return new AS(t)}),this.register(function(t){return new wS(t)}),this.register(function(t){return new pS(t)}),this.register(function(t){return new IS(t)}),this.register(function(t){return new DS(t)})}load(e,t,i,r){let s=this,a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){let c=cl.extractUrlBase(e);a=cl.resolveURL(c,this.path)}else a=cl.extractUrlBase(e);this.manager.itemStart(e);let o=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new ll(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,a,function(u){t(u),s.manager.itemEnd(e)},o)}catch(u){o(u)}},i,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s,a={},o={},l=new TextDecoder;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===dL){try{a[ci.KHR_BINARY_GLTF]=new RS(e)}catch(h){r&&r(h);return}s=JSON.parse(a[ci.KHR_BINARY_GLTF].content)}else s=JSON.parse(l.decode(e));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}let c=new US(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){let h=this.pluginCallbacks[u](c);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[h.name]=h,a[h.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){let h=s.extensionsUsed[u],d=s.extensionsRequired||[];switch(h){case ci.KHR_MATERIALS_UNLIT:a[h]=new mS;break;case ci.KHR_DRACO_MESH_COMPRESSION:a[h]=new LS(s,this.dracoLoader);break;case ci.KHR_TEXTURE_TRANSFORM:a[h]=new OS;break;case ci.KHR_MESH_QUANTIZATION:a[h]=new NS;break;default:d.indexOf(h)>=0&&o[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}c.setExtensions(a),c.setPlugins(o),c.parse(i,r)}parseAsync(e,t){let i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}};function oq(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}var ci={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"},pS=class{constructor(e){this.parser=e,this.name=ci.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){let e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){let s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){let t=this.parser,i="light:"+e,r=t.cache.get(i);if(r)return r;let s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e],c,u=new Vt(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],Cn);let h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new Kg(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Yg(u),c.distance=h;break;case"spot":c=new Xg(u),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,oo(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){let t=this,i=this.parser,s=i.json.nodes[e],o=(s.extensions&&s.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(l){return i._getNodeRef(t.cache,o,l)})}},mS=class{constructor(){this.name=ci.KHR_MATERIALS_UNLIT}getMaterialType(){return _a}extendParams(e,t,i){let r=[];e.color=new Vt(1,1,1),e.opacity=1;let s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){let a=s.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],Cn),e.opacity=a[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,ln))}return Promise.all(r)}},gS=class{constructor(e){this.parser=e,this.name=ci.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){let r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}},yS=class{constructor(e){this.parser=e,this.name=ci.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){let i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Kr}extendMaterialParams(e,t){let i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=[],a=r.extensions[this.name];if(a.clearcoatFactor!==void 0&&(t.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){let o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Bt(o,o)}return Promise.all(s)}},vS=class{constructor(e){this.parser=e,this.name=ci.KHR_MATERIALS_DISPERSION}getMaterialType(e){let i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Kr}extendMaterialParams(e,t){let r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}},_S=class{constructor(e){this.parser=e,this.name=ci.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){let i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Kr}extendMaterialParams(e,t){let i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=[],a=r.extensions[this.name];return a.iridescenceFactor!==void 0&&(t.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(t.iridescenceIOR=a.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(s)}},xS=class{constructor(e){this.parser=e,this.name=ci.KHR_MATERIALS_SHEEN}getMaterialType(e){let i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Kr}extendMaterialParams(e,t){let i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=[];t.sheenColor=new Vt(0,0,0),t.sheenRoughness=0,t.sheen=1;let a=r.extensions[this.name];if(a.sheenColorFactor!==void 0){let o=a.sheenColorFactor;t.sheenColor.setRGB(o[0],o[1],o[2],Cn)}return a.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",a.sheenColorTexture,ln)),a.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}},bS=class{constructor(e){this.parser=e,this.name=ci.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){let i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Kr}extendMaterialParams(e,t){let i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=[],a=r.extensions[this.name];return a.transmissionFactor!==void 0&&(t.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(s)}},ES=class{constructor(e){this.parser=e,this.name=ci.KHR_MATERIALS_VOLUME}getMaterialType(e){let i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Kr}extendMaterialParams(e,t){let i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=[],a=r.extensions[this.name];t.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;let o=a.attenuationColor||[1,1,1];return t.attenuationColor=new Vt().setRGB(o[0],o[1],o[2],Cn),Promise.all(s)}},SS=class{constructor(e){this.parser=e,this.name=ci.KHR_MATERIALS_IOR}getMaterialType(e){let i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Kr}extendMaterialParams(e,t){let r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}},TS=class{constructor(e){this.parser=e,this.name=ci.KHR_MATERIALS_SPECULAR}getMaterialType(e){let i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Kr}extendMaterialParams(e,t){let i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=[],a=r.extensions[this.name];t.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",a.specularTexture));let o=a.specularColorFactor||[1,1,1];return t.specularColor=new Vt().setRGB(o[0],o[1],o[2],Cn),a.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",a.specularColorTexture,ln)),Promise.all(s)}},wS=class{constructor(e){this.parser=e,this.name=ci.EXT_MATERIALS_BUMP}getMaterialType(e){let i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Kr}extendMaterialParams(e,t){let i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=[],a=r.extensions[this.name];return t.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&s.push(i.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(s)}},AS=class{constructor(e){this.parser=e,this.name=ci.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){let i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Kr}extendMaterialParams(e,t){let i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let s=[],a=r.extensions[this.name];return a.anisotropyStrength!==void 0&&(t.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(t.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(s)}},MS=class{constructor(e){this.parser=e,this.name=ci.KHR_TEXTURE_BASISU}loadTexture(e){let t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;let s=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,a)}},CS=class{constructor(e){this.parser=e,this.name=ci.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){let t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;let a=s.extensions[t],o=r.images[a.source],l=i.textureLoader;if(o.uri){let c=i.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,a.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){let t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}},PS=class{constructor(e){this.parser=e,this.name=ci.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){let t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;let a=s.extensions[t],o=r.images[a.source],l=i.textureLoader;if(o.uri){let c=i.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,a.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){let t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}},IS=class{constructor(e){this.name=ci.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){let t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){let r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(o){let l=r.byteOffset||0,c=r.byteLength||0,u=r.count,h=r.byteStride,d=new Uint8Array(o,l,c);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(u,h,d,r.mode,r.filter).then(function(m){return m.buffer}):a.ready.then(function(){let m=new ArrayBuffer(u*h);return a.decodeGltfBuffer(new Uint8Array(m),u,h,d,r.mode,r.filter),m})})}else return null}},DS=class{constructor(e){this.name=ci.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){let t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;let r=t.meshes[i.mesh];for(let c of r.primitives)if(c.mode!==xs.TRIANGLES&&c.mode!==xs.TRIANGLE_STRIP&&c.mode!==xs.TRIANGLE_FAN&&c.mode!==void 0)return null;let a=i.extensions[this.name].attributes,o=[],l={};for(let c in a)o.push(this.parser.getDependency("accessor",a[c]).then(u=>(l[c]=u,l[c])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(c=>{let u=c.pop(),h=u.isGroup?u.children:[u],d=c[0].count,m=[];for(let v of h){let _=new ii,g=new ae,y=new Xn,b=new ae(1,1,1),E=new zg(v.geometry,v.material,d);for(let w=0;w<d;w++)l.TRANSLATION&&g.fromBufferAttribute(l.TRANSLATION,w),l.ROTATION&&y.fromBufferAttribute(l.ROTATION,w),l.SCALE&&b.fromBufferAttribute(l.SCALE,w),E.setMatrixAt(w,_.compose(g,y,b));for(let w in l)if(w==="_COLOR_0"){let D=l[w];E.instanceColor=new yc(D.array,D.itemSize,D.normalized)}else w!=="TRANSLATION"&&w!=="ROTATION"&&w!=="SCALE"&&v.geometry.setAttribute(w,l[w]);Qi.prototype.copy.call(E,v),this.parser.assignFinalMaterial(E),m.push(E)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}},dL="glTF",xd=12,cL={JSON:1313821514,BIN:5130562},RS=class{constructor(e){this.name=ci.KHR_BINARY_GLTF,this.content=null,this.body=null;let t=new DataView(e,0,xd),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==dL)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");let r=this.header.length-xd,s=new DataView(e,xd),a=0;for(;a<r;){let o=s.getUint32(a,!0);a+=4;let l=s.getUint32(a,!0);if(a+=4,l===cL.JSON){let c=new Uint8Array(e,xd+a,o);this.content=i.decode(c)}else if(l===cL.BIN){let c=xd+a;this.body=e.slice(c,c+o)}a+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}},LS=class{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=ci.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){let i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},l={},c={};for(let u in a){let h=FS[u]||u.toLowerCase();o[h]=a[u]}for(let u in e.attributes){let h=FS[u]||u.toLowerCase();if(a[u]!==void 0){let d=i.accessors[e.attributes[u]],m=xh[d.componentType];c[h]=m.name,l[h]=d.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(h,d){r.decodeDracoFile(u,function(m){for(let v in m.attributes){let _=m.attributes[v],g=l[v];g!==void 0&&(_.normalized=g)}h(m)},o,c,Cn,d)})})}},OS=class{constructor(){this.name=ci.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}},NS=class{constructor(){this.name=ci.KHR_MESH_QUANTIZATION}},oy=class extends sl{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){let t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let a=0;a!==r;a++)t[a]=i[s+a];return t}interpolate_(e,t,i,r){let s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=o*2,c=o*3,u=r-t,h=(i-t)/u,d=h*h,m=d*h,v=e*c,_=v-c,g=-2*m+3*d,y=m-d,b=1-g,E=y-d+h;for(let w=0;w!==o;w++){let D=a[_+w+o],P=a[_+w+l]*u,M=a[v+w+o],R=a[v+w]*u;s[w]=b*D+E*P+g*M+y*R}return s}},lq=new Xn,kS=class extends oy{interpolate_(e,t,i,r){let s=super.interpolate_(e,t,i,r);return lq.fromArray(s).normalize().toArray(s),s}},xs={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},xh={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},uL={9728:xn,9729:Dr,9984:tS,9985:nd,9986:Wu,9987:ma},hL={33071:eo,33648:ld,10497:io},hS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},FS={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ul={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},cq={CUBICSPLINE:void 0,LINEAR:ah,STEP:sh},fS={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function uq(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new dh({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ya})),n.DefaultMaterial}function bc(n,e,t){for(let i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function oo(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function hq(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,u=e.length;c<u;c++){let h=e[c];if(h.POSITION!==void 0&&(i=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);let a=[],o=[],l=[];for(let c=0,u=e.length;c<u;c++){let h=e[c];if(i){let d=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):n.attributes.position;a.push(d)}if(r){let d=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):n.attributes.normal;o.push(d)}if(s){let d=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):n.attributes.color;l.push(d)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(c){let u=c[0],h=c[1],d=c[2];return i&&(n.morphAttributes.position=u),r&&(n.morphAttributes.normal=h),s&&(n.morphAttributes.color=d),n.morphTargetsRelative=!0,n})}function fq(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){let t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function dq(n){let e,t=n.extensions&&n.extensions[ci.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+dS(t.attributes):e=n.indices+":"+dS(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+dS(n.targets[i]);return e}function dS(n){let e="",t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function BS(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function pq(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}var mq=new ii,US=class{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new oq,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator!="undefined"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap=="undefined"||i||r&&s<98?this.textureLoader=new mh(this.options.manager):this.textureLoader=new Jg(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ll(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){let i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(a){let o={scene:a[0][r.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:r.asset,parser:i,userData:{}};return bc(s,o,r),oo(o,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){for(let l of o.scenes)l.updateMatrixWorld();e(o)})}).catch(t)}_markDefs(){let e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){let a=t[r].joints;for(let o=0,l=a.length;o<l;o++)e[a[o]].isBone=!0}for(let r=0,s=e.length;r<s;r++){let a=e[r];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(i[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;let r=i.clone(),s=(a,o)=>{let l=this.associations.get(a);l!=null&&this.associations.set(o,l);for(let[c,u]of a.children.entries())s(u,o.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){let t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){let r=e(t[i]);if(r)return r}return null}_invokeAll(e){let t=Object.values(this.plugins);t.unshift(this);let i=[];for(let r=0;r<t.length;r++){let s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){let i=e+":"+t,r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){let i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,a){return i.getDependency(e,a)})),this.cache.add(e,t)}return t}loadBuffer(e){let t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[ci.KHR_BINARY_GLTF].body);let r=this.options;return new Promise(function(s,a){i.load(cl.resolveURL(t.uri,r.path),s,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){let t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){let r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){let t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){let a=hS[r.type],o=xh[r.componentType],l=r.normalized===!0,c=new o(r.count*a);return Promise.resolve(new gn(c,a,l))}let s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(a){let o=a[0],l=hS[r.type],c=xh[r.componentType],u=c.BYTES_PER_ELEMENT,h=u*l,d=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,v=r.normalized===!0,_,g;if(m&&m!==h){let y=Math.floor(d/m),b="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+y+":"+r.count,E=t.cache.get(b);E||(_=new c(o,y*m,r.count*m/u),E=new fd(_,m/u),t.cache.add(b,E)),g=new dd(E,l,d%m/u,v)}else o===null?_=new c(r.count*l):_=new c(o,d,r.count*l),g=new gn(_,l,v);if(r.sparse!==void 0){let y=hS.SCALAR,b=xh[r.sparse.indices.componentType],E=r.sparse.indices.byteOffset||0,w=r.sparse.values.byteOffset||0,D=new b(a[1],E,r.sparse.count*y),P=new c(a[2],w,r.sparse.count*l);o!==null&&(g=new gn(g.array.slice(),g.itemSize,g.normalized));for(let M=0,R=D.length;M<R;M++){let I=D[M];if(g.setX(I,P[M*l]),l>=2&&g.setY(I,P[M*l+1]),l>=3&&g.setZ(I,P[M*l+2]),l>=4&&g.setW(I,P[M*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return g})}loadTexture(e){let t=this.json,i=this.options,s=t.textures[e].source,a=t.images[s],o=this.textureLoader;if(a.uri){let l=i.manager.getHandler(a.uri);l!==null&&(o=l)}return this.loadTextureImage(e,s,o)}loadTextureImage(e,t,i){let r=this,s=this.json,a=s.textures[e],o=s.images[t],l=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];let c=this.loadImageSource(t,i).then(function(u){u.flipY=!1,u.name=a.name||o.name||"",u.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(u.name=o.uri);let d=(s.samplers||{})[a.sampler]||{};return u.magFilter=uL[d.magFilter]||Dr,u.minFilter=uL[d.minFilter]||ma,u.wrapS=hL[d.wrapS]||io,u.wrapT=hL[d.wrapT]||io,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){let i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());let a=r.images[e],o=self.URL||self.webkitURL,l=a.uri||"",c=!1;if(a.bufferView!==void 0)l=i.getDependency("bufferView",a.bufferView).then(function(h){c=!0;let d=new Blob([h],{type:a.mimeType});return l=o.createObjectURL(d),l});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");let u=Promise.resolve(l).then(function(h){return new Promise(function(d,m){let v=d;t.isImageBitmapLoader===!0&&(v=function(_){let g=new Gn(_);g.needsUpdate=!0,d(g)}),t.load(cl.resolveURL(h,s.path),v,void 0,m)})}).then(function(h){return c===!0&&o.revokeObjectURL(l),oo(h,a),h.userData.mimeType=a.mimeType||pq(a.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=u,u}assignTexture(e,t,i,r){let s=this;return this.getDependency("texture",i.index).then(function(a){if(!a)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(a=a.clone(),a.channel=i.texCoord),s.extensions[ci.KHR_TEXTURE_TRANSFORM]){let o=i.extensions!==void 0?i.extensions[ci.KHR_TEXTURE_TRANSFORM]:void 0;if(o){let l=s.associations.get(a);a=s.extensions[ci.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),s.associations.set(a,l)}}return r!==void 0&&(a.colorSpace=r),e[t]=a,a})}assignFinalMaterial(e){let t=e.geometry,i=e.material,r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,a=t.attributes.normal===void 0;if(e.isPoints){let o="PointsMaterial:"+i.uuid,l=this.cache.get(o);l||(l=new gd,Yr.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(o,l)),i=l}else if(e.isLine){let o="LineBasicMaterial:"+i.uuid,l=this.cache.get(o);l||(l=new uh,Yr.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(o,l)),i=l}if(r||s||a){let o="ClonedMaterial:"+i.uuid+":";r&&(o+="derivative-tangents:"),s&&(o+="vertex-colors:"),a&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=i.clone(),s&&(l.vertexColors=!0),a&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return dh}loadMaterial(e){let t=this,i=this.json,r=this.extensions,s=i.materials[e],a,o={},l=s.extensions||{},c=[];if(l[ci.KHR_MATERIALS_UNLIT]){let h=r[ci.KHR_MATERIALS_UNLIT];a=h.getMaterialType(),c.push(h.extendParams(o,s,t))}else{let h=s.pbrMetallicRoughness||{};if(o.color=new Vt(1,1,1),o.opacity=1,Array.isArray(h.baseColorFactor)){let d=h.baseColorFactor;o.color.setRGB(d[0],d[1],d[2],Cn),o.opacity=d[3]}h.baseColorTexture!==void 0&&c.push(t.assignTexture(o,"map",h.baseColorTexture,ln)),o.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,o.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(o,"metalnessMap",h.metallicRoughnessTexture)),c.push(t.assignTexture(o,"roughnessMap",h.metallicRoughnessTexture))),a=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,o)})))}s.doubleSided===!0&&(o.side=Gs);let u=s.alphaMode||fS.OPAQUE;if(u===fS.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,u===fS.MASK&&(o.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&a!==_a&&(c.push(t.assignTexture(o,"normalMap",s.normalTexture)),o.normalScale=new Bt(1,1),s.normalTexture.scale!==void 0)){let h=s.normalTexture.scale;o.normalScale.set(h,h)}if(s.occlusionTexture!==void 0&&a!==_a&&(c.push(t.assignTexture(o,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&a!==_a){let h=s.emissiveFactor;o.emissive=new Vt().setRGB(h[0],h[1],h[2],Cn)}return s.emissiveTexture!==void 0&&a!==_a&&c.push(t.assignTexture(o,"emissiveMap",s.emissiveTexture,ln)),Promise.all(c).then(function(){let h=new a(o);return s.name&&(h.name=s.name),oo(h,s),t.associations.set(h,{materials:e}),s.extensions&&bc(r,h,s),h})}createUniqueName(e){let t=$i.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){let t=this,i=this.extensions,r=this.primitiveCache;function s(o){return i[ci.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,t).then(function(l){return fL(l,o,t)})}let a=[];for(let o=0,l=e.length;o<l;o++){let c=e[o],u=dq(c),h=r[u];if(h)a.push(h.promise);else{let d;c.extensions&&c.extensions[ci.KHR_DRACO_MESH_COMPRESSION]?d=s(c):d=fL(new Kn,c,t),r[u]={primitive:c,promise:d},a.push(d)}}return Promise.all(a)}loadMesh(e){let t=this,i=this.json,r=this.extensions,s=i.meshes[e],a=s.primitives,o=[];for(let l=0,c=a.length;l<c;l++){let u=a[l].material===void 0?uq(this.cache):this.getDependency("material",a[l].material);o.push(u)}return o.push(t.loadGeometries(a)),Promise.all(o).then(function(l){let c=l.slice(0,l.length-1),u=l[l.length-1],h=[];for(let m=0,v=u.length;m<v;m++){let _=u[m],g=a[m],y,b=c[m];if(g.mode===xs.TRIANGLES||g.mode===xs.TRIANGLE_STRIP||g.mode===xs.TRIANGLE_FAN||g.mode===void 0)y=s.isSkinnedMesh===!0?new Fg(_,b):new Mn(_,b),y.isSkinnedMesh===!0&&y.normalizeSkinWeights(),g.mode===xs.TRIANGLE_STRIP?y.geometry=uS(y.geometry,ty):g.mode===xs.TRIANGLE_FAN&&(y.geometry=uS(y.geometry,_d));else if(g.mode===xs.LINES)y=new md(_,b);else if(g.mode===xs.LINE_STRIP)y=new hh(_,b);else if(g.mode===xs.LINE_LOOP)y=new Gg(_,b);else if(g.mode===xs.POINTS)y=new $g(_,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+g.mode);Object.keys(y.geometry.morphAttributes).length>0&&fq(y,s),y.name=t.createUniqueName(s.name||"mesh_"+e),oo(y,s),g.extensions&&bc(r,y,g),t.assignFinalMaterial(y),h.push(y)}for(let m=0,v=h.length;m<v;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return s.extensions&&bc(r,h[0],s),h[0];let d=new Rr;s.extensions&&bc(r,d,s),t.associations.set(d,{meshes:e});for(let m=0,v=h.length;m<v;m++)d.add(h[m]);return d})}loadCamera(e){let t,i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new mn(ny.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new il(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),oo(t,i),Promise.resolve(t)}loadSkin(e){let t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){let s=r.pop(),a=r,o=[],l=[];for(let c=0,u=a.length;c<u;c++){let h=a[c];if(h){o.push(h);let d=new ii;s!==null&&d.fromArray(s.array,c*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Ug(o,l)})}loadAnimation(e){let t=this.json,i=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,a=[],o=[],l=[],c=[],u=[];for(let h=0,d=r.channels.length;h<d;h++){let m=r.channels[h],v=r.samplers[m.sampler],_=m.target,g=_.node,y=r.parameters!==void 0?r.parameters[v.input]:v.input,b=r.parameters!==void 0?r.parameters[v.output]:v.output;_.node!==void 0&&(a.push(this.getDependency("node",g)),o.push(this.getDependency("accessor",y)),l.push(this.getDependency("accessor",b)),c.push(v),u.push(_))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(h){let d=h[0],m=h[1],v=h[2],_=h[3],g=h[4],y=[];for(let b=0,E=d.length;b<E;b++){let w=d[b],D=m[b],P=v[b],M=_[b],R=g[b];if(w===void 0)continue;w.updateMatrix&&w.updateMatrix();let I=i._createAnimationTracks(w,D,P,M,R);if(I)for(let A=0;A<I.length;A++)y.push(I[A])}return new ph(s,void 0,y)})}createNodeMesh(e){let t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){let a=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&a.traverse(function(o){if(o.isMesh)for(let l=0,c=r.weights.length;l<c;l++)o.morphTargetInfluences[l]=r.weights[l]}),a})}loadNode(e){let t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),a=[],o=r.children||[];for(let c=0,u=o.length;c<u;c++)a.push(i.getDependency("node",o[c]));let l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(a),l]).then(function(c){let u=c[0],h=c[1],d=c[2];d!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(d,mq)});for(let m=0,v=h.length;m<v;m++)u.add(h[m]);return u})}_loadNodeShallow(e){let t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];let s=t.nodes[e],a=s.name?r.createUniqueName(s.name):"",o=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&o.push(l),s.camera!==void 0&&o.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){o.push(c)}),this.nodeCache[e]=Promise.all(o).then(function(c){let u;if(s.isBone===!0?u=new pd:c.length>1?u=new Rr:c.length===1?u=c[0]:u=new Qi,u!==c[0])for(let h=0,d=c.length;h<d;h++)u.add(c[h]);if(s.name&&(u.userData.name=s.name,u.name=a),oo(u,s),s.extensions&&bc(i,u,s),s.matrix!==void 0){let h=new ii;h.fromArray(s.matrix),u.applyMatrix4(h)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){let t=this.extensions,i=this.json.scenes[e],r=this,s=new Rr;i.name&&(s.name=r.createUniqueName(i.name)),oo(s,i),i.extensions&&bc(t,s,i);let a=i.nodes||[],o=[];for(let l=0,c=a.length;l<c;l++)o.push(r.getDependency("node",a[l]));return Promise.all(o).then(function(l){for(let u=0,h=l.length;u<h;u++)s.add(l[u]);let c=u=>{let h=new Map;for(let[d,m]of r.associations)(d instanceof Yr||d instanceof Gn)&&h.set(d,m);return u.traverse(d=>{let m=r.associations.get(d);m!=null&&h.set(d,m)}),h};return r.associations=c(s),s})}_createAnimationTracks(e,t,i,r,s){let a=[],o=e.name?e.name:e.uuid,l=[];ul[s.path]===ul.weights?e.traverse(function(d){d.morphTargetInfluences&&l.push(d.name?d.name:d.uuid)}):l.push(o);let c;switch(ul[s.path]){case ul.weights:c=no;break;case ul.rotation:c=ro;break;case ul.position:case ul.scale:c=so;break;default:switch(i.itemSize){case 1:c=no;break;case 2:case 3:default:c=so;break}break}let u=r.interpolation!==void 0?cq[r.interpolation]:ah,h=this._getArrayFromAccessor(i);for(let d=0,m=l.length;d<m;d++){let v=new c(l[d]+"."+ul[s.path],t.array,h,u);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(v),a.push(v)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){let i=BS(t.constructor),r=new Float32Array(t.length);for(let s=0,a=t.length;s<a;s++)r[s]=t[s]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){let r=this instanceof ro?kS:oy;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}};function gq(n,e,t){let i=e.attributes,r=new vs;if(i.POSITION!==void 0){let o=t.json.accessors[i.POSITION],l=o.min,c=o.max;if(l!==void 0&&c!==void 0){if(r.set(new ae(l[0],l[1],l[2]),new ae(c[0],c[1],c[2])),o.normalized){let u=BS(xh[o.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;let s=e.targets;if(s!==void 0){let o=new ae,l=new ae;for(let c=0,u=s.length;c<u;c++){let h=s[c];if(h.POSITION!==void 0){let d=t.json.accessors[h.POSITION],m=d.min,v=d.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),d.normalized){let _=BS(xh[d.componentType]);l.multiplyScalar(_)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(o)}n.boundingBox=r;let a=new Xr;r.getCenter(a.center),a.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=a}function fL(n,e,t){let i=e.attributes,r=[];function s(a,o){return t.getDependency("accessor",a).then(function(l){n.setAttribute(o,l)})}for(let a in i){let o=FS[a]||a.toLowerCase();o in n.attributes||r.push(s(i[a],o))}if(e.indices!==void 0&&!n.index){let a=t.getDependency("accessor",e.indices).then(function(o){n.setIndex(o)});r.push(a)}return wi.workingColorSpace!==Cn&&"COLOR_0"in i&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${wi.workingColorSpace}" not supported.`),oo(n,e),gq(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?hq(n,e.targets,t):n})}var Ec=new ay,pL=new sy;pL.setDecoderPath("https://unpkg.com/three@0.165.0/examples/jsm/libs/draco/gltf/");Ec.setDRACOLoader(pL);var mL={type:"change"},zS={type:"start"},gL={type:"end"},ly=new tl,yL=new Hs,yq=Math.cos(70*ny.DEG2RAD),hl=class extends js{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new ae,this.cursor=new ae,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:_c.ROTATE,MIDDLE:_c.DOLLY,RIGHT:_c.PAN},this.touches={ONE:xc.ROTATE,TWO:xc.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(L){L.addEventListener("keydown",$),this._domElementKeyEvents=L},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",$),this._domElementKeyEvents=null},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(mL),i.update(),s=r.NONE},this.update=function(){let L=new ae,ce=new Xn().setFromUnitVectors(e.up,new ae(0,1,0)),le=ce.clone().invert(),_e=new ae,Fe=new Xn,pt=new ae,Tt=2*Math.PI;return function(yi=null){let $t=i.object.position;L.copy($t).sub(i.target),L.applyQuaternion(ce),o.setFromVector3(L),i.autoRotate&&s===r.NONE&&G(A(yi)),i.enableDamping?(o.theta+=l.theta*i.dampingFactor,o.phi+=l.phi*i.dampingFactor):(o.theta+=l.theta,o.phi+=l.phi);let Xt=i.minAzimuthAngle,Mi=i.maxAzimuthAngle;isFinite(Xt)&&isFinite(Mi)&&(Xt<-Math.PI?Xt+=Tt:Xt>Math.PI&&(Xt-=Tt),Mi<-Math.PI?Mi+=Tt:Mi>Math.PI&&(Mi-=Tt),Xt<=Mi?o.theta=Math.max(Xt,Math.min(Mi,o.theta)):o.theta=o.theta>(Xt+Mi)/2?Math.max(Xt,o.theta):Math.min(Mi,o.theta)),o.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,o.phi)),o.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(u,i.dampingFactor):i.target.add(u),i.target.sub(i.cursor),i.target.clampLength(i.minTargetRadius,i.maxTargetRadius),i.target.add(i.cursor);let Vn=!1;if(i.zoomToCursor&&P||i.object.isOrthographicCamera)o.radius=qe(o.radius);else{let nn=o.radius;o.radius=qe(o.radius*c),Vn=nn!=o.radius}if(L.setFromSpherical(o),L.applyQuaternion(le),$t.copy(i.target).add(L),i.object.lookAt(i.target),i.enableDamping===!0?(l.theta*=1-i.dampingFactor,l.phi*=1-i.dampingFactor,u.multiplyScalar(1-i.dampingFactor)):(l.set(0,0,0),u.set(0,0,0)),i.zoomToCursor&&P){let nn=null;if(i.object.isPerspectiveCamera){let En=L.length();nn=qe(En*c);let Po=En-nn;i.object.position.addScaledVector(w,Po),i.object.updateMatrixWorld(),Vn=!!Po}else if(i.object.isOrthographicCamera){let En=new ae(D.x,D.y,0);En.unproject(i.object);let Po=i.object.zoom;i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/c)),i.object.updateProjectionMatrix(),Vn=Po!==i.object.zoom;let Io=new ae(D.x,D.y,0);Io.unproject(i.object),i.object.position.sub(Io).add(En),i.object.updateMatrixWorld(),nn=L.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;nn!==null&&(this.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(nn).add(i.object.position):(ly.origin.copy(i.object.position),ly.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(ly.direction))<yq?e.lookAt(i.target):(yL.setFromNormalAndCoplanarPoint(i.object.up,i.target),ly.intersectPlane(yL,i.target))))}else if(i.object.isOrthographicCamera){let nn=i.object.zoom;i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/c)),nn!==i.object.zoom&&(i.object.updateProjectionMatrix(),Vn=!0)}return c=1,P=!1,Vn||_e.distanceToSquared(i.object.position)>a||8*(1-Fe.dot(i.object.quaternion))>a||pt.distanceToSquared(i.target)>a?(i.dispatchEvent(mL),_e.copy(i.object.position),Fe.copy(i.object.quaternion),pt.copy(i.target),!0):!1}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",Y),i.domElement.removeEventListener("pointerdown",$e),i.domElement.removeEventListener("pointercancel",F),i.domElement.removeEventListener("wheel",ye),i.domElement.removeEventListener("pointermove",V),i.domElement.removeEventListener("pointerup",F),i.domElement.getRootNode().removeEventListener("keydown",We,{capture:!0}),i._domElementKeyEvents!==null&&(i._domElementKeyEvents.removeEventListener("keydown",$),i._domElementKeyEvents=null)};let i=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=r.NONE,a=1e-6,o=new ao,l=new ao,c=1,u=new ae,h=new Bt,d=new Bt,m=new Bt,v=new Bt,_=new Bt,g=new Bt,y=new Bt,b=new Bt,E=new Bt,w=new ae,D=new Bt,P=!1,M=[],R={},I=!1;function A(L){return L!==null?2*Math.PI/60*i.autoRotateSpeed*L:2*Math.PI/60/60*i.autoRotateSpeed}function N(L){let ce=Math.abs(L*.01);return Math.pow(.95,i.zoomSpeed*ce)}function G(L){l.theta-=L}function X(L){l.phi-=L}let J=function(){let L=new ae;return function(le,_e){L.setFromMatrixColumn(_e,0),L.multiplyScalar(-le),u.add(L)}}(),ge=function(){let L=new ae;return function(le,_e){i.screenSpacePanning===!0?L.setFromMatrixColumn(_e,1):(L.setFromMatrixColumn(_e,0),L.crossVectors(i.object.up,L)),L.multiplyScalar(le),u.add(L)}}(),te=function(){let L=new ae;return function(le,_e){let Fe=i.domElement;if(i.object.isPerspectiveCamera){let pt=i.object.position;L.copy(pt).sub(i.target);let Tt=L.length();Tt*=Math.tan(i.object.fov/2*Math.PI/180),J(2*le*Tt/Fe.clientHeight,i.object.matrix),ge(2*_e*Tt/Fe.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(J(le*(i.object.right-i.object.left)/i.object.zoom/Fe.clientWidth,i.object.matrix),ge(_e*(i.object.top-i.object.bottom)/i.object.zoom/Fe.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function pe(L){i.object.isPerspectiveCamera||i.object.isOrthographicCamera?c/=L:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function re(L){i.object.isPerspectiveCamera||i.object.isOrthographicCamera?c*=L:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function ne(L,ce){if(!i.zoomToCursor)return;P=!0;let le=i.domElement.getBoundingClientRect(),_e=L-le.left,Fe=ce-le.top,pt=le.width,Tt=le.height;D.x=_e/pt*2-1,D.y=-(Fe/Tt)*2+1,w.set(D.x,D.y,1).unproject(i.object).sub(i.object.position).normalize()}function qe(L){return Math.max(i.minDistance,Math.min(i.maxDistance,L))}function je(L){h.set(L.clientX,L.clientY)}function et(L){ne(L.clientX,L.clientX),y.set(L.clientX,L.clientY)}function Ot(L){v.set(L.clientX,L.clientY)}function Me(L){d.set(L.clientX,L.clientY),m.subVectors(d,h).multiplyScalar(i.rotateSpeed);let ce=i.domElement;G(2*Math.PI*m.x/ce.clientHeight),X(2*Math.PI*m.y/ce.clientHeight),h.copy(d),i.update()}function Ne(L){b.set(L.clientX,L.clientY),E.subVectors(b,y),E.y>0?pe(N(E.y)):E.y<0&&re(N(E.y)),y.copy(b),i.update()}function Ve(L){_.set(L.clientX,L.clientY),g.subVectors(_,v).multiplyScalar(i.panSpeed),te(g.x,g.y),v.copy(_),i.update()}function ze(L){ne(L.clientX,L.clientY),L.deltaY<0?re(N(L.deltaY)):L.deltaY>0&&pe(N(L.deltaY)),i.update()}function Ke(L){let ce=!1;switch(L.code){case i.keys.UP:L.ctrlKey||L.metaKey||L.shiftKey?X(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):te(0,i.keyPanSpeed),ce=!0;break;case i.keys.BOTTOM:L.ctrlKey||L.metaKey||L.shiftKey?X(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):te(0,-i.keyPanSpeed),ce=!0;break;case i.keys.LEFT:L.ctrlKey||L.metaKey||L.shiftKey?G(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):te(i.keyPanSpeed,0),ce=!0;break;case i.keys.RIGHT:L.ctrlKey||L.metaKey||L.shiftKey?G(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):te(-i.keyPanSpeed,0),ce=!0;break}ce&&(L.preventDefault(),i.update())}function gt(L){if(M.length===1)h.set(L.pageX,L.pageY);else{let ce=Ie(L),le=.5*(L.pageX+ce.x),_e=.5*(L.pageY+ce.y);h.set(le,_e)}}function Rt(L){if(M.length===1)v.set(L.pageX,L.pageY);else{let ce=Ie(L),le=.5*(L.pageX+ce.x),_e=.5*(L.pageY+ce.y);v.set(le,_e)}}function ie(L){let ce=Ie(L),le=L.pageX-ce.x,_e=L.pageY-ce.y,Fe=Math.sqrt(le*le+_e*_e);y.set(0,Fe)}function Pt(L){i.enableZoom&&ie(L),i.enablePan&&Rt(L)}function K(L){i.enableZoom&&ie(L),i.enableRotate&&gt(L)}function ee(L){if(M.length==1)d.set(L.pageX,L.pageY);else{let le=Ie(L),_e=.5*(L.pageX+le.x),Fe=.5*(L.pageY+le.y);d.set(_e,Fe)}m.subVectors(d,h).multiplyScalar(i.rotateSpeed);let ce=i.domElement;G(2*Math.PI*m.x/ce.clientHeight),X(2*Math.PI*m.y/ce.clientHeight),h.copy(d)}function fe(L){if(M.length===1)_.set(L.pageX,L.pageY);else{let ce=Ie(L),le=.5*(L.pageX+ce.x),_e=.5*(L.pageY+ce.y);_.set(le,_e)}g.subVectors(_,v).multiplyScalar(i.panSpeed),te(g.x,g.y),v.copy(_)}function Te(L){let ce=Ie(L),le=L.pageX-ce.x,_e=L.pageY-ce.y,Fe=Math.sqrt(le*le+_e*_e);b.set(0,Fe),E.set(0,Math.pow(b.y/y.y,i.zoomSpeed)),pe(E.y),y.copy(b);let pt=(L.pageX+ce.x)*.5,Tt=(L.pageY+ce.y)*.5;ne(pt,Tt)}function Ae(L){i.enableZoom&&Te(L),i.enablePan&&fe(L)}function Pe(L){i.enableZoom&&Te(L),i.enableRotate&&ee(L)}function $e(L){i.enabled!==!1&&(M.length===0&&(i.domElement.setPointerCapture(L.pointerId),i.domElement.addEventListener("pointermove",V),i.domElement.addEventListener("pointerup",F)),!Se(L)&&(se(L),L.pointerType==="touch"?U(L):Q(L)))}function V(L){i.enabled!==!1&&(L.pointerType==="touch"?O(L):be(L))}function F(L){switch(ue(L),M.length){case 0:i.domElement.releasePointerCapture(L.pointerId),i.domElement.removeEventListener("pointermove",V),i.domElement.removeEventListener("pointerup",F),i.dispatchEvent(gL),s=r.NONE;break;case 1:let ce=M[0],le=R[ce];U({pointerId:ce,pageX:le.x,pageY:le.y});break}}function Q(L){let ce;switch(L.button){case 0:ce=i.mouseButtons.LEFT;break;case 1:ce=i.mouseButtons.MIDDLE;break;case 2:ce=i.mouseButtons.RIGHT;break;default:ce=-1}switch(ce){case _c.DOLLY:if(i.enableZoom===!1)return;et(L),s=r.DOLLY;break;case _c.ROTATE:if(L.ctrlKey||L.metaKey||L.shiftKey){if(i.enablePan===!1)return;Ot(L),s=r.PAN}else{if(i.enableRotate===!1)return;je(L),s=r.ROTATE}break;case _c.PAN:if(L.ctrlKey||L.metaKey||L.shiftKey){if(i.enableRotate===!1)return;je(L),s=r.ROTATE}else{if(i.enablePan===!1)return;Ot(L),s=r.PAN}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(zS)}function be(L){switch(s){case r.ROTATE:if(i.enableRotate===!1)return;Me(L);break;case r.DOLLY:if(i.enableZoom===!1)return;Ne(L);break;case r.PAN:if(i.enablePan===!1)return;Ve(L);break}}function ye(L){i.enabled===!1||i.enableZoom===!1||s!==r.NONE||(L.preventDefault(),i.dispatchEvent(zS),ze(Ee(L)),i.dispatchEvent(gL))}function Ee(L){let ce=L.deltaMode,le={clientX:L.clientX,clientY:L.clientY,deltaY:L.deltaY};switch(ce){case 1:le.deltaY*=16;break;case 2:le.deltaY*=100;break}return L.ctrlKey&&!I&&(le.deltaY*=10),le}function We(L){L.key==="Control"&&(I=!0,i.domElement.getRootNode().addEventListener("keyup",q,{passive:!0,capture:!0}))}function q(L){L.key==="Control"&&(I=!1,i.domElement.getRootNode().removeEventListener("keyup",q,{passive:!0,capture:!0}))}function $(L){i.enabled===!1||i.enablePan===!1||Ke(L)}function U(L){switch(Ge(L),M.length){case 1:switch(i.touches.ONE){case xc.ROTATE:if(i.enableRotate===!1)return;gt(L),s=r.TOUCH_ROTATE;break;case xc.PAN:if(i.enablePan===!1)return;Rt(L),s=r.TOUCH_PAN;break;default:s=r.NONE}break;case 2:switch(i.touches.TWO){case xc.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Pt(L),s=r.TOUCH_DOLLY_PAN;break;case xc.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;K(L),s=r.TOUCH_DOLLY_ROTATE;break;default:s=r.NONE}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(zS)}function O(L){switch(Ge(L),s){case r.TOUCH_ROTATE:if(i.enableRotate===!1)return;ee(L),i.update();break;case r.TOUCH_PAN:if(i.enablePan===!1)return;fe(L),i.update();break;case r.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ae(L),i.update();break;case r.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Pe(L),i.update();break;default:s=r.NONE}}function Y(L){i.enabled!==!1&&L.preventDefault()}function se(L){M.push(L.pointerId)}function ue(L){delete R[L.pointerId];for(let ce=0;ce<M.length;ce++)if(M[ce]==L.pointerId){M.splice(ce,1);return}}function Se(L){for(let ce=0;ce<M.length;ce++)if(M[ce]==L.pointerId)return!0;return!1}function Ge(L){let ce=R[L.pointerId];ce===void 0&&(ce=new Bt,R[L.pointerId]=ce),ce.set(L.pageX,L.pageY)}function Ie(L){let ce=L.pointerId===M[0]?M[1]:M[0];return R[ce]}i.domElement.addEventListener("contextmenu",Y),i.domElement.addEventListener("pointerdown",$e),i.domElement.addEventListener("pointercancel",F),i.domElement.addEventListener("wheel",ye,{passive:!1}),i.domElement.getRootNode().addEventListener("keydown",We,{passive:!0,capture:!0}),this.update()}};function vL(n){let e=new Map,t=new Map,i=n.clone();return _L(n,i,function(r,s){e.set(s,r),t.set(r,s)}),i.traverse(function(r){if(!r.isSkinnedMesh)return;let s=r,a=e.get(r),o=a.skeleton.bones;s.skeleton=a.skeleton.clone(),s.bindMatrix.copy(a.bindMatrix),s.skeleton.bones=o.map(function(l){return t.get(l)}),s.bind(s.skeleton,s.bindMatrix)}),i}function _L(n,e,t){t(n,e);for(let i=0;i<n.children.length;i++)_L(n.children[i],e.children[i],t)}var vq=.845,VS=17,HS=class{constructor(e,t,i,r=0){this.wrapper=new Qi,this.wrapper.position.x=t,this.direction=Math.round(Math.random())*2-1,this.wrapper.rotation.y=this.direction==1?Math.PI:0,this.load(e).then(()=>{this.destroyed||(this.setScene(e),this.animate(r,i))})}animate(e,t=()=>{}){this.tw=ut.fromTo(this.wrapper.position,{z:VS*this.direction},{z:VS*-this.direction,duration:VS/vq,ease:"none",onComplete:t}),this.tw.progress(e)}setScene(e){this.scene=vL(Gt[e].glb.scene),this.mixer=new vc(this.scene);let t=Gt[e].glb.animations.find(i=>i.name=="walking");t&&(this.clip=this.mixer.clipAction(t),this.clip.play()),this.scene.scale.set(1,1,1),this.wrapper.add(this.scene)}load(e){return new Promise((t,i)=>{if(!Gt[e])Gt[e]={glb:null,usdz:null,isLoaded:!1,onLoad:t};else{Gt[e].isLoaded?t():Gt[e].onLoad=t;return}Ec.load(e,r=>{if(Gt[e].glb=r,Gt[e].isLoaded=!0,r.animations.length){Gt[e].mixer=new vc(r.scene),r.scene.traverse(function(s){s.frustumCulled=!1}),Gt[e].animations=[];for(let s=0;s<r.animations.length;s++){let a=r.animations[s].name;Gt[e].animations[r.animations[s].name]&&(a+=s),Gt[e].animations[a]=Gt[e].mixer.clipAction(r.animations[s])}}Gt[e].onLoad()})})}destroy(){var e,t;this.destroyed=!0,(t=(e=this.tw)==null?void 0:e.kill)==null||t.call(e)}},cy=class extends Ct{constructor(n){super(n),this.modelsQty=12,this.rowsQty=Math.max(this.modelsQty+1,20),this.rowsUsed=[],this.modelsUsed=[],this.canvas=this.el,this.models=Wr(this.getData("models").split(",")),this.characters=[],this.resize(),this.resizeBind=this.resize.bind(this),window.addEventListener("resize",this.resizeBind)}init(){wu&&(this.initRenderer(),this.initScene(),this.render())}initRenderer(){this.renderer=new nl({canvas:this.canvas,alpha:!0,antialias:!0,preserveDrawingBuffer:!0}),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=vd,this.renderer.outputEncoding=ln,this.renderer.setSize(this.sizes.width,this.sizes.height),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.clock=new vh,this.previousTime=0}initScene(){this.scene=new rl;let n=new yh(16777215,6);this.scene.add(n),this.aspect=this.sizes.width/this.sizes.height,this.setFrustumSize(),this.camera=new il(this.frustumSize*this.aspect/-2,this.frustumSize*this.aspect/2,this.frustumSize/2,this.frustumSize/-2,0,40),this.camera.position.set(10,7,10),this.scene.add(this.camera),this.controls=new hl(this.camera,this.canvas),this.controls.target.set(0,0,0),this.controls.enableDamping=!0,this.controls.enablePan=!1,this.controls.maxPolarAngle=this.controls.minPolarAngle=this.controls.getPolarAngle(),this.wrapper=new Rr,this.wrapper.position.set(0,0,0),this.scene.add(this.wrapper);let e=new Zg(100,100,13421772,13421772);this.wrapper.add(e);for(let t=0;t<this.modelsQty;t++)this.spawn(Math.random())}setFrustumSize(){this.frustumSize=this.aspect>16/9?(1-(this.aspect-16/9)*.2)*10:10}pickRow(){let n;for(;!n||this.rowsUsed.includes(n);)n=Math.floor(Math.random()*this.rowsQty-this.rowsQty/2);return this.rowsUsed.push(n),n}pickModel(){let n;for(;!n||this.modelsUsed.includes(n);)n=this.models[Math.floor(Math.random()*this.models.length)];return this.modelsUsed.push(n),n}spawn(n=0){let e=this.pickRow(),t=this.pickModel(),i=new HS(t,e,()=>{i.destroy(),this.wrapper.remove(i.wrapper),this.characters.splice(this.characters.indexOf(i),1),this.rowsUsed.splice(this.rowsUsed.indexOf(e),1),this.modelsUsed.splice(this.modelsUsed.indexOf(t),1),this.spawn()},n);this.wrapper.add(i.wrapper),this.characters.push(i)}resize(){this.BCR=this.el.getBoundingClientRect(),this.sizes={width:this.BCR.width,height:this.BCR.height},this.renderer&&this.renderer.setSize(this.sizes.width,this.sizes.height),this.camera&&(this.aspect=this.sizes.width/this.sizes.height,this.setFrustumSize(),this.camera.left=this.frustumSize*this.aspect/-2,this.camera.right=this.frustumSize*this.aspect/2,this.camera.top=this.frustumSize/2,this.camera.bottom=this.frustumSize/-2,this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.sizes.width,this.sizes.height),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)))}render(){var e,t;let n=this.clock.getElapsedTime();this.deltaTime=n-this.previousTime,this.previousTime=n,this.controls.update(),this.renderer.render(this.scene,this.camera);for(let i of this.characters)(t=(e=i.mixer)==null?void 0:e.setTime)==null||t.call(e,n);this.wrapper.rotation.set(0,this.wrapper.rotation.y+.001*this.deltaTime/(1/60),0),this.raf=window.requestAnimationFrame(this.render.bind(this))}destroy(){var n;for(let e of this.characters)(n=e.destroy)==null||n.call(e);window.removeEventListener("resize",this.resizeBind),window.cancelAnimationFrame(this.raf),this.scene=this.renderer=null}};var os={};vf(os,{compile:()=>HF});var zQ=er(Dh()),Ep=er(Dh());_n(os,er(Dh()));var VF=er(Gw()),wo=er(dl());var zF=Object.create(null);function HF(n,e){if(!(0,wo.isString)(n))if(n.nodeType)n=n.innerHTML;else return wo.NOOP;let t=n,i=zF[t];if(i)return i;if(n[0]==="#"){let o=document.querySelector(n);n=o?o.innerHTML:""}let{code:r}=(0,VF.compile)(n,(0,wo.extend)({hoistStatic:!0,onError:void 0,onWarn:wo.NOOP},e));function s(o,l=!1){let c=l?o.message:`Template compilation error: ${o.message}`,u=o.loc&&(0,wo.generateCodeFrame)(n,o.loc.start.offset,o.loc.end.offset);(0,Ep.warn)(u?`${c}
${u}`:c)}let a=new Function("Vue",r)(zQ);return a._rc=!0,zF[t]=a}(0,Ep.registerRuntimeCompiler)(HF);var GF={delimiters:["{(",")}"],props:{step:{type:Object,required:!0},stepSlug:{type:String,required:!0},showStepContent:{type:Boolean,required:!0},muted:{type:Boolean,required:!0},locale:{type:String,required:!0}},data(){return{lisaUserData:ls,sentenceSlug:null}},computed:{sentence(){if(this.step.dialog.useContext){let{list:n}=this.step.dialog,e={};if(this.hasContext){let s={};for(let a of Object.keys(n.context)){let o=a+"."+Ao.tod+"."+Ao.weatherIdent;n.context[a][o]&&(s[o]=n.context[a][o])}Object.assign(e,s)}Object.assign(e,n.generic);let t=Object.keys(e),i=t[Math.floor(t.length*Math.random())],r=e[i];if(this.hasContext&&Math.random()>.5&&n[Ao.weatherIdent]&&Object.keys(n[Ao.weatherIdent]).length){let s=n[Ao.weatherIdent],a=Object.keys(s);i=a[Math.floor(Math.random()*a.length)],r=s[i]}return this.sentenceSlug=i,r}else if(this.step.dialog.key){let{key:n,keyMode:e,list:t}=this.step.dialog;if(e=="random"){let i=Object.keys(t[ls[n].value]),r=i[Math.floor(i.length*Math.random())];return this.sentenceSlug=r,t[ls[n].value][r]}else if(e=="concat"){let i=Object.keys(t),r=i[Math.floor(i.length*Math.random())],s=r+"."+ls[n].value;return this.sentenceSlug=s,t[r][s]}else return"Error: Unknown keyMode"}else if(this.step.dialog.list){let{list:n}=this.step.dialog;this.lisaUserData.special&&this.step.dialog[this.lisaUserData.special]&&(n=this.step.dialog[this.lisaUserData.special]);let e=Object.keys(n),t=e[Math.floor(e.length*Math.random())];return this.sentenceSlug=t,n[t]}else console.warn("No dialog list given"),console.log(this.step.dialog)},hasContext(){return Object.keys(Ao).length>0},slotGiven(){return this.$slots.default},availableChoices(){return this.step.choices?this.step.choices.key?this.step.choices.value[ls[this.step.choices.key].value]:this.step.choices:!1}},methods:{skip(){this.$refs.dialog.skip()},next(){this.$emit("next")},choose(n){let e=n.target,{key:t,value:i,target:r,href:s}=e.dataset,a=e.innerText;t&&i&&(ls[t]={label:a,value:i}),r&&this.$emit("goToStep",r),s&&this.$emit("navigateTo",s)},completeIntro(){this.$emit("stepIntroUpdate",!0)},copyToClipboard(n){n.preventDefault(),n.stopPropagation(),am(n.target)}},watch:{sentenceSlug(){this.$nextTick(()=>{this.muted||this.$emit("playAudio","/assets/lisa/"+this.locale+"/"+this.sentenceSlug+".mp3"),this.$emit("stepIntroUpdate",!1)})}}};ut.registerPlugin(ua);var $F={delimiters:["{(",")}"],props:{sentence:{type:[String],required:!0}},data(){return{}},mounted(){this.splitText(),this.animate()},methods:{splitText(){this.split=new ua(this.$refs.output,{type:"chars, words",tag:"div"})},animate(){this.tw=ut.timeline({onComplete:()=>{this.showContentAfterCta=!0,this.$emit("completed"),this.tw.kill()}}),this.tw.from(this.split.chars,{rotationX:90,force3D:!0,stagger:.01,duration:.05},0),this.tw.add(()=>{},"+=1.5")},skip(){this.tw&&this.tw.progress(1)}},watch:{sentence(n){this.showContentAfterCta=!1,this.$nextTick(()=>{this.splitText(),this.animate()})}},template:`
        <div>
            <span ref="output" v-html="sentence"></span>
        </div>
    `};var r3=er(ZF(),1),s3=er(QF(),1),a3=er(e3(),1);var Ln={};vf(Ln,{Vue:()=>bn,Vue2:()=>qQ,compile:()=>t3,del:()=>YQ,install:()=>jQ,isVue2:()=>$Q,isVue3:()=>WQ,set:()=>XQ});var bn={};vf(bn,{compile:()=>t3});_n(bn,er(Dh()));var t3=()=>{};_n(Ln,bn);var $Q=!1,WQ=!0,qQ=void 0;function jQ(){}function XQ(n,e,t){return Array.isArray(n)?(n.length=Math.max(n.length,e),n.splice(e,1,t),t):(n[e]=t,t)}function YQ(n,e){if(Array.isArray(n)){n.splice(e,1);return}delete n[e]}function Xw(){return Xw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Xw.apply(this,arguments)}var KQ=function(){var e=!1,t=[],i=function(){if(!e){e=!0;for(var o=0,l=t.length;o<l;o++)t[o]()}},r=function(o){if(!e){t.push(o);return}o()},s={resolved:function(){return e},resolve:i,promise:{then:r}};return s},i3=Object.prototype.hasOwnProperty;function JQ(){var n=KQ();return{notify:function(){n.resolve()},wait:function(){return n.promise},render:function(t,i,r){this.wait().then(function(){r(window.grecaptcha.render(t,i))})},reset:function(t){typeof t!="undefined"&&(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.reset(t)}))},execute:function(t){typeof t!="undefined"&&(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.execute(t)}))},checkRecaptchaLoad:function(){i3.call(window,"grecaptcha")&&i3.call(window.grecaptcha,"render")&&this.notify()},assertLoaded:function(){if(!n.resolved())throw new Error("ReCAPTCHA has not been loaded")}}}var Sp=JQ();typeof window!="undefined"&&(window.vueRecaptchaApiLoaded=Sp.notify);var n3=(0,Ln.defineComponent)({name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!0},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"},language:{type:String,default:""}},emits:["render","verify","expired","error"],setup:function(e,t){var i=t.slots,r=t.emit,s=(0,Ln.ref)(null),a=(0,Ln.ref)(null),o=function(h){r("verify",h)},l=function(){r("expired")},c=function(){r("error")};return(0,Ln.onMounted)(function(){if(Sp.checkRecaptchaLoad(),e.loadRecaptchaScript&&!document.getElementById(e.recaptchaScriptId)){var u=document.createElement("script");u.id=e.recaptchaScriptId,u.src="https://"+e.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl="+e.language,u.async=!0,u.defer=!0,document.head.appendChild(u)}var h=Xw({},e,{callback:o,"expired-callback":l,"error-callback":c}),d=s.value,m=i.default?d.children[0]:d;Sp.render(m,h,function(v){a.value=v,r("render",v)})}),{root:s,widgetId:a,reset:function(){Sp.reset(a.value)},execute:function(){Sp.execute(a.value)}}},render:function(){var e=this.$slots.default,t;return typeof e=="function"?t=e():t=e,(0,Ln.h)("div",{ref:"root"},t)}});var ZQ=r3.default.default(s3.default,a3.default),o3={delimiters:["{(",")}"],components:{FilePond:ZQ,VueRecaptcha:n3},data(){return{lisaUserData:ls,endpoints:{goal:"/api/"},loading:!1,errors:[]}},methods:{onCaptchaVerified:function(n){this.formData.append("g-recaptcha-response",n),this.sendData(),this.$refs.recaptcha.reset()},onCaptchaError:function(){console.error("An error occured"),this.loading=!1,this.$refs.recaptcha.reset()},onCaptchaExpired:function(){console.error("Captcha expired"),this.loading=!1,this.$refs.recaptcha.reset()},submit(n){this.formAction=this.getEndpoint(this.lisaUserData.goal.value),this.formData=new FormData(n.target),this.loading=!0,this.$refs.recaptcha.execute()},getEndpoint(n){switch(n){case"rfp":return"/api/rfp-enquiries";case"job":return"/api/job-enquiries";case"internship":return"/api/internship-enquiries";case"quickwork":default:return"/api/general-enquiries"}},sendData(){this.errors=[];let n={};this.formData.forEach((e,t)=>{n[t]?n[t]+="|"+e:n[t]=e}),this.formDataJSON=JSON.stringify(n),fetch(this.formAction,{body:this.formDataJSON,method:"POST",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{var t,i;if(e.success)(i=this.$refs.recaptcha)==null||i.reset(),window.gtag&&gtag("event","submit_form",{event_category:"lisa",event_label:this.formAction}),this.$emit("success");else{if(Array.isArray(e))for(let r of e)this.errors.push(r==null?void 0:r.message);else this.errors.push(e==null?void 0:e.message);(t=this.$refs.recaptcha)==null||t.reset()}}).catch(()=>{}).finally(()=>{this.loading=!1})}}};var l3={data(){return{position:{x:0,y:0},speed:{x:Math.random()<.5?-2:2,y:Math.random()<.5?-2:2},boundings:null,labelBoundings:null}},mounted(){this.setBoundings(),this.render(),window.addEventListener("resize",this.setBoundings)},methods:{setBoundings(){ut.set(this.$refs.label,{clearProps:"all"}),this.boundings=this.$el.getBoundingClientRect(),this.labelBoundings=this.$refs.label.getBoundingClientRect()},render(){this.position.x+=this.speed.x,this.position.y+=this.speed.y,this.labelBoundings.left+this.position.x<0&&this.speed.x<0&&(this.speed.x*=-1),this.labelBoundings.right-this.labelBoundings.width-this.position.x<0&&this.speed.x>0&&(this.speed.x*=-1),this.labelBoundings.top+this.position.y<this.boundings.top&&this.speed.y<0&&(this.speed.y*=-1),this.labelBoundings.bottom-this.labelBoundings.height-this.position.y<this.boundings.top&&this.speed.y>0&&(this.speed.y*=-1),ut.set(this.$refs.label,{x:this.position.x,y:this.position.y,force3D:!0}),this.raf=requestAnimationFrame(this.render)}},unmounted(){cancelAnimationFrame(this.raf),window.removeEventListener("resize",this.setBoundings)},template:`
        <div class="c-lisa_disclaimer">
            <div ref="label"><span class="c-lisa_disclaimer_click-cta">CLICK</span> ANYWHERE TO INITIATE <br>[<span class="c-lisa_disclaimer_procedure">CONTACT PROCEDURE</span>]</div>
        </div>
    `};var a0=er(m3(),1),s0=(0,a0.default)({colormap:[{index:0,rgb:[49,46,251]},{index:.4,rgb:[49,46,251]},{index:.5,rgb:[255,255,255]},{index:1,rgb:[255,255,255]}],nshades:255,format:"rgba"}),g3={delimiters:["{(",")}"],data(){return{fpsCap:30}},mounted(){this.audio=this.$parent.$refs.audio,this.audioCtx=new AudioContext,this.analyser=this.audioCtx.createAnalyser(),this.stream=this.audioCtx.createMediaElementSource(this.audio),this.analyser.fftSize=2048,this.frequencyData=new Uint8Array(this.analyser.frequencyBinCount),this.stream.connect(this.analyser),this.analyser.connect(this.audioCtx.destination),this.ctx2d=this.$refs.canvas.getContext("2d"),this.resize(),this.fpsInterval=1e3/this.fpsCap,this.then=window.performance.now(),this.startTime=this.then,this.render(),window.addEventListener("resize",this.resize)},unmounted(){window.removeEventListener("resize",this.resize),cancelAnimationFrame(this.raf),this.audioCtx.close()},methods:{resize(){this.ctx2d.canvas.width!=window.innerWidth&&(this.ctx2d.canvas.width=window.innerWidth,this.ctx2d.canvas.height=Math.ceil(this.analyser.fftSize/2*.85))},render(n){if(this.now=n,this.elapsed=this.now-this.then,this.elapsed>this.fpsInterval){this.then=this.now-this.elapsed%this.fpsInterval,this.analyser.getByteFrequencyData(this.frequencyData);let e=4,t=this.ctx2d.canvas.width,i=this.ctx2d.canvas.height,r=this.ctx2d.getImageData(e,0,t/2,i);rightData=this.ctx2d.getImageData(t/2,0,t/2-e,i),this.ctx2d.clearRect(0,0,t,i),this.ctx2d.putImageData(r,0,0),this.ctx2d.putImageData(rightData,t/2+e,0),this.ctx2d.clearRect(t/2-e/2,0,e,i);let s=t/2;for(let a=0;a<this.frequencyData.length;a++){let o=s0[this.frequencyData[i-a]]||s0[a0.default.length-1];this.ctx2d.fillStyle=`rgba(${o[0]},${o[1]},${o[2]},${Dx(this.frequencyData[i-a],0,256,0,1)})`,this.ctx2d.fillRect(s,a-i/2,e/2,1),o=s0[this.frequencyData[a]]||s0[a0.default.length-1],this.ctx2d.fillStyle=`rgba(${o[0]},${o[1]},${o[2]},${Dx(this.frequencyData[a],0,256,0,1)})`,this.ctx2d.fillRect(s,a+i/2,e/2,1)}}this.raf=requestAnimationFrame(this.render)}},template:`
        <div class="c-lisa_visualizer">
            <canvas ref="canvas"></canvas>
        </div>
    `};var y3=er(jf(),1);var ls=(0,bn.reactive)({}),Ao=(0,bn.reactive)({}),o0=class extends Ct{constructor(n){super(n)}init(){let n=this;fetch("/api/weather-forecast").then(e=>e.json()).then(e=>{Object.assign(Ao,e)}),this.app=(0,os.createApp)({delimiters:["{(",")}"],components:{LisaVisualizer:g3,LisaDisclaimer:l3,LisaStep:au(Vi({},GF),{components:{LisaDialog:$F,LisaForm:au(Vi({},o3),{template:document.getElementById("lisa-template-form")})},template:document.getElementById("lisa-template-step")})},data(){return{showDebug:!1,showAudioDisclaimer:!0,muted:!1,speaking:!1,stepIntroDone:!1,lisaContent:JSON.parse(n.getData("content")),lisaWeatherContext:Ao,lisaUserData:ls,introNextStep:null,currentStepSlug:"intro",history:[]}},mounted(){localStorage.getItem("lisa-muted")=="true"&&(this.muted=!0),!this.muted&&this.$refs.audio?this.$refs.audio.play().then(()=>{this.showAudioDisclaimer=!1}).catch(t=>{console.error(t),this.showAudioDisclaimer=!0}):this.showAudioDisclaimer=!1,this.history.push(this.currentStepSlug),this.computeURLParams(),n.el.addEventListener("click",this.skip)},computed:{currentStep(){return this.lisaContent[this.currentStepSlug]},canGoBack(){return this.history.length>2&&this.currentStepSlug!="confirmation"},showStepContent(){return(!this.muted&&!this.speaking||this.muted)&&this.stepIntroDone},progress(){return this.currentStep.progress||0}},methods:{computeURLParams(){this.URLParams=new URL(document.location.toString()).searchParams;let e=Array.from(this.URLParams.keys());if(e.includes("data")){let t=this.URLParams.get("data").split(";").map(i=>{let[r,s]=i.split(",");return{key:r,value:s}});t.forEach(i=>{Object.values(this.lisaContent).find(r=>{let{choices:s}=r;if(!s)return!1;let a=o=>{if(!o.modelUpdate)return!1;if(o.modelUpdate.key==i.key&&o.modelUpdate.value==i.value)return i.label=o.label,!0};if(Array.isArray(s))return s.find(a);if(s.key){let o=t.find(l=>l.key==s.key);if(o){let l=s.value[o.value];if(l)return l=Object.values(l),l.find(a)}}})});for(let i of t){let{key:r,value:s,label:a}=i;ls[r]={value:s,label:a}}}e.includes("step")&&(this.introNextStep=this.URLParams.get("step")),e.includes("special")&&(this.lisaUserData.special=this.URLParams.get("special"))},next(){let e=this.currentStep.next;this.currentStepSlug=="intro"&&this.introNextStep&&this.lisaContent[this.introNextStep]&&(this.history.push("greeting"),e=this.introNextStep,this.introNextStep=null,history.pushState("",document.title,window.location.pathname+window.location.search)),e&&this.goToStep(e)},back(){this.history.length!=1&&requestAnimationFrame(()=>{this.history.pop(),this.goToStep(this.history.pop())})},goToStep(e){if(!this.lisaContent[e])throw"Step does not exist";this.currentStepSlug=e,this.history.push(this.currentStepSlug)},navigateTo(e){!e.startsWith("http")||window.location.origin==new URL(e).origin?y3.default.go(e):window.location.href=e},playAudio(e){this.$refs.visualizer.audioCtx.resume(),e&&(this.$refs.audio.src=e),this.$refs.audio.currentTime=0,this.$refs.audio.play()},skip(e){if(e.target==this.$refs.backbtn){this.speaking&&(this.stepIntroDone=!1,this.$refs.audio.pause());return}else this.showAudioDisclaimer?this.acceptAudio():this.speaking&&(this.$refs.audio.pause(),this.$refs.step.skip(),this.stepIntroDone=!0)},sentenceEnded(){this.speaking=!1},updateStepIntro(e){this.stepIntroDone=e},acceptAudio(){requestAnimationFrame(()=>{var e,t,i;(i=(t=(e=this.$refs.visualizer)==null?void 0:e.audioCtx)==null?void 0:t.resume)==null||i.call(t),this.showAudioDisclaimer=!1,this.muted=!1,this.playAudio()})},muteToggle(){this.muted=!this.muted,this.$refs.audio.muted=this.muted,this.muted&&this.$refs.audio.pause()}},watch:{muted(){localStorage.setItem("lisa-muted",this.muted)},currentStepSlug(){if(this.stepIntroDone=!1,setTimeout(()=>{document.documentElement.scrollTop=0},300),this.currentStepSlug=="greeting"){for(let e in ls)delete ls[e];this.history.splice(this.history.indexOf("greeting")+1)}this.currentStepSlug=="greeting"||this.currentStepSlug=="confirmation"?window.confirmPageChange=!1:requestAnimationFrame(()=>{window.confirmPageChange={message:n.getData("confirm-quit-label")}})},showStepContent(){this.muted&&this.sentenceEnded(),this.currentStep.next&&this.next()}}}),this.app.mount(this.el)}destroy(){window.confirmPageChange=!1,this.app&&this.app.unmount()}};var Pa=class extends Ct{constructor(n){super(n),this.canvas=this.el,this.autoplayAnimations=!0,this.defaultAnimation=!1,this.currentModel=this.getData("file")?this.getData("file"):!1,this.resize(),this.resizeBind=this.resize.bind(this),window.addEventListener("resize",this.resizeBind)}init(){wu&&(this.initRenderer(),this.initScene(),this.initLoaders(),this.render(),this.currentModel&&this.loadModel())}initRenderer(){this.renderer=new nl({canvas:this.canvas,alpha:!0,antialias:!0,preserveDrawingBuffer:!0}),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=vd,this.renderer.outputEncoding=ln,this.renderer.setSize(this.sizes.width,this.sizes.height),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.clock=new vh,this.previousTime=0}initScene(){this.scene=new rl;let n=new yh(16777215,6);this.scene.add(n),this.camera=new mn(30,this.sizes.width/this.sizes.height,.01,100),this.camera.position.set(1,1,1),this.scene.add(this.camera),this.controls=new hl(this.camera,this.canvas),this.controls.target.set(0,.25,0),this.controls.enableDamping=!0,this.wrapper=new Rr,this.wrapper.position.set(0,0,0),this.scene.add(this.wrapper)}initLoaders(){this.supportsQuickLook=!1,document.createElement("a").relList.supports("ar")&&(this.supportsQuickLook=!0)}resize(){this.BCR=this.el.getBoundingClientRect(),this.sizes={width:this.BCR.width,height:this.BCR.height},this.renderer&&this.renderer.setSize(this.sizes.width,this.sizes.height),this.camera&&(this.camera.aspect=this.sizes.width/this.sizes.height,this.camera.updateProjectionMatrix()),this.renderer&&(this.renderer.setSize(this.sizes.width,this.sizes.height),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)))}render(){let n=this.clock.getElapsedTime();this.deltaTime=n-this.previousTime,this.previousTime=n,this.controls.update(),this.renderer.render(this.scene,this.camera),this.currentModel&&Gt[this.currentModel]&&Gt[this.currentModel].mixer&&Gt[this.currentModel].mixer.setTime(n),this.raf=window.requestAnimationFrame(this.render.bind(this))}loadModel(n=this.currentModel){return new Promise((e,t)=>{if(!Gt[n])Gt[n]={glb:null,usdz:null,isLoaded:!1,onLoad:()=>{}};else{e();return}Ec.load(n,i=>{if(Gt[n].glb=i,Gt[n].isLoaded=!0,i.animations.length){Gt[n].mixer=new vc(i.scene),i.scene.traverse(function(r){r.frustumCulled=!1}),Gt[n].animations=[];for(let r=0;r<i.animations.length;r++){let s=i.animations[r].name;Gt[n].animations[i.animations[r].name]&&(s+=r),Gt[n].animations[s]=Gt[n].mixer.clipAction(i.animations[r])}}i.scene.scale.set(1,1,1),i.scene.visible=n===this.currentModel,this.wrapper.add(i.scene),Gt[n].onLoad(),e()})})}setModel(n){if(!wu)return;window.cancelAnimationFrame(this.raf),this.wrapper.clear(),this.el.dispatchEvent(new CustomEvent("hideUsdz")),this.currentModel=n;let e,t=()=>{if(this.currentModel===n){for(let r of Object.keys(Gt[this.currentModel].animations))Gt[n].animations[r].isRunning()&&(e=r),Gt[n].animations[r].stop();if(this.autoplayAnimations)if(this.defaultAnimation&&Gt[n].animations[this.defaultAnimation])Gt[n].animations[this.defaultAnimation].play();else{let r,s=Math.random();for(;!r||r=="idle-1"&&s>.33||r=="walking"&&s>.5||r=="idle-2"||r==e;)r=Object.keys(Gt[n].animations)[Math.floor(Math.random()*Object.keys(Gt[n].animations).length)],s=Math.random();Gt[n].animations[r].play()}}},i=()=>{this.currentModel===n&&(t(),Gt[n].glb.scene.visible=!0,this.supportsQuickLook&&Gt[n].usdz&&this.el.dispatchEvent(new CustomEvent("usdzReady",{detail:{usdz:Gt[n].usdz}})),this.render())};if(this.currentModel==!1){this.render();return}else Gt[n]?Gt[n].isLoaded?(this.wrapper.children.includes(Gt[n].glb.scene)||this.wrapper.add(Gt[n].glb.scene),i()):Gt[n].onLoad=()=>{this.wrapper.children.includes(Gt[n].glb.scene)||this.wrapper.add(Gt[n].glb.scene),i()}:(this.loadModel(n),Gt[n].onLoad=i)}setDefaultAnimation(n){this.defaultAnimation=n}destroy(){window.removeEventListener("resize",this.resizeBind),window.cancelAnimationFrame(this.raf),this.scene=this.renderer=null}};var l0=class extends Ct{constructor(n){super(n),this.formSuccessMessage=this.getData("success"),this.formErrorMessage=this.getData("error"),this.$form=this.$("form")[0],this.$input=this.$("input")[0],this.$feedback=this.$("feedback")[0],this.events={click:{close:"hide"},submit:{form:"onSubmit"}}}init(){this.focusTrap=fa(this.el,{onDeactivate:this.hide.bind(this),clickOutsideDeactivates:!0,initialFocus:this.$input})}show(){this.el.classList.add("is-opened"),this.focusTrap.activate(),this.call("scrollTo",{target:this.el,options:{offset:-80}},"Scroll")}hide(){this.el.classList.remove("is-opened"),this.call("close",null,"NewsletterToggler"),this.focusTrap.deactivate(),this.$form.reset()}onSubmit(n){n.preventDefault(),this.clearStates(),this.$form.classList.add("is-loading");let e=n.target,t=e.action,i={};new FormData(e).forEach((a,o)=>i[o]=a);let s=JSON.stringify(i);fetch(t,{body:s,method:"POST",headers:{"Content-Type":"application/json"}}).then(a=>(a.status!==200&&a.status!==202&&(this.$form.classList.add("is-error"),this.$feedback.innerHTML=this.formErrorMessage),a.json())).then(a=>{a.success?(this.$form.classList.add("is-success"),this.$feedback.innerHTML=this.formSuccessMessage,setTimeout(()=>{this.hide()},3e3)):(this.$form.classList.add("is-error"),this.$feedback.innerHTML=this.formErrorMessage)}).catch(()=>{}).finally(()=>{this.$form.classList.remove("is-loading")})}clearStates(){this.$form.classList.remove("is-loading","is-error","is-success"),this.$feedback.innerHTML=""}destroy(){super.destroy(),this.focusTrap.deactivate()}};var c0=class extends Ct{constructor(n){super(n),this.events={click:"onClick"}}init(){}onClick(n){this.show()}show(){this.el.setAttribute("aria-expanded","true"),this.call("show",null,"NewsletterModal")}close(){this.el.setAttribute("aria-expanded","false")}};var v3=1,u0=class extends Ct{constructor(n){super(n)}init(){this.delta=v3,this.reversed=this.getData("reversed")!=null,this.viewportSensitive=this.getData("viewport-sensitive")!=null,this.originalHTML=this.el.innerHTML,this.compute(),this.renderBind=this.render.bind(this),this.viewportSensitive||this.render(),this.checkResizeBind=this.checkResize.bind(this),window.addEventListener("resize",this.checkResizeBind)}checkResize(){this.resizeTick||(this.resizeTick=!0,requestAnimationFrame(()=>{this.viewportWidth!=window.innerWidth&&this.compute(),this.resizeTick=!1}))}compute(){if(this.el.innerHTML=this.originalHTML,this.viewportWidth=window.innerWidth,this.$outer=this.$("outer")[0],this.contentWidth=this.$outer.children[0].getBoundingClientRect().width,!this.contentWidth)return console.error("[Rail] content is empty"),!1;if(this.contentWidth<this.viewportWidth){let n=Math.floor(this.viewportWidth/this.contentWidth);for(let e=0;e<=n;e++){let t=this.$outer.children[0].cloneNode(!0);this.$outer.appendChild(t)}}this.el.appendChild(this.$outer.cloneNode(!0)),this.currentOffset=0,this.$outer=this.$("outer")}render(){window.scroll.velocity&&(this.delta=v3*(window.scroll.velocity>0?1:-1),this.delta+=window.scroll.velocity*.2,this.reversed&&(this.delta*=-1)),this.currentOffset+=this.delta,this.delta>0?this.currentOffset>=0&&(this.currentOffset-=this.contentWidth):this.currentOffset<-this.contentWidth&&(this.currentOffset+=this.contentWidth),ut.set(this.$outer,{x:this.currentOffset,force3D:!0})}inview(n){let{target:e,way:t}=n;e==this.el&&(!this.active&&t=="enter"?(ut.ticker.add(this.renderBind),this.active=!0):this.active&&t=="leave"&&(ut.ticker.remove(this.renderBind),this.active=!1))}destroy(){ut.ticker.remove(this.renderBind),window.removeEventListener("resize",this.checkResizeBind)}};function ree(n,e){e.mapping=od;let t=new ch(n);t.compileEquirectangularShader();let i=t.fromEquirectangular(e).texture;return e.dispose(),t.dispose(),i}var Ms=.5,rf,Qs,Mo,On,sf,af,Pi,zr,qi,Ia,Kw,Cs,Ol,ea,Wc,Tp,qc,jc,Da,Nl,of,kl,lf,Xc,Fl,ta,Yc,Bl,Co,Yw,_3,x3,h0=class{constructor(e){Oi(this,Co);Oi(this,rf,45);Oi(this,Qs);Oi(this,Mo);Oi(this,On);Oi(this,sf);Oi(this,af);Oi(this,Pi);Oi(this,zr);Oi(this,qi);Oi(this,Ia);Oi(this,Kw);Oi(this,Cs);Oi(this,Ol);Oi(this,ea);Oi(this,Wc);Oi(this,Tp);Oi(this,qc);Oi(this,jc);Oi(this,Da);Oi(this,Nl);Oi(this,of);Oi(this,kl);Oi(this,lf);Oi(this,Xc);Oi(this,Fl);Oi(this,ta);Oi(this,Yc);Oi(this,Bl);this.$wrapper=e,bi(this,Mo,new Map),bi(this,On,{uTime:{value:0},uNoise:{value:null},uNoiseIntensity:{value:.3},uResolution:{value:new Bt(1,1)},uGlobalLuminosity:{value:1}}),_f(this,Co,x3).call(this),bi(this,sf,0),bi(this,af,0),bi(this,Bl,0),this.ringPosition=new ae,bi(this,Pi,{width:375,height:610,ratio:1,dpr:1}),bi(this,zr,new rl),xe(this,zr).background=new Vt(0),bi(this,qi,new nl({alpha:!1})),xe(this,qi).toneMapping=eS,bi(this,Ia,new mn(45,1,.1,10)),xe(this,Ia).position.setFromSpherical(new ao(.66,Math.PI/2,0)),xe(this,zr).add(xe(this,Ia)),bi(this,Ol,new mn(45,1,.1,10)),xe(this,Ia).add(xe(this,Ol)),bi(this,Cs,xe(this,Ol)),bi(this,ea,new hl(xe(this,Ia),xe(this,qi).domElement)),xe(this,ea).minDistance=.5,xe(this,ea).autoRotate=!0,xe(this,ea).enableDamping=!0,xe(this,ea).enablePan=!1,xe(this,ea).enableZoom=!1,this.$wrapper.prepend(xe(this,qi).domElement),this.trigonometricCameraPosition={theta:0,phi:0,radius:0},this.ringRotation={theta:0,phi:0},bi(this,Wc,new Bt(0,0)),bi(this,Tp,new Bt(0,0)),this.parallaxIntensity=1,bi(this,qc,new Or(xe(this,Pi).width,xe(this,Pi).height,{samples:1})),bi(this,jc,new Or(xe(this,Pi).width*Ms,xe(this,Pi).height*Ms,{samples:1})),bi(this,Da,new Or(xe(this,Pi).width*Ms,xe(this,Pi).height*Ms,{samples:1})),bi(this,Nl,new Or(xe(this,Pi).width*Ms,xe(this,Pi).height*Ms,{samples:1})),xe(this,jc).filter=xn,xe(this,Da).filter=xn,xe(this,Nl).filter=xn,bi(this,of,new Mn(new Kn().setAttribute("position",new Yn([-1,3,0,-1,-1,0,3,-1,0],3)).setAttribute("uv",new Yn([0,2,0,0,2,0],2)))),xe(this,of).material=new fh({vertexShader:`
        precision highp float;
        attribute vec3 position;
        attribute vec2 uv;

        varying vec2 vUv;

        void main() {
          vUv = uv;
          gl_Position = vec4(position, 1.);
        }
      `,fragmentShader:`
        precision highp float;
        varying vec2 vUv;

        uniform sampler2D uScene, uBlured, uNoise;
        uniform vec2 uResolution;
        uniform float uTime, uNoiseIntensity;

        #define PI 3.14159265

        float avg(vec3 c) { return (c.x + c.y + c.z) / 3.; }

        void main() {
          vec3 color = texture2D(uScene, vUv).rgb * 2.;
          vec4 glow = vec4(0.);

          vec3 noise = (texture2D(uNoise, vUv / 256. * uResolution + floor(uTime * 10000.) * .04).rgb - .5);
          // vec2 poisson = vec2(cos(noise.x), sin(noise.x)) / uResolution * 50.;

          glow += texture2D(uBlured, vUv);

          // color += glow.rgb * .3;
          color += vec3(glow.r * .4, glow.g * .25, glow.b * .1) * .5;
          // color = glow.rgb;
          color *= 1. + mix(vec3(avg(noise)), noise, .5) * uNoiseIntensity;

          gl_FragColor = vec4(color, 1.);
        }
      `,uniforms:{uTime:xe(this,On).uTime,uResolution:xe(this,On).uResolution,uScene:{value:xe(this,qc).texture},uBlured:{value:xe(this,Nl).texture},uNoise:xe(this,On).uNoise,uNoiseIntensity:xe(this,On).uNoiseIntensity}}),bi(this,kl,new fh({vertexShader:`
        precision highp float;
        uniform mat4 projectionMatrix;
        uniform mat4 modelViewMatrix;
        uniform mat4 normalMatrix;

        attribute vec3 position;
        attribute vec3 normal;
        attribute vec2 uv;
        attribute vec2 uv1;

        varying vec2 vUv;
        varying vec2 vUv1;
        varying vec3 vNormal;
        varying vec3 vPosition;
        varying vec3 vViewPosition;

        uniform float uBackSide;

        void main() {
          vUv = uv;
          vUv1 = uv1;
          vPosition = position;
          vNormal = vec3(normalMatrix * vec4(normal, 1.));
          vec4 mvPosition = modelViewMatrix * vec4(position, 1.);
          mvPosition.xyz *= 1. + mvPosition.xyz * .001 * uBackSide;
          vViewPosition = mvPosition.xyz;
          gl_Position = projectionMatrix * mvPosition;
        }
      `,fragmentShader:`
        precision highp float;
        varying vec2 vUv;
        varying vec2 vUv1;
        varying vec3 vNormal;
        varying vec3 vPosition;
        varying vec3 vViewPosition;

        uniform sampler2D uReflexion, uNoise;
        uniform float uOpacity, uLuminosity, uBackSide, uGlobalLuminosity;

        #define PI 3.14159265

        void main() {
          float frontSide = 1. - uBackSide;
          vec3 color = vec3(0.);
          vec2 dUv = abs(vUv - .5) * .1 + fract(atan(vPosition.x, vPosition.y) * .1) + vUv1 * frontSide + abs(vNormal.xy) * .01;
          float t = 0.;
          float r = .0005 + length(vNormal.xy) * .00001;
          color.r += texture2D(uReflexion, dUv + vec2(cos(t), sin(t)) * r).r;
          t += PI * 2. / 3.;
          color.g += texture2D(uReflexion, dUv + vec2(cos(t), sin(t)) * r).g;
          t += PI * 2. / 3.;
          color.b += texture2D(uReflexion, dUv + vec2(cos(t), sin(t)) * r).b;

          color += smoothstep(.0, 1., texture2D(uReflexion, reflect(normalize(vViewPosition), normalize(vNormal) * .2).rg).r) * .4;

          color *= 1. + (texture2D(uNoise, vPosition.xy * .3 + vUv1 * frontSide - abs(vNormal.xy) * .001).r - .5) * .3;
          color += smoothstep(.5, 1., color) * .2;
          // color = .15 + color * .3 * vec3(1.2, .9, .6);
          color = .05 + color * .3 * vec3(1.2, 1.1, 1.05);

          gl_FragColor = vec4(color * uLuminosity * uGlobalLuminosity, uOpacity);
        }
      `,uniforms:{uNoise:xe(this,On).uNoise,uGlobalLuminosity:xe(this,On).uGlobalLuminosity,uReflexion:{value:null},uOpacity:{value:1},uBackSide:{value:1},uLuminosity:{value:3}},transparent:!0,side:1})),bi(this,lf,new fh({vertexShader:`
        precision highp float;

        attribute vec3 position;
        attribute vec2 uv;

        varying vec2 vUv;

        uniform float uBackSide;

        void main() {
          vUv = uv;
          gl_Position = vec4(position, 1.);
        }
      `,fragmentShader:`
        precision highp float;
        varying vec2 vUv;

        uniform sampler2D uDiffuse, uLast, uNoise;
        uniform vec2 uResolution;

        #define WEIGHT_1 0.1945946
        #define WEIGHT_2 0.1216216
        #define WEIGHT_3 0.054054
        #define WEIGHT_4 0.016216

        #define PI 3.14159265

        void main() {
          vec2 offset = 5. / uResolution;

          vec3 color = vec3(0.);
          #ifdef HORIZONTAL
            color += texture2D(uDiffuse, vUv + vec2(offset.x * 1., 0.)).rgb * WEIGHT_1;
            color += texture2D(uDiffuse, vUv - vec2(offset.x * 1., 0.)).rgb * WEIGHT_1;

            color += texture2D(uDiffuse, vUv + vec2(offset.x * 2., 0.)).rgb * WEIGHT_2;
            color += texture2D(uDiffuse, vUv - vec2(offset.x * 2., 0.)).rgb * WEIGHT_2;

            color += texture2D(uDiffuse, vUv + vec2(offset.x * 3., 0.)).rgb * WEIGHT_3;
            color += texture2D(uDiffuse, vUv - vec2(offset.x * 3., 0.)).rgb * WEIGHT_3;

            color += texture2D(uDiffuse, vUv + vec2(offset.x * 4., 0.)).rgb * WEIGHT_4;
            color += texture2D(uDiffuse, vUv - vec2(offset.x * 4., 0.)).rgb * WEIGHT_4;
          #else
            color += texture2D(uDiffuse, vUv + vec2(0., offset.y * 1.)).rgb * WEIGHT_1;
            color += texture2D(uDiffuse, vUv - vec2(0., offset.y * 1.)).rgb * WEIGHT_1;

            color += texture2D(uDiffuse, vUv + vec2(0., offset.y * 2.)).rgb * WEIGHT_2;
            color += texture2D(uDiffuse, vUv - vec2(0., offset.y * 2.)).rgb * WEIGHT_2;

            color += texture2D(uDiffuse, vUv + vec2(0., offset.y * 3.)).rgb * WEIGHT_3;
            color += texture2D(uDiffuse, vUv - vec2(0., offset.y * 3.)).rgb * WEIGHT_3;

            color += texture2D(uDiffuse, vUv + vec2(0., offset.y * 4.)).rgb * WEIGHT_4;
            color += texture2D(uDiffuse, vUv - vec2(0., offset.y * 4.)).rgb * WEIGHT_4;

            color = mix(color, texture2D(uLast, vUv).rgb, .3);
          #endif
          gl_FragColor = vec4(smoothstep(.0, .3, length(color)) * color * 2., 1.);
          // gl_FragColor = texture2D(uDiffuse, vUv);
        }
      `,uniforms:{uNoise:xe(this,On).uNoise,uDiffuse:{value:null},uLast:{value:null},uResolution:xe(this,On).uResolution},side:0})),bi(this,Xc,new Mn(new gc(2,2),xe(this,lf))),bi(this,Fl,new Mn(new gc(2,2),xe(this,lf).clone())),xe(this,Xc).material.uniforms.uDiffuse.value=xe(this,jc).texture,xe(this,Xc).material.uniforms.uLast.value=xe(this,Da).texture,xe(this,Fl).material.uniforms.uDiffuse.value=xe(this,Da).texture,xe(this,Fl).material.uniforms.uResolution=xe(this,On).uResolution,xe(this,Fl).material.defines.HORIZONTAL=1,bi(this,Qs,xe(this,kl).clone()),xe(this,Qs).side=0,xe(this,Qs).uniforms.uOpacity.value=.92,xe(this,Qs).uniforms.uLuminosity.value=1.2,xe(this,Qs).uniforms.uBackSide.value=0,xe(this,Qs).uniforms.uGlobalLuminosity=xe(this,On).uGlobalLuminosity}on(e,t){xe(this,Mo).has(e)||xe(this,Mo).set(e,[]),xe(this,Mo).get(e).push(t)}emit(e){xe(this,Mo).has(e)&&xe(this,Mo).get(e).forEach(t=>t())}load(e){return Sn(this,null,function*(){let t=new mh,[i,r]=yield Promise.all([new Promise(s=>Ec.load(`${e}ring.compressed.glb`,a=>s(a))),t.load(`${e}studio_blur_small.jpg`)]);this.model=i.scene,this.model.traverse(s=>{if(s.isMesh&&s.material.name==="diamond"){xe(this,kl).uniforms.uReflexion.value===null&&(xe(this,kl).uniforms.uReflexion.value=s.material.map,xe(this,Qs).uniforms.uReflexion.value=s.material.map),s.material=xe(this,kl);let a=s.clone();a.material=xe(this,Qs),s.parent.add(a)}}),xe(this,zr).add(this.model),xe(this,zr).environment=ree(xe(this,qi),r),xe(this,zr).environmentIntensity=1.8,this.emit("load")})}tick(e){e/=1e3,bi(this,sf,Math.min(e-xe(this,af),.01)),bi(this,af,e),_f(this,Co,_3).call(this),xe(this,On).uTime.value=e/1e3,xe(this,Tp).lerp(xe(this,Wc),xe(this,sf)),this.model&&(this.model.position.copy(this.ringPosition),this.model.rotation.set(0,0,0),this.model.rotateY(this.ringRotation.theta),this.model.rotateX(this.ringRotation.phi))}mousemove(e,t){xe(this,Wc).x=e*2-1,xe(this,Wc).y=-t*2+1}resize(e,t){xe(this,Pi).width=e,xe(this,Pi).height=t,xe(this,Pi).ratio=e/t,xe(this,Pi).dpr=Math.min(e<1024?2:1.5,window.devicePixelRatio),xe(this,On).uResolution.value.set(xe(this,Pi).width,xe(this,Pi).height),xe(this,qi).setSize(e,t),xe(this,qi).setPixelRatio(xe(this,Pi).dpr),_f(this,Co,Yw).call(this),xe(this,qc).setSize(xe(this,Pi).width*xe(this,Pi).dpr,xe(this,Pi).height*xe(this,Pi).dpr),xe(this,Da).setSize(xe(this,Pi).width*Ms,xe(this,Pi).height*Ms),xe(this,Da).setSize(xe(this,Pi).width*Ms,xe(this,Pi).height*Ms),xe(this,Nl).setSize(xe(this,Pi).width*Ms,xe(this,Pi).height*Ms)}launch(){bi(this,Yc,new ao(0,0,0)),ut.from(xe(this,Yc),{radius:.5,phi:-.4,theta:1.2,ease:"power4.out",duration:4}),ut.from(this.model.position,{y:-.05,ease:"power4.out",duration:4})}destroy(){bi(this,zr,bi(this,qi,null))}get fov(){return xe(this,rf)}set fov(e){bi(this,rf,e),_f(this,Co,Yw).call(this)}get luminosity(){return xe(this,zr).environmentIntensity}set luminosity(e){xe(this,On).uGlobalLuminosity.value=xe(this,zr).environmentIntensity=e}get noise(){return xe(this,On).uNoiseIntensity.value}set noise(e){xe(this,On).uNoiseIntensity.value=e}get scrollProgress(){return xe(this,Bl)}set scrollProgress(e){bi(this,Bl,e)}set autoRotate(e){xe(this,ea).autoRotateSpeed=e}get renderer(){return xe(this,qi)}};rf=new WeakMap,Qs=new WeakMap,Mo=new WeakMap,On=new WeakMap,sf=new WeakMap,af=new WeakMap,Pi=new WeakMap,zr=new WeakMap,qi=new WeakMap,Ia=new WeakMap,Kw=new WeakMap,Cs=new WeakMap,Ol=new WeakMap,ea=new WeakMap,Wc=new WeakMap,Tp=new WeakMap,qc=new WeakMap,jc=new WeakMap,Da=new WeakMap,Nl=new WeakMap,of=new WeakMap,kl=new WeakMap,lf=new WeakMap,Xc=new WeakMap,Fl=new WeakMap,ta=new WeakMap,Yc=new WeakMap,Bl=new WeakMap,Co=new WeakSet,Yw=function(){xe(this,Cs).aspect=xe(this,Pi).ratio,xe(this,Cs).fov=xe(this,rf)/Math.min(1,xe(this,Pi).ratio*1.5),xe(this,Cs).updateProjectionMatrix()},_3=function(){if(bi(this,ta,new ao().setFromVector3(xe(this,Ia).position)),xe(this,ta)){if(xe(this,Yc))for(let e of["radius","phi","theta"])xe(this,ta)[e]+=xe(this,Yc)[e];xe(this,ta).radius+=ut.utils.mapRange(0,1,0,.5,xe(this,Bl)),xe(this,ta).phi+=ut.utils.mapRange(0,1,-Math.PI/2,Math.PI/2,xe(this,Bl)),xe(this,ta).phi=Math.min(Math.max(.1,xe(this,ta).phi),Math.PI-.1),xe(this,Ol).position.copy(xe(this,Ia).worldToLocal(new ae().setFromSpherical(xe(this,ta)))),xe(this,Ol).lookAt(0,0,0)}xe(this,ea).update(),xe(this,qi).setRenderTarget(xe(this,qc)),xe(this,qi).clear(),xe(this,qi).render(xe(this,zr),xe(this,Cs)),xe(this,qi).setRenderTarget(xe(this,jc)),xe(this,qi).clear(),xe(this,qi).render(xe(this,zr),xe(this,Cs)),xe(this,qi).setRenderTarget(xe(this,Da)),xe(this,qi).clear(),xe(this,qi).render(xe(this,Xc),xe(this,Cs)),xe(this,qi).setRenderTarget(xe(this,Nl)),xe(this,qi).clear(),xe(this,qi).render(xe(this,Fl),xe(this,Cs)),xe(this,qi).setRenderTarget(null),xe(this,qi).clear(),xe(this,qi).render(xe(this,of),xe(this,Cs))},x3=function(e=256){let t=document.createElement("canvas");t.width=t.height=e;let i=t.getContext("2d"),r=i.getImageData(0,0,e,e);r.data.forEach((a,o)=>{r.data[o]=Math.round(Math.random()*255)}),i.putImageData(r,0,0);let s=new Wg(t);s.wrapS=s.wrapT=io,s.magFilter=s.minFilter=xn,xe(this,On).uNoise.value=s};var C3=er(A3(),1),M3=(0,C3.default)(.4,0,1,1),p0=class extends Ct{constructor(n){super(n)}init(){this.ring=new h0(this.el),this.ring.load("/assets/3d/"),this.renderBind=this.render.bind(this),ut.ticker.add(this.renderBind),this.checkResizeBind=this.checkResize.bind(this),window.addEventListener("resize",this.checkResizeBind),this.onResize(),requestAnimationFrame(()=>{this.onResize()})}render(n,e,t){var i,r;(r=(i=this.ring)==null?void 0:i.tick)==null||r.call(i,n*1e4)}checkResize(){this.resizeTick||(this.resizeTick=!0,requestAnimationFrame(()=>{this.onResize(),this.resizeTick=!1}))}onResize(){let{width:n,height:e,top:t,left:i}=this.el.getBoundingClientRect();this.BCR={width:n,height:e,top:t,left:i},this.ring.resize(this.BCR.width,this.BCR.height)}onScrollProgress(n){this.ring.scrollProgress=M3(n);let e=ut.utils.mapRange(.5,1,2,20,M3(n));e=Math.max(2,Math.min(20,e)),this.ring.autoRotate=e}launch(){this.ring.launch()}destroy(){var n,e;super.destroy(),(e=(n=this.ring)==null?void 0:n.destroy)==null||e.call(n),ut.ticker.remove(this.renderBind),window.removeEventListener("resize",this.checkResizeBind)}};function Jw(){return Jw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jw.apply(this,arguments)}function m0(n,e,t){return Math.max(n,Math.min(e,t))}var Zw=class{advance(e){var t;if(!this.isRunning)return;let i=!1;if(this.lerp)this.value=(r=this.value,s=this.to,(1-(a=1-Math.exp(-60*this.lerp*e)))*r+a*s),Math.round(this.value)===this.to&&(this.value=this.to,i=!0);else{this.currentTime+=e;let o=m0(0,this.currentTime/this.duration,1);i=o>=1;let l=i?1:this.easing(o);this.value=this.from+(this.to-this.from)*l}var r,s,a;(t=this.onUpdate)==null||t.call(this,this.value,i),i&&this.stop()}stop(){this.isRunning=!1}fromTo(e,t,{lerp:i=.1,duration:r=1,easing:s=l=>l,onStart:a,onUpdate:o}){this.from=this.value=e,this.to=t,this.lerp=i,this.duration=r,this.easing=s,this.currentTime=0,this.isRunning=!0,a==null||a(),this.onUpdate=o}},Qw=class{constructor({wrapper:e,content:t,autoResize:i=!0}={}){if(this.resize=()=>{this.onWrapperResize(),this.onContentResize()},this.onWrapperResize=()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)},this.onContentResize=()=>{this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth},this.wrapper=e,this.content=t,i){let r=function(s,a){let o;return function(){let l=arguments,c=this;clearTimeout(o),o=setTimeout(function(){s.apply(c,l)},250)}}(this.resize);this.wrapper!==window&&(this.wrapperResizeObserver=new ResizeObserver(r),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(r),this.contentResizeObserver.observe(this.content)}this.resize()}destroy(){var e,t;(e=this.wrapperResizeObserver)==null||e.disconnect(),(t=this.contentResizeObserver)==null||t.disconnect()}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},g0=class{constructor(){this.events={}}emit(e,...t){let i=this.events[e]||[];for(let r=0,s=i.length;r<s;r++)i[r](...t)}on(e,t){var i;return(i=this.events[e])!=null&&i.push(t)||(this.events[e]=[t]),()=>{var r;this.events[e]=(r=this.events[e])==null?void 0:r.filter(s=>t!==s)}}off(e,t){var i;this.events[e]=(i=this.events[e])==null?void 0:i.filter(r=>t!==r)}destroy(){this.events={}}},eA=class{constructor(e,{wheelMultiplier:t=1,touchMultiplier:i=2,normalizeWheel:r=!1}){this.onTouchStart=s=>{let{clientX:a,clientY:o}=s.targetTouches?s.targetTouches[0]:s;this.touchStart.x=a,this.touchStart.y=o,this.lastDelta={x:0,y:0}},this.onTouchMove=s=>{let{clientX:a,clientY:o}=s.targetTouches?s.targetTouches[0]:s,l=-(a-this.touchStart.x)*this.touchMultiplier,c=-(o-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=a,this.touchStart.y=o,this.lastDelta={x:l,y:c},this.emitter.emit("scroll",{deltaX:l,deltaY:c,event:s})},this.onTouchEnd=s=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:s})},this.onWheel=s=>{let{deltaX:a,deltaY:o}=s;this.normalizeWheel&&(a=m0(-100,a,100),o=m0(-100,o,100)),a*=this.wheelMultiplier,o*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:a,deltaY:o,event:s})},this.element=e,this.wheelMultiplier=t,this.touchMultiplier=i,this.normalizeWheel=r,this.touchStart={x:null,y:null},this.emitter=new g0,this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}},y0=class{constructor({wrapper:e=window,content:t=document.documentElement,wheelEventsTarget:i=e,eventsTarget:r=i,smoothWheel:s=!0,smoothTouch:a=!1,syncTouch:o=!1,syncTouchLerp:l=.1,__iosNoInertiaSyncTouchLerp:c=.4,touchInertiaMultiplier:u=35,duration:h,easing:d=D=>Math.min(1,1.001-Math.pow(2,-10*D)),lerp:m=!h&&.1,infinite:v=!1,orientation:_="vertical",gestureOrientation:g="vertical",touchMultiplier:y=1,wheelMultiplier:b=1,normalizeWheel:E=!1,autoResize:w=!0}={}){this.onVirtualScroll=({deltaX:D,deltaY:P,event:M})=>{if(M.ctrlKey)return;let R=M.type.includes("touch"),I=M.type.includes("wheel");if(this.options.gestureOrientation==="both"&&D===0&&P===0||this.options.gestureOrientation==="vertical"&&P===0||this.options.gestureOrientation==="horizontal"&&D===0||R&&this.options.gestureOrientation==="vertical"&&this.scroll===0&&!this.options.infinite&&P<=0)return;let A=M.composedPath();if(A=A.slice(0,A.indexOf(this.rootElement)),A.find(J=>{var ge;return(J.hasAttribute==null?void 0:J.hasAttribute("data-lenis-prevent"))||R&&(J.hasAttribute==null?void 0:J.hasAttribute("data-lenis-prevent-touch"))||I&&(J.hasAttribute==null?void 0:J.hasAttribute("data-lenis-prevent-wheel"))||((ge=J.classList)==null?void 0:ge.contains("lenis"))}))return;if(this.isStopped||this.isLocked)return void M.preventDefault();if(this.isSmooth=(this.options.smoothTouch||this.options.syncTouch)&&R||this.options.smoothWheel&&I,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();M.preventDefault();let N=P;this.options.gestureOrientation==="both"?N=Math.abs(P)>Math.abs(D)?P:D:this.options.gestureOrientation==="horizontal"&&(N=D);let G=R&&this.options.syncTouch,X=R&&M.type==="touchend"&&Math.abs(N)>1;X&&(N=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+N,Jw({programmatic:!1},G&&{lerp:X?this.syncTouchLerp:this.options.__iosNoInertiaSyncTouchLerp}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){let D=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-D),this.emit()}},window.lenisVersion="1.0.29",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:t,wheelEventsTarget:i,eventsTarget:r,smoothWheel:s,smoothTouch:a,syncTouch:o,syncTouchLerp:l,__iosNoInertiaSyncTouchLerp:c,touchInertiaMultiplier:u,duration:h,easing:d,lerp:m,infinite:v,gestureOrientation:g,orientation:_,touchMultiplier:y,wheelMultiplier:b,normalizeWheel:E,autoResize:w},this.animate=new Zw,this.emitter=new g0,this.dimensions=new Qw({wrapper:e,content:t,autoResize:w}),this.toggleClass("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=o||s||a,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,{passive:!1}),this.virtualScroll=new eA(r,{touchMultiplier:y,wheelMultiplier:b,normalizeWheel:E}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,{passive:!1}),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClass("lenis",!1),this.toggleClass("lenis-smooth",!1),this.toggleClass("lenis-scrolling",!1),this.toggleClass("lenis-stopped",!1),this.toggleClass("lenis-locked",!1)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped=!1,this.reset()}stop(){this.isStopped=!0,this.animate.stop(),this.reset()}raf(e){let t=e-(this.time||e);this.time=e,this.animate.advance(.001*t)}scrollTo(e,{offset:t=0,immediate:i=!1,lock:r=!1,duration:s=this.options.duration,easing:a=this.options.easing,lerp:o=!s&&this.options.lerp,onComplete:l=null,force:c=!1,programmatic:u=!0}={}){if(!this.isStopped&&!this.isLocked||c){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{var h;let d;if(typeof e=="string"?d=document.querySelector(e):(h=e)!=null&&h.nodeType&&(d=e),d){if(this.options.wrapper!==window){let v=this.options.wrapper.getBoundingClientRect();t-=this.isHorizontal?v.left:v.top}let m=d.getBoundingClientRect();e=(this.isHorizontal?m.left:m.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=t,e=Math.round(e),this.options.infinite?u&&(this.targetScroll=this.animatedScroll=this.scroll):e=m0(0,e,this.limit),i)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(l==null||l(this));if(!u){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:s,easing:a,lerp:o,onStart:()=>{r&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(d,m)=>{this.isScrolling=!0,this.velocity=d-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=d,this.setScroll(this.scroll),u&&(this.targetScroll=d),m||this.emit(),m&&(this.reset(),this.emit(),l==null||l(this),this.__preventNextScrollEvent=!0,requestAnimationFrame(()=>{delete this.__preventNextScrollEvent}))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(this.animatedScroll%(e=this.limit)+e)%e:this.animatedScroll;var e}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClass("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClass("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClass("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClass("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClass(e,t){this.rootElement.classList.toggle(e,t),this.emitter.emit("className change",this)}};function tA(){return tA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tA.apply(this,arguments)}var v0=class{constructor({scrollElements:e,rootMargin:t="-1px -1px -1px -1px",IORaf:i}){this.scrollElements=void 0,this.rootMargin=void 0,this.IORaf=void 0,this.observer=void 0,this.scrollElements=e,this.rootMargin=t,this.IORaf=i,this._init()}_init(){this.observer=new IntersectionObserver(e=>{e.forEach(t=>{let i=this.scrollElements.find(r=>r.$el===t.target);t.isIntersecting?(i&&(i.isAlreadyIntersected=!0),this._setInview(t)):i&&i.isAlreadyIntersected&&this._setOutOfView(t)})},{rootMargin:this.rootMargin});for(let e of this.scrollElements)this.observe(e.$el)}destroy(){this.observer.disconnect()}observe(e){e&&this.observer.observe(e)}unobserve(e){e&&this.observer.unobserve(e)}_setInview(e){let t=this.scrollElements.find(i=>i.$el===e.target);this.IORaf&&(t==null||t.setInteractivityOn()),!this.IORaf&&(t==null||t.setInview())}_setOutOfView(e){let t=this.scrollElements.find(i=>i.$el===e.target);this.IORaf&&(t==null||t.setInteractivityOff()),!this.IORaf&&(t==null||t.setOutOfView()),t!=null&&t.attributes.scrollRepeat||this.IORaf||this.unobserve(e.target)}};function P3(n,e,t,i,r){return t+((r-n)/(e-n)*(i-t)||0)}function I3(n,e){return n.reduce((t,i)=>Math.abs(i-e)<Math.abs(t-e)?i:t)}var iA=class{constructor({$el:e,id:t,modularInstance:i,subscribeElementUpdateFn:r,unsubscribeElementUpdateFn:s,needRaf:a,scrollOrientation:o}){var l,c,u,h,d;this.$el=void 0,this.id=void 0,this.needRaf=void 0,this.attributes=void 0,this.scrollOrientation=void 0,this.isAlreadyIntersected=void 0,this.intersection=void 0,this.metrics=void 0,this.currentScroll=void 0,this.translateValue=void 0,this.progress=void 0,this.lastProgress=void 0,this.modularInstance=void 0,this.progressModularModules=void 0,this.isInview=void 0,this.isInteractive=void 0,this.isInFold=void 0,this.isFirstResize=void 0,this.subscribeElementUpdateFn=void 0,this.unsubscribeElementUpdateFn=void 0,this.$el=e,this.id=t,this.needRaf=a,this.scrollOrientation=o,this.modularInstance=i,this.subscribeElementUpdateFn=r,this.unsubscribeElementUpdateFn=s,this.attributes={scrollClass:(l=this.$el.dataset.scrollClass)!=null?l:"is-inview",scrollOffset:(c=this.$el.dataset.scrollOffset)!=null?c:"0,0",scrollPosition:(u=this.$el.dataset.scrollPosition)!=null?u:"start,end",scrollModuleProgress:this.$el.dataset.scrollModuleProgress!=null,scrollCssProgress:this.$el.dataset.scrollCssProgress!=null,scrollEventProgress:(h=this.$el.dataset.scrollEventProgress)!=null?h:null,scrollSpeed:this.$el.dataset.scrollSpeed!=null?parseFloat(this.$el.dataset.scrollSpeed):null,scrollRepeat:this.$el.dataset.scrollRepeat!=null,scrollCall:(d=this.$el.dataset.scrollCall)!=null?d:null,scrollCallSelf:this.$el.dataset.scrollCallSelf!=null,scrollIgnoreFold:this.$el.dataset.scrollIgnoreFold!=null,scrollEnableTouchSpeed:this.$el.dataset.scrollEnableTouchSpeed!=null},this.intersection={start:0,end:0},this.metrics={offsetStart:0,offsetEnd:0,bcr:{}},this.currentScroll=this.scrollOrientation==="vertical"?window.scrollY:window.scrollX,this.translateValue=0,this.progress=0,this.lastProgress=null,this.progressModularModules=[],this.isInview=!1,this.isInteractive=!1,this.isAlreadyIntersected=!1,this.isInFold=!1,this.isFirstResize=!0,this._init()}_init(){this.needRaf&&(this.modularInstance&&this.attributes.scrollModuleProgress&&this._getProgressModularModules(),this._resize())}onResize({currentScroll:e}){this.currentScroll=e,this._resize()}onRender({currentScroll:e,smooth:t}){let i=this.scrollOrientation==="vertical"?window.innerHeight:window.innerWidth;if(this.currentScroll=e,this._computeProgress(),this.attributes.scrollSpeed&&!isNaN(this.attributes.scrollSpeed))if(this.attributes.scrollEnableTouchSpeed||t){if(this.isInFold){let r=Math.max(0,this.progress);this.translateValue=r*i*this.attributes.scrollSpeed*-1}else{let r=P3(0,1,-1,1,this.progress);this.translateValue=r*i*this.attributes.scrollSpeed*-1}this.$el.style.transform=this.scrollOrientation==="vertical"?`translate3d(0, ${this.translateValue}px, 0)`:`translate3d(${this.translateValue}px, 0, 0)`}else this.translateValue&&(this.$el.style.transform="translate3d(0, 0, 0)"),this.translateValue=0}setInview(){if(this.isInview)return;this.isInview=!0,this.$el.classList.add(this.attributes.scrollClass);let e=this._getScrollCallFrom();this.attributes.scrollCall&&this._dispatchCall("enter",e)}setOutOfView(){if(!this.isInview||!this.attributes.scrollRepeat)return;this.isInview=!1,this.$el.classList.remove(this.attributes.scrollClass);let e=this._getScrollCallFrom();this.attributes.scrollCall&&this._dispatchCall("leave",e)}setInteractivityOn(){this.isInteractive||(this.isInteractive=!0,this.subscribeElementUpdateFn(this))}setInteractivityOff(){this.isInteractive&&(this.isInteractive=!1,this.unsubscribeElementUpdateFn(this),this.lastProgress!=null&&this._computeProgress(I3([0,1],this.lastProgress)))}_resize(){this.metrics.bcr=this.$el.getBoundingClientRect(),this._computeMetrics(),this._computeIntersection(),this.isFirstResize&&(this.isFirstResize=!1,this.isInFold&&this.setInview())}_computeMetrics(){let{top:e,left:t,height:i,width:r}=this.metrics.bcr,s=this.scrollOrientation==="vertical"?window.innerHeight:window.innerWidth,a=this.scrollOrientation==="vertical"?i:r;this.metrics.offsetStart=this.currentScroll+(this.scrollOrientation==="vertical"?e:t)-this.translateValue,this.metrics.offsetEnd=this.metrics.offsetStart+a,this.isInFold=this.metrics.offsetStart<s&&!this.attributes.scrollIgnoreFold}_computeIntersection(){let e=this.scrollOrientation==="vertical"?window.innerHeight:window.innerWidth,t=this.scrollOrientation==="vertical"?this.metrics.bcr.height:this.metrics.bcr.width,i=this.attributes.scrollOffset.split(","),r=i[0]!=null?i[0].trim():"0",s=i[1]!=null?i[1].trim():"0",a=this.attributes.scrollPosition.split(","),o=a[0]!=null?a[0].trim():"start",l=a[1]!=null?a[1].trim():"end",c=r.includes("%")?e*parseInt(r.replace("%","").trim())*.01:parseInt(r),u=s.includes("%")?e*parseInt(s.replace("%","").trim())*.01:parseInt(s);switch(this.isInFold&&(o="fold"),o){case"start":default:this.intersection.start=this.metrics.offsetStart-e+c;break;case"middle":this.intersection.start=this.metrics.offsetStart-e+c+.5*t;break;case"end":this.intersection.start=this.metrics.offsetStart-e+c+t;break;case"fold":this.intersection.start=0}switch(l){case"start":this.intersection.end=this.metrics.offsetStart-u;break;case"middle":this.intersection.end=this.metrics.offsetStart-u+.5*t;break;default:this.intersection.end=this.metrics.offsetStart-u+t}if(this.intersection.end<=this.intersection.start)switch(l){case"start":default:this.intersection.end=this.intersection.start+1;break;case"middle":this.intersection.end=this.intersection.start+.5*t;break;case"end":this.intersection.end=this.intersection.start+t}}_computeProgress(e){let t=e!=null?e:(i=P3(this.intersection.start,this.intersection.end,0,1,this.currentScroll))<0?0:i>1?1:i;var i;if(this.progress=t,t!=this.lastProgress){if(this.lastProgress=t,this.attributes.scrollCssProgress&&this._setCssProgress(t),this.attributes.scrollEventProgress&&this._setCustomEventProgress(t),this.attributes.scrollModuleProgress)for(let r of this.progressModularModules)this.modularInstance&&this.modularInstance.call("onScrollProgress",t,r.moduleName,r.moduleId);t>0&&t<1&&this.setInview(),t===0&&this.setOutOfView(),t===1&&this.setOutOfView()}}_setCssProgress(e=0){this.$el.style.setProperty("--progress",e.toString())}_setCustomEventProgress(e=0){let t=this.attributes.scrollEventProgress;if(!t)return;let i=new CustomEvent(t,{detail:{target:this.$el,progress:e}});window.dispatchEvent(i)}_getProgressModularModules(){if(!this.modularInstance)return;let e=Object.keys(this.$el.dataset).filter(i=>i.includes("module")),t=Object.entries(this.modularInstance.modules);if(e.length)for(let i of e){let r=this.$el.dataset[i];if(!r)return;for(let s of t){let[a,o]=s;r in o&&this.progressModularModules.push({moduleName:a,moduleId:r})}}}_getScrollCallFrom(){let e=I3([this.intersection.start,this.intersection.end],this.currentScroll);return this.intersection.start===e?"start":"end"}_dispatchCall(e,t){var i,r;let s=(i=this.attributes.scrollCall)==null?void 0:i.split(","),a=(r=this.attributes)==null?void 0:r.scrollCallSelf;if(s&&s.length>1){var o;let[l,c,u]=s,h;h=a?this.$el.dataset[`module${c.trim()}`]:u,this.modularInstance&&this.modularInstance.call(l.trim(),{target:this.$el,way:e,from:t},c.trim(),(o=h)==null?void 0:o.trim())}else if(s){let[l]=s,c=new CustomEvent(l,{detail:{target:this.$el,way:e,from:t}});window.dispatchEvent(c)}}},dee=["scrollOffset","scrollPosition","scrollModuleProgress","scrollCssProgress","scrollEventProgress","scrollSpeed"],nA=class{constructor({$el:e,modularInstance:t,triggerRootMargin:i,rafRootMargin:r,scrollOrientation:s}){this.$scrollContainer=void 0,this.modularInstance=void 0,this.triggerRootMargin=void 0,this.rafRootMargin=void 0,this.scrollElements=void 0,this.triggeredScrollElements=void 0,this.RAFScrollElements=void 0,this.scrollElementsToUpdate=void 0,this.IOTriggerInstance=void 0,this.IORafInstance=void 0,this.scrollOrientation=void 0,e?(this.$scrollContainer=e,this.modularInstance=t,this.scrollOrientation=s,this.triggerRootMargin=i!=null?i:"-1px -1px -1px -1px",this.rafRootMargin=r!=null?r:"100% 100% 100% 100%",this.scrollElements=[],this.triggeredScrollElements=[],this.RAFScrollElements=[],this.scrollElementsToUpdate=[],this._init()):console.error("Please provide a DOM Element as scrollContainer")}_init(){let e=this.$scrollContainer.querySelectorAll("[data-scroll]"),t=Array.from(e);this._subscribeScrollElements(t),this.IOTriggerInstance=new v0({scrollElements:[...this.triggeredScrollElements],rootMargin:this.triggerRootMargin,IORaf:!1}),this.IORafInstance=new v0({scrollElements:[...this.RAFScrollElements],rootMargin:this.rafRootMargin,IORaf:!0})}destroy(){this.IOTriggerInstance.destroy(),this.IORafInstance.destroy(),this._unsubscribeAllScrollElements()}onResize({currentScroll:e}){for(let t of this.RAFScrollElements)t.onResize({currentScroll:e})}onRender({currentScroll:e,smooth:t}){for(let i of this.scrollElementsToUpdate)i.onRender({currentScroll:e,smooth:t})}removeScrollElements(e){let t=e.querySelectorAll("[data-scroll]");if(t.length){for(let i=0;i<this.triggeredScrollElements.length;i++){let r=this.triggeredScrollElements[i];Array.from(t).indexOf(r.$el)>-1&&(this.IOTriggerInstance.unobserve(r.$el),this.triggeredScrollElements.splice(i,1))}for(let i=0;i<this.RAFScrollElements.length;i++){let r=this.RAFScrollElements[i];Array.from(t).indexOf(r.$el)>-1&&(this.IORafInstance.unobserve(r.$el),this.RAFScrollElements.splice(i,1))}t.forEach(i=>{let r=this.scrollElementsToUpdate.find(a=>a.$el===i),s=this.scrollElements.find(a=>a.$el===i);r&&this._unsubscribeElementUpdate(r),s&&(this.scrollElements=this.scrollElements.filter(a=>a.id!=s.id))})}}addScrollElements(e){let t=e.querySelectorAll("[data-scroll]"),i=[];this.scrollElements.forEach(a=>{i.push(a.id)});let r=Math.max(...i)+1,s=Array.from(t);this._subscribeScrollElements(s,r,!0)}_subscribeScrollElements(e,t=0,i=!1){for(let r=0;r<e.length;r++){let s=e[r],a=this._checkRafNeeded(s),o=new iA({$el:s,id:t+r,scrollOrientation:this.scrollOrientation,modularInstance:this.modularInstance,subscribeElementUpdateFn:this._subscribeElementUpdate.bind(this),unsubscribeElementUpdateFn:this._unsubscribeElementUpdate.bind(this),needRaf:a});this.scrollElements.push(o),a?(this.RAFScrollElements.push(o),i&&(this.IORafInstance.scrollElements.push(o),this.IORafInstance.observe(o.$el))):(this.triggeredScrollElements.push(o),i&&(this.IOTriggerInstance.scrollElements.push(o),this.IOTriggerInstance.observe(o.$el)))}}_unsubscribeAllScrollElements(){this.scrollElements=[],this.RAFScrollElements=[],this.triggeredScrollElements=[],this.scrollElementsToUpdate=[]}_subscribeElementUpdate(e){this.scrollElementsToUpdate.push(e)}_unsubscribeElementUpdate(e){this.scrollElementsToUpdate=this.scrollElementsToUpdate.filter(t=>t.id!=e.id)}_checkRafNeeded(e){let t=[...dee],i=r=>{t=t.filter(s=>s!=r)};if(e.dataset.scrollOffset){if(e.dataset.scrollOffset.split(",").map(r=>r.replace("%","").trim()).join(",")!="0,0")return!0;i("scrollOffset")}else i("scrollOffset");if(e.dataset.scrollPosition){if(e.dataset.scrollPosition.trim()!="top,bottom")return!0;i("scrollPosition")}else i("scrollPosition");if(e.dataset.scrollSpeed&&!isNaN(parseFloat(e.dataset.scrollSpeed)))return!0;i("scrollSpeed");for(let r of t)if(r in e.dataset)return!0;return!1}},rA=class{constructor({resizeElements:e,resizeCallback:t=()=>{}}){this.$resizeElements=void 0,this.isFirstObserve=void 0,this.observer=void 0,this.resizeCallback=void 0,this.$resizeElements=e,this.resizeCallback=t,this.isFirstObserve=!0,this._init()}_init(){this.observer=new ResizeObserver(e=>{var t;!this.isFirstObserve&&((t=this.resizeCallback)==null||t.call(this)),this.isFirstObserve=!1});for(let e of this.$resizeElements)this.observer.observe(e)}destroy(){this.observer.disconnect()}},D3={wrapper:window,content:document.documentElement,eventsTarget:window,lerp:.1,duration:.75,orientation:"vertical",gestureOrientation:"vertical",smoothWheel:!0,smoothTouch:!1,syncTouch:!1,syncTouchLerp:.1,touchInertiaMultiplier:35,wheelMultiplier:1,touchMultiplier:2,normalizeWheel:!1,autoResize:!0,easing:n=>Math.min(1,1.001-Math.pow(2,-10*n))},_0=class{constructor({lenisOptions:e={},modularInstance:t,triggerRootMargin:i,rafRootMargin:r,autoResize:s=!0,autoStart:a=!0,scrollCallback:o=()=>{},initCustomTicker:l,destroyCustomTicker:c}={}){this.rafPlaying=void 0,this.lenisInstance=void 0,this.coreInstance=void 0,this.lenisOptions=void 0,this.modularInstance=void 0,this.triggerRootMargin=void 0,this.rafRootMargin=void 0,this.rafInstance=void 0,this.autoResize=void 0,this.autoStart=void 0,this.ROInstance=void 0,this.initCustomTicker=void 0,this.destroyCustomTicker=void 0,this._onRenderBind=void 0,this._onResizeBind=void 0,this._onScrollToBind=void 0,this.lenisOptions=tA({},D3,e),Object.assign(this,{lenisOptions:e,modularInstance:t,triggerRootMargin:i,rafRootMargin:r,autoResize:s,autoStart:a,scrollCallback:o,initCustomTicker:l,destroyCustomTicker:c}),this._onRenderBind=this._onRender.bind(this),this._onScrollToBind=this._onScrollTo.bind(this),this._onResizeBind=this._onResize.bind(this),this.rafPlaying=!1,this._init()}_init(){var e;this.lenisInstance=new y0({wrapper:this.lenisOptions.wrapper,content:this.lenisOptions.content,eventsTarget:this.lenisOptions.eventsTarget,lerp:this.lenisOptions.lerp,duration:this.lenisOptions.duration,orientation:this.lenisOptions.orientation,gestureOrientation:this.lenisOptions.gestureOrientation,smoothWheel:this.lenisOptions.smoothWheel,smoothTouch:this.lenisOptions.smoothTouch,syncTouch:this.lenisOptions.syncTouch,syncTouchLerp:this.lenisOptions.syncTouchLerp,touchInertiaMultiplier:this.lenisOptions.touchInertiaMultiplier,wheelMultiplier:this.lenisOptions.wheelMultiplier,touchMultiplier:this.lenisOptions.touchMultiplier,normalizeWheel:this.lenisOptions.normalizeWheel,easing:this.lenisOptions.easing}),(e=this.lenisInstance)==null||e.on("scroll",this.scrollCallback),document.documentElement.setAttribute("data-scroll-orientation",this.lenisInstance.options.orientation),requestAnimationFrame(()=>{this.coreInstance=new nA({$el:this.lenisInstance.rootElement,modularInstance:this.modularInstance,triggerRootMargin:this.triggerRootMargin,rafRootMargin:this.rafRootMargin,scrollOrientation:this.lenisInstance.options.orientation}),this._bindEvents(),this.initCustomTicker&&!this.destroyCustomTicker?console.warn("initCustomTicker callback is declared, but destroyCustomTicker is not. Please pay attention. It could cause trouble."):!this.initCustomTicker&&this.destroyCustomTicker&&console.warn("destroyCustomTicker callback is declared, but initCustomTicker is not. Please pay attention. It could cause trouble."),this.autoStart&&this.start()})}destroy(){var e;this.stop(),this._unbindEvents(),this.lenisInstance.destroy(),(e=this.coreInstance)==null||e.destroy(),requestAnimationFrame(()=>{var t;(t=this.coreInstance)==null||t.destroy()})}_bindEvents(){this._bindScrollToEvents(),this.autoResize&&("ResizeObserver"in window?this.ROInstance=new rA({resizeElements:[document.body],resizeCallback:this._onResizeBind}):window.addEventListener("resize",this._onResizeBind))}_unbindEvents(){this._unbindScrollToEvents(),this.autoResize&&("ResizeObserver"in window?this.ROInstance&&this.ROInstance.destroy():window.removeEventListener("resize",this._onResizeBind))}_bindScrollToEvents(e){let t=e||this.lenisInstance.rootElement,i=t==null?void 0:t.querySelectorAll("[data-scroll-to]");i!=null&&i.length&&i.forEach(r=>{r.addEventListener("click",this._onScrollToBind,!1)})}_unbindScrollToEvents(e){let t=e||this.lenisInstance.rootElement,i=t==null?void 0:t.querySelectorAll("[data-scroll-to]");i!=null&&i.length&&i.forEach(r=>{r.removeEventListener("click",this._onScrollToBind,!1)})}_onResize(){requestAnimationFrame(()=>{var e;(e=this.coreInstance)==null||e.onResize({currentScroll:this.lenisInstance.scroll})})}_onRender(){var e,t;(e=this.lenisInstance)==null||e.raf(Date.now()),(t=this.coreInstance)==null||t.onRender({currentScroll:this.lenisInstance.scroll,smooth:this.lenisInstance.isSmooth})}_onScrollTo(e){var t;e.preventDefault();let i=(t=e.currentTarget)!=null?t:null;if(!i)return;let r=i.getAttribute("data-scroll-to-href")||i.getAttribute("href"),s=i.getAttribute("data-scroll-to-offset")||0,a=i.getAttribute("data-scroll-to-duration")||this.lenisOptions.duration||D3.duration;r&&this.scrollTo(r,{offset:typeof s=="string"?parseInt(s):s,duration:typeof a=="string"?parseInt(a):a})}start(){var e;this.rafPlaying||((e=this.lenisInstance)==null||e.start(),this.rafPlaying=!0,this.initCustomTicker?this.initCustomTicker(this._onRenderBind):this._raf())}stop(){var e;this.rafPlaying&&((e=this.lenisInstance)==null||e.stop(),this.rafPlaying=!1,this.destroyCustomTicker?this.destroyCustomTicker(this._onRenderBind):this.rafInstance&&cancelAnimationFrame(this.rafInstance))}removeScrollElements(e){var t;e?(this._unbindScrollToEvents(e),(t=this.coreInstance)==null||t.removeScrollElements(e)):console.error("Please provide a DOM Element as $oldContainer")}addScrollElements(e){var t;e?((t=this.coreInstance)==null||t.addScrollElements(e),requestAnimationFrame(()=>{this._bindScrollToEvents(e)})):console.error("Please provide a DOM Element as $newContainer")}resize(){this._onResizeBind()}scrollTo(e,t){var i;(i=this.lenisInstance)==null||i.scrollTo(e,{offset:t==null?void 0:t.offset,lerp:t==null?void 0:t.lerp,duration:t==null?void 0:t.duration,immediate:t==null?void 0:t.immediate,lock:t==null?void 0:t.lock,force:t==null?void 0:t.force,easing:t==null?void 0:t.easing,onComplete:t==null?void 0:t.onComplete})}_raf(){this._onRenderBind(),this.rafInstance=requestAnimationFrame(()=>this._raf())}};var x0=class extends Ct{constructor(n){super(n),this.onScrollBind=this.onScroll.bind(this),this.scrollDirection=1,this.lastProgress=0,this.lastDirectionChange=0}init(){var n,e;Qt.scrollTop<80?Qt.classList.add("is-top"):Qt.classList.remove("is-top"),this.locomotiveScroll=new _0({lenisOptions:{},scrollCallback:this.onScrollBind,modularInstance:this,initCustomTicker:t=>{ut.ticker.add(t)},destroyCustomTicker:t=>{ut.ticker.remove(t)}}),(e=(n=this.locomotiveScroll.lenisInstance)==null?void 0:n.options)==null||e.content.addEventListener("wheel",t=>{t.composedPath().find(r=>{if(r.id==="cc-main")return t.stopPropagation(),!0})}),this.locomotiveScroll.start()}destroy(){var n;(n=this.locomotiveScroll)==null||n.destroy(),Qt.classList.remove("is-scrolling-up")}onScroll({scroll:n,limit:e,velocity:t,direction:i,progress:r}){r>this.lastProgress?this.scrollDirection!=1&&(this.lastDirectionChange=n,this.scrollDirection=1,Qt.style.setProperty("--scroll-direction",this.scrollDirection),Qt.classList.remove("is-scrolling-up")):this.scrollDirection!=-1&&(this.lastDirectionChange=n,this.scrollDirection=-1,Qt.style.setProperty("--scroll-direction",this.scrollDirection),Qt.classList.add("is-scrolling-up")),n<80?Qt.classList.add("is-top"):Qt.classList.remove("is-top"),window.scroll={scroll:n,limit:e,velocity:t,direction:this.scrollDirection,progress:r},this.lastProgress=r}scrollTo(n){var i;let{target:e,options:t}=n;(i=this.locomotiveScroll)==null||i.scrollTo(e,t)}lazyLoad(n){la(n.target,null,()=>{n.target.dataset.depixelate!=null&&Ir(n.target)})}};var b0=class extends Pa{constructor(n){super(n),this.defaultAnimation="idle-1",this.models=this.getData("models").split(",")}init(){super.init();let n,e;this.onClickStart=t=>{n=Date.now(),e={x:t.touches?t.touches[0].screenX:t.screenX,y:t.touches?t.touches[0].screenY:t.screenY},this.interacting=!0},this.onClickEnd=t=>{this.interacting=!1;let i=Date.now()-n,r={x:t.changedTouches?t.changedTouches[0].screenX:t.screenX,y:t.changedTouches?t.changedTouches[0].screenY:t.screenY},s=Math.abs(Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2)));i<250&&s<10&&this.setModel(this.models[Math.floor(this.models.length*Math.random())])},this.el.addEventListener("pointerdown",this.onClickStart),this.el.addEventListener("pointerup",this.onClickEnd)}onInview(n){n.target==this.el&&n.way=="enter"&&this.setModel(this.models[Math.floor(this.models.length*Math.random())])}render(){super.render(),this.interacting||this.wrapper.rotation.set(0,this.wrapper.rotation.y+.02*this.deltaTime/(1/60),0)}initScene(){super.initScene(),this.camera.position.set(1,3,5),this.controls.target.set(0,.9,0),this.wrapper.scale.set(1.2,1.2,1.2),this.controls.maxPolarAngle=Math.PI*.6,this.controls.minPolarAngle=Math.PI*.3,this.controls.enableZoom=!1,this.controls.enablePan=!1,this.controls.touches={},this.el.style.touchAction=""}destroy(){this.el.removeEventListener("pointerdown",this.onClickStart),this.el.removeEventListener("pointerup",this.onClickEnd),super.destroy()}};var E0=class extends Ct{constructor(n){super(n),this.events={click:{item:"onItemClick"}},this.$items=this.$("item")}init(){this.touchStartBind=()=>{this.isTouch=!0},this.el.addEventListener("touchstart",this.touchStartBind,{once:!0}),this.leave=n=>{this.isTouch||this.call("setModel",!1,"TeamListCanvas")},this.enter=n=>{if(this.isTouch)return;let e=JSON.parse(this.getData("infos",n.currentTarget));this.call("setModel",e.model,"TeamListCanvas")};for(let n of this.$items)n.addEventListener("focusout",this.leave),n.addEventListener("mouseleave",this.leave),n.addEventListener("mouseenter",this.enter),n.addEventListener("focusin",e=>{e.target.classList.contains("focus-visible")&&this.enter(e)});requestAnimationFrame(()=>{this.checkUrl()})}checkUrl(){let n=new URL(window.location.href),e=n.searchParams.get("teamMember"),t=n.searchParams.get("anim");if(t&&this.call("setDefaultAnimation",t,"TeamModalCanvas"),e){let i=Array.from(this.$items).map(r=>{let s=JSON.parse(this.getData("infos",r));return s.listEl=r,s}).find(r=>r.id==e);i&&this.call("show",i,"TeamModal"),i&&this.call("scrollTo",{target:i.listEl,options:{offset:-window.innerHeight/2}},"Scroll")}}onItemClick(n){let e=n.curTarget;this.call("setModel",!1,"TeamListCanvas"),this.call("show",JSON.parse(this.getData("infos",e)),"TeamModal")}destroy(){this.el.removeEventListener("touchstart",this.touchStartBind);for(let n of this.$items)n.removeEventListener("focusout",this.leave),n.removeEventListener("mouseleave",this.leave),n.removeEventListener("mouseenter",this.enter),n.removeEventListener("focusin",this.enter)}};var S0=class extends Pa{constructor(n){super(n),this.defaultAnimation="walking"}init(){super.init()}render(){super.render(),this.wrapper.rotation.set(0,this.wrapper.rotation.y+.02*this.deltaTime/(1/60),0)}initScene(){super.initScene(),this.camera.position.set(1,3,5),this.controls.target.set(0,.75,0),this.wrapper.scale.set(.75,.75,.75)}};var pee=Object.prototype.toString,uf=Array.isArray||function(e){return pee.call(e)==="[object Array]"};function aA(n){return typeof n=="function"}function mee(n){return uf(n)?"array":typeof n}function sA(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function R3(n,e){return n!=null&&typeof n=="object"&&e in n}function gee(n,e){return n!=null&&typeof n!="object"&&n.hasOwnProperty&&n.hasOwnProperty(e)}var yee=RegExp.prototype.test;function vee(n,e){return yee.call(n,e)}var _ee=/\S/;function xee(n){return!vee(_ee,n)}var bee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function Eee(n){return String(n).replace(/[&<>"'`=\/]/g,function(t){return bee[t]})}var See=/\s*/,Tee=/\s+/,L3=/\s*=/,wee=/\s*\}/,Aee=/#|\^|\/|>|\{|&|=|!/;function Mee(n,e){if(!n)return[];var t=!1,i=[],r=[],s=[],a=!1,o=!1,l="",c=0;function u(){if(a&&!o)for(;s.length;)delete r[s.pop()];else s=[];a=!1,o=!1}var h,d,m;function v(R){if(typeof R=="string"&&(R=R.split(Tee,2)),!uf(R)||R.length!==2)throw new Error("Invalid tags: "+R);h=new RegExp(sA(R[0])+"\\s*"),d=new RegExp("\\s*"+sA(R[1])),m=new RegExp("\\s*"+sA("}"+R[1]))}v(e||Ps.tags);for(var _=new Mp(n),g,y,b,E,w,D;!_.eos();){if(g=_.pos,b=_.scanUntil(h),b)for(var P=0,M=b.length;P<M;++P)E=b.charAt(P),xee(E)?(s.push(r.length),l+=E):(o=!0,t=!0,l+=" "),r.push(["text",E,g,g+1]),g+=1,E===`
`&&(u(),l="",c=0,t=!1);if(!_.scan(h))break;if(a=!0,y=_.scan(Aee)||"name",_.scan(See),y==="="?(b=_.scanUntil(L3),_.scan(L3),_.scanUntil(d)):y==="{"?(b=_.scanUntil(m),_.scan(wee),_.scanUntil(d),y="&"):b=_.scanUntil(d),!_.scan(d))throw new Error("Unclosed tag at "+_.pos);if(y==">"?w=[y,b,g,_.pos,l,c,t]:w=[y,b,g,_.pos],c++,r.push(w),y==="#"||y==="^")i.push(w);else if(y==="/"){if(D=i.pop(),!D)throw new Error('Unopened section "'+b+'" at '+g);if(D[1]!==b)throw new Error('Unclosed section "'+D[1]+'" at '+g)}else y==="name"||y==="{"||y==="&"?o=!0:y==="="&&v(b)}if(u(),D=i.pop(),D)throw new Error('Unclosed section "'+D[1]+'" at '+_.pos);return Pee(Cee(r))}function Cee(n){for(var e=[],t,i,r=0,s=n.length;r<s;++r)t=n[r],t&&(t[0]==="text"&&i&&i[0]==="text"?(i[1]+=t[1],i[3]=t[3]):(e.push(t),i=t));return e}function Pee(n){for(var e=[],t=e,i=[],r,s,a=0,o=n.length;a<o;++a)switch(r=n[a],r[0]){case"#":case"^":t.push(r),i.push(r),t=r[4]=[];break;case"/":s=i.pop(),s[5]=r[2],t=i.length>0?i[i.length-1][4]:e;break;default:t.push(r)}return e}function Mp(n){this.string=n,this.tail=n,this.pos=0}Mp.prototype.eos=function(){return this.tail===""};Mp.prototype.scan=function(e){var t=this.tail.match(e);if(!t||t.index!==0)return"";var i=t[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i};Mp.prototype.scanUntil=function(e){var t=this.tail.search(e),i;switch(t){case-1:i=this.tail,this.tail="";break;case 0:i="";break;default:i=this.tail.substring(0,t),this.tail=this.tail.substring(t)}return this.pos+=i.length,i};function cf(n,e){this.view=n,this.cache={".":this.view},this.parent=e}cf.prototype.push=function(e){return new cf(e,this)};cf.prototype.lookup=function(e){var t=this.cache,i;if(t.hasOwnProperty(e))i=t[e];else{for(var r=this,s,a,o,l=!1;r;){if(e.indexOf(".")>0)for(s=r.view,a=e.split("."),o=0;s!=null&&o<a.length;)o===a.length-1&&(l=R3(s,a[o])||gee(s,a[o])),s=s[a[o++]];else s=r.view[e],l=R3(r.view,e);if(l){i=s;break}r=r.parent}t[e]=i}return aA(i)&&(i=i.call(this.view)),i};function br(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}br.prototype.clearCache=function(){typeof this.templateCache!="undefined"&&this.templateCache.clear()};br.prototype.parse=function(e,t){var i=this.templateCache,r=e+":"+(t||Ps.tags).join(":"),s=typeof i!="undefined",a=s?i.get(r):void 0;return a==null&&(a=Mee(e,t),s&&i.set(r,a)),a};br.prototype.render=function(e,t,i,r){var s=this.getConfigTags(r),a=this.parse(e,s),o=t instanceof cf?t:new cf(t,void 0);return this.renderTokens(a,o,i,e,r)};br.prototype.renderTokens=function(e,t,i,r,s){for(var a="",o,l,c,u=0,h=e.length;u<h;++u)c=void 0,o=e[u],l=o[0],l==="#"?c=this.renderSection(o,t,i,r,s):l==="^"?c=this.renderInverted(o,t,i,r,s):l===">"?c=this.renderPartial(o,t,i,s):l==="&"?c=this.unescapedValue(o,t):l==="name"?c=this.escapedValue(o,t,s):l==="text"&&(c=this.rawValue(o)),c!==void 0&&(a+=c);return a};br.prototype.renderSection=function(e,t,i,r,s){var a=this,o="",l=t.lookup(e[1]);function c(d){return a.render(d,t,i,s)}if(l){if(uf(l))for(var u=0,h=l.length;u<h;++u)o+=this.renderTokens(e[4],t.push(l[u]),i,r,s);else if(typeof l=="object"||typeof l=="string"||typeof l=="number")o+=this.renderTokens(e[4],t.push(l),i,r,s);else if(aA(l)){if(typeof r!="string")throw new Error("Cannot use higher-order sections without the original template");l=l.call(t.view,r.slice(e[3],e[5]),c),l!=null&&(o+=l)}else o+=this.renderTokens(e[4],t,i,r,s);return o}};br.prototype.renderInverted=function(e,t,i,r,s){var a=t.lookup(e[1]);if(!a||uf(a)&&a.length===0)return this.renderTokens(e[4],t,i,r,s)};br.prototype.indentPartial=function(e,t,i){for(var r=t.replace(/[^ \t]/g,""),s=e.split(`
`),a=0;a<s.length;a++)s[a].length&&(a>0||!i)&&(s[a]=r+s[a]);return s.join(`
`)};br.prototype.renderPartial=function(e,t,i,r){if(i){var s=this.getConfigTags(r),a=aA(i)?i(e[1]):i[e[1]];if(a!=null){var o=e[6],l=e[5],c=e[4],u=a;l==0&&c&&(u=this.indentPartial(a,c,o));var h=this.parse(u,s);return this.renderTokens(h,t,i,u,r)}}};br.prototype.unescapedValue=function(e,t){var i=t.lookup(e[1]);if(i!=null)return i};br.prototype.escapedValue=function(e,t,i){var r=this.getConfigEscape(i)||Ps.escape,s=t.lookup(e[1]);if(s!=null)return typeof s=="number"&&r===Ps.escape?String(s):r(s)};br.prototype.rawValue=function(e){return e[1]};br.prototype.getConfigTags=function(e){return uf(e)?e:e&&typeof e=="object"?e.tags:void 0};br.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!uf(e))return e.escape};var Ps={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(n){Ap.templateCache=n},get templateCache(){return Ap.templateCache}},Ap=new br;Ps.clearCache=function(){return Ap.clearCache()};Ps.parse=function(e,t){return Ap.parse(e,t)};Ps.render=function(e,t,i,r){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+mee(e)+'" was given as the first argument for mustache#render(template, view, partials)');return Ap.render(e,t,i,r)};Ps.escape=Eee;Ps.Scanner=Mp;Ps.Context=cf;Ps.Writer=br;var O3=Ps;var Iee=`
    <div class="c-team-modal_title || c-heading -h1">
        {{fancy-name}}
    </div>

    <div class="c-team-modal_infos">
        <dl class="c-team-modal_specs">
            {{# hasProjects }}
            <dt>{{ labels.projects }}</dt>
            <dd>
                <ul>
                    {{# projects }}
                    <li><a href="{{ url }}">{{ title }}</a></li>
                    {{/ projects }}
                </ul>
            </dd>
            {{/ hasProjects }}
            <dt>{{ labels.role }}</dt>
            <dd>{{ position }}</dd>
            <dt>{{ labels.since }}</dt>
            <dd>{{ arrival-year }}</dd>
        </dl>
    </div>
`,T0=class extends Ct{constructor(n){super(n),this.$infos=this.$("infos")[0],this.$canvas=this.$("canvas")[0],this.$dropdown=this.$("dropdown")[0],this.$dropdownLabel=this.$("dropdown-label")[0],this.members=Array.from(this.$("member")),this.labels={role:this.getData("role-label"),since:this.getData("since-label"),projects:this.getData("projects-label")},this.events={click:{member:"setMemberByEl",close:"hide"},change:{dropdown:"setMemberByDropdown"}}}init(){this.usdzReadyBind=n=>{this.quickLookBtn||(this.quickLookBtn=document.createElement("a"),this.quickLookBtn.rel="ar",this.quickLookBtn.download="asset.usdz",this.quickLookBtn.classList.add("c-team-modal_ar-btn"),this.quickLookBtn.innerHTML='<img src="https://threejs.org/examples/files/arkit.png">',this.el.appendChild(this.quickLookBtn)),this.quickLookBtn.style.display="",this.quickLookBtn.href=n.detail.usdz},this.hideUsdz=()=>{this.quickLookBtn&&(this.quickLookBtn.style.display="none")},this.$canvas.addEventListener("usdzReady",this.usdzReadyBind),this.$canvas.addEventListener("hideUsdz",this.hideUsdz),window.addEventListener("keydown",this.onKeyDown=n=>{n.keyCode===27&&this.el.classList.contains("-active")&&this.hide()}),this.focusTrap=fa(this.el)}show(n){n&&this.setMember(n),this.el.classList.add("-active"),this.call("resize",null,"TeamModalCanvas"),this.focusTrap.activate(),window.gtag&&gtag("event","click",{event_category:"team_modal",event_label:"open"})}hide(){this.updateUrl(!1),this.el.classList.remove("-active"),this.focusTrap.deactivate(),this.call("setModel",!1,"TeamModalCanvas"),this.call("setDefaultAnimation",!1,"TeamModalCanvas")}updateUrl(n){let e=new URL(window.location.href);n?e.searchParams.set("teamMember",n):(e.searchParams.delete("teamMember"),e.searchParams.delete("anim")),history.replaceState(null,null,e.toString())}setMember(n){this.updateUrl(n.id),n["fancy-name"]||(n["fancy-name"]=n.name),n.hasProjects=n.projects&&n.projects.length>0,n.labels=this.labels,this.$infos.innerHTML=O3.render(Iee,n),this.$dropdown.value=n.id,this.$dropdownLabel.innerText=n["fancy-name"]||n.name;let e=this.members.find(i=>i.classList.contains("-active"));e&&e.classList.remove("-active");let t=this.members.find(i=>i.dataset.teamModalId==n.id);t&&t.classList.add("-active"),this.call("setModel",n.model,"TeamModalCanvas")}setMemberByEl(n){let e=JSON.parse(this.getData("infos",n.currentTarget));this.setMember(e)}setMemberByDropdown(n){let e=n.curTarget;this.setMember(JSON.parse(e.options[e.selectedIndex].dataset.teamModalInfos))}destroy(){super.destroy(),this.$canvas.removeEventListener("usdzReady",this.usdzReadyBind),this.$canvas.removeEventListener("hideUsdz",this.hideUsdz),this.focusTrap.deactivate()}};var w0=class extends Pa{constructor(n){super(n)}init(){super.init();let n,e;this.onClickStart=t=>{n=Date.now(),e={x:t.touches?t.touches[0].screenX:t.screenX,y:t.touches?t.touches[0].screenY:t.screenY}},this.onClickEnd=t=>{let i=Date.now()-n,r={x:t.changedTouches?t.changedTouches[0].screenX:t.screenX,y:t.changedTouches?t.changedTouches[0].screenY:t.screenY},s=Math.abs(Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2)));i<250&&s<10&&(this.setModel(this.currentModel),window.gtag&&gtag("event","click",{event_category:"team_modal",event_label:"change_dance"}))},this.el.addEventListener("pointerdown",this.onClickStart),this.el.addEventListener("pointerup",this.onClickEnd)}initRenderer(){super.initRenderer()}initScene(){super.initScene(),this.camera.position.set(-2,2,2.9),this.controls.target.set(0,.9,0),this.controls.zoomSpeed=.5,this.controls.minDistance=1,this.controls.maxDistance=5,this.controls.maxPolarAngle=Math.PI*.6,this.controls.minPolarAngle=Math.PI*.3;var n=new ae(-1,-1,-1),e=new ae(1,2,1),t=new ae;this.onControlsChange=()=>{t.copy(this.controls.target),this.controls.target.clamp(n,e),t.sub(this.controls.target),this.camera.position.sub(t)},this.controls.addEventListener("change",this.onControlsChange)}render(){super.render()}destroy(){this.controls.removeEventListener("change",this.onControlsChange),this.el.removeEventListener("pointerdown",this.onClickStart),this.el.removeEventListener("pointerup",this.onClickEnd),super.destroy()}};var A0=class extends Ct{constructor(n){super(n)}init(){let n=this.el.querySelector("script");if(n){let e=document.createElement("script");e.textContent=n.textContent,n.remove(),this.el.appendChild(e)}}toggle(n){n.target==this.el&&(n.way==="enter"?this.el.paused&&(this.timeout=setTimeout(()=>{this.el.play()},200)):this.el.paused||(clearTimeout(this.timeout),this.el.pause()))}};var M0=class extends Ct{constructor(n){super(n),this.events={click:{close:"hide"}},this.inner=this.$("inner")[0]}init(){this.focusTrap=fa(this.el,{onDeactivate:this.hide.bind(this),clickOutsideDeactivates:!0})}toggle(n){this.el.classList.contains("is-active")?this.hide():this.show(n)}show(n){this.emptyTimeout&&clearTimeout(this.emptyTimeout),this.appendDelay=setTimeout(()=>{switch(n.platform){case"youtube":this.videoUrl=`https://www.youtube-nocookie.com/embed/${n.id}?&autoplay=1`,this.inner.innerHTML=`<iframe src="${this.videoUrl}" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>`;break;case"vimeo":this.videoUrl=`https://player.vimeo.com/video/${n.id}?dnt=1&autoplay=1&loop=1&autopause=0`,this.inner.innerHTML=`<iframe src="${this.videoUrl}" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>`;break;default:break}requestAnimationFrame(()=>{var e;(e=this.focusTrap)==null||e.activate()})},500),this.el.classList.add("is-active")}hide(){var n;clearTimeout(this.appendDelay),this.el.classList.remove("is-active"),(n=this.focusTrap)==null||n.deactivate(),this.emptyTimeout=setTimeout(()=>{this.inner.innerHTML=""},250)}destroy(){super.destroy()}};var C0=class extends Ct{constructor(n){super(n),this.events={click:"onClick"}}init(){}onClick(){let n=this.getData("id"),e=this.getData("platform");window.gtag&&gtag("event","click",{event_category:"video_modal",event_label:"open",value:n}),this.call("toggle",{id:n,platform:e},"VideoModal")}};var N3=er(jf(),1),P0=class extends Ct{constructor(n){super(n),this.$select=this.$("select")[0],this.$content=this.$("content")[0],this.$toggler=this.$("toggler")[0],this.$togglerOpenLabel=this.$("toggler-open-label")[0],this.$togglerCloseLabel=this.$("toggler-close-label")[0],this.$currentCategoryName=this.$("currentCategoryName")[0],this.$currentCategoryQty=this.$("currentCategoryQty")[0],this.events={click:{toggler:"toggle","category-button":"onCategoryClick"},change:{select:"onSelectChange"}}}init(){this.focusTrap=fa(this.el,{onDeactivate:this.hide.bind(this),clickOutsideDeactivates:!0})}toggle(){this.isOpened()?this.hide():this.show()}isOpened(){return this.el.classList.contains("is-opened")}show(){this.el.classList.add("is-opened"),this.$toggler.setAttribute("aria-expanded","true"),this.$togglerOpenLabel.classList.add("-hidden"),this.$togglerCloseLabel.classList.remove("-hidden"),this.focusTrap.activate()}hide(){this.el.classList.remove("is-opened"),this.$toggler.setAttribute("aria-expanded","false"),this.$togglerOpenLabel.classList.remove("-hidden"),this.$togglerCloseLabel.classList.add("-hidden"),this.focusTrap.deactivate()}onSelectChange(n){let e=n.curTarget;this.filterByEl(e.options[e.selectedIndex])}onCategoryClick(n){this.filterByEl(n.curTarget),this.hide()}filterByEl(n){let e=JSON.parse(n.dataset.workFiltersData);this.$select.value=e.slug,this.$currentCategoryName.innerText=e.name,this.$currentCategoryQty.innerText=(e.qty+"").padStart(2,"0");let t=window.location.pathname+"?category="+e.slug,i=document.createElement("a");i.href=t,i.setAttribute("data-load-transition","work-list"),N3.default.go(t,i)}destroy(){super.destroy(),this.focusTrap.deactivate()}};var I0=class extends Ct{constructor(n){super(n),this.slides=Array.from(this.$("slide")),this.count=0}init(){this.el.addEventListener("mouseenter",()=>{this.compute(),clearInterval(this.interval),this.changeSlide(),this.interval=setInterval(this.changeSlide.bind(this),500)}),this.el.addEventListener("mouseleave",()=>{clearInterval(this.interval)})}changeSlide(){this.count++,ut.set(this.slides,{opacity:0}),ut.set(this.slides[this.count%this.slides.length],{opacity:1})}compute(){this.BCR=this.el.getBoundingClientRect()}};var D0=class extends Ct{constructor(n){super(n),this.$toggler=this.$("toggler")[0],this.$content=this.$("content")[0],this.$contentInner=this.$("content-inner")[0],this.list=this.getData("list"),this.animationOpenDuration=.5,this.animationCloseDuration=.3,this.$preview=this.$("preview")[0],this.$previewTarget=this.$("preview-target")[0],this.images=Array.from(this.$("image")),this.events={click:{toggler:"toggle"}},this.compute()}init(){this.computeBind=this.compute.bind(this),window.addEventListener("resize",this.computeBind),this.touchStartBind=()=>{this.isTouch=!0},this.el.addEventListener("touchstart",this.touchStartBind,{once:!0}),this.enter=n=>{if(this.isTouch||!this.$preview)return;let e=this.$preview.querySelector("img");this.$preview.classList.contains("-loaded")?Ir(e):la(e,null,()=>{Ir(e)})},this.el.addEventListener("mouseenter",this.enter),this.el.addEventListener("focusin",this.enter)}toggle(n){this.isOpened()?this.close():this.open()}isOpened(){return this.el.classList.contains("is-opened")}compute(){this.isMobile=window.innerWidth<700,this.canHover=window.matchMedia("(hover: hover)").matches,this.canAnimatePreview=this.canHover&&!this.isMobile}open(){let n={el:document.body.querySelector("[data-module-work-list-item].is-opened")};n.el&&(n.content=this.$("content",n.el)[0],n.contentBCR=n.content.getBoundingClientRect()),this.call("close",this.list,"WorkListItem"),this.$toggler.setAttribute("aria-expanded","true"),this.getData("label-close",this.$toggler)&&(this.$toggler.children[0].innerText=this.getData("label-close",this.$toggler)),this.el.classList.add("is-opened"),ut.set(this.$content,{display:"block"});let e=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--header-height"))*parseFloat(getComputedStyle(document.documentElement).fontSize),t=this.$contentInner.getBoundingClientRect(),i=-e;this.el.previousElementSibling!=n.el&&n.contentBCR&&n.contentBCR.top<t.top&&(i-=n.contentBCR.height),this.call("scrollTo",{target:this.el.previousElementSibling?this.el.previousElementSibling:this.el,options:{offset:i,duration:this.animationOpenDuration}},"Scroll");for(let o of[...this.images,this.$previewTarget]){if(!o)continue;let l=o.querySelector("img");la(l,null,()=>{this.canAnimatePreview?o.dataset.workListItem!="preview-target"&&Ir(l):Ir(l)})}this.tw&&this.tw.kill&&this.tw.kill(),ut.set(this.$preview,{clearProps:"all"}),this.canAnimatePreview&&(ut.set(this.$preview,{opacity:1}),ut.set(this.$previewTarget,{opacity:0}));let r=this.$preview.getBoundingClientRect(),s=this.$previewTarget.getBoundingClientRect(),a={top:s.top-r.top+r.height/2,left:s.left-r.left,scale:s.width/r.width};this.tw=ut.timeline({onComplete:()=>{this.canAnimatePreview&&(ut.set([this.$preview,this.$previewTarget],{clearProps:"all"}),ut.set(this.$preview,{opacity:0}))}}),this.canAnimatePreview&&this.tw.to(this.$preview,{duration:this.animationOpenDuration,x:a.left,y:a.top,scale:a.scale,ease:"power4.out",force3D:!0},0),this.tw.fromTo(this.$content,{opacity:0},{duration:this.animationOpenDuration*2/3,opacity:1},this.animationOpenDuration*1/3),this.tw.to(this.$content,{duration:this.animationOpenDuration,height:t.height},0),window.gtag&&gtag("event","click",{event_category:"work_accordions",event_label:"open"})}close(n=void 0){if(n&&n!=this.list||!this.el.classList.contains("is-opened"))return;this.$toggler.setAttribute("aria-expanded","false"),this.getData("label-open",this.$toggler)&&(this.$toggler.children[0].innerText=this.getData("label-open",this.$toggler)),this.el.classList.remove("is-opened"),this.tw&&this.tw.kill&&this.tw.kill(),ut.set(this.$preview,{clearProps:"all"},0),this.canAnimatePreview&&ut.set(this.$previewTarget,{opacity:0});let e=this.$preview.getBoundingClientRect(),t=this.$previewTarget.getBoundingClientRect(),i={top:t.top-e.top+e.height/2,left:t.left-e.left,scale:t.width/e.width};this.tw=ut.timeline({onComplete:()=>{ut.set(this.$content,{clearProps:"display"}),this.canAnimatePreview&&ut.set([this.$preview,this.$previewTarget],{clearProps:"all"})}}),this.canAnimatePreview&&this.tw.from(this.$preview,{duration:this.animationCloseDuration,x:i.left,y:i.top,scale:i.scale,ease:"power4.out",force3D:!0},0),this.tw.to(this.$content,{duration:this.animationCloseDuration,height:0,opacity:0},0)}inview(n){if(n.target==this.el&&!this.canAnimatePreview&&this.isMobile&&!this.$preview.classList.contains("-loaded")){let e=this.$preview.querySelector("img");la(e,null,()=>{this.canAnimatePreview?image.dataset.workListItem!="preview-target"&&Ir(e):Ir(e)})}}destroy(){window.removeEventListener("resize",this.computeBind),this.el.removeEventListener("mouseenter",this.enter),this.el.removeEventListener("focusin",this.enter)}};var Ul=er(jf(),1),R0=class extends Ct{constructor(n){super(n),this.$link=this.$("link")[0],this.$image=this.$("image")[0]}init(){let n=this.$link.href;Ul.default.cache.has(n)?Ul.default.cache.update(n,{action:"prefetch"}):Ul.default.cache.set(n,Ul.default.request(n,Ul.default.timeout,Ul.default.onRequestError.bind(Ul.default,"barba")).catch(e=>{console.error(e)}),"prefetch"),this.timeline=ut.timeline({onComplete:()=>{console.log("onComplete"),this.call("manualGo",this.$link,"Load")}}),this.timeline.from(this.$image,{y:"100%",duration:.75},.25),this.timeline.add(()=>{},1),this.timeline.pause()}onScrollProgress(n){var e;(e=this.timeline)==null||e.progress(n)}};var L0=class extends Ct{constructor(n){super(n),this.$gridBottom=this.$("grid-bottom")[0],this.$title=this.$("title")[0]}init(){this.compute(),this.checkResizeBind=this.checkResize.bind(this),window.addEventListener("resize",this.checkResizeBind)}checkResize(){this.resizeTick||(this.resizeTick=!0,requestAnimationFrame(()=>{this.compute(),this.resizeTick=!1}))}compute(){this.$gridBottom.style.setProperty("--first-row-size","");let n=this.$gridBottom.getBoundingClientRect(),e=this.$title.getBoundingClientRect();this.$gridBottom.style.setProperty("--first-row-size",`max(${e.height}px, calc(${n.height}px - var(--second-row-size) - var(--grid-gutter) * 2))`)}destroy(){window.removeEventListener("resize",this.checkResizeBind)}};var B3=er(F3(),1);function U3(){(0,B3.default)();let n=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;window.isMobile=n,window.isMobile&&Qt.classList.add("is-mobile");let e=Qt.dataset.debug=="true";window.isDebug=e,window.isDebug&&Qt.classList.add("is-debug");let t=window.innerWidth;Qt.style.setProperty("--vh",`${window.innerHeight*.01}px`),window.addEventListener("resize",()=>{window.innerWidth!=t&&window.matchMedia("(hover: none)")&&(t=window.innerWidth,Qt.style.setProperty("--vh",`${window.innerHeight*.01}px`))})}ut.registerPlugin(ua);function z3(){let n=document.getElementById("preloader"),e=document.getElementById("preloaderHead"),t=document.getElementById("preloaderContent"),i=document.getElementById("preloaderLogo"),r=.01,s=.5,a="!@#$%&+=qertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM\\/{}][-_()<>?".split(""),o=ut.timeline({onComplete:()=>{setTimeout(()=>{n.remove()},1e3)}});if(sessionStorage.getItem("locomotive.quickpreload")=="true"){let l=Wr(Array.from(i.children));o.set(l,{opacity:0,stagger:.025},0),o.add(window.preloaderPromiseResolve,.1)}else{sessionStorage.setItem("locomotive.quickpreload","true"),ut.set([t],{clearProps:"display"});let l=[];for(let u of t.children)l.push(new ua(u,{type:"chars, lines"}));let c=Wr(Array.from(i.children));o.set(c,{opacity:0,stagger:.05},.25);for(let u=0;u<l.length;u++){let h=l[u];for(let d=0;d<h.chars.length;d++){let m=h.chars[d];o.set(m,{opacity:0},0),o.set(m,{opacity:1},u*.25+d*r),o.add(()=>{let _=m.innerText;for(let g=0;g<5;g++)setTimeout(()=>{m.innerText=a[Math.floor(Math.random()*a.length)]},g*16);setTimeout(()=>{m.innerText=_},5*16)},u*.25+d*r);let v=u*.25+d*r+s;m.parentNode==h.lines[h.lines.length-1]&&(v=u*.25+d*r+s+1),o.add(()=>{for(let _=0;_<5;_++)setTimeout(()=>{m.innerText=a[Math.floor(Math.random()*a.length)]},_*16);setTimeout(()=>{ut.set(m,{opacity:0}),m.parentNode==h.lines[h.lines.length-1]&&window.preloaderPromiseResolve()},5*16)},v)}}}}var V3=new UM({modules:oA});window.onload=n=>{let e=document.getElementById("main-css");e?e.isLoaded?H3():e.addEventListener("load",t=>{H3()}):console.warn('The "main-css" stylesheet not found')};function H3(){Qt.classList.remove("has-no-js"),U3(),V3.init(V3),window.preloaderEnterPromise.then(()=>{z3()}),window.preloaderPromise.then(()=>{Qt.classList.add("is-loaded"),Qt.classList.add("is-ready"),Qt.classList.remove("is-first-loading"),Qt.classList.remove("is-loading")})}})();
/*! Bundled license information:

filepond/dist/filepond.js:
  (*!
   * FilePond 4.30.4
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

vue-filepond/dist/vue-filepond.js:
  (*!
   * vue-filepond v7.0.3
   * A handy FilePond adapter component for Vue
   * 
   * Copyright (c) 2022 PQINA
   * https://pqina.nl/filepond
   * 
   * Licensed under the MIT license.
   *)

filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.js:
  (*!
   * FilePondPluginFileValidateType 1.2.8
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

filepond-plugin-file-validate-size/dist/filepond-plugin-file-validate-size.js:
  (*!
   * FilePondPluginFileValidateSize 2.2.7
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   *)

svg4everybody/dist/svg4everybody.js:
  (*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody *)

vanilla-cookieconsent/dist/cookieconsent.esm.js:
  (*!
  * CookieConsent 3.0.0-rc.17
  * https://github.com/orestbida/cookieconsent/tree/v3.0-beta
  * Author Orest Bida
  * Released under the MIT License
  *)

gsap/gsap-core.js:
  (*!
   * GSAP 3.11.3
   * https://greensock.com
   *
   * @license Copyright 2008-2022, GreenSock. All rights reserved.
   * Subject to the terms at https://greensock.com/standard-license or for
   * Club GreenSock members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/CSSPlugin.js:
  (*!
   * CSSPlugin 3.11.3
   * https://greensock.com
   *
   * Copyright 2008-2022, GreenSock. All rights reserved.
   * Subject to the terms at https://greensock.com/standard-license or for
   * Club GreenSock members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/utils/strings.js:
  (*!
   * strings: 3.11.3
   * https://greensock.com
   *
   * Copyright 2008-2022, GreenSock. All rights reserved.
   * Subject to the terms at https://greensock.com/standard-license or for
   * Club GreenSock members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/SplitText.js:
  (*!
   * SplitText: 3.11.3
   * https://greensock.com
   *
   * @license Copyright 2008-2022, GreenSock. All rights reserved.
   * Subject to the terms at https://greensock.com/standard-license or for
   * Club GreenSock members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

tabbable/dist/index.esm.js:
  (*!
  * tabbable 6.0.0
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)

focus-trap/dist/focus-trap.esm.js:
  (*!
  * focus-trap 7.0.0
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)

three/build/three.module.js:
  (**
   * @license
   * Copyright 2010-2024 Three.js Authors
   * SPDX-License-Identifier: MIT
   *)

mustache/mustache.mjs:
  (*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   *)
*/
//# sourceMappingURL=app.js.map
